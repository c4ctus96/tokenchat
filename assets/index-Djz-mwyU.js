import{aH as ue,aI as fe,aJ as ge,aK as e,aE as l,aL as N,aM as L,aN as k,aO as O,aP as T,aQ as B,aR as ae,aS as me,aT as K,aU as pe,aV as oe,aW as xe,aX as J,aY as G,aZ as _,a_ as X,a$ as V,b0 as we,b1 as W,b2 as je,b3 as re,b4 as Z,aC as $,b5 as ye,b6 as be,b7 as Ce,b8 as A,b9 as ve,ba as Ne}from"./react-BSYdsE96.js";import{u as S,a as ie,b as Se,c as ke,w as Ee,i as Me,d as Ue,e as Be,f as Re,W as Pe}from"./web3-HtE8WBod.js";import"./walletconnect-BHoHLBkg.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}})();const De={apiKey:"AIzaSyBRDBbrJbmLwb3YTI_YBmMdTjLEd8KjS2E",authDomain:"tokenchat-b8673.firebaseapp.com",projectId:"tokenchat-b8673",storageBucket:"tokenchat-b8673.appspot.com",messagingSenderId:"593980787293",appId:"1:593980787293:web:7c58ff7656a3fa31b19bb4",measurementId:"G-RB9WJLVQC0"},ce=ue(De);fe(ce);const b=ge(ce),H=({eth:t})=>e.jsx("div",{children:e.jsx("img",{src:`https://effigy.im/a/${t}.svg`,alt:"Profile picture",className:"profilePic"})});function ee({setSelectedChatId:t,users:s,getWalletById:o,selectedChatId:a}){const{address:r}=S(),[i,d]=l.useState([]),[x,j]=l.useState(null);l.useEffect(()=>{if(!r)return;const n=N(b,"privateChats"),c=L(n,async m=>{var E;try{const M=[];for(const U of m.docs){const R=U.data(),v={id:U.id,pid:R.pid||[]};try{const P=N(b,"privateChats",U.id,"msg"),I=k(P,T("ts","desc"),O(1)),D=await B(I);if(D.empty)v.lastMessage="No messages yet",v.lastMessageTime=new Date(0);else{const Y=D.docs[0].data();v.lastMessage=Y.txt||"",v.lastMessageTime=((E=Y.ts)==null?void 0:E.toDate())||new Date}}catch(P){console.error(`Error fetching messages for chat ${U.id}:`,P),v.lastMessage="Failed to load",v.lastMessageTime=new Date(0)}M.push(v)}M.sort((U,R)=>{var I,D;const v=((I=U.lastMessageTime)==null?void 0:I.getTime())||0;return(((D=R.lastMessageTime)==null?void 0:D.getTime())||0)-v}),console.log("Real-time chatrooms update:",M),d(M),j(null)}catch(M){j("Failed to fetch chat data. Please check your internet connection."),console.error("Snapshot error:",M)}},m=>{j("Failed to fetch data. Please check your internet connection."),console.error("Fetch error:",m)});return()=>c()},[r]),l.useEffect(()=>{(async()=>{if("Notification"in window&&Notification.permission==="default"){const c=await Notification.requestPermission();console.log("Notification permission:",c)}})()},[]),l.useEffect(()=>{if(!r||i.length===0)return;const n=s.find(m=>m.wallet===r);if(!n)return;const c=[];return i.forEach(m=>{if(m.pid.includes(n.id)){const E=N(b,"privateChats",m.id,"msg"),M=k(E,T("ts","desc"),O(1)),U=L(M,R=>{if(!R.empty&&m.id!==a){const v=R.docs[0].data();if(v.from!==n.id){const P=C(v.from);g(P,v.txt)}}});c.push(U)}}),()=>{c.forEach(m=>m())}},[i,r,s,a]);const g=(n,c)=>{if("Notification"in window&&Notification.permission==="granted"){const m=c.length>50?c.substring(0,50)+"...":c;new Notification(`New message from ${n}`,{body:m,icon:"/favicon.ico",badge:"/favicon.ico",tag:"new-message"})}},p=s.find(n=>n.wallet===r),y=p?i.filter(n=>n.pid.includes(p.id)):[],C=n=>{const c=s.find(m=>m.id===n);return c?c.name:n},h=n=>p&&n.find(c=>c!==p.id)||"",u=n=>{const c=h(n);return C(c)},w=(n,c=40)=>n.length<=c?n:n.substring(0,c)+"...",f=n=>{t(n)};return e.jsxs("div",{className:"chatSelector",children:[x&&e.jsx("p",{className:"error",children:x}),y.length>0?y.map(n=>e.jsxs("div",{className:"contactBox",onClick:()=>f(n.id),style:{backgroundColor:n.id===a?"#003344":"#002233",cursor:"pointer"},children:[e.jsx(H,{eth:o(h(n.pid))}),e.jsxs("div",{className:"contactTextBox",children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold"},children:u(n.pid)}),e.jsx("p",{style:{margin:0,fontSize:"14px",color:"#ccc",opacity:.8,lineHeight:"1.2"},children:w(n.lastMessage||"No messages yet")})]})]},n.id)):e.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#ccc"},children:[e.jsx("p",{children:"No chats yet"}),e.jsx("p",{style:{fontSize:"14px",marginTop:"10px"},children:"Click the + button to start a new conversation"})]})]})}const le=l.createContext(void 0),Ie=({children:t})=>{const[s,o]=l.useState(void 0);return e.jsx(le.Provider,{value:{currentUser:s,setCurrentUser:o},children:t})},z=()=>{const t=l.useContext(le);if(!t)throw new Error("useUser must be used within a UserProvider");return t},We=async(t,s,o)=>{try{const a=N(b,"privateChats",o,"msg");await K(a,{txt:t,from:s,ts:new Date}),console.log("Message sent successfully")}catch(a){console.error("Error sending message:",a)}},Le=({selectedChatId:t})=>{const[s,o]=ae.useState(""),{currentUser:a}=z(),r=x=>{o(x.target.value)},i=()=>{if(!t||!a||!s.trim()){console.error("Missing required data:",{selectedChatId:t,currentUser:a,inputValue:s});return}We(s,a.id,t),o("")},d=x=>{x.key==="Enter"&&i()};return e.jsxs("div",{className:"chatBottomBar",children:[e.jsx("input",{type:"text",className:"messageInput",placeholder:"Type your message",value:s,onChange:r,onKeyDown:d}),e.jsx("button",{className:"sendMessageButton",onClick:i,disabled:!t||!a,title:"Send message",children:e.jsx(me,{size:20})})]})};function te({children:t,selectedChatId:s}){return e.jsxs("div",{className:"chatWindow",children:[e.jsx("div",{className:"chatContent",children:t})," ",e.jsx(Le,{selectedChatId:s})]})}const Te=({text:t,timeStamp:s,from:o,own:a})=>e.jsx("div",{className:"messageBox",children:e.jsxs("div",{className:`message ${a?"own":""}`,children:[e.jsx("p",{className:"message-text",children:t}),e.jsx("p",{className:"message-timestamp",children:new Date(s).toLocaleString()})]})});function se({selectedChatId:t,users:s,getWalletById:o}){const[a,r]=l.useState([]),{address:i}=S(),{currentUser:d}=z(),x=l.useRef(null),j=()=>{var g;(g=x.current)==null||g.scrollIntoView({behavior:"smooth"})};return l.useEffect(()=>{j()},[a]),l.useEffect(()=>{if(!t)return;const g=N(b,"privateChats",t,"msg"),p=k(g,T("ts","asc")),y=L(p,C=>{const h=[];C.forEach(u=>{const w=u.data();w.txt&&w.ts&&w.from?h.push(w):console.log("Missing fields in document:",u.id)}),console.log("Real-time Messages Update:",h),r(h)},C=>{console.error("Error fetching messages:",C)});return()=>y()},[t]),e.jsxs("div",{className:"chatContent",children:[a.map((g,p)=>{const y=d!=null&&d.id?g.from===d.id:!1;return e.jsx(Te,{text:g.txt,timeStamp:g.ts.toMillis(),from:g.from,own:y},p)}),e.jsx("div",{ref:x})," "]})}const q=({chatName:t,onBack:s,showBackButton:o,showProfilePic:a=!1})=>{const{address:r}=S();return e.jsxs("div",{className:"chat-header",children:[e.jsxs("div",{className:"chat-header-left",children:[o&&e.jsx("button",{className:"back-button",onClick:s,title:"Go back",children:e.jsx(pe,{size:24})}),e.jsx("div",{className:"chat-header-info",children:e.jsx("h2",{className:"chat-header-title",children:t})})]}),e.jsx("div",{className:"chat-header-right",children:(a||!o)&&r&&e.jsx("div",{className:"header-profile-pic",children:e.jsx(H,{eth:r})})})]})},ne=({onClose:t,onChatCreated:s})=>{const[o,a]=l.useState([]),[r,i]=l.useState(!0),[d,x]=l.useState(null),[j,g]=l.useState(null),{currentUser:p}=z();l.useEffect(()=>{(async()=>{try{i(!0);const u=N(b,"users"),f=(await B(u)).docs.map(c=>({id:c.id,name:c.data().name,wallet:c.data().wallet,chats:c.data().chats||[]})),n=p?f.filter(c=>c.id!==p.id):f;a(n)}catch(u){console.error("Error fetching users:",u),g("Failed to load users. Please try again.")}finally{i(!1)}})()},[p]);const y=async h=>{if(!p)return null;try{const u=N(b,"privateChats"),w=k(u),f=await B(w);for(const n of f.docs){const m=n.data().pid||[];if(m.includes(p.id)&&m.includes(h))return n.id}return null}catch(u){return console.error("Error checking existing chat:",u),null}},C=async h=>{if(!p){g("You must be logged in to create a chat");return}x(h.id),g(null);try{const u=await y(h.id);if(u){console.log("Chat already exists:",u),s&&s(u),t();return}const w=N(b,"privateChats"),f=await K(w,{pid:[p.id,h.id],createdAt:new Date,lastActivity:new Date});console.log("Created new chat with ID:",f.id);const n=J(b,"users",p.id),c=J(b,"users",h.id);await Promise.all([G(n,{chats:_(f.id)}),G(c,{chats:_(f.id)})]),console.log("Updated users' chat lists"),s&&s(f.id),t()}catch(u){console.error("Error creating chat:",u),g("Failed to create chat. Please try again.")}finally{x(null)}};return e.jsx("div",{className:"modalOverlay",children:e.jsxs("div",{className:"modalContent",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsx("h2",{children:"Start New Chat"}),e.jsx("button",{className:"closeButton",onClick:t,style:{background:"transparent",border:"none",color:"#fff",cursor:"pointer",padding:"5px"},children:e.jsx(oe,{size:20})})]}),j&&e.jsx("div",{style:{color:"#ff4444",marginBottom:"15px",padding:"10px",background:"rgba(255, 68, 68, 0.1)",borderRadius:"8px"},children:j}),r?e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:e.jsx("p",{children:"Loading users..."})}):o.length===0?e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:e.jsx("p",{children:"No other users found."})}):e.jsxs("div",{style:{maxHeight:"60vh",overflowY:"auto",scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.2) transparent",paddingRight:"8px"},className:"modal-scroll-area",children:[e.jsx("p",{style:{marginBottom:"15px",color:"#ccc"},children:"Select a user to start chatting:"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:o.map(h=>e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx(H,{eth:h.wallet}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:0,fontSize:"16px"},children:h.name}),e.jsxs("p",{style:{margin:0,fontSize:"12px",color:"#ccc",fontFamily:"monospace"},children:[h.wallet.slice(0,6),"...",h.wallet.slice(-4)]})]})]}),e.jsx("button",{onClick:()=>C(h),disabled:d===h.id,style:{background:d===h.id?"#666":"#50b458",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:d===h.id?"not-allowed":"pointer",color:"#fff",transition:"all 0.2s ease"},onMouseEnter:u=>{d!==h.id&&(u.target.style.background="#5bc464",u.target.style.transform="scale(1.05)")},onMouseLeave:u=>{d!==h.id&&(u.target.style.background="#50b458",u.target.style.transform="scale(1)")},children:d===h.id?e.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid #fff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}):e.jsx(xe,{size:18})})]},h.id))})]}),e.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
          
          .modal-scroll-area::-webkit-scrollbar {
            width: 6px;
          }
          
          .modal-scroll-area::-webkit-scrollbar-track {
            background: transparent;
          }
          
          .modal-scroll-area::-webkit-scrollbar-thumb {
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
          }
        `})]})})},de=()=>{const[t,s]=l.useState({width:typeof window<"u"?window.innerWidth:0,height:typeof window<"u"?window.innerHeight:0});l.useEffect(()=>{const i=()=>{s({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const o=t.width<=768,a=t.width>768&&t.width<=1024,r=t.width>1024;return{isMobile:o,isTablet:a,isDesktop:r,windowSize:t}};function ze(){const{address:t}=S(),[s,o]=l.useState(null),[a,r]=l.useState([]),{setCurrentUser:i}=z(),[d,x]=l.useState(!1),{isMobile:j}=de(),[g,p]=l.useState("list");l.useEffect(()=>{(async()=>{const n=N(b,"users"),m=(await B(n)).docs.map(E=>({id:E.id,name:E.data().name,wallet:E.data().wallet}));r(m)})()},[]),l.useEffect(()=>{if(a.length>0&&t){const f=a.find(n=>n.wallet===t);console.log("Current User:",f),i(f)}},[a,t,i]);const y=f=>{o(f),j&&p("chat")},C=()=>{j&&(p("list"),o(null))},h=f=>{console.log("New chat created with ID:",f),o(f),j&&p("chat")},u=f=>{const n=a.find(c=>c.id===f);return n?n.wallet:""},w=()=>!s||!a.length||!a.find(n=>n.wallet===t)?"":"Chat";return j?e.jsxs("div",{className:"chat mobile-chat",children:[g==="list"?e.jsxs("div",{className:"mobile-chat-list",children:[e.jsx(q,{chatName:"Chats",onBack:C,showBackButton:!1,showProfilePic:!0}),e.jsx("div",{className:"mobile-chat-selector",children:e.jsx(ee,{setSelectedChatId:y,users:a,getWalletById:u,selectedChatId:s})}),e.jsx("button",{className:"createChatButton mobile-create-chat",onClick:()=>x(!0),title:"Start new chat",children:e.jsx(X,{size:28})})]}):e.jsxs("div",{className:"mobile-chat-window",children:[e.jsx(q,{chatName:w(),onBack:C,showBackButton:!0}),s&&e.jsx(te,{selectedChatId:s,children:e.jsx(se,{selectedChatId:s,users:a,getWalletById:u})})]}),d&&e.jsx(ne,{onClose:()=>x(!1),onChatCreated:h})]}):e.jsxs("div",{className:"chat desktop-chat",children:[e.jsx(ee,{setSelectedChatId:y,users:a,getWalletById:u,selectedChatId:s}),e.jsx("div",{className:"desktop-chat-area",children:s?e.jsxs(e.Fragment,{children:[e.jsx(q,{chatName:w(),onBack:C,showBackButton:!1}),e.jsx(te,{selectedChatId:s,children:e.jsx(se,{selectedChatId:s,users:a,getWalletById:u})})]}):e.jsxs("div",{className:"desktop-chat-placeholder",children:[e.jsx("h2",{children:"Select a chat to start messaging"}),e.jsx("p",{children:"Choose a conversation from the sidebar or create a new one"})]})}),e.jsx("button",{className:"createChatButton desktop-create-chat",onClick:()=>x(!0),title:"Start new chat",children:e.jsx(X,{size:24})}),d&&e.jsx(ne,{onClose:()=>x(!1),onChatCreated:h})]})}function Ae(){const{address:t}=S(),[s,o]=l.useState(null),a=V(),r=async i=>{const d=N(b,"users"),x=k(d,W("wallet","==",i));try{const g=!(await B(x)).empty;console.log("User found:",g),o(g),a(g?"/chat":"/signup")}catch(j){console.error("Error checking user:",j),o(!1),a("/signup")}};return e.jsxs("div",{children:[e.jsxs("button",{className:"proceedButton",onClick:()=>{t?r(t):console.error("Address is undefined")},children:[e.jsx(we,{size:28}),e.jsx("span",{children:"Proceed"})]}),s!==null&&e.jsx("p",{children:s?"User exists":"User does not exist"})]})}function qe(){const{address:t,isConnected:s}=S(),{disconnect:o}=ie(),a=async()=>{localStorage.removeItem("walletconnect"),localStorage.removeItem("walletConnected"),localStorage.removeItem("connectorId"),o()};return e.jsx("div",{className:"wallet-button",children:s&&t?e.jsxs("div",{className:"walletBubble",children:[e.jsxs("div",{className:"address",children:[t.slice(0,6),"...",t.slice(-4)]}),e.jsx("button",{onClick:a,children:e.jsx(oe,{size:25})})]}):e.jsx("w3m-connect-button",{})})}function Fe(){const{address:t,isConnected:s,connector:o}=S(),{connect:a,connectors:r}=Se();ie();const[i,d]=l.useState(s);V();const{isMobile:x}=de();return l.useEffect(()=>{if(localStorage.getItem("walletConnected")==="true"&&!s){console.log("Attempting to reconnect wallet automatically...");const g=localStorage.getItem("connectorId");if(console.log("Last used connector:",g),g){const p=r.find(y=>y.id===g);p&&(console.log("Reconnecting with saved connector:",g),a({connector:p}))}else{const p=r.find(y=>y.id==="injected");p&&(console.log("No saved connector, trying injected..."),a({connector:p}))}}},[a,r,s]),l.useEffect(()=>{console.log("Connection state changed:",s?"connected":"disconnected"),console.log("Current connector:",o==null?void 0:o.id),d(s),s&&!i&&console.log("Wallet newly connected:",t),!s&&i&&console.log("Wallet disconnected")},[s,t,i,o]),l.useEffect(()=>{const j=()=>{i&&!s&&(console.log("Connection lost while page was inactive, updating UI"),d(!1))};return window.addEventListener("focus",j),()=>{window.removeEventListener("focus",j)}},[i,s]),e.jsxs("div",{className:`homepage ${x?"mobile-homepage":"desktop-homepage"}`,children:[e.jsxs("div",{className:"title",children:[e.jsx("h1",{children:"Chat 3.0 is here."}),e.jsx("h2",{children:"Your personal web3 companion."})]}),e.jsx("div",{children:e.jsxs("div",{className:"login",children:[e.jsx("h3",{children:i?`Connected ${o!=null&&o.id?`(${o.id})`:""}`:"Connect your wallet"}),e.jsx(qe,{}),i&&e.jsx(Ae,{})]})})]})}function Oe(){const{address:t}=S(),s=V(),[o,a]=l.useState(""),[r,i]=l.useState(null),[d,x]=l.useState(!1),[j,g]=l.useState(!1),[p,y]=l.useState(!0);l.useEffect(()=>{(async()=>{if(t){y(!0);try{const f=N(b,"users"),n=k(f,W("wallet","==",t)),m=!(await B(n)).empty;g(m),m&&(console.log("User already exists, redirecting to chat"),s("/chat"))}catch(f){console.error("Error checking if user exists:",f)}finally{y(!1)}}})()},[t,s]);const C=async()=>{const w=N(b,"users"),f=k(w,T("name"),O(10)),c=(await B(f)).docs.map(m=>({id:m.id,...m.data()}));i({users:c}),console.log("Fetched data:",c)};l.useEffect(()=>{C()},[]);const h=async()=>{if(!t||!o.trim()){console.error("Missing required data: address or name");return}if(j){console.log("User already exists, cannot register again");return}x(!0),console.log("Writing data:",t,o);try{const w=N(b,"users"),f=k(w,W("wallet","==",t));if(!(await B(f)).empty){console.log("User already exists, cannot register"),g(!0),x(!1),s("/chat");return}const c=L(k(w,W("wallet","==",t)),m=>{m.empty||(console.log("User successfully registered, redirecting to chat"),c(),s("/chat"))},m=>{console.error("Error in onSnapshot listener:",m),x(!1)});await K(w,{wallet:t,name:o.trim()}),console.log("Data written successfully"),setTimeout(()=>{c(),d&&(x(!1),console.log("Registration timeout, stopped listening"))},1e4)}catch(w){console.error("Error writing data:",w),x(!1)}},u=w=>{w.key==="Enter"&&!d&&!j&&o.trim()&&h()};return p?e.jsx("div",{className:"centered-signup",children:e.jsxs("div",{className:"welcomeText",children:[e.jsx("h1",{children:"Checking registration status..."}),e.jsx("h2",{children:"Please wait"})]})}):j?e.jsxs("div",{className:"centered-signup",children:[e.jsxs("div",{className:"welcomeText",children:[e.jsx("h1",{children:"Already Registered"}),e.jsx("h2",{children:"You're already signed up! Redirecting to chat..."})]}),e.jsxs("p",{children:["Wallet Address: ",t]})]}):e.jsxs("div",{className:"centered-signup",children:[e.jsxs("div",{className:"welcomeText",children:[e.jsx("h1",{children:"Welcome to Chat 3.0"}),e.jsx("h2",{children:"One last step to start chatting"})]}),e.jsxs("p",{children:["Wallet Address: ",t]}),e.jsxs("div",{className:"signupBox",children:[e.jsx("input",{type:"text",placeholder:"Enter name",value:o,onChange:w=>a(w.target.value),onKeyPress:u,disabled:d,maxLength:50}),e.jsx("button",{onClick:h,disabled:d||!o.trim(),children:d?"Registering...":"Register"})]}),d&&e.jsx("p",{style:{color:"#50b458",marginTop:"10px"},children:"Creating your account, please wait..."})]})}const Qe=new je,Q="02ee764d5cc25cff6387d6d3f7943fd6",F={name:"TokenChat",description:"Web3 Chat Application",url:"https://c4ctus96.github.io/tokenchat",icons:["https://avatars.githubusercontent.com/u/37784886"]},Ke=[$,re],he=ke({chains:Ke,transports:{[$.id]:Z("https://eth-mainnet.g.alchemy.com/v2/demo"),[re.id]:Z("https://arb-mainnet.g.alchemy.com/v2/demo")},connectors:[Ee({projectId:Q,metadata:F,showQrModal:!1}),Me({shimDisconnect:!0}),Ue({appName:F.name,appLogoUrl:F.icons[0]}),Be({options:{projectId:Q},socials:["google","x","github","discord","apple"],showWallets:!0,email:!0,walletFeatures:!1})]});Re({wagmiConfig:he,projectId:Q,defaultChain:$,themeMode:"dark",enableAnalytics:!0,enableOnramp:!1,themeVariables:{"--w3m-accent":"#50b458","--w3m-color-mix":"#210059","--w3m-color-mix-strength":30}});function Ve({children:t}){const{isConnected:s}=S();return s?e.jsx(e.Fragment,{children:t}):e.jsx(ve,{to:"/"})}function $e(){const{isConnected:t}=S();return l.useEffect(()=>{console.log("App initialized, connection status:",t),typeof window.ethereum>"u"&&console.log("MetaMask not detected, but WalletConnect can still be used")},[t]),null}function He(){return e.jsx(Pe,{config:he,children:e.jsx(ye,{client:Qe,children:e.jsx(Ie,{children:e.jsxs(be,{basename:"/tokenchat",children:[e.jsx($e,{}),e.jsxs(Ce,{children:[e.jsx(A,{path:"/",element:e.jsx(Fe,{})}),e.jsx(A,{path:"/chat",element:e.jsx(Ve,{children:e.jsx(ze,{})})}),e.jsx(A,{path:"/signup",element:e.jsx(Oe,{})})]})]})})})})}const Ye=document.getElementById("root"),Je=Ne(Ye);Je.render(e.jsx(ae.StrictMode,{children:e.jsx(He,{})}));
//# sourceMappingURL=index-Djz-mwyU.js.map
