var nC=t=>{throw TypeError(t)};var cb=(t,e,n)=>e.has(t)||nC("Cannot "+n);var oe=(t,e,n)=>(cb(t,e,"read from private field"),n?n.call(t):e.get(t)),Ye=(t,e,n)=>e.has(t)?nC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ne=(t,e,n,r)=>(cb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),vt=(t,e,n)=>(cb(t,e,"access private method"),n);var Em=(t,e,n,r)=>({set _(i){Ne(t,e,i,n)},get _(){return oe(t,e,r)}});function bU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ni(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ta(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var wk={exports:{}},Ev={},_k={exports:{}},It={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg=Symbol.for("react.element"),EU=Symbol.for("react.portal"),AU=Symbol.for("react.fragment"),SU=Symbol.for("react.strict_mode"),CU=Symbol.for("react.profiler"),IU=Symbol.for("react.provider"),xU=Symbol.for("react.context"),TU=Symbol.for("react.forward_ref"),RU=Symbol.for("react.suspense"),kU=Symbol.for("react.memo"),PU=Symbol.for("react.lazy"),rC=Symbol.iterator;function MU(t){return t===null||typeof t!="object"?null:(t=rC&&t[rC]||t["@@iterator"],typeof t=="function"?t:null)}var bk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ek=Object.assign,Ak={};function Qh(t,e,n){this.props=t,this.context=e,this.refs=Ak,this.updater=n||bk}Qh.prototype.isReactComponent={};Qh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sk(){}Sk.prototype=Qh.prototype;function iS(t,e,n){this.props=t,this.context=e,this.refs=Ak,this.updater=n||bk}var sS=iS.prototype=new Sk;sS.constructor=iS;Ek(sS,Qh.prototype);sS.isPureReactComponent=!0;var iC=Array.isArray,Ck=Object.prototype.hasOwnProperty,oS={current:null},Ik={key:!0,ref:!0,__self:!0,__source:!0};function xk(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ck.call(e,r)&&!Ik.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:eg,type:t,key:s,ref:o,props:i,_owner:oS.current}}function DU(t,e){return{$$typeof:eg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function aS(t){return typeof t=="object"&&t!==null&&t.$$typeof===eg}function OU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sC=/\/+/g;function lb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OU(""+t.key):e.toString(36)}function Cy(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case eg:case EU:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+lb(o,0):r,iC(i)?(n="",t!=null&&(n=t.replace(sC,"$&/")+"/"),Cy(i,e,n,"",function(c){return c})):i!=null&&(aS(i)&&(i=DU(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sC,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",iC(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+lb(s,a);o+=Cy(s,e,n,u,i)}else if(u=MU(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+lb(s,a++),o+=Cy(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Am(t,e,n){if(t==null)return t;var r=[],i=0;return Cy(t,r,"","",function(s){return e.call(n,s,i++)}),r}function NU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yr={current:null},Iy={transition:null},LU={ReactCurrentDispatcher:Yr,ReactCurrentBatchConfig:Iy,ReactCurrentOwner:oS};function Tk(){throw Error("act(...) is not supported in production builds of React.")}It.Children={map:Am,forEach:function(t,e,n){Am(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Am(t,function(){e++}),e},toArray:function(t){return Am(t,function(e){return e})||[]},only:function(t){if(!aS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};It.Component=Qh;It.Fragment=AU;It.Profiler=CU;It.PureComponent=iS;It.StrictMode=SU;It.Suspense=RU;It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LU;It.act=Tk;It.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ek({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=oS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Ck.call(e,u)&&!Ik.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:eg,type:t.type,key:i,ref:s,props:r,_owner:o}};It.createContext=function(t){return t={$$typeof:xU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IU,_context:t},t.Consumer=t};It.createElement=xk;It.createFactory=function(t){var e=xk.bind(null,t);return e.type=t,e};It.createRef=function(){return{current:null}};It.forwardRef=function(t){return{$$typeof:TU,render:t}};It.isValidElement=aS;It.lazy=function(t){return{$$typeof:PU,_payload:{_status:-1,_result:t},_init:NU}};It.memo=function(t,e){return{$$typeof:kU,type:t,compare:e===void 0?null:e}};It.startTransition=function(t){var e=Iy.transition;Iy.transition={};try{t()}finally{Iy.transition=e}};It.unstable_act=Tk;It.useCallback=function(t,e){return Yr.current.useCallback(t,e)};It.useContext=function(t){return Yr.current.useContext(t)};It.useDebugValue=function(){};It.useDeferredValue=function(t){return Yr.current.useDeferredValue(t)};It.useEffect=function(t,e){return Yr.current.useEffect(t,e)};It.useId=function(){return Yr.current.useId()};It.useImperativeHandle=function(t,e,n){return Yr.current.useImperativeHandle(t,e,n)};It.useInsertionEffect=function(t,e){return Yr.current.useInsertionEffect(t,e)};It.useLayoutEffect=function(t,e){return Yr.current.useLayoutEffect(t,e)};It.useMemo=function(t,e){return Yr.current.useMemo(t,e)};It.useReducer=function(t,e,n){return Yr.current.useReducer(t,e,n)};It.useRef=function(t){return Yr.current.useRef(t)};It.useState=function(t){return Yr.current.useState(t)};It.useSyncExternalStore=function(t,e,n){return Yr.current.useSyncExternalStore(t,e,n)};It.useTransition=function(){return Yr.current.useTransition()};It.version="18.3.1";_k.exports=It;var xe=_k.exports;const cu=Ni(xe),BU=bU({__proto__:null,default:cu},[xe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FU=xe,$U=Symbol.for("react.element"),UU=Symbol.for("react.fragment"),jU=Object.prototype.hasOwnProperty,VU=FU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zU={key:!0,ref:!0,__self:!0,__source:!0};function Rk(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)jU.call(e,r)&&!zU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$U,type:t,key:s,ref:o,props:i,_owner:VU.current}}Ev.Fragment=UU;Ev.jsx=Rk;Ev.jsxs=Rk;wk.exports=Ev;var HU=wk.exports,kk={exports:{}},Li={},Pk={exports:{}},Mk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,F){var H=I.length;I.push(F);e:for(;0<H;){var V=H-1>>>1,R=I[V];if(0<i(R,F))I[V]=F,I[H]=R,H=V;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var F=I[0],H=I.pop();if(H!==F){I[0]=H;e:for(var V=0,R=I.length,W=R>>>1;V<W;){var ae=2*(V+1)-1,re=I[ae],X=ae+1,Q=I[X];if(0>i(re,H))X<R&&0>i(Q,re)?(I[V]=Q,I[X]=H,V=X):(I[V]=re,I[ae]=H,V=ae);else if(X<R&&0>i(Q,H))I[V]=Q,I[X]=H,V=X;else break e}}return F}function i(I,F){var H=I.sortIndex-F.sortIndex;return H!==0?H:I.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],l=1,f=null,h=3,m=!1,b=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(I){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=I)r(c),F.sortIndex=F.expirationTime,e(u,F);else break;F=n(c)}}function M(I){if(A=!1,C(I),!b)if(n(u)!==null)b=!0,E(N);else{var F=n(c);F!==null&&P(M,F.startTime-I)}}function N(I,F){b=!1,A&&(A=!1,_(y),y=-1),m=!0;var H=h;try{for(C(F),f=n(u);f!==null&&(!(f.expirationTime>F)||I&&!L());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var R=V(f.expirationTime<=F);F=t.unstable_now(),typeof R=="function"?f.callback=R:f===n(u)&&r(u),C(F)}else r(u);f=n(u)}if(f!==null)var W=!0;else{var ae=n(c);ae!==null&&P(M,ae.startTime-F),W=!1}return W}finally{f=null,h=H,m=!1}}var U=!1,v=null,y=-1,S=5,k=-1;function L(){return!(t.unstable_now()-k<S)}function z(){if(v!==null){var I=t.unstable_now();k=I;var F=!0;try{F=v(!0,I)}finally{F?x():(U=!1,v=null)}}else U=!1}var x;if(typeof w=="function")x=function(){w(z)};else if(typeof MessageChannel<"u"){var g=new MessageChannel,d=g.port2;g.port1.onmessage=z,x=function(){d.postMessage(null)}}else x=function(){T(z,0)};function E(I){v=I,U||(U=!0,x())}function P(I,F){y=T(function(){I(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){b||m||(b=!0,E(N))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var H=h;h=F;try{return I()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,F){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var H=h;h=I;try{return F()}finally{h=H}},t.unstable_scheduleCallback=function(I,F,H){var V=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,I){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=H+R,I={id:l++,callback:F,priorityLevel:I,startTime:H,expirationTime:R,sortIndex:-1},H>V?(I.sortIndex=H,e(c,I),n(u)===null&&I===n(c)&&(A?(_(y),y=-1):A=!0,P(M,H-V))):(I.sortIndex=R,e(u,I),b||m||(b=!0,E(N))),I},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(I){var F=h;return function(){var H=h;h=F;try{return I.apply(this,arguments)}finally{h=H}}}})(Mk);Pk.exports=Mk;var qU=Pk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WU=xe,Oi=qU;function ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dk=new Set,I0={};function _l(t,e){rh(t,e),rh(t+"Capture",e)}function rh(t,e){for(I0[t]=e,t=0;t<e.length;t++)Dk.add(e[t])}var fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fE=Object.prototype.hasOwnProperty,GU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oC={},aC={};function KU(t){return fE.call(aC,t)?!0:fE.call(oC,t)?!1:GU.test(t)?aC[t]=!0:(oC[t]=!0,!1)}function QU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZU(t,e,n,r){if(e===null||typeof e>"u"||QU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){br[t]=new Xr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];br[e]=new Xr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){br[t]=new Xr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){br[t]=new Xr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){br[t]=new Xr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){br[t]=new Xr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){br[t]=new Xr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){br[t]=new Xr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){br[t]=new Xr(t,5,!1,t.toLowerCase(),null,!1,!1)});var uS=/[\-:]([a-z])/g;function cS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(uS,cS);br[e]=new Xr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(uS,cS);br[e]=new Xr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(uS,cS);br[e]=new Xr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){br[t]=new Xr(t,1,!1,t.toLowerCase(),null,!1,!1)});br.xlinkHref=new Xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){br[t]=new Xr(t,1,!1,t.toLowerCase(),null,!0,!0)});function lS(t,e,n,r){var i=br.hasOwnProperty(e)?br[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZU(e,n,i,r)&&(n=null),r||i===null?KU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ra=WU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sm=Symbol.for("react.element"),uf=Symbol.for("react.portal"),cf=Symbol.for("react.fragment"),fS=Symbol.for("react.strict_mode"),hE=Symbol.for("react.profiler"),Ok=Symbol.for("react.provider"),Nk=Symbol.for("react.context"),hS=Symbol.for("react.forward_ref"),dE=Symbol.for("react.suspense"),pE=Symbol.for("react.suspense_list"),dS=Symbol.for("react.memo"),ja=Symbol.for("react.lazy"),Lk=Symbol.for("react.offscreen"),uC=Symbol.iterator;function Cd(t){return t===null||typeof t!="object"?null:(t=uC&&t[uC]||t["@@iterator"],typeof t=="function"?t:null)}var En=Object.assign,fb;function zd(t){if(fb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fb=e&&e[1]||""}return`
`+fb+t}var hb=!1;function db(t,e){if(!t||hb)return"";hb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{hb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zd(t):""}function JU(t){switch(t.tag){case 5:return zd(t.type);case 16:return zd("Lazy");case 13:return zd("Suspense");case 19:return zd("SuspenseList");case 0:case 2:case 15:return t=db(t.type,!1),t;case 11:return t=db(t.type.render,!1),t;case 1:return t=db(t.type,!0),t;default:return""}}function gE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cf:return"Fragment";case uf:return"Portal";case hE:return"Profiler";case fS:return"StrictMode";case dE:return"Suspense";case pE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nk:return(t.displayName||"Context")+".Consumer";case Ok:return(t._context.displayName||"Context")+".Provider";case hS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dS:return e=t.displayName||null,e!==null?e:gE(t.type)||"Memo";case ja:e=t._payload,t=t._init;try{return gE(t(e))}catch{}}return null}function YU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gE(e);case 8:return e===fS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Su(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XU(t){var e=Bk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cm(t){t._valueTracker||(t._valueTracker=XU(t))}function Fk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Bk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function e1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mE(t,e){var n=e.checked;return En({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Su(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $k(t,e){e=e.checked,e!=null&&lS(t,"checked",e,!1)}function yE(t,e){$k(t,e);var n=Su(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vE(t,e.type,n):e.hasOwnProperty("defaultValue")&&vE(t,e.type,Su(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vE(t,e,n){(e!=="number"||e1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hd=Array.isArray;function Cf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Su(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ve(91));return En({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ve(92));if(Hd(n)){if(1<n.length)throw Error(ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Su(n)}}function Uk(t,e){var n=Su(e.value),r=Su(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _E(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Im,Vk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Im=Im||document.createElement("div"),Im.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Im.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function x0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var n0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ej=["Webkit","ms","Moz","O"];Object.keys(n0).forEach(function(t){ej.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),n0[e]=n0[t]})});function zk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||n0.hasOwnProperty(t)&&n0[t]?(""+e).trim():e+"px"}function Hk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tj=En({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bE(t,e){if(e){if(tj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ve(62))}}function EE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AE=null;function pS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var SE=null,If=null,xf=null;function dC(t){if(t=rg(t)){if(typeof SE!="function")throw Error(ve(280));var e=t.stateNode;e&&(e=xv(e),SE(t.stateNode,t.type,e))}}function qk(t){If?xf?xf.push(t):xf=[t]:If=t}function Wk(){if(If){var t=If,e=xf;if(xf=If=null,dC(t),e)for(t=0;t<e.length;t++)dC(e[t])}}function Gk(t,e){return t(e)}function Kk(){}var pb=!1;function Qk(t,e,n){if(pb)return t(e,n);pb=!0;try{return Gk(t,e,n)}finally{pb=!1,(If!==null||xf!==null)&&(Kk(),Wk())}}function T0(t,e){var n=t.stateNode;if(n===null)return null;var r=xv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ve(231,e,typeof n));return n}var CE=!1;if(fa)try{var Id={};Object.defineProperty(Id,"passive",{get:function(){CE=!0}}),window.addEventListener("test",Id,Id),window.removeEventListener("test",Id,Id)}catch{CE=!1}function nj(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(l){this.onError(l)}}var r0=!1,t1=null,n1=!1,IE=null,rj={onError:function(t){r0=!0,t1=t}};function ij(t,e,n,r,i,s,o,a,u){r0=!1,t1=null,nj.apply(rj,arguments)}function sj(t,e,n,r,i,s,o,a,u){if(ij.apply(this,arguments),r0){if(r0){var c=t1;r0=!1,t1=null}else throw Error(ve(198));n1||(n1=!0,IE=c)}}function bl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Zk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pC(t){if(bl(t)!==t)throw Error(ve(188))}function oj(t){var e=t.alternate;if(!e){if(e=bl(t),e===null)throw Error(ve(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return pC(i),t;if(s===r)return pC(i),e;s=s.sibling}throw Error(ve(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}if(n.tag!==3)throw Error(ve(188));return n.stateNode.current===n?t:e}function Jk(t){return t=oj(t),t!==null?Yk(t):null}function Yk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Yk(t);if(e!==null)return e;t=t.sibling}return null}var Xk=Oi.unstable_scheduleCallback,gC=Oi.unstable_cancelCallback,aj=Oi.unstable_shouldYield,uj=Oi.unstable_requestPaint,Pn=Oi.unstable_now,cj=Oi.unstable_getCurrentPriorityLevel,gS=Oi.unstable_ImmediatePriority,eP=Oi.unstable_UserBlockingPriority,r1=Oi.unstable_NormalPriority,lj=Oi.unstable_LowPriority,tP=Oi.unstable_IdlePriority,Av=null,Io=null;function fj(t){if(Io&&typeof Io.onCommitFiberRoot=="function")try{Io.onCommitFiberRoot(Av,t,void 0,(t.current.flags&128)===128)}catch{}}var Fs=Math.clz32?Math.clz32:pj,hj=Math.log,dj=Math.LN2;function pj(t){return t>>>=0,t===0?32:31-(hj(t)/dj|0)|0}var xm=64,Tm=4194304;function qd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function i1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=qd(a):(s&=o,s!==0&&(r=qd(s)))}else o=n&~i,o!==0?r=qd(o):s!==0&&(r=qd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fs(e),i=1<<n,r|=t[n],e&=~i;return r}function gj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Fs(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=gj(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function xE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nP(){var t=xm;return xm<<=1,!(xm&4194240)&&(xm=64),t}function gb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fs(e),t[e]=n}function yj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Fs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function mS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qt=0;function rP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iP,yS,sP,oP,aP,TE=!1,Rm=[],lu=null,fu=null,hu=null,R0=new Map,k0=new Map,Ha=[],vj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mC(t,e){switch(t){case"focusin":case"focusout":lu=null;break;case"dragenter":case"dragleave":fu=null;break;case"mouseover":case"mouseout":hu=null;break;case"pointerover":case"pointerout":R0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":k0.delete(e.pointerId)}}function xd(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=rg(e),e!==null&&yS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wj(t,e,n,r,i){switch(e){case"focusin":return lu=xd(lu,t,e,n,r,i),!0;case"dragenter":return fu=xd(fu,t,e,n,r,i),!0;case"mouseover":return hu=xd(hu,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return R0.set(s,xd(R0.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,k0.set(s,xd(k0.get(s)||null,t,e,n,r,i)),!0}return!1}function uP(t){var e=Ec(t.target);if(e!==null){var n=bl(e);if(n!==null){if(e=n.tag,e===13){if(e=Zk(n),e!==null){t.blockedOn=e,aP(t.priority,function(){sP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=RE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);AE=r,n.target.dispatchEvent(r),AE=null}else return e=rg(n),e!==null&&yS(e),t.blockedOn=n,!1;e.shift()}return!0}function yC(t,e,n){xy(t)&&n.delete(e)}function _j(){TE=!1,lu!==null&&xy(lu)&&(lu=null),fu!==null&&xy(fu)&&(fu=null),hu!==null&&xy(hu)&&(hu=null),R0.forEach(yC),k0.forEach(yC)}function Td(t,e){t.blockedOn===e&&(t.blockedOn=null,TE||(TE=!0,Oi.unstable_scheduleCallback(Oi.unstable_NormalPriority,_j)))}function P0(t){function e(i){return Td(i,t)}if(0<Rm.length){Td(Rm[0],t);for(var n=1;n<Rm.length;n++){var r=Rm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(lu!==null&&Td(lu,t),fu!==null&&Td(fu,t),hu!==null&&Td(hu,t),R0.forEach(e),k0.forEach(e),n=0;n<Ha.length;n++)r=Ha[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ha.length&&(n=Ha[0],n.blockedOn===null);)uP(n),n.blockedOn===null&&Ha.shift()}var Tf=Ra.ReactCurrentBatchConfig,s1=!0;function bj(t,e,n,r){var i=Qt,s=Tf.transition;Tf.transition=null;try{Qt=1,vS(t,e,n,r)}finally{Qt=i,Tf.transition=s}}function Ej(t,e,n,r){var i=Qt,s=Tf.transition;Tf.transition=null;try{Qt=4,vS(t,e,n,r)}finally{Qt=i,Tf.transition=s}}function vS(t,e,n,r){if(s1){var i=RE(t,e,n,r);if(i===null)Cb(t,e,r,o1,n),mC(t,r);else if(wj(i,t,e,n,r))r.stopPropagation();else if(mC(t,r),e&4&&-1<vj.indexOf(t)){for(;i!==null;){var s=rg(i);if(s!==null&&iP(s),s=RE(t,e,n,r),s===null&&Cb(t,e,r,o1,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Cb(t,e,r,null,n)}}var o1=null;function RE(t,e,n,r){if(o1=null,t=pS(r),t=Ec(t),t!==null)if(e=bl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Zk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return o1=t,null}function cP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cj()){case gS:return 1;case eP:return 4;case r1:case lj:return 16;case tP:return 536870912;default:return 16}default:return 16}}var ru=null,wS=null,Ty=null;function lP(){if(Ty)return Ty;var t,e=wS,n=e.length,r,i="value"in ru?ru.value:ru.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ty=i.slice(t,1<r?1-r:void 0)}function Ry(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function km(){return!0}function vC(){return!1}function Bi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?km:vC,this.isPropagationStopped=vC,this}return En(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=km)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=km)},persist:function(){},isPersistent:km}),e}var Zh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_S=Bi(Zh),ng=En({},Zh,{view:0,detail:0}),Aj=Bi(ng),mb,yb,Rd,Sv=En({},ng,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rd&&(Rd&&t.type==="mousemove"?(mb=t.screenX-Rd.screenX,yb=t.screenY-Rd.screenY):yb=mb=0,Rd=t),mb)},movementY:function(t){return"movementY"in t?t.movementY:yb}}),wC=Bi(Sv),Sj=En({},Sv,{dataTransfer:0}),Cj=Bi(Sj),Ij=En({},ng,{relatedTarget:0}),vb=Bi(Ij),xj=En({},Zh,{animationName:0,elapsedTime:0,pseudoElement:0}),Tj=Bi(xj),Rj=En({},Zh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kj=Bi(Rj),Pj=En({},Zh,{data:0}),_C=Bi(Pj),Mj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Oj[t])?!!e[t]:!1}function bS(){return Nj}var Lj=En({},ng,{key:function(t){if(t.key){var e=Mj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ry(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bS,charCode:function(t){return t.type==="keypress"?Ry(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ry(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bj=Bi(Lj),Fj=En({},Sv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bC=Bi(Fj),$j=En({},ng,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bS}),Uj=Bi($j),jj=En({},Zh,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vj=Bi(jj),zj=En({},Sv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hj=Bi(zj),qj=[9,13,27,32],ES=fa&&"CompositionEvent"in window,i0=null;fa&&"documentMode"in document&&(i0=document.documentMode);var Wj=fa&&"TextEvent"in window&&!i0,fP=fa&&(!ES||i0&&8<i0&&11>=i0),EC=" ",AC=!1;function hP(t,e){switch(t){case"keyup":return qj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lf=!1;function Gj(t,e){switch(t){case"compositionend":return dP(e);case"keypress":return e.which!==32?null:(AC=!0,EC);case"textInput":return t=e.data,t===EC&&AC?null:t;default:return null}}function Kj(t,e){if(lf)return t==="compositionend"||!ES&&hP(t,e)?(t=lP(),Ty=wS=ru=null,lf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fP&&e.locale!=="ko"?null:e.data;default:return null}}var Qj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Qj[t.type]:e==="textarea"}function pP(t,e,n,r){qk(r),e=a1(e,"onChange"),0<e.length&&(n=new _S("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var s0=null,M0=null;function Zj(t){CP(t,0)}function Cv(t){var e=df(t);if(Fk(e))return t}function Jj(t,e){if(t==="change")return e}var gP=!1;if(fa){var wb;if(fa){var _b="oninput"in document;if(!_b){var CC=document.createElement("div");CC.setAttribute("oninput","return;"),_b=typeof CC.oninput=="function"}wb=_b}else wb=!1;gP=wb&&(!document.documentMode||9<document.documentMode)}function IC(){s0&&(s0.detachEvent("onpropertychange",mP),M0=s0=null)}function mP(t){if(t.propertyName==="value"&&Cv(M0)){var e=[];pP(e,M0,t,pS(t)),Qk(Zj,e)}}function Yj(t,e,n){t==="focusin"?(IC(),s0=e,M0=n,s0.attachEvent("onpropertychange",mP)):t==="focusout"&&IC()}function Xj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cv(M0)}function eV(t,e){if(t==="click")return Cv(e)}function tV(t,e){if(t==="input"||t==="change")return Cv(e)}function nV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zs=typeof Object.is=="function"?Object.is:nV;function D0(t,e){if(zs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fE.call(e,i)||!zs(t[i],e[i]))return!1}return!0}function xC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TC(t,e){var n=xC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xC(n)}}function yP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vP(){for(var t=window,e=e1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=e1(t.document)}return e}function AS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rV(t){var e=vP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yP(n.ownerDocument.documentElement,n)){if(r!==null&&AS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=TC(n,s);var o=TC(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iV=fa&&"documentMode"in document&&11>=document.documentMode,ff=null,kE=null,o0=null,PE=!1;function RC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;PE||ff==null||ff!==e1(r)||(r=ff,"selectionStart"in r&&AS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),o0&&D0(o0,r)||(o0=r,r=a1(kE,"onSelect"),0<r.length&&(e=new _S("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ff)))}function Pm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hf={animationend:Pm("Animation","AnimationEnd"),animationiteration:Pm("Animation","AnimationIteration"),animationstart:Pm("Animation","AnimationStart"),transitionend:Pm("Transition","TransitionEnd")},bb={},wP={};fa&&(wP=document.createElement("div").style,"AnimationEvent"in window||(delete hf.animationend.animation,delete hf.animationiteration.animation,delete hf.animationstart.animation),"TransitionEvent"in window||delete hf.transitionend.transition);function Iv(t){if(bb[t])return bb[t];if(!hf[t])return t;var e=hf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wP)return bb[t]=e[n];return t}var _P=Iv("animationend"),bP=Iv("animationiteration"),EP=Iv("animationstart"),AP=Iv("transitionend"),SP=new Map,kC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fu(t,e){SP.set(t,e),_l(e,[t])}for(var Eb=0;Eb<kC.length;Eb++){var Ab=kC[Eb],sV=Ab.toLowerCase(),oV=Ab[0].toUpperCase()+Ab.slice(1);Fu(sV,"on"+oV)}Fu(_P,"onAnimationEnd");Fu(bP,"onAnimationIteration");Fu(EP,"onAnimationStart");Fu("dblclick","onDoubleClick");Fu("focusin","onFocus");Fu("focusout","onBlur");Fu(AP,"onTransitionEnd");rh("onMouseEnter",["mouseout","mouseover"]);rh("onMouseLeave",["mouseout","mouseover"]);rh("onPointerEnter",["pointerout","pointerover"]);rh("onPointerLeave",["pointerout","pointerover"]);_l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_l("onBeforeInput",["compositionend","keypress","textInput","paste"]);_l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wd));function PC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sj(r,e,void 0,t),t.currentTarget=null}function CP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;PC(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;PC(i,a,c),s=u}}}if(n1)throw t=IE,n1=!1,IE=null,t}function cn(t,e){var n=e[LE];n===void 0&&(n=e[LE]=new Set);var r=t+"__bubble";n.has(r)||(IP(e,t,2,!1),n.add(r))}function Sb(t,e,n){var r=0;e&&(r|=4),IP(n,t,r,e)}var Mm="_reactListening"+Math.random().toString(36).slice(2);function O0(t){if(!t[Mm]){t[Mm]=!0,Dk.forEach(function(n){n!=="selectionchange"&&(aV.has(n)||Sb(n,!1,t),Sb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mm]||(e[Mm]=!0,Sb("selectionchange",!1,e))}}function IP(t,e,n,r){switch(cP(e)){case 1:var i=bj;break;case 4:i=Ej;break;default:i=vS}n=i.bind(null,e,n,t),i=void 0,!CE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cb(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ec(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Qk(function(){var c=s,l=pS(n),f=[];e:{var h=SP.get(t);if(h!==void 0){var m=_S,b=t;switch(t){case"keypress":if(Ry(n)===0)break e;case"keydown":case"keyup":m=Bj;break;case"focusin":b="focus",m=vb;break;case"focusout":b="blur",m=vb;break;case"beforeblur":case"afterblur":m=vb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=wC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Cj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Uj;break;case _P:case bP:case EP:m=Tj;break;case AP:m=Vj;break;case"scroll":m=Aj;break;case"wheel":m=Hj;break;case"copy":case"cut":case"paste":m=kj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bC}var A=(e&4)!==0,T=!A&&t==="scroll",_=A?h!==null?h+"Capture":null:h;A=[];for(var w=c,C;w!==null;){C=w;var M=C.stateNode;if(C.tag===5&&M!==null&&(C=M,_!==null&&(M=T0(w,_),M!=null&&A.push(N0(w,M,C)))),T)break;w=w.return}0<A.length&&(h=new m(h,b,null,n,l),f.push({event:h,listeners:A}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==AE&&(b=n.relatedTarget||n.fromElement)&&(Ec(b)||b[ha]))break e;if((m||h)&&(h=l.window===l?l:(h=l.ownerDocument)?h.defaultView||h.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=c,b=b?Ec(b):null,b!==null&&(T=bl(b),b!==T||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=c),m!==b)){if(A=wC,M="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(A=bC,M="onPointerLeave",_="onPointerEnter",w="pointer"),T=m==null?h:df(m),C=b==null?h:df(b),h=new A(M,w+"leave",m,n,l),h.target=T,h.relatedTarget=C,M=null,Ec(l)===c&&(A=new A(_,w+"enter",b,n,l),A.target=C,A.relatedTarget=T,M=A),T=M,m&&b)t:{for(A=m,_=b,w=0,C=A;C;C=Ul(C))w++;for(C=0,M=_;M;M=Ul(M))C++;for(;0<w-C;)A=Ul(A),w--;for(;0<C-w;)_=Ul(_),C--;for(;w--;){if(A===_||_!==null&&A===_.alternate)break t;A=Ul(A),_=Ul(_)}A=null}else A=null;m!==null&&MC(f,h,m,A,!1),b!==null&&T!==null&&MC(f,T,b,A,!0)}}e:{if(h=c?df(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=Jj;else if(SC(h))if(gP)N=tV;else{N=Xj;var U=Yj}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=eV);if(N&&(N=N(t,c))){pP(f,N,n,l);break e}U&&U(t,h,c),t==="focusout"&&(U=h._wrapperState)&&U.controlled&&h.type==="number"&&vE(h,"number",h.value)}switch(U=c?df(c):window,t){case"focusin":(SC(U)||U.contentEditable==="true")&&(ff=U,kE=c,o0=null);break;case"focusout":o0=kE=ff=null;break;case"mousedown":PE=!0;break;case"contextmenu":case"mouseup":case"dragend":PE=!1,RC(f,n,l);break;case"selectionchange":if(iV)break;case"keydown":case"keyup":RC(f,n,l)}var v;if(ES)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else lf?hP(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(fP&&n.locale!=="ko"&&(lf||y!=="onCompositionStart"?y==="onCompositionEnd"&&lf&&(v=lP()):(ru=l,wS="value"in ru?ru.value:ru.textContent,lf=!0)),U=a1(c,y),0<U.length&&(y=new _C(y,t,null,n,l),f.push({event:y,listeners:U}),v?y.data=v:(v=dP(n),v!==null&&(y.data=v)))),(v=Wj?Gj(t,n):Kj(t,n))&&(c=a1(c,"onBeforeInput"),0<c.length&&(l=new _C("onBeforeInput","beforeinput",null,n,l),f.push({event:l,listeners:c}),l.data=v))}CP(f,e)})}function N0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function a1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=T0(t,n),s!=null&&r.unshift(N0(t,s,i)),s=T0(t,e),s!=null&&r.push(N0(t,s,i))),t=t.return}return r}function Ul(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function MC(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=T0(n,s),u!=null&&o.unshift(N0(n,u,a))):i||(u=T0(n,s),u!=null&&o.push(N0(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uV=/\r\n?/g,cV=/\u0000|\uFFFD/g;function DC(t){return(typeof t=="string"?t:""+t).replace(uV,`
`).replace(cV,"")}function Dm(t,e,n){if(e=DC(e),DC(t)!==e&&n)throw Error(ve(425))}function u1(){}var ME=null,DE=null;function OE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var NE=typeof setTimeout=="function"?setTimeout:void 0,lV=typeof clearTimeout=="function"?clearTimeout:void 0,OC=typeof Promise=="function"?Promise:void 0,fV=typeof queueMicrotask=="function"?queueMicrotask:typeof OC<"u"?function(t){return OC.resolve(null).then(t).catch(hV)}:NE;function hV(t){setTimeout(function(){throw t})}function Ib(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),P0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);P0(e)}function du(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function NC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jh=Math.random().toString(36).slice(2),vo="__reactFiber$"+Jh,L0="__reactProps$"+Jh,ha="__reactContainer$"+Jh,LE="__reactEvents$"+Jh,dV="__reactListeners$"+Jh,pV="__reactHandles$"+Jh;function Ec(t){var e=t[vo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ha]||n[vo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=NC(t);t!==null;){if(n=t[vo])return n;t=NC(t)}return e}t=n,n=t.parentNode}return null}function rg(t){return t=t[vo]||t[ha],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function df(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ve(33))}function xv(t){return t[L0]||null}var BE=[],pf=-1;function $u(t){return{current:t}}function fn(t){0>pf||(t.current=BE[pf],BE[pf]=null,pf--)}function on(t,e){pf++,BE[pf]=t.current,t.current=e}var Cu={},Br=$u(Cu),fi=$u(!1),Qc=Cu;function ih(t,e){var n=t.type.contextTypes;if(!n)return Cu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hi(t){return t=t.childContextTypes,t!=null}function c1(){fn(fi),fn(Br)}function LC(t,e,n){if(Br.current!==Cu)throw Error(ve(168));on(Br,e),on(fi,n)}function xP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ve(108,YU(t)||"Unknown",i));return En({},n,r)}function l1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cu,Qc=Br.current,on(Br,t),on(fi,fi.current),!0}function BC(t,e,n){var r=t.stateNode;if(!r)throw Error(ve(169));n?(t=xP(t,e,Qc),r.__reactInternalMemoizedMergedChildContext=t,fn(fi),fn(Br),on(Br,t)):fn(fi),on(fi,n)}var ea=null,Tv=!1,xb=!1;function TP(t){ea===null?ea=[t]:ea.push(t)}function gV(t){Tv=!0,TP(t)}function Uu(){if(!xb&&ea!==null){xb=!0;var t=0,e=Qt;try{var n=ea;for(Qt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ea=null,Tv=!1}catch(i){throw ea!==null&&(ea=ea.slice(t+1)),Xk(gS,Uu),i}finally{Qt=e,xb=!1}}return null}var gf=[],mf=0,f1=null,h1=0,ss=[],os=0,Zc=null,ia=1,sa="";function hc(t,e){gf[mf++]=h1,gf[mf++]=f1,f1=t,h1=e}function RP(t,e,n){ss[os++]=ia,ss[os++]=sa,ss[os++]=Zc,Zc=t;var r=ia;t=sa;var i=32-Fs(r)-1;r&=~(1<<i),n+=1;var s=32-Fs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ia=1<<32-Fs(e)+i|n<<i|r,sa=s+t}else ia=1<<s|n<<i|r,sa=t}function SS(t){t.return!==null&&(hc(t,1),RP(t,1,0))}function CS(t){for(;t===f1;)f1=gf[--mf],gf[mf]=null,h1=gf[--mf],gf[mf]=null;for(;t===Zc;)Zc=ss[--os],ss[os]=null,sa=ss[--os],ss[os]=null,ia=ss[--os],ss[os]=null}var Mi=null,Ti=null,hn=!1,Ds=null;function kP(t,e){var n=us(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function FC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mi=t,Ti=du(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mi=t,Ti=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zc!==null?{id:ia,overflow:sa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=us(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mi=t,Ti=null,!0):!1;default:return!1}}function FE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $E(t){if(hn){var e=Ti;if(e){var n=e;if(!FC(t,e)){if(FE(t))throw Error(ve(418));e=du(n.nextSibling);var r=Mi;e&&FC(t,e)?kP(r,n):(t.flags=t.flags&-4097|2,hn=!1,Mi=t)}}else{if(FE(t))throw Error(ve(418));t.flags=t.flags&-4097|2,hn=!1,Mi=t}}}function $C(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mi=t}function Om(t){if(t!==Mi)return!1;if(!hn)return $C(t),hn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!OE(t.type,t.memoizedProps)),e&&(e=Ti)){if(FE(t))throw PP(),Error(ve(418));for(;e;)kP(t,e),e=du(e.nextSibling)}if($C(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ti=du(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ti=null}}else Ti=Mi?du(t.stateNode.nextSibling):null;return!0}function PP(){for(var t=Ti;t;)t=du(t.nextSibling)}function sh(){Ti=Mi=null,hn=!1}function IS(t){Ds===null?Ds=[t]:Ds.push(t)}var mV=Ra.ReactCurrentBatchConfig;function kd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ve(284));if(!n._owner)throw Error(ve(290,t))}return t}function Nm(t,e){throw t=Object.prototype.toString.call(e),Error(ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function UC(t){var e=t._init;return e(t._payload)}function MP(t){function e(_,w){if(t){var C=_.deletions;C===null?(_.deletions=[w],_.flags|=16):C.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=yu(_,w),_.index=0,_.sibling=null,_}function s(_,w,C){return _.index=C,t?(C=_.alternate,C!==null?(C=C.index,C<w?(_.flags|=2,w):C):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,C,M){return w===null||w.tag!==6?(w=Ob(C,_.mode,M),w.return=_,w):(w=i(w,C),w.return=_,w)}function u(_,w,C,M){var N=C.type;return N===cf?l(_,w,C.props.children,M,C.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ja&&UC(N)===w.type)?(M=i(w,C.props),M.ref=kd(_,w,C),M.return=_,M):(M=Ly(C.type,C.key,C.props,null,_.mode,M),M.ref=kd(_,w,C),M.return=_,M)}function c(_,w,C,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=Nb(C,_.mode,M),w.return=_,w):(w=i(w,C.children||[]),w.return=_,w)}function l(_,w,C,M,N){return w===null||w.tag!==7?(w=Uc(C,_.mode,M,N),w.return=_,w):(w=i(w,C),w.return=_,w)}function f(_,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ob(""+w,_.mode,C),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Sm:return C=Ly(w.type,w.key,w.props,null,_.mode,C),C.ref=kd(_,null,w),C.return=_,C;case uf:return w=Nb(w,_.mode,C),w.return=_,w;case ja:var M=w._init;return f(_,M(w._payload),C)}if(Hd(w)||Cd(w))return w=Uc(w,_.mode,C,null),w.return=_,w;Nm(_,w)}return null}function h(_,w,C,M){var N=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return N!==null?null:a(_,w,""+C,M);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Sm:return C.key===N?u(_,w,C,M):null;case uf:return C.key===N?c(_,w,C,M):null;case ja:return N=C._init,h(_,w,N(C._payload),M)}if(Hd(C)||Cd(C))return N!==null?null:l(_,w,C,M,null);Nm(_,C)}return null}function m(_,w,C,M,N){if(typeof M=="string"&&M!==""||typeof M=="number")return _=_.get(C)||null,a(w,_,""+M,N);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Sm:return _=_.get(M.key===null?C:M.key)||null,u(w,_,M,N);case uf:return _=_.get(M.key===null?C:M.key)||null,c(w,_,M,N);case ja:var U=M._init;return m(_,w,C,U(M._payload),N)}if(Hd(M)||Cd(M))return _=_.get(C)||null,l(w,_,M,N,null);Nm(w,M)}return null}function b(_,w,C,M){for(var N=null,U=null,v=w,y=w=0,S=null;v!==null&&y<C.length;y++){v.index>y?(S=v,v=null):S=v.sibling;var k=h(_,v,C[y],M);if(k===null){v===null&&(v=S);break}t&&v&&k.alternate===null&&e(_,v),w=s(k,w,y),U===null?N=k:U.sibling=k,U=k,v=S}if(y===C.length)return n(_,v),hn&&hc(_,y),N;if(v===null){for(;y<C.length;y++)v=f(_,C[y],M),v!==null&&(w=s(v,w,y),U===null?N=v:U.sibling=v,U=v);return hn&&hc(_,y),N}for(v=r(_,v);y<C.length;y++)S=m(v,_,y,C[y],M),S!==null&&(t&&S.alternate!==null&&v.delete(S.key===null?y:S.key),w=s(S,w,y),U===null?N=S:U.sibling=S,U=S);return t&&v.forEach(function(L){return e(_,L)}),hn&&hc(_,y),N}function A(_,w,C,M){var N=Cd(C);if(typeof N!="function")throw Error(ve(150));if(C=N.call(C),C==null)throw Error(ve(151));for(var U=N=null,v=w,y=w=0,S=null,k=C.next();v!==null&&!k.done;y++,k=C.next()){v.index>y?(S=v,v=null):S=v.sibling;var L=h(_,v,k.value,M);if(L===null){v===null&&(v=S);break}t&&v&&L.alternate===null&&e(_,v),w=s(L,w,y),U===null?N=L:U.sibling=L,U=L,v=S}if(k.done)return n(_,v),hn&&hc(_,y),N;if(v===null){for(;!k.done;y++,k=C.next())k=f(_,k.value,M),k!==null&&(w=s(k,w,y),U===null?N=k:U.sibling=k,U=k);return hn&&hc(_,y),N}for(v=r(_,v);!k.done;y++,k=C.next())k=m(v,_,y,k.value,M),k!==null&&(t&&k.alternate!==null&&v.delete(k.key===null?y:k.key),w=s(k,w,y),U===null?N=k:U.sibling=k,U=k);return t&&v.forEach(function(z){return e(_,z)}),hn&&hc(_,y),N}function T(_,w,C,M){if(typeof C=="object"&&C!==null&&C.type===cf&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Sm:e:{for(var N=C.key,U=w;U!==null;){if(U.key===N){if(N=C.type,N===cf){if(U.tag===7){n(_,U.sibling),w=i(U,C.props.children),w.return=_,_=w;break e}}else if(U.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ja&&UC(N)===U.type){n(_,U.sibling),w=i(U,C.props),w.ref=kd(_,U,C),w.return=_,_=w;break e}n(_,U);break}else e(_,U);U=U.sibling}C.type===cf?(w=Uc(C.props.children,_.mode,M,C.key),w.return=_,_=w):(M=Ly(C.type,C.key,C.props,null,_.mode,M),M.ref=kd(_,w,C),M.return=_,_=M)}return o(_);case uf:e:{for(U=C.key;w!==null;){if(w.key===U)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(_,w.sibling),w=i(w,C.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=Nb(C,_.mode,M),w.return=_,_=w}return o(_);case ja:return U=C._init,T(_,w,U(C._payload),M)}if(Hd(C))return b(_,w,C,M);if(Cd(C))return A(_,w,C,M);Nm(_,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,C),w.return=_,_=w):(n(_,w),w=Ob(C,_.mode,M),w.return=_,_=w),o(_)):n(_,w)}return T}var oh=MP(!0),DP=MP(!1),d1=$u(null),p1=null,yf=null,xS=null;function TS(){xS=yf=p1=null}function RS(t){var e=d1.current;fn(d1),t._currentValue=e}function UE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Rf(t,e){p1=t,xS=yf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(li=!0),t.firstContext=null)}function gs(t){var e=t._currentValue;if(xS!==t)if(t={context:t,memoizedValue:e,next:null},yf===null){if(p1===null)throw Error(ve(308));yf=t,p1.dependencies={lanes:0,firstContext:t}}else yf=yf.next=t;return e}var Ac=null;function kS(t){Ac===null?Ac=[t]:Ac.push(t)}function OP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,kS(e)):(n.next=i.next,i.next=n),e.interleaved=n,da(t,r)}function da(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Va=!1;function PS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ft&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,da(t,n)}return i=r.interleaved,i===null?(e.next=e,kS(r)):(e.next=i.next,i.next=e),r.interleaved=e,da(t,n)}function ky(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mS(t,n)}}function jC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function g1(t,e,n,r){var i=t.updateQueue;Va=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var l=t.alternate;l!==null&&(l=l.updateQueue,a=l.lastBaseUpdate,a!==o&&(a===null?l.firstBaseUpdate=c:a.next=c,l.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,l=c=u=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){l!==null&&(l=l.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,A=a;switch(h=e,m=n,A.tag){case 1:if(b=A.payload,typeof b=="function"){f=b.call(m,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=A.payload,h=typeof b=="function"?b.call(m,f,h):b,h==null)break e;f=En({},f,h);break e;case 2:Va=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},l===null?(c=l=m,u=f):l=l.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(l===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Yc|=o,t.lanes=o,t.memoizedState=f}}function VC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ve(191,i));i.call(r)}}}var ig={},xo=$u(ig),B0=$u(ig),F0=$u(ig);function Sc(t){if(t===ig)throw Error(ve(174));return t}function MS(t,e){switch(on(F0,e),on(B0,t),on(xo,ig),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_E(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_E(e,t)}fn(xo),on(xo,e)}function ah(){fn(xo),fn(B0),fn(F0)}function LP(t){Sc(F0.current);var e=Sc(xo.current),n=_E(e,t.type);e!==n&&(on(B0,t),on(xo,n))}function DS(t){B0.current===t&&(fn(xo),fn(B0))}var wn=$u(0);function m1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tb=[];function OS(){for(var t=0;t<Tb.length;t++)Tb[t]._workInProgressVersionPrimary=null;Tb.length=0}var Py=Ra.ReactCurrentDispatcher,Rb=Ra.ReactCurrentBatchConfig,Jc=0,bn=null,jn=null,ir=null,y1=!1,a0=!1,$0=0,yV=0;function xr(){throw Error(ve(321))}function NS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zs(t[n],e[n]))return!1;return!0}function LS(t,e,n,r,i,s){if(Jc=s,bn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Py.current=t===null||t.memoizedState===null?bV:EV,t=n(r,i),a0){s=0;do{if(a0=!1,$0=0,25<=s)throw Error(ve(301));s+=1,ir=jn=null,e.updateQueue=null,Py.current=AV,t=n(r,i)}while(a0)}if(Py.current=v1,e=jn!==null&&jn.next!==null,Jc=0,ir=jn=bn=null,y1=!1,e)throw Error(ve(300));return t}function BS(){var t=$0!==0;return $0=0,t}function uo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?bn.memoizedState=ir=t:ir=ir.next=t,ir}function ms(){if(jn===null){var t=bn.alternate;t=t!==null?t.memoizedState:null}else t=jn.next;var e=ir===null?bn.memoizedState:ir.next;if(e!==null)ir=e,jn=t;else{if(t===null)throw Error(ve(310));jn=t,t={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},ir===null?bn.memoizedState=ir=t:ir=ir.next=t}return ir}function U0(t,e){return typeof e=="function"?e(t):e}function kb(t){var e=ms(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=jn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var l=c.lane;if((Jc&l)===l)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:l,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,bn.lanes|=l,Yc|=l}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,zs(r,e.memoizedState)||(li=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,bn.lanes|=s,Yc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pb(t){var e=ms(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);zs(s,e.memoizedState)||(li=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function BP(){}function FP(t,e){var n=bn,r=ms(),i=e(),s=!zs(r.memoizedState,i);if(s&&(r.memoizedState=i,li=!0),r=r.queue,FS(jP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ir!==null&&ir.memoizedState.tag&1){if(n.flags|=2048,j0(9,UP.bind(null,n,r,i,e),void 0,null),ar===null)throw Error(ve(349));Jc&30||$P(n,e,i)}return i}function $P(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bn.updateQueue,e===null?(e={lastEffect:null,stores:null},bn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UP(t,e,n,r){e.value=n,e.getSnapshot=r,VP(e)&&zP(t)}function jP(t,e,n){return n(function(){VP(e)&&zP(t)})}function VP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zs(t,n)}catch{return!0}}function zP(t){var e=da(t,1);e!==null&&$s(e,t,1,-1)}function zC(t){var e=uo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:U0,lastRenderedState:t},e.queue=t,t=t.dispatch=_V.bind(null,bn,t),[e.memoizedState,t]}function j0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=bn.updateQueue,e===null?(e={lastEffect:null,stores:null},bn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function HP(){return ms().memoizedState}function My(t,e,n,r){var i=uo();bn.flags|=t,i.memoizedState=j0(1|e,n,void 0,r===void 0?null:r)}function Rv(t,e,n,r){var i=ms();r=r===void 0?null:r;var s=void 0;if(jn!==null){var o=jn.memoizedState;if(s=o.destroy,r!==null&&NS(r,o.deps)){i.memoizedState=j0(e,n,s,r);return}}bn.flags|=t,i.memoizedState=j0(1|e,n,s,r)}function HC(t,e){return My(8390656,8,t,e)}function FS(t,e){return Rv(2048,8,t,e)}function qP(t,e){return Rv(4,2,t,e)}function WP(t,e){return Rv(4,4,t,e)}function GP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KP(t,e,n){return n=n!=null?n.concat([t]):null,Rv(4,4,GP.bind(null,e,t),n)}function $S(){}function QP(t,e){var n=ms();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&NS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ZP(t,e){var n=ms();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&NS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JP(t,e,n){return Jc&21?(zs(n,e)||(n=nP(),bn.lanes|=n,Yc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,li=!0),t.memoizedState=n)}function vV(t,e){var n=Qt;Qt=n!==0&&4>n?n:4,t(!0);var r=Rb.transition;Rb.transition={};try{t(!1),e()}finally{Qt=n,Rb.transition=r}}function YP(){return ms().memoizedState}function wV(t,e,n){var r=mu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XP(t))eM(e,n);else if(n=OP(t,e,n,r),n!==null){var i=Kr();$s(n,t,r,i),tM(n,e,r)}}function _V(t,e,n){var r=mu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XP(t))eM(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,zs(a,o)){var u=e.interleaved;u===null?(i.next=i,kS(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=OP(t,e,i,r),n!==null&&(i=Kr(),$s(n,t,r,i),tM(n,e,r))}}function XP(t){var e=t.alternate;return t===bn||e!==null&&e===bn}function eM(t,e){a0=y1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mS(t,n)}}var v1={readContext:gs,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},bV={readContext:gs,useCallback:function(t,e){return uo().memoizedState=[t,e===void 0?null:e],t},useContext:gs,useEffect:HC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,My(4194308,4,GP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return My(4194308,4,t,e)},useInsertionEffect:function(t,e){return My(4,2,t,e)},useMemo:function(t,e){var n=uo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=uo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wV.bind(null,bn,t),[r.memoizedState,t]},useRef:function(t){var e=uo();return t={current:t},e.memoizedState=t},useState:zC,useDebugValue:$S,useDeferredValue:function(t){return uo().memoizedState=t},useTransition:function(){var t=zC(!1),e=t[0];return t=vV.bind(null,t[1]),uo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=bn,i=uo();if(hn){if(n===void 0)throw Error(ve(407));n=n()}else{if(n=e(),ar===null)throw Error(ve(349));Jc&30||$P(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,HC(jP.bind(null,r,s,t),[t]),r.flags|=2048,j0(9,UP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=uo(),e=ar.identifierPrefix;if(hn){var n=sa,r=ia;n=(r&~(1<<32-Fs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},EV={readContext:gs,useCallback:QP,useContext:gs,useEffect:FS,useImperativeHandle:KP,useInsertionEffect:qP,useLayoutEffect:WP,useMemo:ZP,useReducer:kb,useRef:HP,useState:function(){return kb(U0)},useDebugValue:$S,useDeferredValue:function(t){var e=ms();return JP(e,jn.memoizedState,t)},useTransition:function(){var t=kb(U0)[0],e=ms().memoizedState;return[t,e]},useMutableSource:BP,useSyncExternalStore:FP,useId:YP,unstable_isNewReconciler:!1},AV={readContext:gs,useCallback:QP,useContext:gs,useEffect:FS,useImperativeHandle:KP,useInsertionEffect:qP,useLayoutEffect:WP,useMemo:ZP,useReducer:Pb,useRef:HP,useState:function(){return Pb(U0)},useDebugValue:$S,useDeferredValue:function(t){var e=ms();return jn===null?e.memoizedState=t:JP(e,jn.memoizedState,t)},useTransition:function(){var t=Pb(U0)[0],e=ms().memoizedState;return[t,e]},useMutableSource:BP,useSyncExternalStore:FP,useId:YP,unstable_isNewReconciler:!1};function Rs(t,e){if(t&&t.defaultProps){e=En({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:En({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kv={isMounted:function(t){return(t=t._reactInternals)?bl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kr(),i=mu(t),s=oa(r,i);s.payload=e,n!=null&&(s.callback=n),e=pu(t,s,i),e!==null&&($s(e,t,i,r),ky(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kr(),i=mu(t),s=oa(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=pu(t,s,i),e!==null&&($s(e,t,i,r),ky(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kr(),r=mu(t),i=oa(n,r);i.tag=2,e!=null&&(i.callback=e),e=pu(t,i,r),e!==null&&($s(e,t,r,n),ky(e,t,r))}};function qC(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!D0(n,r)||!D0(i,s):!0}function nM(t,e,n){var r=!1,i=Cu,s=e.contextType;return typeof s=="object"&&s!==null?s=gs(s):(i=hi(e)?Qc:Br.current,r=e.contextTypes,s=(r=r!=null)?ih(t,i):Cu),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function WC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kv.enqueueReplaceState(e,e.state,null)}function VE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},PS(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gs(s):(s=hi(e)?Qc:Br.current,i.context=ih(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jE(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kv.enqueueReplaceState(i,i.state,null),g1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function uh(t,e){try{var n="",r=e;do n+=JU(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Mb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var SV=typeof WeakMap=="function"?WeakMap:Map;function rM(t,e,n){n=oa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_1||(_1=!0,XE=r),zE(t,e)},n}function iM(t,e,n){n=oa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zE(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){zE(t,e),typeof r!="function"&&(gu===null?gu=new Set([this]):gu.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function GC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new SV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=FV.bind(null,t,e,n),e.then(t,t))}function KC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function QC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oa(-1,1),e.tag=2,pu(n,e,1))),n.lanes|=1),t)}var CV=Ra.ReactCurrentOwner,li=!1;function Hr(t,e,n,r){e.child=t===null?DP(e,null,n,r):oh(e,t.child,n,r)}function ZC(t,e,n,r,i){n=n.render;var s=e.ref;return Rf(e,i),r=LS(t,e,n,r,s,i),n=BS(),t!==null&&!li?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pa(t,e,i)):(hn&&n&&SS(e),e.flags|=1,Hr(t,e,r,i),e.child)}function JC(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!GS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,sM(t,e,s,r,i)):(t=Ly(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:D0,n(o,r)&&t.ref===e.ref)return pa(t,e,i)}return e.flags|=1,t=yu(s,r),t.ref=e.ref,t.return=e,e.child=t}function sM(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(D0(s,r)&&t.ref===e.ref)if(li=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(li=!0);else return e.lanes=t.lanes,pa(t,e,i)}return HE(t,e,n,r,i)}function oM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},on(wf,xi),xi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,on(wf,xi),xi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,on(wf,xi),xi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,on(wf,xi),xi|=r;return Hr(t,e,i,n),e.child}function aM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function HE(t,e,n,r,i){var s=hi(n)?Qc:Br.current;return s=ih(e,s),Rf(e,i),n=LS(t,e,n,r,s,i),r=BS(),t!==null&&!li?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pa(t,e,i)):(hn&&r&&SS(e),e.flags|=1,Hr(t,e,n,i),e.child)}function YC(t,e,n,r,i){if(hi(n)){var s=!0;l1(e)}else s=!1;if(Rf(e,i),e.stateNode===null)Dy(t,e),nM(e,n,r),VE(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=gs(c):(c=hi(n)?Qc:Br.current,c=ih(e,c));var l=n.getDerivedStateFromProps,f=typeof l=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&WC(e,o,r,c),Va=!1;var h=e.memoizedState;o.state=h,g1(e,r,o,i),u=e.memoizedState,a!==r||h!==u||fi.current||Va?(typeof l=="function"&&(jE(e,n,l,r),u=e.memoizedState),(a=Va||qC(e,n,a,r,h,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,NP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Rs(e.type,a),o.props=c,f=e.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=gs(u):(u=hi(n)?Qc:Br.current,u=ih(e,u));var m=n.getDerivedStateFromProps;(l=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==u)&&WC(e,o,r,u),Va=!1,h=e.memoizedState,o.state=h,g1(e,r,o,i);var b=e.memoizedState;a!==f||h!==b||fi.current||Va?(typeof m=="function"&&(jE(e,n,m,r),b=e.memoizedState),(c=Va||qC(e,n,c,r,h,b,u)||!1)?(l||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return qE(t,e,n,r,s,i)}function qE(t,e,n,r,i,s){aM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&BC(e,n,!1),pa(t,e,s);r=e.stateNode,CV.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=oh(e,t.child,null,s),e.child=oh(e,null,a,s)):Hr(t,e,a,s),e.memoizedState=r.state,i&&BC(e,n,!0),e.child}function uM(t){var e=t.stateNode;e.pendingContext?LC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&LC(t,e.context,!1),MS(t,e.containerInfo)}function XC(t,e,n,r,i){return sh(),IS(i),e.flags|=256,Hr(t,e,n,r),e.child}var WE={dehydrated:null,treeContext:null,retryLane:0};function GE(t){return{baseLanes:t,cachePool:null,transitions:null}}function cM(t,e,n){var r=e.pendingProps,i=wn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),on(wn,i&1),t===null)return $E(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dv(o,r,0,null),t=Uc(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=GE(n),e.memoizedState=WE,t):US(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return IV(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=yu(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=yu(a,s):(s=Uc(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?GE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=WE,r}return s=t.child,t=s.sibling,r=yu(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function US(t,e){return e=Dv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lm(t,e,n,r){return r!==null&&IS(r),oh(e,t.child,null,n),t=US(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IV(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Mb(Error(ve(422))),Lm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Dv({mode:"visible",children:r.children},i,0,null),s=Uc(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&oh(e,t.child,null,o),e.child.memoizedState=GE(o),e.memoizedState=WE,s);if(!(e.mode&1))return Lm(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ve(419)),r=Mb(s,r,void 0),Lm(t,e,o,r)}if(a=(o&t.childLanes)!==0,li||a){if(r=ar,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,da(t,i),$s(r,t,i,-1))}return WS(),r=Mb(Error(ve(421))),Lm(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$V.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ti=du(i.nextSibling),Mi=e,hn=!0,Ds=null,t!==null&&(ss[os++]=ia,ss[os++]=sa,ss[os++]=Zc,ia=t.id,sa=t.overflow,Zc=e),e=US(e,r.children),e.flags|=4096,e)}function eI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),UE(t.return,e,n)}function Db(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function lM(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Hr(t,e,r.children,n),r=wn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eI(t,n,e);else if(t.tag===19)eI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(on(wn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&m1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Db(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&m1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Db(e,!0,n,null,s);break;case"together":Db(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ve(153));if(e.child!==null){for(t=e.child,n=yu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xV(t,e,n){switch(e.tag){case 3:uM(e),sh();break;case 5:LP(e);break;case 1:hi(e.type)&&l1(e);break;case 4:MS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;on(d1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(on(wn,wn.current&1),e.flags|=128,null):n&e.child.childLanes?cM(t,e,n):(on(wn,wn.current&1),t=pa(t,e,n),t!==null?t.sibling:null);on(wn,wn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),on(wn,wn.current),r)break;return null;case 22:case 23:return e.lanes=0,oM(t,e,n)}return pa(t,e,n)}var fM,KE,hM,dM;fM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};KE=function(){};hM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Sc(xo.current);var s=null;switch(n){case"input":i=mE(t,i),r=mE(t,r),s=[];break;case"select":i=En({},i,{value:void 0}),r=En({},r,{value:void 0}),s=[];break;case"textarea":i=wE(t,i),r=wE(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=u1)}bE(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(I0.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(I0.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&cn("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};dM=function(t,e,n,r){n!==r&&(e.flags|=4)};function Pd(t,e){if(!hn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TV(t,e,n){var r=e.pendingProps;switch(CS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(e),null;case 1:return hi(e.type)&&c1(),Tr(e),null;case 3:return r=e.stateNode,ah(),fn(fi),fn(Br),OS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Om(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ds!==null&&(n3(Ds),Ds=null))),KE(t,e),Tr(e),null;case 5:DS(e);var i=Sc(F0.current);if(n=e.type,t!==null&&e.stateNode!=null)hM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ve(166));return Tr(e),null}if(t=Sc(xo.current),Om(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vo]=e,r[L0]=s,t=(e.mode&1)!==0,n){case"dialog":cn("cancel",r),cn("close",r);break;case"iframe":case"object":case"embed":cn("load",r);break;case"video":case"audio":for(i=0;i<Wd.length;i++)cn(Wd[i],r);break;case"source":cn("error",r);break;case"img":case"image":case"link":cn("error",r),cn("load",r);break;case"details":cn("toggle",r);break;case"input":cC(r,s),cn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},cn("invalid",r);break;case"textarea":fC(r,s),cn("invalid",r)}bE(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Dm(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Dm(r.textContent,a,t),i=["children",""+a]):I0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&cn("scroll",r)}switch(n){case"input":Cm(r),lC(r,s,!0);break;case"textarea":Cm(r),hC(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=u1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vo]=e,t[L0]=r,fM(t,e,!1,!1),e.stateNode=t;e:{switch(o=EE(n,r),n){case"dialog":cn("cancel",t),cn("close",t),i=r;break;case"iframe":case"object":case"embed":cn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wd.length;i++)cn(Wd[i],t);i=r;break;case"source":cn("error",t),i=r;break;case"img":case"image":case"link":cn("error",t),cn("load",t),i=r;break;case"details":cn("toggle",t),i=r;break;case"input":cC(t,r),i=mE(t,r),cn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=En({},r,{value:void 0}),cn("invalid",t);break;case"textarea":fC(t,r),i=wE(t,r),cn("invalid",t);break;default:i=r}bE(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?Hk(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Vk(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&x0(t,u):typeof u=="number"&&x0(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(I0.hasOwnProperty(s)?u!=null&&s==="onScroll"&&cn("scroll",t):u!=null&&lS(t,s,u,o))}switch(n){case"input":Cm(t),lC(t,r,!1);break;case"textarea":Cm(t),hC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Su(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Cf(t,!!r.multiple,s,!1):r.defaultValue!=null&&Cf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=u1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tr(e),null;case 6:if(t&&e.stateNode!=null)dM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ve(166));if(n=Sc(F0.current),Sc(xo.current),Om(e)){if(r=e.stateNode,n=e.memoizedProps,r[vo]=e,(s=r.nodeValue!==n)&&(t=Mi,t!==null))switch(t.tag){case 3:Dm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Dm(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vo]=e,e.stateNode=r}return Tr(e),null;case 13:if(fn(wn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(hn&&Ti!==null&&e.mode&1&&!(e.flags&128))PP(),sh(),e.flags|=98560,s=!1;else if(s=Om(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ve(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ve(317));s[vo]=e}else sh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tr(e),s=!1}else Ds!==null&&(n3(Ds),Ds=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||wn.current&1?qn===0&&(qn=3):WS())),e.updateQueue!==null&&(e.flags|=4),Tr(e),null);case 4:return ah(),KE(t,e),t===null&&O0(e.stateNode.containerInfo),Tr(e),null;case 10:return RS(e.type._context),Tr(e),null;case 17:return hi(e.type)&&c1(),Tr(e),null;case 19:if(fn(wn),s=e.memoizedState,s===null)return Tr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Pd(s,!1);else{if(qn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=m1(t),o!==null){for(e.flags|=128,Pd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return on(wn,wn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pn()>ch&&(e.flags|=128,r=!0,Pd(s,!1),e.lanes=4194304)}else{if(!r)if(t=m1(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Pd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!hn)return Tr(e),null}else 2*Pn()-s.renderingStartTime>ch&&n!==1073741824&&(e.flags|=128,r=!0,Pd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pn(),e.sibling=null,n=wn.current,on(wn,r?n&1|2:n&1),e):(Tr(e),null);case 22:case 23:return qS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xi&1073741824&&(Tr(e),e.subtreeFlags&6&&(e.flags|=8192)):Tr(e),null;case 24:return null;case 25:return null}throw Error(ve(156,e.tag))}function RV(t,e){switch(CS(e),e.tag){case 1:return hi(e.type)&&c1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ah(),fn(fi),fn(Br),OS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return DS(e),null;case 13:if(fn(wn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ve(340));sh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fn(wn),null;case 4:return ah(),null;case 10:return RS(e.type._context),null;case 22:case 23:return qS(),null;case 24:return null;default:return null}}var Bm=!1,Or=!1,kV=typeof WeakSet=="function"?WeakSet:Set,Be=null;function vf(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){In(t,e,r)}else n.current=null}function QE(t,e,n){try{n()}catch(r){In(t,e,r)}}var tI=!1;function PV(t,e){if(ME=s1,t=vP(),AS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,l=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++l===r&&(u=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(DE={focusedElem:t,selectionRange:n},s1=!1,Be=e;Be!==null;)if(e=Be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Be=t;else for(;Be!==null;){e=Be;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var A=b.memoizedProps,T=b.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?A:Rs(e.type,A),T);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(M){In(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Be=t;break}Be=e.return}return b=tI,tI=!1,b}function u0(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&QE(e,n,s)}i=i.next}while(i!==r)}}function Pv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ZE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pM(t){var e=t.alternate;e!==null&&(t.alternate=null,pM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vo],delete e[L0],delete e[LE],delete e[dV],delete e[pV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gM(t){return t.tag===5||t.tag===3||t.tag===4}function nI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function JE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=u1));else if(r!==4&&(t=t.child,t!==null))for(JE(t,e,n),t=t.sibling;t!==null;)JE(t,e,n),t=t.sibling}function YE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(YE(t,e,n),t=t.sibling;t!==null;)YE(t,e,n),t=t.sibling}var pr=null,Ms=!1;function Oa(t,e,n){for(n=n.child;n!==null;)mM(t,e,n),n=n.sibling}function mM(t,e,n){if(Io&&typeof Io.onCommitFiberUnmount=="function")try{Io.onCommitFiberUnmount(Av,n)}catch{}switch(n.tag){case 5:Or||vf(n,e);case 6:var r=pr,i=Ms;pr=null,Oa(t,e,n),pr=r,Ms=i,pr!==null&&(Ms?(t=pr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pr.removeChild(n.stateNode));break;case 18:pr!==null&&(Ms?(t=pr,n=n.stateNode,t.nodeType===8?Ib(t.parentNode,n):t.nodeType===1&&Ib(t,n),P0(t)):Ib(pr,n.stateNode));break;case 4:r=pr,i=Ms,pr=n.stateNode.containerInfo,Ms=!0,Oa(t,e,n),pr=r,Ms=i;break;case 0:case 11:case 14:case 15:if(!Or&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&QE(n,e,o),i=i.next}while(i!==r)}Oa(t,e,n);break;case 1:if(!Or&&(vf(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){In(n,e,a)}Oa(t,e,n);break;case 21:Oa(t,e,n);break;case 22:n.mode&1?(Or=(r=Or)||n.memoizedState!==null,Oa(t,e,n),Or=r):Oa(t,e,n);break;default:Oa(t,e,n)}}function rI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kV),e.forEach(function(r){var i=UV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ss(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pr=a.stateNode,Ms=!1;break e;case 3:pr=a.stateNode.containerInfo,Ms=!0;break e;case 4:pr=a.stateNode.containerInfo,Ms=!0;break e}a=a.return}if(pr===null)throw Error(ve(160));mM(s,o,i),pr=null,Ms=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){In(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yM(e,t),e=e.sibling}function yM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ss(e,t),no(t),r&4){try{u0(3,t,t.return),Pv(3,t)}catch(A){In(t,t.return,A)}try{u0(5,t,t.return)}catch(A){In(t,t.return,A)}}break;case 1:Ss(e,t),no(t),r&512&&n!==null&&vf(n,n.return);break;case 5:if(Ss(e,t),no(t),r&512&&n!==null&&vf(n,n.return),t.flags&32){var i=t.stateNode;try{x0(i,"")}catch(A){In(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$k(i,s),EE(a,o);var c=EE(a,s);for(o=0;o<u.length;o+=2){var l=u[o],f=u[o+1];l==="style"?Hk(i,f):l==="dangerouslySetInnerHTML"?Vk(i,f):l==="children"?x0(i,f):lS(i,l,f,c)}switch(a){case"input":yE(i,s);break;case"textarea":Uk(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Cf(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Cf(i,!!s.multiple,s.defaultValue,!0):Cf(i,!!s.multiple,s.multiple?[]:"",!1))}i[L0]=s}catch(A){In(t,t.return,A)}}break;case 6:if(Ss(e,t),no(t),r&4){if(t.stateNode===null)throw Error(ve(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(A){In(t,t.return,A)}}break;case 3:if(Ss(e,t),no(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{P0(e.containerInfo)}catch(A){In(t,t.return,A)}break;case 4:Ss(e,t),no(t);break;case 13:Ss(e,t),no(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zS=Pn())),r&4&&rI(t);break;case 22:if(l=n!==null&&n.memoizedState!==null,t.mode&1?(Or=(c=Or)||l,Ss(e,t),Or=c):Ss(e,t),no(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!l&&t.mode&1)for(Be=t,l=t.child;l!==null;){for(f=Be=l;Be!==null;){switch(h=Be,m=h.child,h.tag){case 0:case 11:case 14:case 15:u0(4,h,h.return);break;case 1:vf(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(A){In(r,n,A)}}break;case 5:vf(h,h.return);break;case 22:if(h.memoizedState!==null){sI(f);continue}}m!==null?(m.return=h,Be=m):sI(f)}l=l.sibling}e:for(l=null,f=t;;){if(f.tag===5){if(l===null){l=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=zk("display",o))}catch(A){In(t,t.return,A)}}}else if(f.tag===6){if(l===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(A){In(t,t.return,A)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;l===f&&(l=null),f=f.return}l===f&&(l=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ss(e,t),no(t),r&4&&rI(t);break;case 21:break;default:Ss(e,t),no(t)}}function no(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gM(n)){var r=n;break e}n=n.return}throw Error(ve(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(x0(i,""),r.flags&=-33);var s=nI(t);YE(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=nI(t);JE(t,a,o);break;default:throw Error(ve(161))}}catch(u){In(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MV(t,e,n){Be=t,vM(t)}function vM(t,e,n){for(var r=(t.mode&1)!==0;Be!==null;){var i=Be,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Bm;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Or;a=Bm;var c=Or;if(Bm=o,(Or=u)&&!c)for(Be=i;Be!==null;)o=Be,u=o.child,o.tag===22&&o.memoizedState!==null?oI(i):u!==null?(u.return=o,Be=u):oI(i);for(;s!==null;)Be=s,vM(s),s=s.sibling;Be=i,Bm=a,Or=c}iI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Be=s):iI(t)}}function iI(t){for(;Be!==null;){var e=Be;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Or||Pv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Or)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&VC(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}VC(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var l=c.memoizedState;if(l!==null){var f=l.dehydrated;f!==null&&P0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}Or||e.flags&512&&ZE(e)}catch(h){In(e,e.return,h)}}if(e===t){Be=null;break}if(n=e.sibling,n!==null){n.return=e.return,Be=n;break}Be=e.return}}function sI(t){for(;Be!==null;){var e=Be;if(e===t){Be=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Be=n;break}Be=e.return}}function oI(t){for(;Be!==null;){var e=Be;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pv(4,e)}catch(u){In(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){In(e,i,u)}}var s=e.return;try{ZE(e)}catch(u){In(e,s,u)}break;case 5:var o=e.return;try{ZE(e)}catch(u){In(e,o,u)}}}catch(u){In(e,e.return,u)}if(e===t){Be=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Be=a;break}Be=e.return}}var DV=Math.ceil,w1=Ra.ReactCurrentDispatcher,jS=Ra.ReactCurrentOwner,fs=Ra.ReactCurrentBatchConfig,Ft=0,ar=null,Bn=null,wr=0,xi=0,wf=$u(0),qn=0,V0=null,Yc=0,Mv=0,VS=0,c0=null,ui=null,zS=0,ch=1/0,Yo=null,_1=!1,XE=null,gu=null,Fm=!1,iu=null,b1=0,l0=0,e3=null,Oy=-1,Ny=0;function Kr(){return Ft&6?Pn():Oy!==-1?Oy:Oy=Pn()}function mu(t){return t.mode&1?Ft&2&&wr!==0?wr&-wr:mV.transition!==null?(Ny===0&&(Ny=nP()),Ny):(t=Qt,t!==0||(t=window.event,t=t===void 0?16:cP(t.type)),t):1}function $s(t,e,n,r){if(50<l0)throw l0=0,e3=null,Error(ve(185));tg(t,n,r),(!(Ft&2)||t!==ar)&&(t===ar&&(!(Ft&2)&&(Mv|=n),qn===4&&qa(t,wr)),di(t,r),n===1&&Ft===0&&!(e.mode&1)&&(ch=Pn()+500,Tv&&Uu()))}function di(t,e){var n=t.callbackNode;mj(t,e);var r=i1(t,t===ar?wr:0);if(r===0)n!==null&&gC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gC(n),e===1)t.tag===0?gV(aI.bind(null,t)):TP(aI.bind(null,t)),fV(function(){!(Ft&6)&&Uu()}),n=null;else{switch(rP(r)){case 1:n=gS;break;case 4:n=eP;break;case 16:n=r1;break;case 536870912:n=tP;break;default:n=r1}n=IM(n,wM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wM(t,e){if(Oy=-1,Ny=0,Ft&6)throw Error(ve(327));var n=t.callbackNode;if(kf()&&t.callbackNode!==n)return null;var r=i1(t,t===ar?wr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=E1(t,r);else{e=r;var i=Ft;Ft|=2;var s=bM();(ar!==t||wr!==e)&&(Yo=null,ch=Pn()+500,$c(t,e));do try{LV();break}catch(a){_M(t,a)}while(!0);TS(),w1.current=s,Ft=i,Bn!==null?e=0:(ar=null,wr=0,e=qn)}if(e!==0){if(e===2&&(i=xE(t),i!==0&&(r=i,e=t3(t,i))),e===1)throw n=V0,$c(t,0),qa(t,r),di(t,Pn()),n;if(e===6)qa(t,r);else{if(i=t.current.alternate,!(r&30)&&!OV(i)&&(e=E1(t,r),e===2&&(s=xE(t),s!==0&&(r=s,e=t3(t,s))),e===1))throw n=V0,$c(t,0),qa(t,r),di(t,Pn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ve(345));case 2:dc(t,ui,Yo);break;case 3:if(qa(t,r),(r&130023424)===r&&(e=zS+500-Pn(),10<e)){if(i1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=NE(dc.bind(null,t,ui,Yo),e);break}dc(t,ui,Yo);break;case 4:if(qa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Fs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Pn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DV(r/1960))-r,10<r){t.timeoutHandle=NE(dc.bind(null,t,ui,Yo),r);break}dc(t,ui,Yo);break;case 5:dc(t,ui,Yo);break;default:throw Error(ve(329))}}}return di(t,Pn()),t.callbackNode===n?wM.bind(null,t):null}function t3(t,e){var n=c0;return t.current.memoizedState.isDehydrated&&($c(t,e).flags|=256),t=E1(t,e),t!==2&&(e=ui,ui=n,e!==null&&n3(e)),t}function n3(t){ui===null?ui=t:ui.push.apply(ui,t)}function OV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!zs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qa(t,e){for(e&=~VS,e&=~Mv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fs(e),r=1<<n;t[n]=-1,e&=~r}}function aI(t){if(Ft&6)throw Error(ve(327));kf();var e=i1(t,0);if(!(e&1))return di(t,Pn()),null;var n=E1(t,e);if(t.tag!==0&&n===2){var r=xE(t);r!==0&&(e=r,n=t3(t,r))}if(n===1)throw n=V0,$c(t,0),qa(t,e),di(t,Pn()),n;if(n===6)throw Error(ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,dc(t,ui,Yo),di(t,Pn()),null}function HS(t,e){var n=Ft;Ft|=1;try{return t(e)}finally{Ft=n,Ft===0&&(ch=Pn()+500,Tv&&Uu())}}function Xc(t){iu!==null&&iu.tag===0&&!(Ft&6)&&kf();var e=Ft;Ft|=1;var n=fs.transition,r=Qt;try{if(fs.transition=null,Qt=1,t)return t()}finally{Qt=r,fs.transition=n,Ft=e,!(Ft&6)&&Uu()}}function qS(){xi=wf.current,fn(wf)}function $c(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lV(n)),Bn!==null)for(n=Bn.return;n!==null;){var r=n;switch(CS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&c1();break;case 3:ah(),fn(fi),fn(Br),OS();break;case 5:DS(r);break;case 4:ah();break;case 13:fn(wn);break;case 19:fn(wn);break;case 10:RS(r.type._context);break;case 22:case 23:qS()}n=n.return}if(ar=t,Bn=t=yu(t.current,null),wr=xi=e,qn=0,V0=null,VS=Mv=Yc=0,ui=c0=null,Ac!==null){for(e=0;e<Ac.length;e++)if(n=Ac[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ac=null}return t}function _M(t,e){do{var n=Bn;try{if(TS(),Py.current=v1,y1){for(var r=bn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}y1=!1}if(Jc=0,ir=jn=bn=null,a0=!1,$0=0,jS.current=null,n===null||n.return===null){qn=1,V0=e,Bn=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=wr,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,l=a,f=l.tag;if(!(l.mode&1)&&(f===0||f===11||f===15)){var h=l.alternate;h?(l.updateQueue=h.updateQueue,l.memoizedState=h.memoizedState,l.lanes=h.lanes):(l.updateQueue=null,l.memoizedState=null)}var m=KC(o);if(m!==null){m.flags&=-257,QC(m,o,a,s,e),m.mode&1&&GC(s,c,e),e=m,u=c;var b=e.updateQueue;if(b===null){var A=new Set;A.add(u),e.updateQueue=A}else b.add(u);break e}else{if(!(e&1)){GC(s,c,e),WS();break e}u=Error(ve(426))}}else if(hn&&a.mode&1){var T=KC(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),QC(T,o,a,s,e),IS(uh(u,a));break e}}s=u=uh(u,a),qn!==4&&(qn=2),c0===null?c0=[s]:c0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=rM(s,u,e);jC(s,_);break e;case 1:a=u;var w=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(gu===null||!gu.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=iM(s,a,e);jC(s,M);break e}}s=s.return}while(s!==null)}AM(n)}catch(N){e=N,Bn===n&&n!==null&&(Bn=n=n.return);continue}break}while(!0)}function bM(){var t=w1.current;return w1.current=v1,t===null?v1:t}function WS(){(qn===0||qn===3||qn===2)&&(qn=4),ar===null||!(Yc&268435455)&&!(Mv&268435455)||qa(ar,wr)}function E1(t,e){var n=Ft;Ft|=2;var r=bM();(ar!==t||wr!==e)&&(Yo=null,$c(t,e));do try{NV();break}catch(i){_M(t,i)}while(!0);if(TS(),Ft=n,w1.current=r,Bn!==null)throw Error(ve(261));return ar=null,wr=0,qn}function NV(){for(;Bn!==null;)EM(Bn)}function LV(){for(;Bn!==null&&!aj();)EM(Bn)}function EM(t){var e=CM(t.alternate,t,xi);t.memoizedProps=t.pendingProps,e===null?AM(t):Bn=e,jS.current=null}function AM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=RV(n,e),n!==null){n.flags&=32767,Bn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qn=6,Bn=null;return}}else if(n=TV(n,e,xi),n!==null){Bn=n;return}if(e=e.sibling,e!==null){Bn=e;return}Bn=e=t}while(e!==null);qn===0&&(qn=5)}function dc(t,e,n){var r=Qt,i=fs.transition;try{fs.transition=null,Qt=1,BV(t,e,n,r)}finally{fs.transition=i,Qt=r}return null}function BV(t,e,n,r){do kf();while(iu!==null);if(Ft&6)throw Error(ve(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ve(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(yj(t,s),t===ar&&(Bn=ar=null,wr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fm||(Fm=!0,IM(r1,function(){return kf(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=fs.transition,fs.transition=null;var o=Qt;Qt=1;var a=Ft;Ft|=4,jS.current=null,PV(t,n),yM(n,t),rV(DE),s1=!!ME,DE=ME=null,t.current=n,MV(n),uj(),Ft=a,Qt=o,fs.transition=s}else t.current=n;if(Fm&&(Fm=!1,iu=t,b1=i),s=t.pendingLanes,s===0&&(gu=null),fj(n.stateNode),di(t,Pn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_1)throw _1=!1,t=XE,XE=null,t;return b1&1&&t.tag!==0&&kf(),s=t.pendingLanes,s&1?t===e3?l0++:(l0=0,e3=t):l0=0,Uu(),null}function kf(){if(iu!==null){var t=rP(b1),e=fs.transition,n=Qt;try{if(fs.transition=null,Qt=16>t?16:t,iu===null)var r=!1;else{if(t=iu,iu=null,b1=0,Ft&6)throw Error(ve(331));var i=Ft;for(Ft|=4,Be=t.current;Be!==null;){var s=Be,o=s.child;if(Be.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Be=c;Be!==null;){var l=Be;switch(l.tag){case 0:case 11:case 15:u0(8,l,s)}var f=l.child;if(f!==null)f.return=l,Be=f;else for(;Be!==null;){l=Be;var h=l.sibling,m=l.return;if(pM(l),l===c){Be=null;break}if(h!==null){h.return=m,Be=h;break}Be=m}}}var b=s.alternate;if(b!==null){var A=b.child;if(A!==null){b.child=null;do{var T=A.sibling;A.sibling=null,A=T}while(A!==null)}}Be=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Be=o;else e:for(;Be!==null;){if(s=Be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:u0(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Be=_;break e}Be=s.return}}var w=t.current;for(Be=w;Be!==null;){o=Be;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Be=C;else e:for(o=w;Be!==null;){if(a=Be,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pv(9,a)}}catch(N){In(a,a.return,N)}if(a===o){Be=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Be=M;break e}Be=a.return}}if(Ft=i,Uu(),Io&&typeof Io.onPostCommitFiberRoot=="function")try{Io.onPostCommitFiberRoot(Av,t)}catch{}r=!0}return r}finally{Qt=n,fs.transition=e}}return!1}function uI(t,e,n){e=uh(n,e),e=rM(t,e,1),t=pu(t,e,1),e=Kr(),t!==null&&(tg(t,1,e),di(t,e))}function In(t,e,n){if(t.tag===3)uI(t,t,n);else for(;e!==null;){if(e.tag===3){uI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gu===null||!gu.has(r))){t=uh(n,t),t=iM(e,t,1),e=pu(e,t,1),t=Kr(),e!==null&&(tg(e,1,t),di(e,t));break}}e=e.return}}function FV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kr(),t.pingedLanes|=t.suspendedLanes&n,ar===t&&(wr&n)===n&&(qn===4||qn===3&&(wr&130023424)===wr&&500>Pn()-zS?$c(t,0):VS|=n),di(t,e)}function SM(t,e){e===0&&(t.mode&1?(e=Tm,Tm<<=1,!(Tm&130023424)&&(Tm=4194304)):e=1);var n=Kr();t=da(t,e),t!==null&&(tg(t,e,n),di(t,n))}function $V(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SM(t,n)}function UV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(e),SM(t,n)}var CM;CM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fi.current)li=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return li=!1,xV(t,e,n);li=!!(t.flags&131072)}else li=!1,hn&&e.flags&1048576&&RP(e,h1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dy(t,e),t=e.pendingProps;var i=ih(e,Br.current);Rf(e,n),i=LS(null,e,r,t,i,n);var s=BS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hi(r)?(s=!0,l1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,PS(e),i.updater=kv,e.stateNode=i,i._reactInternals=e,VE(e,r,t,n),e=qE(null,e,r,!0,s,n)):(e.tag=0,hn&&s&&SS(e),Hr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=VV(r),t=Rs(r,t),i){case 0:e=HE(null,e,r,t,n);break e;case 1:e=YC(null,e,r,t,n);break e;case 11:e=ZC(null,e,r,t,n);break e;case 14:e=JC(null,e,r,Rs(r.type,t),n);break e}throw Error(ve(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rs(r,i),HE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rs(r,i),YC(t,e,r,i,n);case 3:e:{if(uM(e),t===null)throw Error(ve(387));r=e.pendingProps,s=e.memoizedState,i=s.element,NP(t,e),g1(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=uh(Error(ve(423)),e),e=XC(t,e,r,n,i);break e}else if(r!==i){i=uh(Error(ve(424)),e),e=XC(t,e,r,n,i);break e}else for(Ti=du(e.stateNode.containerInfo.firstChild),Mi=e,hn=!0,Ds=null,n=DP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sh(),r===i){e=pa(t,e,n);break e}Hr(t,e,r,n)}e=e.child}return e;case 5:return LP(e),t===null&&$E(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,OE(r,i)?o=null:s!==null&&OE(r,s)&&(e.flags|=32),aM(t,e),Hr(t,e,o,n),e.child;case 6:return t===null&&$E(e),null;case 13:return cM(t,e,n);case 4:return MS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oh(e,null,r,n):Hr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rs(r,i),ZC(t,e,r,i,n);case 7:return Hr(t,e,e.pendingProps,n),e.child;case 8:return Hr(t,e,e.pendingProps.children,n),e.child;case 12:return Hr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,on(d1,r._currentValue),r._currentValue=o,s!==null)if(zs(s.value,o)){if(s.children===i.children&&!fi.current){e=pa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=oa(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var l=c.pending;l===null?u.next=u:(u.next=l.next,l.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),UE(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ve(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),UE(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Hr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Rf(e,n),i=gs(i),r=r(i),e.flags|=1,Hr(t,e,r,n),e.child;case 14:return r=e.type,i=Rs(r,e.pendingProps),i=Rs(r.type,i),JC(t,e,r,i,n);case 15:return sM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rs(r,i),Dy(t,e),e.tag=1,hi(r)?(t=!0,l1(e)):t=!1,Rf(e,n),nM(e,r,i),VE(e,r,i,n),qE(null,e,r,!0,t,n);case 19:return lM(t,e,n);case 22:return oM(t,e,n)}throw Error(ve(156,e.tag))};function IM(t,e){return Xk(t,e)}function jV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(t,e,n,r){return new jV(t,e,n,r)}function GS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VV(t){if(typeof t=="function")return GS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hS)return 11;if(t===dS)return 14}return 2}function yu(t,e){var n=t.alternate;return n===null?(n=us(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ly(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")GS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case cf:return Uc(n.children,i,s,e);case fS:o=8,i|=8;break;case hE:return t=us(12,n,e,i|2),t.elementType=hE,t.lanes=s,t;case dE:return t=us(13,n,e,i),t.elementType=dE,t.lanes=s,t;case pE:return t=us(19,n,e,i),t.elementType=pE,t.lanes=s,t;case Lk:return Dv(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ok:o=10;break e;case Nk:o=9;break e;case hS:o=11;break e;case dS:o=14;break e;case ja:o=16,r=null;break e}throw Error(ve(130,t==null?t:typeof t,""))}return e=us(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Uc(t,e,n,r){return t=us(7,t,r,e),t.lanes=n,t}function Dv(t,e,n,r){return t=us(22,t,r,e),t.elementType=Lk,t.lanes=n,t.stateNode={isHidden:!1},t}function Ob(t,e,n){return t=us(6,t,null,e),t.lanes=n,t}function Nb(t,e,n){return e=us(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gb(0),this.expirationTimes=gb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function KS(t,e,n,r,i,s,o,a,u){return t=new zV(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=us(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},PS(s),t}function HV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uf,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xM(t){if(!t)return Cu;t=t._reactInternals;e:{if(bl(t)!==t||t.tag!==1)throw Error(ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ve(171))}if(t.tag===1){var n=t.type;if(hi(n))return xP(t,n,e)}return e}function TM(t,e,n,r,i,s,o,a,u){return t=KS(n,r,!0,t,i,s,o,a,u),t.context=xM(null),n=t.current,r=Kr(),i=mu(n),s=oa(r,i),s.callback=e??null,pu(n,s,i),t.current.lanes=i,tg(t,i,r),di(t,r),t}function Ov(t,e,n,r){var i=e.current,s=Kr(),o=mu(i);return n=xM(n),e.context===null?e.context=n:e.pendingContext=n,e=oa(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pu(i,e,o),t!==null&&($s(t,i,o,s),ky(t,i,o)),o}function A1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function QS(t,e){cI(t,e),(t=t.alternate)&&cI(t,e)}function qV(){return null}var RM=typeof reportError=="function"?reportError:function(t){console.error(t)};function ZS(t){this._internalRoot=t}Nv.prototype.render=ZS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ve(409));Ov(t,e,null,null)};Nv.prototype.unmount=ZS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xc(function(){Ov(null,t,null,null)}),e[ha]=null}};function Nv(t){this._internalRoot=t}Nv.prototype.unstable_scheduleHydration=function(t){if(t){var e=oP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ha.length&&e!==0&&e<Ha[n].priority;n++);Ha.splice(n,0,t),n===0&&uP(t)}};function JS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lI(){}function WV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=A1(o);s.call(c)}}var o=TM(e,r,t,0,null,!1,!1,"",lI);return t._reactRootContainer=o,t[ha]=o.current,O0(t.nodeType===8?t.parentNode:t),Xc(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=A1(u);a.call(c)}}var u=KS(t,0,!1,null,null,!1,!1,"",lI);return t._reactRootContainer=u,t[ha]=u.current,O0(t.nodeType===8?t.parentNode:t),Xc(function(){Ov(e,u,n,r)}),u}function Bv(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=A1(o);a.call(u)}}Ov(e,o,t,i)}else o=WV(n,e,t,i,r);return A1(o)}iP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qd(e.pendingLanes);n!==0&&(mS(e,n|1),di(e,Pn()),!(Ft&6)&&(ch=Pn()+500,Uu()))}break;case 13:Xc(function(){var r=da(t,1);if(r!==null){var i=Kr();$s(r,t,1,i)}}),QS(t,1)}};yS=function(t){if(t.tag===13){var e=da(t,134217728);if(e!==null){var n=Kr();$s(e,t,134217728,n)}QS(t,134217728)}};sP=function(t){if(t.tag===13){var e=mu(t),n=da(t,e);if(n!==null){var r=Kr();$s(n,t,e,r)}QS(t,e)}};oP=function(){return Qt};aP=function(t,e){var n=Qt;try{return Qt=t,e()}finally{Qt=n}};SE=function(t,e,n){switch(e){case"input":if(yE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xv(r);if(!i)throw Error(ve(90));Fk(r),yE(r,i)}}}break;case"textarea":Uk(t,n);break;case"select":e=n.value,e!=null&&Cf(t,!!n.multiple,e,!1)}};Gk=HS;Kk=Xc;var GV={usingClientEntryPoint:!1,Events:[rg,df,xv,qk,Wk,HS]},Md={findFiberByHostInstance:Ec,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KV={bundleType:Md.bundleType,version:Md.version,rendererPackageName:Md.rendererPackageName,rendererConfig:Md.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jk(t),t===null?null:t.stateNode},findFiberByHostInstance:Md.findFiberByHostInstance||qV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$m.isDisabled&&$m.supportsFiber)try{Av=$m.inject(KV),Io=$m}catch{}}Li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GV;Li.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!JS(e))throw Error(ve(200));return HV(t,e,null,n)};Li.createRoot=function(t,e){if(!JS(t))throw Error(ve(299));var n=!1,r="",i=RM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=KS(t,1,!1,null,null,n,!1,r,i),t[ha]=e.current,O0(t.nodeType===8?t.parentNode:t),new ZS(e)};Li.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ve(188)):(t=Object.keys(t).join(","),Error(ve(268,t)));return t=Jk(e),t=t===null?null:t.stateNode,t};Li.flushSync=function(t){return Xc(t)};Li.hydrate=function(t,e,n){if(!Lv(e))throw Error(ve(200));return Bv(null,t,e,!0,n)};Li.hydrateRoot=function(t,e,n){if(!JS(t))throw Error(ve(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=RM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=TM(e,null,t,1,n??null,i,!1,s,o),t[ha]=e.current,O0(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Nv(e)};Li.render=function(t,e,n){if(!Lv(e))throw Error(ve(200));return Bv(null,t,e,!1,n)};Li.unmountComponentAtNode=function(t){if(!Lv(t))throw Error(ve(40));return t._reactRootContainer?(Xc(function(){Bv(null,null,t,!1,function(){t._reactRootContainer=null,t[ha]=null})}),!0):!1};Li.unstable_batchedUpdates=HS;Li.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Lv(n))throw Error(ve(200));if(t==null||t._reactInternals===void 0)throw Error(ve(38));return Bv(t,e,n,!1,r)};Li.version="18.3.1-next-f1338f8080-20240426";function kM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kM)}catch(t){console.error(t)}}kM(),kk.exports=Li;var QV=kk.exports,ZV,fI=QV;ZV=fI.createRoot,fI.hydrateRoot;const JV="modulepreload",YV=function(t){return"/tokenchat/"+t},hI={},XV=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=YV(a),a in hI)return;hI[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const l=document.createElement("link");if(l.rel=u?"stylesheet":JV,u||(l.as="script",l.crossOrigin=""),l.href=a,o&&l.setAttribute("nonce",o),document.head.appendChild(l),u)return new Promise((f,h)=>{l.addEventListener("load",f),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var YS={exports:{}},Pf=typeof Reflect=="object"?Reflect:null,dI=Pf&&typeof Pf.apply=="function"?Pf.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},By;Pf&&typeof Pf.ownKeys=="function"?By=Pf.ownKeys:Object.getOwnPropertySymbols?By=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:By=function(e){return Object.getOwnPropertyNames(e)};function ez(t){console&&console.warn&&console.warn(t)}var PM=Number.isNaN||function(e){return e!==e};function Yt(){Yt.init.call(this)}YS.exports=Yt;YS.exports.once=iz;Yt.EventEmitter=Yt;Yt.prototype._events=void 0;Yt.prototype._eventsCount=0;Yt.prototype._maxListeners=void 0;var pI=10;function Fv(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Yt,"defaultMaxListeners",{enumerable:!0,get:function(){return pI},set:function(t){if(typeof t!="number"||t<0||PM(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");pI=t}});Yt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Yt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||PM(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function MM(t){return t._maxListeners===void 0?Yt.defaultMaxListeners:t._maxListeners}Yt.prototype.getMaxListeners=function(){return MM(this)};Yt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")dI(u,this,n);else for(var c=u.length,l=BM(u,c),r=0;r<c;++r)dI(l[r],this,n);return!0};function DM(t,e,n,r){var i,s,o;if(Fv(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=MM(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,ez(a)}return t}Yt.prototype.addListener=function(e,n){return DM(this,e,n,!1)};Yt.prototype.on=Yt.prototype.addListener;Yt.prototype.prependListener=function(e,n){return DM(this,e,n,!0)};function tz(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function OM(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=tz.bind(r);return i.listener=n,r.wrapFn=i,i}Yt.prototype.once=function(e,n){return Fv(n),this.on(e,OM(this,e,n)),this};Yt.prototype.prependOnceListener=function(e,n){return Fv(n),this.prependListener(e,OM(this,e,n)),this};Yt.prototype.removeListener=function(e,n){var r,i,s,o,a;if(Fv(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():nz(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};Yt.prototype.off=Yt.prototype.removeListener;Yt.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function NM(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?rz(i):BM(i,i.length)}Yt.prototype.listeners=function(e){return NM(this,e,!0)};Yt.prototype.rawListeners=function(e){return NM(this,e,!1)};Yt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):LM.call(t,e)};Yt.prototype.listenerCount=LM;function LM(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Yt.prototype.eventNames=function(){return this._eventsCount>0?By(this._events):[]};function BM(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function nz(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function rz(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function iz(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}FM(t,e,s,{once:!0}),e!=="error"&&sz(t,i,{once:!0})})}function sz(t,e,n){typeof t.on=="function"&&FM(t,"error",e,n)}function FM(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var sg=YS.exports;const Bwe=Ni(sg);var gI=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},oz=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),az=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),uz=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),cz=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),lz=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),fz=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,hz=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,mI=3,dz=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",fz]],yI=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Fwe(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new lz:typeof navigator<"u"?gz(navigator.userAgent):yz()}function pz(t){return t!==""&&dz.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function gz(t){var e=pz(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new cz;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<mI&&(i=gI(gI([],i,!0),vz(mI-i.length),!0)):i=[];var s=i.join("."),o=mz(t),a=hz.exec(t);return a&&a[1]?new uz(n,s,o,a[1]):new oz(n,s,o)}function mz(t){for(var e=0,n=yI.length;e<n;e++){var r=yI[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function yz(){var t=typeof process<"u"&&process.version;return t?new az(process.version.slice(1)):null}function vz(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r3=function(t,e){return r3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},r3(t,e)};function wz(t,e){r3(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var i3=function(){return i3=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i3.apply(this,arguments)};function _z(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bz(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Ez(t,e){return function(n,r){e(n,r,t)}}function Az(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Sz(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(f){o(f)}}function u(l){try{c(r.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function Cz(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Iz(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function xz(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function s3(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $M(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Tz(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($M(arguments[e]));return t}function Rz(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function z0(t){return this instanceof z0?(this.v=t,this):new z0(t)}function kz(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(m){return new Promise(function(b,A){s.push([h,m,b,A])>1||a(h,m)})})}function a(h,m){try{u(r[h](m))}catch(b){f(s[0][3],b)}}function u(h){h.value instanceof z0?Promise.resolve(h.value.v).then(c,l):f(s[0][2],h)}function c(h){a("next",h)}function l(h){a("throw",h)}function f(h,m){h(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Pz(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:z0(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Mz(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof s3=="function"?s3(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Dz(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Oz(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Nz(t){return t&&t.__esModule?t:{default:t}}function Lz(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Bz(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Fz=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return i3},__asyncDelegator:Pz,__asyncGenerator:kz,__asyncValues:Mz,__await:z0,__awaiter:Sz,__classPrivateFieldGet:Lz,__classPrivateFieldSet:Bz,__createBinding:Iz,__decorate:bz,__exportStar:xz,__extends:wz,__generator:Cz,__importDefault:Nz,__importStar:Oz,__makeTemplateObject:Dz,__metadata:Az,__param:Ez,__read:$M,__rest:_z,__spread:Tz,__spreadArrays:Rz,__values:s3},Symbol.toStringTag,{value:"Module"})),$we=Ta(Fz);var $z={},Uz=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),UM="%[a-f0-9]{2}",vI=new RegExp("("+UM+")|([^%]+?)","gi"),wI=new RegExp("("+UM+")+","gi");function o3(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],o3(n),o3(r))}function jz(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(vI)||[],n=1;n<e.length;n++)t=o3(e,n).join(""),e=t.match(vI)||[];return t}}function Vz(t){for(var e={"%FE%FF":"","%FF%FE":""},n=wI.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{var r=jz(n[0]);r!==n[0]&&(e[n[0]]=r)}n=wI.exec(t)}e["%C2"]="";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}var zz=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return Vz(t)}},Hz=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const n=t.indexOf(e);return n===-1?[t]:[t.slice(0,n),t.slice(n+e.length)]},qz=function(t,e){for(var n={},r=Object.keys(t),i=Array.isArray(e),s=0;s<r.length;s++){var o=r[s],a=t[o];(i?e.indexOf(o)!==-1:e(o,a,t))&&(n[o]=a)}return n};(function(t){const e=Uz,n=zz,r=Hz,i=qz,s=w=>w==null,o=Symbol("encodeFragmentIdentifier");function a(w){switch(w.arrayFormat){case"index":return C=>(M,N)=>{const U=M.length;return N===void 0||w.skipNull&&N===null||w.skipEmptyString&&N===""?M:N===null?[...M,[l(C,w),"[",U,"]"].join("")]:[...M,[l(C,w),"[",l(U,w),"]=",l(N,w)].join("")]};case"bracket":return C=>(M,N)=>N===void 0||w.skipNull&&N===null||w.skipEmptyString&&N===""?M:N===null?[...M,[l(C,w),"[]"].join("")]:[...M,[l(C,w),"[]=",l(N,w)].join("")];case"colon-list-separator":return C=>(M,N)=>N===void 0||w.skipNull&&N===null||w.skipEmptyString&&N===""?M:N===null?[...M,[l(C,w),":list="].join("")]:[...M,[l(C,w),":list=",l(N,w)].join("")];case"comma":case"separator":case"bracket-separator":{const C=w.arrayFormat==="bracket-separator"?"[]=":"=";return M=>(N,U)=>U===void 0||w.skipNull&&U===null||w.skipEmptyString&&U===""?N:(U=U===null?"":U,N.length===0?[[l(M,w),C,l(U,w)].join("")]:[[N,l(U,w)].join(w.arrayFormatSeparator)])}default:return C=>(M,N)=>N===void 0||w.skipNull&&N===null||w.skipEmptyString&&N===""?M:N===null?[...M,l(C,w)]:[...M,[l(C,w),"=",l(N,w)].join("")]}}function u(w){let C;switch(w.arrayFormat){case"index":return(M,N,U)=>{if(C=/\[(\d*)\]$/.exec(M),M=M.replace(/\[\d*\]$/,""),!C){U[M]=N;return}U[M]===void 0&&(U[M]={}),U[M][C[1]]=N};case"bracket":return(M,N,U)=>{if(C=/(\[\])$/.exec(M),M=M.replace(/\[\]$/,""),!C){U[M]=N;return}if(U[M]===void 0){U[M]=[N];return}U[M]=[].concat(U[M],N)};case"colon-list-separator":return(M,N,U)=>{if(C=/(:list)$/.exec(M),M=M.replace(/:list$/,""),!C){U[M]=N;return}if(U[M]===void 0){U[M]=[N];return}U[M]=[].concat(U[M],N)};case"comma":case"separator":return(M,N,U)=>{const v=typeof N=="string"&&N.includes(w.arrayFormatSeparator),y=typeof N=="string"&&!v&&f(N,w).includes(w.arrayFormatSeparator);N=y?f(N,w):N;const S=v||y?N.split(w.arrayFormatSeparator).map(k=>f(k,w)):N===null?N:f(N,w);U[M]=S};case"bracket-separator":return(M,N,U)=>{const v=/(\[\])$/.test(M);if(M=M.replace(/\[\]$/,""),!v){U[M]=N&&f(N,w);return}const y=N===null?[]:N.split(w.arrayFormatSeparator).map(S=>f(S,w));if(U[M]===void 0){U[M]=y;return}U[M]=[].concat(U[M],y)};default:return(M,N,U)=>{if(U[M]===void 0){U[M]=N;return}U[M]=[].concat(U[M],N)}}}function c(w){if(typeof w!="string"||w.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function l(w,C){return C.encode?C.strict?e(w):encodeURIComponent(w):w}function f(w,C){return C.decode?n(w):w}function h(w){return Array.isArray(w)?w.sort():typeof w=="object"?h(Object.keys(w)).sort((C,M)=>Number(C)-Number(M)).map(C=>w[C]):w}function m(w){const C=w.indexOf("#");return C!==-1&&(w=w.slice(0,C)),w}function b(w){let C="";const M=w.indexOf("#");return M!==-1&&(C=w.slice(M)),C}function A(w){w=m(w);const C=w.indexOf("?");return C===-1?"":w.slice(C+1)}function T(w,C){return C.parseNumbers&&!Number.isNaN(Number(w))&&typeof w=="string"&&w.trim()!==""?w=Number(w):C.parseBooleans&&w!==null&&(w.toLowerCase()==="true"||w.toLowerCase()==="false")&&(w=w.toLowerCase()==="true"),w}function _(w,C){C=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},C),c(C.arrayFormatSeparator);const M=u(C),N=Object.create(null);if(typeof w!="string"||(w=w.trim().replace(/^[?#&]/,""),!w))return N;for(const U of w.split("&")){if(U==="")continue;let[v,y]=r(C.decode?U.replace(/\+/g," "):U,"=");y=y===void 0?null:["comma","separator","bracket-separator"].includes(C.arrayFormat)?y:f(y,C),M(f(v,C),y,N)}for(const U of Object.keys(N)){const v=N[U];if(typeof v=="object"&&v!==null)for(const y of Object.keys(v))v[y]=T(v[y],C);else N[U]=T(v,C)}return C.sort===!1?N:(C.sort===!0?Object.keys(N).sort():Object.keys(N).sort(C.sort)).reduce((U,v)=>{const y=N[v];return y&&typeof y=="object"&&!Array.isArray(y)?U[v]=h(y):U[v]=y,U},Object.create(null))}t.extract=A,t.parse=_,t.stringify=(w,C)=>{if(!w)return"";C=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},C),c(C.arrayFormatSeparator);const M=y=>C.skipNull&&s(w[y])||C.skipEmptyString&&w[y]==="",N=a(C),U={};for(const y of Object.keys(w))M(y)||(U[y]=w[y]);const v=Object.keys(U);return C.sort!==!1&&v.sort(C.sort),v.map(y=>{const S=w[y];return S===void 0?"":S===null?l(y,C):Array.isArray(S)?S.length===0&&C.arrayFormat==="bracket-separator"?l(y,C)+"[]":S.reduce(N(y),[]).join("&"):l(y,C)+"="+l(S,C)}).filter(y=>y.length>0).join("&")},t.parseUrl=(w,C)=>{C=Object.assign({decode:!0},C);const[M,N]=r(w,"#");return Object.assign({url:M.split("?")[0]||"",query:_(A(w),C)},C&&C.parseFragmentIdentifier&&N?{fragmentIdentifier:f(N,C)}:{})},t.stringifyUrl=(w,C)=>{C=Object.assign({encode:!0,strict:!0,[o]:!0},C);const M=m(w.url).split("?")[0]||"",N=t.extract(w.url),U=t.parse(N,{sort:!1}),v=Object.assign(U,w.query);let y=t.stringify(v,C);y&&(y=`?${y}`);let S=b(w.url);return w.fragmentIdentifier&&(S=`#${C[o]?l(w.fragmentIdentifier,C):w.fragmentIdentifier}`),`${M}${y}${S}`},t.pick=(w,C,M)=>{M=Object.assign({parseFragmentIdentifier:!0,[o]:!1},M);const{url:N,query:U,fragmentIdentifier:v}=t.parseUrl(w,M);return t.stringifyUrl({url:N,query:i(U,C),fragmentIdentifier:v},M)},t.exclude=(w,C,M)=>{const N=Array.isArray(C)?U=>!C.includes(U):(U,v)=>!C(U,v);return t.pick(w,N,M)}})($z);var Wz={},$v={},mt={},jM={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(a,u){var c=a>>>16&65535,l=a&65535,f=u>>>16&65535,h=u&65535;return l*h+(c*h+l*f<<16>>>0)|0}t.mul=Math.imul||e;function n(a,u){return a+u|0}t.add=n;function r(a,u){return a-u|0}t.sub=r;function i(a,u){return a<<u|a>>>32-u}t.rotl=i;function s(a,u){return a<<32-u|a>>>u}t.rotr=s;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}t.isInteger=Number.isInteger||o,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(a){return t.isInteger(a)&&a>=-t.MAX_SAFE_INTEGER&&a<=t.MAX_SAFE_INTEGER}})(jM);Object.defineProperty(mt,"__esModule",{value:!0});var VM=jM;function Gz(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}mt.readInt16BE=Gz;function Kz(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}mt.readUint16BE=Kz;function Qz(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}mt.readInt16LE=Qz;function Zz(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}mt.readUint16LE=Zz;function zM(t,e,n){return e===void 0&&(e=new Uint8Array(2)),n===void 0&&(n=0),e[n+0]=t>>>8,e[n+1]=t>>>0,e}mt.writeUint16BE=zM;mt.writeInt16BE=zM;function HM(t,e,n){return e===void 0&&(e=new Uint8Array(2)),n===void 0&&(n=0),e[n+0]=t>>>0,e[n+1]=t>>>8,e}mt.writeUint16LE=HM;mt.writeInt16LE=HM;function a3(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}mt.readInt32BE=a3;function u3(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}mt.readUint32BE=u3;function c3(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}mt.readInt32LE=c3;function l3(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}mt.readUint32LE=l3;function S1(t,e,n){return e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0),e[n+0]=t>>>24,e[n+1]=t>>>16,e[n+2]=t>>>8,e[n+3]=t>>>0,e}mt.writeUint32BE=S1;mt.writeInt32BE=S1;function C1(t,e,n){return e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0),e[n+0]=t>>>0,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24,e}mt.writeUint32LE=C1;mt.writeInt32LE=C1;function Jz(t,e){e===void 0&&(e=0);var n=a3(t,e),r=a3(t,e+4);return n*4294967296+r-(r>>31)*4294967296}mt.readInt64BE=Jz;function Yz(t,e){e===void 0&&(e=0);var n=u3(t,e),r=u3(t,e+4);return n*4294967296+r}mt.readUint64BE=Yz;function Xz(t,e){e===void 0&&(e=0);var n=c3(t,e),r=c3(t,e+4);return r*4294967296+n-(n>>31)*4294967296}mt.readInt64LE=Xz;function eH(t,e){e===void 0&&(e=0);var n=l3(t,e),r=l3(t,e+4);return r*4294967296+n}mt.readUint64LE=eH;function qM(t,e,n){return e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0),S1(t/4294967296>>>0,e,n),S1(t>>>0,e,n+4),e}mt.writeUint64BE=qM;mt.writeInt64BE=qM;function WM(t,e,n){return e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0),C1(t>>>0,e,n),C1(t/4294967296>>>0,e,n+4),e}mt.writeUint64LE=WM;mt.writeInt64LE=WM;function tH(t,e,n){if(n===void 0&&(n=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,i=1,s=t/8+n-1;s>=n;s--)r+=e[s]*i,i*=256;return r}mt.readUintBE=tH;function nH(t,e,n){if(n===void 0&&(n=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,i=1,s=n;s<n+t/8;s++)r+=e[s]*i,i*=256;return r}mt.readUintLE=nH;function rH(t,e,n,r){if(n===void 0&&(n=new Uint8Array(t/8)),r===void 0&&(r=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!VM.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+r-1;s>=r;s--)n[s]=e/i&255,i*=256;return n}mt.writeUintBE=rH;function iH(t,e,n,r){if(n===void 0&&(n=new Uint8Array(t/8)),r===void 0&&(r=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!VM.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=r;s<r+t/8;s++)n[s]=e/i&255,i*=256;return n}mt.writeUintLE=iH;function sH(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat32(e)}mt.readFloat32BE=sH;function oH(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat32(e,!0)}mt.readFloat32LE=oH;function aH(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat64(e)}mt.readFloat64BE=aH;function uH(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat64(e,!0)}mt.readFloat64LE=uH;function cH(t,e,n){e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat32(n,t),e}mt.writeFloat32BE=cH;function lH(t,e,n){e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat32(n,t,!0),e}mt.writeFloat32LE=lH;function fH(t,e,n){e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat64(n,t),e}mt.writeFloat64BE=fH;function hH(t,e,n){e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat64(n,t,!0),e}mt.writeFloat64LE=hH;var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});function dH(t){for(var e=0;e<t.length;e++)t[e]=0;return t}Fi.wipe=dH;Object.defineProperty($v,"__esModule",{value:!0});var Rr=mt,f3=Fi,pH=20;function gH(t,e,n){for(var r=1634760805,i=857760878,s=2036477234,o=1797285236,a=n[3]<<24|n[2]<<16|n[1]<<8|n[0],u=n[7]<<24|n[6]<<16|n[5]<<8|n[4],c=n[11]<<24|n[10]<<16|n[9]<<8|n[8],l=n[15]<<24|n[14]<<16|n[13]<<8|n[12],f=n[19]<<24|n[18]<<16|n[17]<<8|n[16],h=n[23]<<24|n[22]<<16|n[21]<<8|n[20],m=n[27]<<24|n[26]<<16|n[25]<<8|n[24],b=n[31]<<24|n[30]<<16|n[29]<<8|n[28],A=e[3]<<24|e[2]<<16|e[1]<<8|e[0],T=e[7]<<24|e[6]<<16|e[5]<<8|e[4],_=e[11]<<24|e[10]<<16|e[9]<<8|e[8],w=e[15]<<24|e[14]<<16|e[13]<<8|e[12],C=r,M=i,N=s,U=o,v=a,y=u,S=c,k=l,L=f,z=h,x=m,g=b,d=A,E=T,P=_,I=w,F=0;F<pH;F+=2)C=C+v|0,d^=C,d=d>>>16|d<<16,L=L+d|0,v^=L,v=v>>>20|v<<12,M=M+y|0,E^=M,E=E>>>16|E<<16,z=z+E|0,y^=z,y=y>>>20|y<<12,N=N+S|0,P^=N,P=P>>>16|P<<16,x=x+P|0,S^=x,S=S>>>20|S<<12,U=U+k|0,I^=U,I=I>>>16|I<<16,g=g+I|0,k^=g,k=k>>>20|k<<12,N=N+S|0,P^=N,P=P>>>24|P<<8,x=x+P|0,S^=x,S=S>>>25|S<<7,U=U+k|0,I^=U,I=I>>>24|I<<8,g=g+I|0,k^=g,k=k>>>25|k<<7,M=M+y|0,E^=M,E=E>>>24|E<<8,z=z+E|0,y^=z,y=y>>>25|y<<7,C=C+v|0,d^=C,d=d>>>24|d<<8,L=L+d|0,v^=L,v=v>>>25|v<<7,C=C+y|0,I^=C,I=I>>>16|I<<16,x=x+I|0,y^=x,y=y>>>20|y<<12,M=M+S|0,d^=M,d=d>>>16|d<<16,g=g+d|0,S^=g,S=S>>>20|S<<12,N=N+k|0,E^=N,E=E>>>16|E<<16,L=L+E|0,k^=L,k=k>>>20|k<<12,U=U+v|0,P^=U,P=P>>>16|P<<16,z=z+P|0,v^=z,v=v>>>20|v<<12,N=N+k|0,E^=N,E=E>>>24|E<<8,L=L+E|0,k^=L,k=k>>>25|k<<7,U=U+v|0,P^=U,P=P>>>24|P<<8,z=z+P|0,v^=z,v=v>>>25|v<<7,M=M+S|0,d^=M,d=d>>>24|d<<8,g=g+d|0,S^=g,S=S>>>25|S<<7,C=C+y|0,I^=C,I=I>>>24|I<<8,x=x+I|0,y^=x,y=y>>>25|y<<7;Rr.writeUint32LE(C+r|0,t,0),Rr.writeUint32LE(M+i|0,t,4),Rr.writeUint32LE(N+s|0,t,8),Rr.writeUint32LE(U+o|0,t,12),Rr.writeUint32LE(v+a|0,t,16),Rr.writeUint32LE(y+u|0,t,20),Rr.writeUint32LE(S+c|0,t,24),Rr.writeUint32LE(k+l|0,t,28),Rr.writeUint32LE(L+f|0,t,32),Rr.writeUint32LE(z+h|0,t,36),Rr.writeUint32LE(x+m|0,t,40),Rr.writeUint32LE(g+b|0,t,44),Rr.writeUint32LE(d+A|0,t,48),Rr.writeUint32LE(E+T|0,t,52),Rr.writeUint32LE(P+_|0,t,56),Rr.writeUint32LE(I+w|0,t,60)}function GM(t,e,n,r,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(r.length<n.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=i}for(var a=new Uint8Array(64),u=0;u<n.length;u+=64){gH(a,s,t);for(var c=u;c<u+64&&c<n.length;c++)r[c]=n[c]^a[c-u];yH(s,0,o)}return f3.wipe(a),i===0&&f3.wipe(s),r}$v.streamXOR=GM;function mH(t,e,n,r){return r===void 0&&(r=0),f3.wipe(n),GM(t,e,n,n,r)}$v.stream=mH;function yH(t,e,n){for(var r=1;n--;)r=r+(t[e]&255)|0,t[e]=r&255,r>>>=8,e++;if(r>0)throw new Error("ChaCha: counter overflow")}var KM={},ju={};Object.defineProperty(ju,"__esModule",{value:!0});function vH(t,e,n){return~(t-1)&e|t-1&n}ju.select=vH;function wH(t,e){return(t|0)-(e|0)-1>>>31&1}ju.lessOrEqual=wH;function QM(t,e){if(t.length!==e.length)return 0;for(var n=0,r=0;r<t.length;r++)n|=t[r]^e[r];return 1&n-1>>>8}ju.compare=QM;function _H(t,e){return t.length===0||e.length===0?!1:QM(t,e)!==0}ju.equal=_H;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ju,n=Fi;t.DIGEST_LENGTH=16;var r=function(){function o(a){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var u=a[0]|a[1]<<8;this._r[0]=u&8191;var c=a[2]|a[3]<<8;this._r[1]=(u>>>13|c<<3)&8191;var l=a[4]|a[5]<<8;this._r[2]=(c>>>10|l<<6)&7939;var f=a[6]|a[7]<<8;this._r[3]=(l>>>7|f<<9)&8191;var h=a[8]|a[9]<<8;this._r[4]=(f>>>4|h<<12)&255,this._r[5]=h>>>1&8190;var m=a[10]|a[11]<<8;this._r[6]=(h>>>14|m<<2)&8191;var b=a[12]|a[13]<<8;this._r[7]=(m>>>11|b<<5)&8065;var A=a[14]|a[15]<<8;this._r[8]=(b>>>8|A<<8)&8191,this._r[9]=A>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return o.prototype._blocks=function(a,u,c){for(var l=this._fin?0:2048,f=this._h[0],h=this._h[1],m=this._h[2],b=this._h[3],A=this._h[4],T=this._h[5],_=this._h[6],w=this._h[7],C=this._h[8],M=this._h[9],N=this._r[0],U=this._r[1],v=this._r[2],y=this._r[3],S=this._r[4],k=this._r[5],L=this._r[6],z=this._r[7],x=this._r[8],g=this._r[9];c>=16;){var d=a[u+0]|a[u+1]<<8;f+=d&8191;var E=a[u+2]|a[u+3]<<8;h+=(d>>>13|E<<3)&8191;var P=a[u+4]|a[u+5]<<8;m+=(E>>>10|P<<6)&8191;var I=a[u+6]|a[u+7]<<8;b+=(P>>>7|I<<9)&8191;var F=a[u+8]|a[u+9]<<8;A+=(I>>>4|F<<12)&8191,T+=F>>>1&8191;var H=a[u+10]|a[u+11]<<8;_+=(F>>>14|H<<2)&8191;var V=a[u+12]|a[u+13]<<8;w+=(H>>>11|V<<5)&8191;var R=a[u+14]|a[u+15]<<8;C+=(V>>>8|R<<8)&8191,M+=R>>>5|l;var W=0,ae=W;ae+=f*N,ae+=h*(5*g),ae+=m*(5*x),ae+=b*(5*z),ae+=A*(5*L),W=ae>>>13,ae&=8191,ae+=T*(5*k),ae+=_*(5*S),ae+=w*(5*y),ae+=C*(5*v),ae+=M*(5*U),W+=ae>>>13,ae&=8191;var re=W;re+=f*U,re+=h*N,re+=m*(5*g),re+=b*(5*x),re+=A*(5*z),W=re>>>13,re&=8191,re+=T*(5*L),re+=_*(5*k),re+=w*(5*S),re+=C*(5*y),re+=M*(5*v),W+=re>>>13,re&=8191;var X=W;X+=f*v,X+=h*U,X+=m*N,X+=b*(5*g),X+=A*(5*x),W=X>>>13,X&=8191,X+=T*(5*z),X+=_*(5*L),X+=w*(5*k),X+=C*(5*S),X+=M*(5*y),W+=X>>>13,X&=8191;var Q=W;Q+=f*y,Q+=h*v,Q+=m*U,Q+=b*N,Q+=A*(5*g),W=Q>>>13,Q&=8191,Q+=T*(5*x),Q+=_*(5*z),Q+=w*(5*L),Q+=C*(5*k),Q+=M*(5*S),W+=Q>>>13,Q&=8191;var Y=W;Y+=f*S,Y+=h*y,Y+=m*v,Y+=b*U,Y+=A*N,W=Y>>>13,Y&=8191,Y+=T*(5*g),Y+=_*(5*x),Y+=w*(5*z),Y+=C*(5*L),Y+=M*(5*k),W+=Y>>>13,Y&=8191;var ee=W;ee+=f*k,ee+=h*S,ee+=m*y,ee+=b*v,ee+=A*U,W=ee>>>13,ee&=8191,ee+=T*N,ee+=_*(5*g),ee+=w*(5*x),ee+=C*(5*z),ee+=M*(5*L),W+=ee>>>13,ee&=8191;var B=W;B+=f*L,B+=h*k,B+=m*S,B+=b*y,B+=A*v,W=B>>>13,B&=8191,B+=T*U,B+=_*N,B+=w*(5*g),B+=C*(5*x),B+=M*(5*z),W+=B>>>13,B&=8191;var j=W;j+=f*z,j+=h*L,j+=m*k,j+=b*S,j+=A*y,W=j>>>13,j&=8191,j+=T*v,j+=_*U,j+=w*N,j+=C*(5*g),j+=M*(5*x),W+=j>>>13,j&=8191;var K=W;K+=f*x,K+=h*z,K+=m*L,K+=b*k,K+=A*S,W=K>>>13,K&=8191,K+=T*y,K+=_*v,K+=w*U,K+=C*N,K+=M*(5*g),W+=K>>>13,K&=8191;var ie=W;ie+=f*g,ie+=h*x,ie+=m*z,ie+=b*L,ie+=A*k,W=ie>>>13,ie&=8191,ie+=T*S,ie+=_*y,ie+=w*v,ie+=C*U,ie+=M*N,W+=ie>>>13,ie&=8191,W=(W<<2)+W|0,W=W+ae|0,ae=W&8191,W=W>>>13,re+=W,f=ae,h=re,m=X,b=Q,A=Y,T=ee,_=B,w=j,C=K,M=ie,u+=16,c-=16}this._h[0]=f,this._h[1]=h,this._h[2]=m,this._h[3]=b,this._h[4]=A,this._h[5]=T,this._h[6]=_,this._h[7]=w,this._h[8]=C,this._h[9]=M},o.prototype.finish=function(a,u){u===void 0&&(u=0);var c=new Uint16Array(10),l,f,h,m;if(this._leftover){for(m=this._leftover,this._buffer[m++]=1;m<16;m++)this._buffer[m]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(l=this._h[1]>>>13,this._h[1]&=8191,m=2;m<10;m++)this._h[m]+=l,l=this._h[m]>>>13,this._h[m]&=8191;for(this._h[0]+=l*5,l=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=l,l=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=l,c[0]=this._h[0]+5,l=c[0]>>>13,c[0]&=8191,m=1;m<10;m++)c[m]=this._h[m]+l,l=c[m]>>>13,c[m]&=8191;for(c[9]-=8192,f=(l^1)-1,m=0;m<10;m++)c[m]&=f;for(f=~f,m=0;m<10;m++)this._h[m]=this._h[m]&f|c[m];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,h=this._h[0]+this._pad[0],this._h[0]=h&65535,m=1;m<8;m++)h=(this._h[m]+this._pad[m]|0)+(h>>>16)|0,this._h[m]=h&65535;return a[u+0]=this._h[0]>>>0,a[u+1]=this._h[0]>>>8,a[u+2]=this._h[1]>>>0,a[u+3]=this._h[1]>>>8,a[u+4]=this._h[2]>>>0,a[u+5]=this._h[2]>>>8,a[u+6]=this._h[3]>>>0,a[u+7]=this._h[3]>>>8,a[u+8]=this._h[4]>>>0,a[u+9]=this._h[4]>>>8,a[u+10]=this._h[5]>>>0,a[u+11]=this._h[5]>>>8,a[u+12]=this._h[6]>>>0,a[u+13]=this._h[6]>>>8,a[u+14]=this._h[7]>>>0,a[u+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(a){var u=0,c=a.length,l;if(this._leftover){l=16-this._leftover,l>c&&(l=c);for(var f=0;f<l;f++)this._buffer[this._leftover+f]=a[u+f];if(c-=l,u+=l,this._leftover+=l,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(c>=16&&(l=c-c%16,this._blocks(a,u,l),u+=l,c-=l),c){for(var f=0;f<c;f++)this._buffer[this._leftover+f]=a[u+f];this._leftover+=c}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},o.prototype.clean=function(){return n.wipe(this._buffer),n.wipe(this._r),n.wipe(this._h),n.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o}();t.Poly1305=r;function i(o,a){var u=new r(o);u.update(a);var c=u.digest();return u.clean(),c}t.oneTimeAuth=i;function s(o,a){return o.length!==t.DIGEST_LENGTH||a.length!==t.DIGEST_LENGTH?!1:e.equal(o,a)}t.equal=s})(KM);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=$v,n=KM,r=Fi,i=mt,s=ju;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var o=new Uint8Array(16),a=function(){function u(c){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,c.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(c)}return u.prototype.seal=function(c,l,f,h){if(c.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var m=new Uint8Array(16);m.set(c,m.length-c.length);var b=new Uint8Array(32);e.stream(this._key,m,b,4);var A=l.length+this.tagLength,T;if(h){if(h.length!==A)throw new Error("ChaCha20Poly1305: incorrect destination length");T=h}else T=new Uint8Array(A);return e.streamXOR(this._key,m,l,T,4),this._authenticate(T.subarray(T.length-this.tagLength,T.length),b,T.subarray(0,T.length-this.tagLength),f),r.wipe(m),T},u.prototype.open=function(c,l,f,h){if(c.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(l.length<this.tagLength)return null;var m=new Uint8Array(16);m.set(c,m.length-c.length);var b=new Uint8Array(32);e.stream(this._key,m,b,4);var A=new Uint8Array(this.tagLength);if(this._authenticate(A,b,l.subarray(0,l.length-this.tagLength),f),!s.equal(A,l.subarray(l.length-this.tagLength,l.length)))return null;var T=l.length-this.tagLength,_;if(h){if(h.length!==T)throw new Error("ChaCha20Poly1305: incorrect destination length");_=h}else _=new Uint8Array(T);return e.streamXOR(this._key,m,l.subarray(0,l.length-this.tagLength),_,4),r.wipe(m),_},u.prototype.clean=function(){return r.wipe(this._key),this},u.prototype._authenticate=function(c,l,f,h){var m=new n.Poly1305(l);h&&(m.update(h),h.length%16>0&&m.update(o.subarray(h.length%16))),m.update(f),f.length%16>0&&m.update(o.subarray(f.length%16));var b=new Uint8Array(8);h&&i.writeUint64LE(h.length,b),m.update(b),i.writeUint64LE(f.length,b),m.update(b);for(var A=m.digest(),T=0;T<A.length;T++)c[T]=A[T];m.clean(),r.wipe(A),r.wipe(b)},u}();t.ChaCha20Poly1305=a})(Wz);var ZM={},og={},XS={};Object.defineProperty(XS,"__esModule",{value:!0});function bH(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}XS.isSerializableHash=bH;Object.defineProperty(og,"__esModule",{value:!0});var ro=XS,EH=ju,AH=Fi,JM=function(){function t(e,n){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);n.length>this.blockSize?this._inner.update(n).finish(r).clean():r.set(n);for(var i=0;i<r.length;i++)r[i]^=54;this._inner.update(r);for(var i=0;i<r.length;i++)r[i]^=106;this._outer.update(r),ro.isSerializableHash(this._inner)&&ro.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),AH.wipe(r)}return t.prototype.reset=function(){if(!ro.isSerializableHash(this._inner)||!ro.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){ro.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),ro.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!ro.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!ro.isSerializableHash(this._inner)||!ro.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!ro.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();og.HMAC=JM;function SH(t,e,n){var r=new JM(t,e);r.update(n);var i=r.digest();return r.clean(),i}og.hmac=SH;og.equal=EH.equal;Object.defineProperty(ZM,"__esModule",{value:!0});var _I=og,bI=Fi,CH=function(){function t(e,n,r,i){r===void 0&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=_I.hmac(this._hash,r,n);this._hmac=new _I.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var n=new Uint8Array(e),r=0;r<n.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),n[r]=this._buffer[this._bufpos++];return n},t.prototype.clean=function(){this._hmac.clean(),bI.wipe(this._buffer),bI.wipe(this._counter),this._bufpos=0},t}(),Uwe=ZM.HKDF=CH,e6={},Uv={},jv={};Object.defineProperty(jv,"__esModule",{value:!0});jv.BrowserRandomSource=void 0;const EI=65536;class IH{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const n=new Uint8Array(e);for(let r=0;r<n.length;r+=EI)this._crypto.getRandomValues(n.subarray(r,r+Math.min(n.length-r,EI)));return n}}jv.BrowserRandomSource=IH;function xH(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Vv={};const TH={},RH=Object.freeze(Object.defineProperty({__proto__:null,default:TH},Symbol.toStringTag,{value:"Module"})),zv=Ta(RH);Object.defineProperty(Vv,"__esModule",{value:!0});Vv.NodeRandomSource=void 0;const kH=Fi;class PH{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof xH<"u"){const e=zv;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let n=this._crypto.randomBytes(e);if(n.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(e);for(let i=0;i<r.length;i++)r[i]=n[i];return(0,kH.wipe)(n),r}}Vv.NodeRandomSource=PH;Object.defineProperty(Uv,"__esModule",{value:!0});Uv.SystemRandomSource=void 0;const MH=jv,DH=Vv;class OH{constructor(){if(this.isAvailable=!1,this.name="",this._source=new MH.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new DH.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}Uv.SystemRandomSource=OH;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=Uv,n=mt,r=Fi;t.defaultRandomSource=new e.SystemRandomSource;function i(c,l=t.defaultRandomSource){return l.randomBytes(c)}t.randomBytes=i;function s(c=t.defaultRandomSource){const l=i(4,c),f=(0,n.readUint32LE)(l);return(0,r.wipe)(l),f}t.randomUint32=s;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(c,l=o,f=t.defaultRandomSource){if(l.length<2)throw new Error("randomString charset is too short");if(l.length>256)throw new Error("randomString charset is too long");let h="";const m=l.length,b=256-256%m;for(;c>0;){const A=i(Math.ceil(c*256/b),f);for(let T=0;T<A.length&&c>0;T++){const _=A[T];_<b&&(h+=l.charAt(_%m),c--)}(0,r.wipe)(A)}return h}t.randomString=a;function u(c,l=o,f=t.defaultRandomSource){const h=Math.ceil(c/(Math.log(l.length)/Math.LN2));return a(h,l,f)}t.randomStringForEntropy=u})(e6);var NH={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=mt,n=Fi;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var r=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._temp),this.reset()},a.prototype.update=function(u,c){if(c===void 0&&(c=u.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var l=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&c>0;)this._buffer[this._bufferLength++]=u[l++],c--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(l=s(this._temp,this._state,u,l,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=u[l++],c--;return this},a.prototype.finish=function(u){if(!this._finished){var c=this._bytesHashed,l=this._bufferLength,f=c/536870912|0,h=c<<3,m=c%64<56?64:128;this._buffer[l]=128;for(var b=l+1;b<m-8;b++)this._buffer[b]=0;e.writeUint32BE(f,this._buffer,m-8),e.writeUint32BE(h,this._buffer,m-4),s(this._temp,this._state,this._buffer,0,m),this._finished=!0}for(var b=0;b<this.digestLength/4;b++)e.writeUint32BE(this._state[b],u,b*4);return this},a.prototype.digest=function(){var u=new Uint8Array(this.digestLength);return this.finish(u),u},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(u){return this._state.set(u.state),this._bufferLength=u.bufferLength,u.buffer&&this._buffer.set(u.buffer),this._bytesHashed=u.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(u){n.wipe(u.state),u.buffer&&n.wipe(u.buffer),u.bufferLength=0,u.bytesHashed=0},a}();t.SHA256=r;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(a,u,c,l,f){for(;f>=64;){for(var h=u[0],m=u[1],b=u[2],A=u[3],T=u[4],_=u[5],w=u[6],C=u[7],M=0;M<16;M++){var N=l+M*4;a[M]=e.readUint32BE(c,N)}for(var M=16;M<64;M++){var U=a[M-2],v=(U>>>17|U<<15)^(U>>>19|U<<13)^U>>>10;U=a[M-15];var y=(U>>>7|U<<25)^(U>>>18|U<<14)^U>>>3;a[M]=(v+a[M-7]|0)+(y+a[M-16]|0)}for(var M=0;M<64;M++){var v=(((T>>>6|T<<26)^(T>>>11|T<<21)^(T>>>25|T<<7))+(T&_^~T&w)|0)+(C+(i[M]+a[M]|0)|0)|0,y=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&m^h&b^m&b)|0;C=w,w=_,_=T,T=A+v|0,A=b,b=m,m=h,h=v+y|0}u[0]+=h,u[1]+=m,u[2]+=b,u[3]+=A,u[4]+=T,u[5]+=_,u[6]+=w,u[7]+=C,l+=64,f-=64}return l}function o(a){var u=new r;u.update(a);var c=u.digest();return u.clean(),c}t.hash=o})(NH);var LH={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const e=e6,n=Fi;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function r(M){const N=new Float64Array(16);if(M)for(let U=0;U<M.length;U++)N[U]=M[U];return N}const i=new Uint8Array(32);i[0]=9;const s=r([56129,1]);function o(M){let N=1;for(let U=0;U<16;U++){let v=M[U]+N+65535;N=Math.floor(v/65536),M[U]=v-N*65536}M[0]+=N-1+37*(N-1)}function a(M,N,U){const v=~(U-1);for(let y=0;y<16;y++){const S=v&(M[y]^N[y]);M[y]^=S,N[y]^=S}}function u(M,N){const U=r(),v=r();for(let y=0;y<16;y++)v[y]=N[y];o(v),o(v),o(v);for(let y=0;y<2;y++){U[0]=v[0]-65517;for(let k=1;k<15;k++)U[k]=v[k]-65535-(U[k-1]>>16&1),U[k-1]&=65535;U[15]=v[15]-32767-(U[14]>>16&1);const S=U[15]>>16&1;U[14]&=65535,a(v,U,1-S)}for(let y=0;y<16;y++)M[2*y]=v[y]&255,M[2*y+1]=v[y]>>8}function c(M,N){for(let U=0;U<16;U++)M[U]=N[2*U]+(N[2*U+1]<<8);M[15]&=32767}function l(M,N,U){for(let v=0;v<16;v++)M[v]=N[v]+U[v]}function f(M,N,U){for(let v=0;v<16;v++)M[v]=N[v]-U[v]}function h(M,N,U){let v,y,S=0,k=0,L=0,z=0,x=0,g=0,d=0,E=0,P=0,I=0,F=0,H=0,V=0,R=0,W=0,ae=0,re=0,X=0,Q=0,Y=0,ee=0,B=0,j=0,K=0,ie=0,fe=0,pe=0,Ee=0,_e=0,qe=0,Et=0,De=U[0],ke=U[1],He=U[2],Te=U[3],Re=U[4],Ve=U[5],we=U[6],G=U[7],D=U[8],$=U[9],Z=U[10],ne=U[11],se=U[12],ce=U[13],Ie=U[14],Ae=U[15];v=N[0],S+=v*De,k+=v*ke,L+=v*He,z+=v*Te,x+=v*Re,g+=v*Ve,d+=v*we,E+=v*G,P+=v*D,I+=v*$,F+=v*Z,H+=v*ne,V+=v*se,R+=v*ce,W+=v*Ie,ae+=v*Ae,v=N[1],k+=v*De,L+=v*ke,z+=v*He,x+=v*Te,g+=v*Re,d+=v*Ve,E+=v*we,P+=v*G,I+=v*D,F+=v*$,H+=v*Z,V+=v*ne,R+=v*se,W+=v*ce,ae+=v*Ie,re+=v*Ae,v=N[2],L+=v*De,z+=v*ke,x+=v*He,g+=v*Te,d+=v*Re,E+=v*Ve,P+=v*we,I+=v*G,F+=v*D,H+=v*$,V+=v*Z,R+=v*ne,W+=v*se,ae+=v*ce,re+=v*Ie,X+=v*Ae,v=N[3],z+=v*De,x+=v*ke,g+=v*He,d+=v*Te,E+=v*Re,P+=v*Ve,I+=v*we,F+=v*G,H+=v*D,V+=v*$,R+=v*Z,W+=v*ne,ae+=v*se,re+=v*ce,X+=v*Ie,Q+=v*Ae,v=N[4],x+=v*De,g+=v*ke,d+=v*He,E+=v*Te,P+=v*Re,I+=v*Ve,F+=v*we,H+=v*G,V+=v*D,R+=v*$,W+=v*Z,ae+=v*ne,re+=v*se,X+=v*ce,Q+=v*Ie,Y+=v*Ae,v=N[5],g+=v*De,d+=v*ke,E+=v*He,P+=v*Te,I+=v*Re,F+=v*Ve,H+=v*we,V+=v*G,R+=v*D,W+=v*$,ae+=v*Z,re+=v*ne,X+=v*se,Q+=v*ce,Y+=v*Ie,ee+=v*Ae,v=N[6],d+=v*De,E+=v*ke,P+=v*He,I+=v*Te,F+=v*Re,H+=v*Ve,V+=v*we,R+=v*G,W+=v*D,ae+=v*$,re+=v*Z,X+=v*ne,Q+=v*se,Y+=v*ce,ee+=v*Ie,B+=v*Ae,v=N[7],E+=v*De,P+=v*ke,I+=v*He,F+=v*Te,H+=v*Re,V+=v*Ve,R+=v*we,W+=v*G,ae+=v*D,re+=v*$,X+=v*Z,Q+=v*ne,Y+=v*se,ee+=v*ce,B+=v*Ie,j+=v*Ae,v=N[8],P+=v*De,I+=v*ke,F+=v*He,H+=v*Te,V+=v*Re,R+=v*Ve,W+=v*we,ae+=v*G,re+=v*D,X+=v*$,Q+=v*Z,Y+=v*ne,ee+=v*se,B+=v*ce,j+=v*Ie,K+=v*Ae,v=N[9],I+=v*De,F+=v*ke,H+=v*He,V+=v*Te,R+=v*Re,W+=v*Ve,ae+=v*we,re+=v*G,X+=v*D,Q+=v*$,Y+=v*Z,ee+=v*ne,B+=v*se,j+=v*ce,K+=v*Ie,ie+=v*Ae,v=N[10],F+=v*De,H+=v*ke,V+=v*He,R+=v*Te,W+=v*Re,ae+=v*Ve,re+=v*we,X+=v*G,Q+=v*D,Y+=v*$,ee+=v*Z,B+=v*ne,j+=v*se,K+=v*ce,ie+=v*Ie,fe+=v*Ae,v=N[11],H+=v*De,V+=v*ke,R+=v*He,W+=v*Te,ae+=v*Re,re+=v*Ve,X+=v*we,Q+=v*G,Y+=v*D,ee+=v*$,B+=v*Z,j+=v*ne,K+=v*se,ie+=v*ce,fe+=v*Ie,pe+=v*Ae,v=N[12],V+=v*De,R+=v*ke,W+=v*He,ae+=v*Te,re+=v*Re,X+=v*Ve,Q+=v*we,Y+=v*G,ee+=v*D,B+=v*$,j+=v*Z,K+=v*ne,ie+=v*se,fe+=v*ce,pe+=v*Ie,Ee+=v*Ae,v=N[13],R+=v*De,W+=v*ke,ae+=v*He,re+=v*Te,X+=v*Re,Q+=v*Ve,Y+=v*we,ee+=v*G,B+=v*D,j+=v*$,K+=v*Z,ie+=v*ne,fe+=v*se,pe+=v*ce,Ee+=v*Ie,_e+=v*Ae,v=N[14],W+=v*De,ae+=v*ke,re+=v*He,X+=v*Te,Q+=v*Re,Y+=v*Ve,ee+=v*we,B+=v*G,j+=v*D,K+=v*$,ie+=v*Z,fe+=v*ne,pe+=v*se,Ee+=v*ce,_e+=v*Ie,qe+=v*Ae,v=N[15],ae+=v*De,re+=v*ke,X+=v*He,Q+=v*Te,Y+=v*Re,ee+=v*Ve,B+=v*we,j+=v*G,K+=v*D,ie+=v*$,fe+=v*Z,pe+=v*ne,Ee+=v*se,_e+=v*ce,qe+=v*Ie,Et+=v*Ae,S+=38*re,k+=38*X,L+=38*Q,z+=38*Y,x+=38*ee,g+=38*B,d+=38*j,E+=38*K,P+=38*ie,I+=38*fe,F+=38*pe,H+=38*Ee,V+=38*_e,R+=38*qe,W+=38*Et,y=1,v=S+y+65535,y=Math.floor(v/65536),S=v-y*65536,v=k+y+65535,y=Math.floor(v/65536),k=v-y*65536,v=L+y+65535,y=Math.floor(v/65536),L=v-y*65536,v=z+y+65535,y=Math.floor(v/65536),z=v-y*65536,v=x+y+65535,y=Math.floor(v/65536),x=v-y*65536,v=g+y+65535,y=Math.floor(v/65536),g=v-y*65536,v=d+y+65535,y=Math.floor(v/65536),d=v-y*65536,v=E+y+65535,y=Math.floor(v/65536),E=v-y*65536,v=P+y+65535,y=Math.floor(v/65536),P=v-y*65536,v=I+y+65535,y=Math.floor(v/65536),I=v-y*65536,v=F+y+65535,y=Math.floor(v/65536),F=v-y*65536,v=H+y+65535,y=Math.floor(v/65536),H=v-y*65536,v=V+y+65535,y=Math.floor(v/65536),V=v-y*65536,v=R+y+65535,y=Math.floor(v/65536),R=v-y*65536,v=W+y+65535,y=Math.floor(v/65536),W=v-y*65536,v=ae+y+65535,y=Math.floor(v/65536),ae=v-y*65536,S+=y-1+37*(y-1),y=1,v=S+y+65535,y=Math.floor(v/65536),S=v-y*65536,v=k+y+65535,y=Math.floor(v/65536),k=v-y*65536,v=L+y+65535,y=Math.floor(v/65536),L=v-y*65536,v=z+y+65535,y=Math.floor(v/65536),z=v-y*65536,v=x+y+65535,y=Math.floor(v/65536),x=v-y*65536,v=g+y+65535,y=Math.floor(v/65536),g=v-y*65536,v=d+y+65535,y=Math.floor(v/65536),d=v-y*65536,v=E+y+65535,y=Math.floor(v/65536),E=v-y*65536,v=P+y+65535,y=Math.floor(v/65536),P=v-y*65536,v=I+y+65535,y=Math.floor(v/65536),I=v-y*65536,v=F+y+65535,y=Math.floor(v/65536),F=v-y*65536,v=H+y+65535,y=Math.floor(v/65536),H=v-y*65536,v=V+y+65535,y=Math.floor(v/65536),V=v-y*65536,v=R+y+65535,y=Math.floor(v/65536),R=v-y*65536,v=W+y+65535,y=Math.floor(v/65536),W=v-y*65536,v=ae+y+65535,y=Math.floor(v/65536),ae=v-y*65536,S+=y-1+37*(y-1),M[0]=S,M[1]=k,M[2]=L,M[3]=z,M[4]=x,M[5]=g,M[6]=d,M[7]=E,M[8]=P,M[9]=I,M[10]=F,M[11]=H,M[12]=V,M[13]=R,M[14]=W,M[15]=ae}function m(M,N){h(M,N,N)}function b(M,N){const U=r();for(let v=0;v<16;v++)U[v]=N[v];for(let v=253;v>=0;v--)m(U,U),v!==2&&v!==4&&h(U,U,N);for(let v=0;v<16;v++)M[v]=U[v]}function A(M,N){const U=new Uint8Array(32),v=new Float64Array(80),y=r(),S=r(),k=r(),L=r(),z=r(),x=r();for(let P=0;P<31;P++)U[P]=M[P];U[31]=M[31]&127|64,U[0]&=248,c(v,N);for(let P=0;P<16;P++)S[P]=v[P];y[0]=L[0]=1;for(let P=254;P>=0;--P){const I=U[P>>>3]>>>(P&7)&1;a(y,S,I),a(k,L,I),l(z,y,k),f(y,y,k),l(k,S,L),f(S,S,L),m(L,z),m(x,y),h(y,k,y),h(k,S,z),l(z,y,k),f(y,y,k),m(S,y),f(k,L,x),h(y,k,s),l(y,y,L),h(k,k,y),h(y,L,x),h(L,S,v),m(S,z),a(y,S,I),a(k,L,I)}for(let P=0;P<16;P++)v[P+16]=y[P],v[P+32]=k[P],v[P+48]=S[P],v[P+64]=L[P];const g=v.subarray(32),d=v.subarray(16);b(g,g),h(d,d,g);const E=new Uint8Array(32);return u(E,d),E}t.scalarMult=A;function T(M){return A(M,i)}t.scalarMultBase=T;function _(M){if(M.length!==t.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`);const N=new Uint8Array(M);return{publicKey:T(N),secretKey:N}}t.generateKeyPairFromSeed=_;function w(M){const N=(0,e.randomBytes)(32,M),U=_(N);return(0,n.wipe)(N),U}t.generateKeyPair=w;function C(M,N,U=!1){if(M.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(N.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const v=A(M,N);if(U){let y=0;for(let S=0;S<v.length;S++)y|=v[S];if(y===0)throw new Error("X25519: invalid shared key")}return v}t.sharedKey=C})(LH);function YM(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function jwe(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=YM(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function BH(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var A=0,T=0,_=0,w=b.length;_!==w&&b[_]===0;)_++,A++;for(var C=(w-_)*l+1>>>0,M=new Uint8Array(C);_!==w;){for(var N=b[_],U=0,v=C-1;(N!==0||U<T)&&v!==-1;v--,U++)N+=256*M[v]>>>0,M[v]=N%a>>>0,N=N/a>>>0;if(N!==0)throw new Error("Non-zero carry");T=U,_++}for(var y=C-T;y!==C&&M[y]===0;)y++;for(var S=u.repeat(A);y<C;++y)S+=t.charAt(M[y]);return S}function h(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var A=0;if(b[A]!==" "){for(var T=0,_=0;b[A]===u;)T++,A++;for(var w=(b.length-A)*c+1>>>0,C=new Uint8Array(w);b[A];){var M=n[b.charCodeAt(A)];if(M===255)return;for(var N=0,U=w-1;(M!==0||N<_)&&U!==-1;U--,N++)M+=a*C[U]>>>0,C[U]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");_=N,A++}if(b[A]!==" "){for(var v=w-_;v!==w&&C[v]===0;)v++;for(var y=new Uint8Array(T+(w-v)),S=T;v!==w;)y[S++]=C[v++];return y}}}function m(b){var A=h(b);if(A)return A;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:m}}var FH=BH,$H=FH;const UH=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},jH=t=>new TextEncoder().encode(t),VH=t=>new TextDecoder().decode(t);class zH{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class HH{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return XM(this,e)}}class qH{constructor(e){this.decoders=e}or(e){return XM(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const XM=(t,e)=>new qH({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class WH{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new zH(e,n,r),this.decoder=new HH(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Hv=({name:t,prefix:e,encode:n,decode:r})=>new WH(t,e,n,r),ag=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=$H(n,e);return Hv({prefix:t,name:e,encode:r,decode:s=>UH(i(s))})},GH=(t,e,n,r)=>{const i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,u=0,c=0;for(let l=0;l<s;++l){const f=i[t[l]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|f,a+=n,a>=8&&(a-=8,o[c++]=255&u>>a)}if(a>=n||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},KH=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Sr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Hv({prefix:e,name:t,encode(i){return KH(i,r,n)},decode(i){return GH(i,r,n,t)}}),QH=Hv({prefix:"\0",name:"identity",encode:t=>VH(t),decode:t=>jH(t)}),ZH=Object.freeze(Object.defineProperty({__proto__:null,identity:QH},Symbol.toStringTag,{value:"Module"})),JH=Sr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),YH=Object.freeze(Object.defineProperty({__proto__:null,base2:JH},Symbol.toStringTag,{value:"Module"})),XH=Sr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),eq=Object.freeze(Object.defineProperty({__proto__:null,base8:XH},Symbol.toStringTag,{value:"Module"})),tq=ag({prefix:"9",name:"base10",alphabet:"0123456789"}),nq=Object.freeze(Object.defineProperty({__proto__:null,base10:tq},Symbol.toStringTag,{value:"Module"})),rq=Sr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),iq=Sr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),sq=Object.freeze(Object.defineProperty({__proto__:null,base16:rq,base16upper:iq},Symbol.toStringTag,{value:"Module"})),oq=Sr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),aq=Sr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),uq=Sr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),cq=Sr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),lq=Sr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),fq=Sr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),hq=Sr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),dq=Sr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),pq=Sr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),gq=Object.freeze(Object.defineProperty({__proto__:null,base32:oq,base32hex:lq,base32hexpad:hq,base32hexpadupper:dq,base32hexupper:fq,base32pad:uq,base32padupper:cq,base32upper:aq,base32z:pq},Symbol.toStringTag,{value:"Module"})),mq=ag({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),yq=ag({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),vq=Object.freeze(Object.defineProperty({__proto__:null,base36:mq,base36upper:yq},Symbol.toStringTag,{value:"Module"})),wq=ag({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_q=ag({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),bq=Object.freeze(Object.defineProperty({__proto__:null,base58btc:wq,base58flickr:_q},Symbol.toStringTag,{value:"Module"})),Eq=Sr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Aq=Sr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Sq=Sr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Cq=Sr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Iq=Object.freeze(Object.defineProperty({__proto__:null,base64:Eq,base64pad:Aq,base64url:Sq,base64urlpad:Cq},Symbol.toStringTag,{value:"Module"})),eD=Array.from(""),xq=eD.reduce((t,e,n)=>(t[n]=e,t),[]),Tq=eD.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Rq(t){return t.reduce((e,n)=>(e+=xq[n],e),"")}function kq(t){const e=[];for(const n of t){const r=Tq[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Pq=Hv({prefix:"",name:"base256emoji",encode:Rq,decode:kq}),Mq=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Pq},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const AI={...ZH,...YH,...eq,...nq,...sq,...gq,...vq,...bq,...Iq,...Mq};function tD(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const SI=tD("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Lb=tD("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=YM(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),nD={utf8:SI,"utf-8":SI,hex:AI.base16,latin1:Lb,ascii:Lb,binary:Lb,...AI};function Vwe(t,e="utf8"){const n=nD[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}function zwe(t,e="utf8"){const n=nD[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Dq=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Oq=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Nq=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Lq(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Bq(t);return}return e}function Bq(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Um(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Nq.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Dq.test(t)||Oq.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Lq)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function Fq(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function nr(t,...e){try{return Fq(t(...e))}catch(n){return Promise.reject(n)}}function $q(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Uq(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Fy(t){if($q(t))return String(t);if(Uq(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Fy(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const h3="base64:";function jq(t){return typeof t=="string"?t:h3+Hq(t)}function Vq(t){return typeof t!="string"||!t.startsWith(h3)?t:zq(t.slice(h3.length))}function zq(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function Hq(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function ri(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function qq(...t){return ri(t.join(":"))}function jm(t){return t=ri(t),t?t+":":""}function Wq(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function Gq(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const Kq="memory",Qq=()=>{const t=new Map;return{name:Kq,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Hwe(t={}){const e={mounts:{"":t.driver||Qq()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=c=>{for(const l of e.mountpoints)if(c.startsWith(l))return{base:l,relativeKey:c.slice(l.length),driver:e.mounts[l]};return{base:"",relativeKey:c,driver:e.mounts[""]}},r=(c,l)=>e.mountpoints.filter(f=>f.startsWith(c)||l&&c.startsWith(f)).map(f=>({relativeBase:c.length>f.length?c.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),i=(c,l)=>{if(e.watching){l=ri(l);for(const f of e.watchListeners)f(c,l)}},s=async()=>{if(!e.watching){e.watching=!0;for(const c in e.mounts)e.unwatch[c]=await CI(e.mounts[c],i,c)}},o=async()=>{if(e.watching){for(const c in e.unwatch)await e.unwatch[c]();e.unwatch={},e.watching=!1}},a=(c,l,f)=>{const h=new Map,m=b=>{let A=h.get(b.base);return A||(A={driver:b.driver,base:b.base,items:[]},h.set(b.base,A)),A};for(const b of c){const A=typeof b=="string",T=ri(A?b:b.key),_=A?void 0:b.value,w=A||!b.options?l:{...l,...b.options},C=n(T);m(C).items.push({key:T,value:_,relativeKey:C.relativeKey,options:w})}return Promise.all([...h.values()].map(b=>f(b))).then(b=>b.flat())},u={hasItem(c,l={}){c=ri(c);const{relativeKey:f,driver:h}=n(c);return nr(h.hasItem,f,l)},getItem(c,l={}){c=ri(c);const{relativeKey:f,driver:h}=n(c);return nr(h.getItem,f,l).then(m=>Um(m))},getItems(c,l={}){return a(c,l,f=>f.driver.getItems?nr(f.driver.getItems,f.items.map(h=>({key:h.relativeKey,options:h.options})),l).then(h=>h.map(m=>({key:qq(f.base,m.key),value:Um(m.value)}))):Promise.all(f.items.map(h=>nr(f.driver.getItem,h.relativeKey,h.options).then(m=>({key:h.key,value:Um(m)})))))},getItemRaw(c,l={}){c=ri(c);const{relativeKey:f,driver:h}=n(c);return h.getItemRaw?nr(h.getItemRaw,f,l):nr(h.getItem,f,l).then(m=>Vq(m))},async setItem(c,l,f={}){if(l===void 0)return u.removeItem(c);c=ri(c);const{relativeKey:h,driver:m}=n(c);m.setItem&&(await nr(m.setItem,h,Fy(l),f),m.watch||i("update",c))},async setItems(c,l){await a(c,l,async f=>{if(f.driver.setItems)return nr(f.driver.setItems,f.items.map(h=>({key:h.relativeKey,value:Fy(h.value),options:h.options})),l);f.driver.setItem&&await Promise.all(f.items.map(h=>nr(f.driver.setItem,h.relativeKey,Fy(h.value),h.options)))})},async setItemRaw(c,l,f={}){if(l===void 0)return u.removeItem(c,f);c=ri(c);const{relativeKey:h,driver:m}=n(c);if(m.setItemRaw)await nr(m.setItemRaw,h,l,f);else if(m.setItem)await nr(m.setItem,h,jq(l),f);else return;m.watch||i("update",c)},async removeItem(c,l={}){typeof l=="boolean"&&(l={removeMeta:l}),c=ri(c);const{relativeKey:f,driver:h}=n(c);h.removeItem&&(await nr(h.removeItem,f,l),(l.removeMeta||l.removeMata)&&await nr(h.removeItem,f+"$",l),h.watch||i("remove",c))},async getMeta(c,l={}){typeof l=="boolean"&&(l={nativeOnly:l}),c=ri(c);const{relativeKey:f,driver:h}=n(c),m=Object.create(null);if(h.getMeta&&Object.assign(m,await nr(h.getMeta,f,l)),!l.nativeOnly){const b=await nr(h.getItem,f+"$",l).then(A=>Um(A));b&&typeof b=="object"&&(typeof b.atime=="string"&&(b.atime=new Date(b.atime)),typeof b.mtime=="string"&&(b.mtime=new Date(b.mtime)),Object.assign(m,b))}return m},setMeta(c,l,f={}){return this.setItem(c+"$",l,f)},removeMeta(c,l={}){return this.removeItem(c+"$",l)},async getKeys(c,l={}){var T;c=jm(c);const f=r(c,!0);let h=[];const m=[];let b=!0;for(const _ of f){(T=_.driver.flags)!=null&&T.maxDepth||(b=!1);const w=await nr(_.driver.getKeys,_.relativeBase,l);for(const C of w){const M=_.mountpoint+ri(C);h.some(N=>M.startsWith(N))||m.push(M)}h=[_.mountpoint,...h.filter(C=>!C.startsWith(_.mountpoint))]}const A=l.maxDepth!==void 0&&!b;return m.filter(_=>(!A||Wq(_,l.maxDepth))&&Gq(_,c))},async clear(c,l={}){c=jm(c),await Promise.all(r(c,!1).map(async f=>{if(f.driver.clear)return nr(f.driver.clear,f.relativeBase,l);if(f.driver.removeItem){const h=await f.driver.getKeys(f.relativeBase||"",l);return Promise.all(h.map(m=>f.driver.removeItem(m,l)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(c=>II(c)))},async watch(c){return await s(),e.watchListeners.push(c),async()=>{e.watchListeners=e.watchListeners.filter(l=>l!==c),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(c,l){if(c=jm(c),c&&e.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(e.mountpoints.push(c),e.mountpoints.sort((f,h)=>h.length-f.length)),e.mounts[c]=l,e.watching&&Promise.resolve(CI(l,i,c)).then(f=>{e.unwatch[c]=f}).catch(console.error),u},async unmount(c,l=!0){var f,h;c=jm(c),!(!c||!e.mounts[c])&&(e.watching&&c in e.unwatch&&((h=(f=e.unwatch)[c])==null||h.call(f),delete e.unwatch[c]),l&&await II(e.mounts[c]),e.mountpoints=e.mountpoints.filter(m=>m!==c),delete e.mounts[c])},getMount(c=""){c=ri(c)+":";const l=n(c);return{driver:l.driver,base:l.base}},getMounts(c="",l={}){return c=ri(c),r(c,l.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(c,l={})=>u.getKeys(c,l),get:(c,l={})=>u.getItem(c,l),set:(c,l,f={})=>u.setItem(c,l,f),has:(c,l={})=>u.hasItem(c,l),del:(c,l={})=>u.removeItem(c,l),remove:(c,l={})=>u.removeItem(c,l)};return u}function CI(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function II(t){typeof t.dispose=="function"&&await nr(t.dispose)}function El(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function Zq(t,e){let n;const r=()=>{if(n)return n;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),n=El(i),n.then(s=>{s.onclose=()=>n=void 0},()=>{}),n};return(i,s)=>r().then(o=>s(o.transaction(e,i).objectStore(e)))}let Bb;function ug(){return Bb||(Bb=Zq("keyval-store","keyval")),Bb}function qwe(t,e=ug()){return e("readonly",n=>El(n.get(t)))}function Wwe(t,e,n=ug()){return n("readwrite",r=>(r.put(e,t),El(r.transaction)))}function Gwe(t,e=ug()){return e("readwrite",n=>(n.delete(t),El(n.transaction)))}function Kwe(t=ug()){return t("readwrite",e=>(e.clear(),El(e.transaction)))}function Jq(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},El(t.transaction)}function Qwe(t=ug()){return t("readonly",e=>{if(e.getAllKeys)return El(e.getAllKeys());const n=[];return Jq(e,r=>n.push(r.key)).then(()=>n)})}function Yq(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var Xq=eW;function eW(t,e,n){var r=n&&n.stringify||Yq,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=r(t);for(var a=1;a<s;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var u=e.length;if(u===0)return t;for(var c="",l=1-i,f=-1,h=t&&t.length||0,m=0;m<h;){if(t.charCodeAt(m)===37&&m+1<h){switch(f=f>-1?f:0,t.charCodeAt(m+1)){case 100:case 102:if(l>=u||e[l]==null)break;f<m&&(c+=t.slice(f,m)),c+=Number(e[l]),f=m+2,m++;break;case 105:if(l>=u||e[l]==null)break;f<m&&(c+=t.slice(f,m)),c+=Math.floor(Number(e[l])),f=m+2,m++;break;case 79:case 111:case 106:if(l>=u||e[l]===void 0)break;f<m&&(c+=t.slice(f,m));var b=typeof e[l];if(b==="string"){c+="'"+e[l]+"'",f=m+2,m++;break}if(b==="function"){c+=e[l].name||"<anonymous>",f=m+2,m++;break}c+=r(e[l]),f=m+2,m++;break;case 115:if(l>=u)break;f<m&&(c+=t.slice(f,m)),c+=String(e[l]),f=m+2,m++;break;case 37:f<m&&(c+=t.slice(f,m)),c+="%",f=m+2,m++,l--;break}++l}++m}return f===-1?t:(f<h&&(c+=t.slice(f)),c)}const xI=Xq;var tW=To;const H0=fW().console||{},nW={mapHttpRequest:Vm,mapHttpResponse:Vm,wrapRequestSerializer:Fb,wrapResponseSerializer:Fb,wrapErrorSerializer:Fb,req:Vm,res:Vm,err:aW};function rW(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function To(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||H0;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=rW(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",u=Object.create(n);u.log||(u.log=q0),Object.defineProperty(u,"levelVal",{get:l}),Object.defineProperty(u,"level",{get:f,set:h});const c={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:uW(t)};u.levels=To.levels,u.level=a,u.setMaxListeners=u.getMaxListeners=u.emit=u.addListener=u.on=u.prependListener=u.once=u.prependOnceListener=u.removeListener=u.removeAllListeners=u.listeners=u.listenerCount=u.eventNames=u.write=u.flush=q0,u.serializers=r,u._serialize=i,u._stdErrSerialize=s,u.child=m,e&&(u._logEvent=d3());function l(){return this.level==="silent"?1/0:this.levels.values[this.level]}function f(){return this._level}function h(b){if(b!=="silent"&&!this.levels.values[b])throw Error("unknown level "+b);this._level=b,jl(c,u,"error","log"),jl(c,u,"fatal","error"),jl(c,u,"warn","error"),jl(c,u,"info","log"),jl(c,u,"debug","log"),jl(c,u,"trace","log")}function m(b,A){if(!b)throw new Error("missing bindings for child Pino");A=A||{},i&&b.serializers&&(A.serializers=b.serializers);const T=A.serializers;if(i&&T){var _=Object.assign({},r,T),w=t.browser.serialize===!0?Object.keys(_):i;delete b.serializers,qv([b],w,_,this._stdErrSerialize)}function C(M){this._childLevel=(M._childLevel|0)+1,this.error=Vl(M,b,"error"),this.fatal=Vl(M,b,"fatal"),this.warn=Vl(M,b,"warn"),this.info=Vl(M,b,"info"),this.debug=Vl(M,b,"debug"),this.trace=Vl(M,b,"trace"),_&&(this.serializers=_,this._serialize=w),e&&(this._logEvent=d3([].concat(M._logEvent.bindings,b)))}return C.prototype=this,new C(this)}return u}To.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};To.stdSerializers=nW;To.stdTimeFunctions=Object.assign({},{nullTime:rD,epochTime:iD,unixTime:cW,isoTime:lW});function jl(t,e,n,r){const i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?q0:i[n]?i[n]:H0[n]||H0[r]||q0,iW(t,e,n)}function iW(t,e,n){!t.transmit&&e[n]===q0||(e[n]=function(r){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===H0?H0:this;for(var u=0;u<o.length;u++)o[u]=arguments[u];if(t.serialize&&!t.asObject&&qv(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,sW(this,n,o,s)):r.apply(a,o),t.transmit){const c=t.transmit.level||e.level,l=To.levels.values[c],f=To.levels.values[n];if(f<l)return;oW(this,{ts:s,methodLevel:n,methodValue:f,transmitValue:To.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function sW(t,e,n,r){t._serialize&&qv(n,t._serialize,t.serializers,t._stdErrSerialize);const i=n.slice();let s=i[0];const o={};r&&(o.time=r),o.level=To.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?xI(i.shift(),i):void 0}else typeof s=="string"&&(s=xI(i.shift(),i));return s!==void 0&&(o.msg=s),o}function qv(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=To.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function Vl(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function oW(t,e,n){const r=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,u=t._logEvent.bindings;qv(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(c){return u.indexOf(c)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,r(s,t._logEvent,a),t._logEvent=d3(u)}function d3(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function aW(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function uW(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?rD:iD}function Vm(){return{}}function Fb(t){return t}function q0(){}function rD(){return!1}function iD(){return Date.now()}function cW(){return Math.round(Date.now()/1e3)}function lW(){return new Date(Date.now()).toISOString()}function fW(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const Zwe=Ni(tW);var hW={},sD={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=mt,n=Fi;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var r=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._tempHi),n.wipe(this._tempLo),this.reset()},a.prototype.update=function(u,c){if(c===void 0&&(c=u.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var l=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&c>0;)this._buffer[this._bufferLength++]=u[l++],c--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(l=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,u,l,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=u[l++],c--;return this},a.prototype.finish=function(u){if(!this._finished){var c=this._bytesHashed,l=this._bufferLength,f=c/536870912|0,h=c<<3,m=c%128<112?128:256;this._buffer[l]=128;for(var b=l+1;b<m-8;b++)this._buffer[b]=0;e.writeUint32BE(f,this._buffer,m-8),e.writeUint32BE(h,this._buffer,m-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,m),this._finished=!0}for(var b=0;b<this.digestLength/8;b++)e.writeUint32BE(this._stateHi[b],u,b*8),e.writeUint32BE(this._stateLo[b],u,b*8+4);return this},a.prototype.digest=function(){var u=new Uint8Array(this.digestLength);return this.finish(u),u},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(u){return this._stateHi.set(u.stateHi),this._stateLo.set(u.stateLo),this._bufferLength=u.bufferLength,u.buffer&&this._buffer.set(u.buffer),this._bytesHashed=u.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(u){n.wipe(u.stateHi),n.wipe(u.stateLo),u.buffer&&n.wipe(u.buffer),u.bufferLength=0,u.bytesHashed=0},a}();t.SHA512=r;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(a,u,c,l,f,h,m){for(var b=c[0],A=c[1],T=c[2],_=c[3],w=c[4],C=c[5],M=c[6],N=c[7],U=l[0],v=l[1],y=l[2],S=l[3],k=l[4],L=l[5],z=l[6],x=l[7],g,d,E,P,I,F,H,V;m>=128;){for(var R=0;R<16;R++){var W=8*R+h;a[R]=e.readUint32BE(f,W),u[R]=e.readUint32BE(f,W+4)}for(var R=0;R<80;R++){var ae=b,re=A,X=T,Q=_,Y=w,ee=C,B=M,j=N,K=U,ie=v,fe=y,pe=S,Ee=k,_e=L,qe=z,Et=x;if(g=N,d=x,I=d&65535,F=d>>>16,H=g&65535,V=g>>>16,g=(w>>>14|k<<18)^(w>>>18|k<<14)^(k>>>9|w<<23),d=(k>>>14|w<<18)^(k>>>18|w<<14)^(w>>>9|k<<23),I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,g=w&C^~w&M,d=k&L^~k&z,I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,g=i[R*2],d=i[R*2+1],I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,g=a[R%16],d=u[R%16],I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,F+=I>>>16,H+=F>>>16,V+=H>>>16,E=H&65535|V<<16,P=I&65535|F<<16,g=E,d=P,I=d&65535,F=d>>>16,H=g&65535,V=g>>>16,g=(b>>>28|U<<4)^(U>>>2|b<<30)^(U>>>7|b<<25),d=(U>>>28|b<<4)^(b>>>2|U<<30)^(b>>>7|U<<25),I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,g=b&A^b&T^A&T,d=U&v^U&y^v&y,I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,F+=I>>>16,H+=F>>>16,V+=H>>>16,j=H&65535|V<<16,Et=I&65535|F<<16,g=Q,d=pe,I=d&65535,F=d>>>16,H=g&65535,V=g>>>16,g=E,d=P,I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,F+=I>>>16,H+=F>>>16,V+=H>>>16,Q=H&65535|V<<16,pe=I&65535|F<<16,A=ae,T=re,_=X,w=Q,C=Y,M=ee,N=B,b=j,v=K,y=ie,S=fe,k=pe,L=Ee,z=_e,x=qe,U=Et,R%16===15)for(var W=0;W<16;W++)g=a[W],d=u[W],I=d&65535,F=d>>>16,H=g&65535,V=g>>>16,g=a[(W+9)%16],d=u[(W+9)%16],I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,E=a[(W+1)%16],P=u[(W+1)%16],g=(E>>>1|P<<31)^(E>>>8|P<<24)^E>>>7,d=(P>>>1|E<<31)^(P>>>8|E<<24)^(P>>>7|E<<25),I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,E=a[(W+14)%16],P=u[(W+14)%16],g=(E>>>19|P<<13)^(P>>>29|E<<3)^E>>>6,d=(P>>>19|E<<13)^(E>>>29|P<<3)^(P>>>6|E<<26),I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,F+=I>>>16,H+=F>>>16,V+=H>>>16,a[W]=H&65535|V<<16,u[W]=I&65535|F<<16}g=b,d=U,I=d&65535,F=d>>>16,H=g&65535,V=g>>>16,g=c[0],d=l[0],I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,F+=I>>>16,H+=F>>>16,V+=H>>>16,c[0]=b=H&65535|V<<16,l[0]=U=I&65535|F<<16,g=A,d=v,I=d&65535,F=d>>>16,H=g&65535,V=g>>>16,g=c[1],d=l[1],I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,F+=I>>>16,H+=F>>>16,V+=H>>>16,c[1]=A=H&65535|V<<16,l[1]=v=I&65535|F<<16,g=T,d=y,I=d&65535,F=d>>>16,H=g&65535,V=g>>>16,g=c[2],d=l[2],I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,F+=I>>>16,H+=F>>>16,V+=H>>>16,c[2]=T=H&65535|V<<16,l[2]=y=I&65535|F<<16,g=_,d=S,I=d&65535,F=d>>>16,H=g&65535,V=g>>>16,g=c[3],d=l[3],I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,F+=I>>>16,H+=F>>>16,V+=H>>>16,c[3]=_=H&65535|V<<16,l[3]=S=I&65535|F<<16,g=w,d=k,I=d&65535,F=d>>>16,H=g&65535,V=g>>>16,g=c[4],d=l[4],I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,F+=I>>>16,H+=F>>>16,V+=H>>>16,c[4]=w=H&65535|V<<16,l[4]=k=I&65535|F<<16,g=C,d=L,I=d&65535,F=d>>>16,H=g&65535,V=g>>>16,g=c[5],d=l[5],I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,F+=I>>>16,H+=F>>>16,V+=H>>>16,c[5]=C=H&65535|V<<16,l[5]=L=I&65535|F<<16,g=M,d=z,I=d&65535,F=d>>>16,H=g&65535,V=g>>>16,g=c[6],d=l[6],I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,F+=I>>>16,H+=F>>>16,V+=H>>>16,c[6]=M=H&65535|V<<16,l[6]=z=I&65535|F<<16,g=N,d=x,I=d&65535,F=d>>>16,H=g&65535,V=g>>>16,g=c[7],d=l[7],I+=d&65535,F+=d>>>16,H+=g&65535,V+=g>>>16,F+=I>>>16,H+=F>>>16,V+=H>>>16,c[7]=N=H&65535|V<<16,l[7]=x=I&65535|F<<16,h+=128,m-=128}return h}function o(a){var u=new r;u.update(a);var c=u.digest();return u.clean(),c}t.hash=o})(sD);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const e=e6,n=sD,r=Fi;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function i(Q){const Y=new Float64Array(16);if(Q)for(let ee=0;ee<Q.length;ee++)Y[ee]=Q[ee];return Y}const s=new Uint8Array(32);s[0]=9;const o=i(),a=i([1]),u=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function m(Q,Y){for(let ee=0;ee<16;ee++)Q[ee]=Y[ee]|0}function b(Q){let Y=1;for(let ee=0;ee<16;ee++){let B=Q[ee]+Y+65535;Y=Math.floor(B/65536),Q[ee]=B-Y*65536}Q[0]+=Y-1+37*(Y-1)}function A(Q,Y,ee){const B=~(ee-1);for(let j=0;j<16;j++){const K=B&(Q[j]^Y[j]);Q[j]^=K,Y[j]^=K}}function T(Q,Y){const ee=i(),B=i();for(let j=0;j<16;j++)B[j]=Y[j];b(B),b(B),b(B);for(let j=0;j<2;j++){ee[0]=B[0]-65517;for(let ie=1;ie<15;ie++)ee[ie]=B[ie]-65535-(ee[ie-1]>>16&1),ee[ie-1]&=65535;ee[15]=B[15]-32767-(ee[14]>>16&1);const K=ee[15]>>16&1;ee[14]&=65535,A(B,ee,1-K)}for(let j=0;j<16;j++)Q[2*j]=B[j]&255,Q[2*j+1]=B[j]>>8}function _(Q,Y){let ee=0;for(let B=0;B<32;B++)ee|=Q[B]^Y[B];return(1&ee-1>>>8)-1}function w(Q,Y){const ee=new Uint8Array(32),B=new Uint8Array(32);return T(ee,Q),T(B,Y),_(ee,B)}function C(Q){const Y=new Uint8Array(32);return T(Y,Q),Y[0]&1}function M(Q,Y){for(let ee=0;ee<16;ee++)Q[ee]=Y[2*ee]+(Y[2*ee+1]<<8);Q[15]&=32767}function N(Q,Y,ee){for(let B=0;B<16;B++)Q[B]=Y[B]+ee[B]}function U(Q,Y,ee){for(let B=0;B<16;B++)Q[B]=Y[B]-ee[B]}function v(Q,Y,ee){let B,j,K=0,ie=0,fe=0,pe=0,Ee=0,_e=0,qe=0,Et=0,De=0,ke=0,He=0,Te=0,Re=0,Ve=0,we=0,G=0,D=0,$=0,Z=0,ne=0,se=0,ce=0,Ie=0,Ae=0,$e=0,pt=0,Fe=0,yt=0,cr=0,xt=0,Dt=0,zt=ee[0],Ke=ee[1],nt=ee[2],$t=ee[3],rt=ee[4],Ze=ee[5],Jt=ee[6],ze=ee[7],it=ee[8],Ht=ee[9],Xe=ee[10],st=ee[11],Gt=ee[12],We=ee[13],at=ee[14],Xt=ee[15];B=Y[0],K+=B*zt,ie+=B*Ke,fe+=B*nt,pe+=B*$t,Ee+=B*rt,_e+=B*Ze,qe+=B*Jt,Et+=B*ze,De+=B*it,ke+=B*Ht,He+=B*Xe,Te+=B*st,Re+=B*Gt,Ve+=B*We,we+=B*at,G+=B*Xt,B=Y[1],ie+=B*zt,fe+=B*Ke,pe+=B*nt,Ee+=B*$t,_e+=B*rt,qe+=B*Ze,Et+=B*Jt,De+=B*ze,ke+=B*it,He+=B*Ht,Te+=B*Xe,Re+=B*st,Ve+=B*Gt,we+=B*We,G+=B*at,D+=B*Xt,B=Y[2],fe+=B*zt,pe+=B*Ke,Ee+=B*nt,_e+=B*$t,qe+=B*rt,Et+=B*Ze,De+=B*Jt,ke+=B*ze,He+=B*it,Te+=B*Ht,Re+=B*Xe,Ve+=B*st,we+=B*Gt,G+=B*We,D+=B*at,$+=B*Xt,B=Y[3],pe+=B*zt,Ee+=B*Ke,_e+=B*nt,qe+=B*$t,Et+=B*rt,De+=B*Ze,ke+=B*Jt,He+=B*ze,Te+=B*it,Re+=B*Ht,Ve+=B*Xe,we+=B*st,G+=B*Gt,D+=B*We,$+=B*at,Z+=B*Xt,B=Y[4],Ee+=B*zt,_e+=B*Ke,qe+=B*nt,Et+=B*$t,De+=B*rt,ke+=B*Ze,He+=B*Jt,Te+=B*ze,Re+=B*it,Ve+=B*Ht,we+=B*Xe,G+=B*st,D+=B*Gt,$+=B*We,Z+=B*at,ne+=B*Xt,B=Y[5],_e+=B*zt,qe+=B*Ke,Et+=B*nt,De+=B*$t,ke+=B*rt,He+=B*Ze,Te+=B*Jt,Re+=B*ze,Ve+=B*it,we+=B*Ht,G+=B*Xe,D+=B*st,$+=B*Gt,Z+=B*We,ne+=B*at,se+=B*Xt,B=Y[6],qe+=B*zt,Et+=B*Ke,De+=B*nt,ke+=B*$t,He+=B*rt,Te+=B*Ze,Re+=B*Jt,Ve+=B*ze,we+=B*it,G+=B*Ht,D+=B*Xe,$+=B*st,Z+=B*Gt,ne+=B*We,se+=B*at,ce+=B*Xt,B=Y[7],Et+=B*zt,De+=B*Ke,ke+=B*nt,He+=B*$t,Te+=B*rt,Re+=B*Ze,Ve+=B*Jt,we+=B*ze,G+=B*it,D+=B*Ht,$+=B*Xe,Z+=B*st,ne+=B*Gt,se+=B*We,ce+=B*at,Ie+=B*Xt,B=Y[8],De+=B*zt,ke+=B*Ke,He+=B*nt,Te+=B*$t,Re+=B*rt,Ve+=B*Ze,we+=B*Jt,G+=B*ze,D+=B*it,$+=B*Ht,Z+=B*Xe,ne+=B*st,se+=B*Gt,ce+=B*We,Ie+=B*at,Ae+=B*Xt,B=Y[9],ke+=B*zt,He+=B*Ke,Te+=B*nt,Re+=B*$t,Ve+=B*rt,we+=B*Ze,G+=B*Jt,D+=B*ze,$+=B*it,Z+=B*Ht,ne+=B*Xe,se+=B*st,ce+=B*Gt,Ie+=B*We,Ae+=B*at,$e+=B*Xt,B=Y[10],He+=B*zt,Te+=B*Ke,Re+=B*nt,Ve+=B*$t,we+=B*rt,G+=B*Ze,D+=B*Jt,$+=B*ze,Z+=B*it,ne+=B*Ht,se+=B*Xe,ce+=B*st,Ie+=B*Gt,Ae+=B*We,$e+=B*at,pt+=B*Xt,B=Y[11],Te+=B*zt,Re+=B*Ke,Ve+=B*nt,we+=B*$t,G+=B*rt,D+=B*Ze,$+=B*Jt,Z+=B*ze,ne+=B*it,se+=B*Ht,ce+=B*Xe,Ie+=B*st,Ae+=B*Gt,$e+=B*We,pt+=B*at,Fe+=B*Xt,B=Y[12],Re+=B*zt,Ve+=B*Ke,we+=B*nt,G+=B*$t,D+=B*rt,$+=B*Ze,Z+=B*Jt,ne+=B*ze,se+=B*it,ce+=B*Ht,Ie+=B*Xe,Ae+=B*st,$e+=B*Gt,pt+=B*We,Fe+=B*at,yt+=B*Xt,B=Y[13],Ve+=B*zt,we+=B*Ke,G+=B*nt,D+=B*$t,$+=B*rt,Z+=B*Ze,ne+=B*Jt,se+=B*ze,ce+=B*it,Ie+=B*Ht,Ae+=B*Xe,$e+=B*st,pt+=B*Gt,Fe+=B*We,yt+=B*at,cr+=B*Xt,B=Y[14],we+=B*zt,G+=B*Ke,D+=B*nt,$+=B*$t,Z+=B*rt,ne+=B*Ze,se+=B*Jt,ce+=B*ze,Ie+=B*it,Ae+=B*Ht,$e+=B*Xe,pt+=B*st,Fe+=B*Gt,yt+=B*We,cr+=B*at,xt+=B*Xt,B=Y[15],G+=B*zt,D+=B*Ke,$+=B*nt,Z+=B*$t,ne+=B*rt,se+=B*Ze,ce+=B*Jt,Ie+=B*ze,Ae+=B*it,$e+=B*Ht,pt+=B*Xe,Fe+=B*st,yt+=B*Gt,cr+=B*We,xt+=B*at,Dt+=B*Xt,K+=38*D,ie+=38*$,fe+=38*Z,pe+=38*ne,Ee+=38*se,_e+=38*ce,qe+=38*Ie,Et+=38*Ae,De+=38*$e,ke+=38*pt,He+=38*Fe,Te+=38*yt,Re+=38*cr,Ve+=38*xt,we+=38*Dt,j=1,B=K+j+65535,j=Math.floor(B/65536),K=B-j*65536,B=ie+j+65535,j=Math.floor(B/65536),ie=B-j*65536,B=fe+j+65535,j=Math.floor(B/65536),fe=B-j*65536,B=pe+j+65535,j=Math.floor(B/65536),pe=B-j*65536,B=Ee+j+65535,j=Math.floor(B/65536),Ee=B-j*65536,B=_e+j+65535,j=Math.floor(B/65536),_e=B-j*65536,B=qe+j+65535,j=Math.floor(B/65536),qe=B-j*65536,B=Et+j+65535,j=Math.floor(B/65536),Et=B-j*65536,B=De+j+65535,j=Math.floor(B/65536),De=B-j*65536,B=ke+j+65535,j=Math.floor(B/65536),ke=B-j*65536,B=He+j+65535,j=Math.floor(B/65536),He=B-j*65536,B=Te+j+65535,j=Math.floor(B/65536),Te=B-j*65536,B=Re+j+65535,j=Math.floor(B/65536),Re=B-j*65536,B=Ve+j+65535,j=Math.floor(B/65536),Ve=B-j*65536,B=we+j+65535,j=Math.floor(B/65536),we=B-j*65536,B=G+j+65535,j=Math.floor(B/65536),G=B-j*65536,K+=j-1+37*(j-1),j=1,B=K+j+65535,j=Math.floor(B/65536),K=B-j*65536,B=ie+j+65535,j=Math.floor(B/65536),ie=B-j*65536,B=fe+j+65535,j=Math.floor(B/65536),fe=B-j*65536,B=pe+j+65535,j=Math.floor(B/65536),pe=B-j*65536,B=Ee+j+65535,j=Math.floor(B/65536),Ee=B-j*65536,B=_e+j+65535,j=Math.floor(B/65536),_e=B-j*65536,B=qe+j+65535,j=Math.floor(B/65536),qe=B-j*65536,B=Et+j+65535,j=Math.floor(B/65536),Et=B-j*65536,B=De+j+65535,j=Math.floor(B/65536),De=B-j*65536,B=ke+j+65535,j=Math.floor(B/65536),ke=B-j*65536,B=He+j+65535,j=Math.floor(B/65536),He=B-j*65536,B=Te+j+65535,j=Math.floor(B/65536),Te=B-j*65536,B=Re+j+65535,j=Math.floor(B/65536),Re=B-j*65536,B=Ve+j+65535,j=Math.floor(B/65536),Ve=B-j*65536,B=we+j+65535,j=Math.floor(B/65536),we=B-j*65536,B=G+j+65535,j=Math.floor(B/65536),G=B-j*65536,K+=j-1+37*(j-1),Q[0]=K,Q[1]=ie,Q[2]=fe,Q[3]=pe,Q[4]=Ee,Q[5]=_e,Q[6]=qe,Q[7]=Et,Q[8]=De,Q[9]=ke,Q[10]=He,Q[11]=Te,Q[12]=Re,Q[13]=Ve,Q[14]=we,Q[15]=G}function y(Q,Y){v(Q,Y,Y)}function S(Q,Y){const ee=i();let B;for(B=0;B<16;B++)ee[B]=Y[B];for(B=253;B>=0;B--)y(ee,ee),B!==2&&B!==4&&v(ee,ee,Y);for(B=0;B<16;B++)Q[B]=ee[B]}function k(Q,Y){const ee=i();let B;for(B=0;B<16;B++)ee[B]=Y[B];for(B=250;B>=0;B--)y(ee,ee),B!==1&&v(ee,ee,Y);for(B=0;B<16;B++)Q[B]=ee[B]}function L(Q,Y){const ee=i(),B=i(),j=i(),K=i(),ie=i(),fe=i(),pe=i(),Ee=i(),_e=i();U(ee,Q[1],Q[0]),U(_e,Y[1],Y[0]),v(ee,ee,_e),N(B,Q[0],Q[1]),N(_e,Y[0],Y[1]),v(B,B,_e),v(j,Q[3],Y[3]),v(j,j,c),v(K,Q[2],Y[2]),N(K,K,K),U(ie,B,ee),U(fe,K,j),N(pe,K,j),N(Ee,B,ee),v(Q[0],ie,fe),v(Q[1],Ee,pe),v(Q[2],pe,fe),v(Q[3],ie,Ee)}function z(Q,Y,ee){for(let B=0;B<4;B++)A(Q[B],Y[B],ee)}function x(Q,Y){const ee=i(),B=i(),j=i();S(j,Y[2]),v(ee,Y[0],j),v(B,Y[1],j),T(Q,B),Q[31]^=C(ee)<<7}function g(Q,Y,ee){m(Q[0],o),m(Q[1],a),m(Q[2],a),m(Q[3],o);for(let B=255;B>=0;--B){const j=ee[B/8|0]>>(B&7)&1;z(Q,Y,j),L(Y,Q),L(Q,Q),z(Q,Y,j)}}function d(Q,Y){const ee=[i(),i(),i(),i()];m(ee[0],l),m(ee[1],f),m(ee[2],a),v(ee[3],l,f),g(Q,ee,Y)}function E(Q){if(Q.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const Y=(0,n.hash)(Q);Y[0]&=248,Y[31]&=127,Y[31]|=64;const ee=new Uint8Array(32),B=[i(),i(),i(),i()];d(B,Y),x(ee,B);const j=new Uint8Array(64);return j.set(Q),j.set(ee,32),{publicKey:ee,secretKey:j}}t.generateKeyPairFromSeed=E;function P(Q){const Y=(0,e.randomBytes)(32,Q),ee=E(Y);return(0,r.wipe)(Y),ee}t.generateKeyPair=P;function I(Q){if(Q.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(Q.subarray(32))}t.extractPublicKeyFromSecretKey=I;const F=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function H(Q,Y){let ee,B,j,K;for(B=63;B>=32;--B){for(ee=0,j=B-32,K=B-12;j<K;++j)Y[j]+=ee-16*Y[B]*F[j-(B-32)],ee=Math.floor((Y[j]+128)/256),Y[j]-=ee*256;Y[j]+=ee,Y[B]=0}for(ee=0,j=0;j<32;j++)Y[j]+=ee-(Y[31]>>4)*F[j],ee=Y[j]>>8,Y[j]&=255;for(j=0;j<32;j++)Y[j]-=ee*F[j];for(B=0;B<32;B++)Y[B+1]+=Y[B]>>8,Q[B]=Y[B]&255}function V(Q){const Y=new Float64Array(64);for(let ee=0;ee<64;ee++)Y[ee]=Q[ee];for(let ee=0;ee<64;ee++)Q[ee]=0;H(Q,Y)}function R(Q,Y){const ee=new Float64Array(64),B=[i(),i(),i(),i()],j=(0,n.hash)(Q.subarray(0,32));j[0]&=248,j[31]&=127,j[31]|=64;const K=new Uint8Array(64);K.set(j.subarray(32),32);const ie=new n.SHA512;ie.update(K.subarray(32)),ie.update(Y);const fe=ie.digest();ie.clean(),V(fe),d(B,fe),x(K,B),ie.reset(),ie.update(K.subarray(0,32)),ie.update(Q.subarray(32)),ie.update(Y);const pe=ie.digest();V(pe);for(let Ee=0;Ee<32;Ee++)ee[Ee]=fe[Ee];for(let Ee=0;Ee<32;Ee++)for(let _e=0;_e<32;_e++)ee[Ee+_e]+=pe[Ee]*j[_e];return H(K.subarray(32),ee),K}t.sign=R;function W(Q,Y){const ee=i(),B=i(),j=i(),K=i(),ie=i(),fe=i(),pe=i();return m(Q[2],a),M(Q[1],Y),y(j,Q[1]),v(K,j,u),U(j,j,Q[2]),N(K,Q[2],K),y(ie,K),y(fe,ie),v(pe,fe,ie),v(ee,pe,j),v(ee,ee,K),k(ee,ee),v(ee,ee,j),v(ee,ee,K),v(ee,ee,K),v(Q[0],ee,K),y(B,Q[0]),v(B,B,K),w(B,j)&&v(Q[0],Q[0],h),y(B,Q[0]),v(B,B,K),w(B,j)?-1:(C(Q[0])===Y[31]>>7&&U(Q[0],o,Q[0]),v(Q[3],Q[0],Q[1]),0)}function ae(Q,Y,ee){const B=new Uint8Array(32),j=[i(),i(),i(),i()],K=[i(),i(),i(),i()];if(ee.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(W(K,Q))return!1;const ie=new n.SHA512;ie.update(ee.subarray(0,32)),ie.update(Q),ie.update(Y);const fe=ie.digest();return V(fe),g(j,K,fe),d(K,ee.subarray(32)),L(j,K),x(B,j),!_(ee,B)}t.verify=ae;function re(Q){let Y=[i(),i(),i(),i()];if(W(Y,Q))throw new Error("Ed25519: invalid public key");let ee=i(),B=i(),j=Y[1];N(ee,a,j),U(B,a,j),S(B,B),v(ee,ee,B);let K=new Uint8Array(32);return T(K,ee),K}t.convertPublicKeyToX25519=re;function X(Q){const Y=(0,n.hash)(Q.subarray(0,32));Y[0]&=248,Y[31]&=127,Y[31]|=64;const ee=new Uint8Array(Y.subarray(0,32));return(0,r.wipe)(Y),ee}t.convertSecretKeyToX25519=X})(hW);var I1={exports:{}};I1.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",l="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Function]",b="[object GeneratorFunction]",A="[object Map]",T="[object Number]",_="[object Null]",w="[object Object]",C="[object Promise]",M="[object Proxy]",N="[object RegExp]",U="[object Set]",v="[object String]",y="[object Symbol]",S="[object Undefined]",k="[object WeakMap]",L="[object ArrayBuffer]",z="[object DataView]",x="[object Float32Array]",g="[object Float64Array]",d="[object Int8Array]",E="[object Int16Array]",P="[object Int32Array]",I="[object Uint8Array]",F="[object Uint8ClampedArray]",H="[object Uint16Array]",V="[object Uint32Array]",R=/[\\^$.*+?()[\]{}|]/g,W=/^\[object .+?Constructor\]$/,ae=/^(?:0|[1-9]\d*)$/,re={};re[x]=re[g]=re[d]=re[E]=re[P]=re[I]=re[F]=re[H]=re[V]=!0,re[a]=re[u]=re[L]=re[l]=re[z]=re[f]=re[h]=re[m]=re[A]=re[T]=re[w]=re[N]=re[U]=re[v]=re[k]=!1;var X=typeof Ce=="object"&&Ce&&Ce.Object===Object&&Ce,Q=typeof self=="object"&&self&&self.Object===Object&&self,Y=X||Q||Function("return this")(),ee=e&&!e.nodeType&&e,B=ee&&!0&&t&&!t.nodeType&&t,j=B&&B.exports===ee,K=j&&X.process,ie=function(){try{return K&&K.binding&&K.binding("util")}catch{}}(),fe=ie&&ie.isTypedArray;function pe(te,ue){for(var de=-1,Oe=te==null?0:te.length,tn=0,ct=[];++de<Oe;){var un=te[de];ue(un,de,te)&&(ct[tn++]=un)}return ct}function Ee(te,ue){for(var de=-1,Oe=ue.length,tn=te.length;++de<Oe;)te[tn+de]=ue[de];return te}function _e(te,ue){for(var de=-1,Oe=te==null?0:te.length;++de<Oe;)if(ue(te[de],de,te))return!0;return!1}function qe(te,ue){for(var de=-1,Oe=Array(te);++de<te;)Oe[de]=ue(de);return Oe}function Et(te){return function(ue){return te(ue)}}function De(te,ue){return te.has(ue)}function ke(te,ue){return te==null?void 0:te[ue]}function He(te){var ue=-1,de=Array(te.size);return te.forEach(function(Oe,tn){de[++ue]=[tn,Oe]}),de}function Te(te,ue){return function(de){return te(ue(de))}}function Re(te){var ue=-1,de=Array(te.size);return te.forEach(function(Oe){de[++ue]=Oe}),de}var Ve=Array.prototype,we=Function.prototype,G=Object.prototype,D=Y["__core-js_shared__"],$=we.toString,Z=G.hasOwnProperty,ne=function(){var te=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||"");return te?"Symbol(src)_1."+te:""}(),se=G.toString,ce=RegExp("^"+$.call(Z).replace(R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ie=j?Y.Buffer:void 0,Ae=Y.Symbol,$e=Y.Uint8Array,pt=G.propertyIsEnumerable,Fe=Ve.splice,yt=Ae?Ae.toStringTag:void 0,cr=Object.getOwnPropertySymbols,xt=Ie?Ie.isBuffer:void 0,Dt=Te(Object.keys,Object),zt=qi(Y,"DataView"),Ke=qi(Y,"Map"),nt=qi(Y,"Promise"),$t=qi(Y,"Set"),rt=qi(Y,"WeakMap"),Ze=qi(Object,"create"),Jt=Xs(zt),ze=Xs(Ke),it=Xs(nt),Ht=Xs($t),Xe=Xs(rt),st=Ae?Ae.prototype:void 0,Gt=st?st.valueOf:void 0;function We(te){var ue=-1,de=te==null?0:te.length;for(this.clear();++ue<de;){var Oe=te[ue];this.set(Oe[0],Oe[1])}}function at(){this.__data__=Ze?Ze(null):{},this.size=0}function Xt(te){var ue=this.has(te)&&delete this.__data__[te];return this.size-=ue?1:0,ue}function qt(te){var ue=this.__data__;if(Ze){var de=ue[te];return de===r?void 0:de}return Z.call(ue,te)?ue[te]:void 0}function Kt(te){var ue=this.__data__;return Ze?ue[te]!==void 0:Z.call(ue,te)}function Ui(te,ue){var de=this.__data__;return this.size+=this.has(te)?0:1,de[te]=Ze&&ue===void 0?r:ue,this}We.prototype.clear=at,We.prototype.delete=Xt,We.prototype.get=qt,We.prototype.has=Kt,We.prototype.set=Ui;function bt(te){var ue=-1,de=te==null?0:te.length;for(this.clear();++ue<de;){var Oe=te[ue];this.set(Oe[0],Oe[1])}}function Rt(){this.__data__=[],this.size=0}function ji(te){var ue=this.__data__,de=Qu(ue,te);if(de<0)return!1;var Oe=ue.length-1;return de==Oe?ue.pop():Fe.call(ue,de,1),--this.size,!0}function Vi(te){var ue=this.__data__,de=Qu(ue,te);return de<0?void 0:ue[de][1]}function wi(te){return Qu(this.__data__,te)>-1}function _i(te,ue){var de=this.__data__,Oe=Qu(de,te);return Oe<0?(++this.size,de.push([te,ue])):de[Oe][1]=ue,this}bt.prototype.clear=Rt,bt.prototype.delete=ji,bt.prototype.get=Vi,bt.prototype.has=wi,bt.prototype.set=_i;function Kn(te){var ue=-1,de=te==null?0:te.length;for(this.clear();++ue<de;){var Oe=te[ue];this.set(Oe[0],Oe[1])}}function zi(){this.size=0,this.__data__={hash:new We,map:new(Ke||bt),string:new We}}function ws(te){var ue=Zs(this,te).delete(te);return this.size-=ue?1:0,ue}function ei(te){return Zs(this,te).get(te)}function Hi(te){return Zs(this,te).has(te)}function bi(te,ue){var de=Zs(this,te),Oe=de.size;return de.set(te,ue),this.size+=de.size==Oe?0:1,this}Kn.prototype.clear=zi,Kn.prototype.delete=ws,Kn.prototype.get=ei,Kn.prototype.has=Hi,Kn.prototype.set=bi;function Qn(te){var ue=-1,de=te==null?0:te.length;for(this.__data__=new Kn;++ue<de;)this.add(te[ue])}function lr(te){return this.__data__.set(te,r),this}function Ei(te){return this.__data__.has(te)}Qn.prototype.add=Qn.prototype.push=lr,Qn.prototype.has=Ei;function Zn(te){var ue=this.__data__=new bt(te);this.size=ue.size}function Pa(){this.__data__=new bt,this.size=0}function Ma(te){var ue=this.__data__,de=ue.delete(te);return this.size=ue.size,de}function Da(te){return this.__data__.get(te)}function Ho(te){return this.__data__.has(te)}function qo(te,ue){var de=this.__data__;if(de instanceof bt){var Oe=de.__data__;if(!Ke||Oe.length<n-1)return Oe.push([te,ue]),this.size=++de.size,this;de=this.__data__=new Kn(Oe)}return de.set(te,ue),this.size=de.size,this}Zn.prototype.clear=Pa,Zn.prototype.delete=Ma,Zn.prototype.get=Da,Zn.prototype.has=Ho,Zn.prototype.set=qo;function hm(te,ue){var de=bs(te),Oe=!de&&gm(te),tn=!de&&!Oe&&Ad(te),ct=!de&&!Oe&&!tn&&ec(te),un=de||Oe||tn||ct,Tn=un?qe(te.length,String):[],Sn=Tn.length;for(var sn in te)Z.call(te,sn)&&!(un&&(sn=="length"||tn&&(sn=="offset"||sn=="parent")||ct&&(sn=="buffer"||sn=="byteLength"||sn=="byteOffset")||tb(sn,Sn)))&&Tn.push(sn);return Tn}function Qu(te,ue){for(var de=te.length;de--;)if(Ed(te[de][0],ue))return de;return-1}function Y_(te,ue,de){var Oe=ue(te);return bs(te)?Oe:Ee(Oe,de(te))}function Zu(te){return te==null?te===void 0?S:_:yt&&yt in Object(te)?eb(te):Ys(te)}function _d(te){return eo(te)&&Zu(te)==a}function bd(te,ue,de,Oe,tn){return te===ue?!0:te==null||ue==null||!eo(te)&&!eo(ue)?te!==te&&ue!==ue:X_(te,ue,de,Oe,bd,tn)}function X_(te,ue,de,Oe,tn,ct){var un=bs(te),Tn=bs(ue),Sn=un?u:Js(te),sn=Tn?u:Js(ue);Sn=Sn==a?w:Sn,sn=sn==a?w:sn;var dn=Sn==w,ti=sn==w,Jn=Sn==sn;if(Jn&&Ad(te)){if(!Ad(ue))return!1;un=!0,dn=!1}if(Jn&&!dn)return ct||(ct=new Zn),un||ec(te)?Ju(te,ue,de,Oe,tn,ct):dm(te,ue,Sn,de,Oe,tn,ct);if(!(de&i)){var Yn=dn&&Z.call(te,"__wrapped__"),Ur=ti&&Z.call(ue,"__wrapped__");if(Yn||Ur){var Wi=Yn?te.value():te,ni=Ur?ue.value():ue;return ct||(ct=new Zn),tn(Wi,ni,de,Oe,ct)}}return Jn?(ct||(ct=new Zn),en(te,ue,de,Oe,tn,ct)):!1}function Wo(te){if(!ym(te)||rb(te))return!1;var ue=Es(te)?ce:W;return ue.test(Xs(te))}function _s(te){return eo(te)&&mm(te.length)&&!!re[Zu(te)]}function Ll(te){if(!Xu(te))return Dt(te);var ue=[];for(var de in Object(te))Z.call(te,de)&&de!="constructor"&&ue.push(de);return ue}function Ju(te,ue,de,Oe,tn,ct){var un=de&i,Tn=te.length,Sn=ue.length;if(Tn!=Sn&&!(un&&Sn>Tn))return!1;var sn=ct.get(te);if(sn&&ct.get(ue))return sn==ue;var dn=-1,ti=!0,Jn=de&s?new Qn:void 0;for(ct.set(te,ue),ct.set(ue,te);++dn<Tn;){var Yn=te[dn],Ur=ue[dn];if(Oe)var Wi=un?Oe(Ur,Yn,dn,ue,te,ct):Oe(Yn,Ur,dn,te,ue,ct);if(Wi!==void 0){if(Wi)continue;ti=!1;break}if(Jn){if(!_e(ue,function(ni,to){if(!De(Jn,to)&&(Yn===ni||tn(Yn,ni,de,Oe,ct)))return Jn.push(to)})){ti=!1;break}}else if(!(Yn===Ur||tn(Yn,Ur,de,Oe,ct))){ti=!1;break}}return ct.delete(te),ct.delete(ue),ti}function dm(te,ue,de,Oe,tn,ct,un){switch(de){case z:if(te.byteLength!=ue.byteLength||te.byteOffset!=ue.byteOffset)return!1;te=te.buffer,ue=ue.buffer;case L:return!(te.byteLength!=ue.byteLength||!ct(new $e(te),new $e(ue)));case l:case f:case T:return Ed(+te,+ue);case h:return te.name==ue.name&&te.message==ue.message;case N:case v:return te==ue+"";case A:var Tn=He;case U:var Sn=Oe&i;if(Tn||(Tn=Re),te.size!=ue.size&&!Sn)return!1;var sn=un.get(te);if(sn)return sn==ue;Oe|=s,un.set(te,ue);var dn=Ju(Tn(te),Tn(ue),Oe,tn,ct,un);return un.delete(te),dn;case y:if(Gt)return Gt.call(te)==Gt.call(ue)}return!1}function en(te,ue,de,Oe,tn,ct){var un=de&i,Tn=Yu(te),Sn=Tn.length,sn=Yu(ue),dn=sn.length;if(Sn!=dn&&!un)return!1;for(var ti=Sn;ti--;){var Jn=Tn[ti];if(!(un?Jn in ue:Z.call(ue,Jn)))return!1}var Yn=ct.get(te);if(Yn&&ct.get(ue))return Yn==ue;var Ur=!0;ct.set(te,ue),ct.set(ue,te);for(var Wi=un;++ti<Sn;){Jn=Tn[ti];var ni=te[Jn],to=ue[Jn];if(Oe)var rc=un?Oe(to,ni,Jn,ue,te,ct):Oe(ni,to,Jn,te,ue,ct);if(!(rc===void 0?ni===to||tn(ni,to,de,Oe,ct):rc)){Ur=!1;break}Wi||(Wi=Jn=="constructor")}if(Ur&&!Wi){var Bl=te.constructor,ic=ue.constructor;Bl!=ic&&"constructor"in te&&"constructor"in ue&&!(typeof Bl=="function"&&Bl instanceof Bl&&typeof ic=="function"&&ic instanceof ic)&&(Ur=!1)}return ct.delete(te),ct.delete(ue),Ur}function Yu(te){return Y_(te,vm,pm)}function Zs(te,ue){var de=te.__data__;return nb(ue)?de[typeof ue=="string"?"string":"hash"]:de.map}function qi(te,ue){var de=ke(te,ue);return Wo(de)?de:void 0}function eb(te){var ue=Z.call(te,yt),de=te[yt];try{te[yt]=void 0;var Oe=!0}catch{}var tn=se.call(te);return Oe&&(ue?te[yt]=de:delete te[yt]),tn}var pm=cr?function(te){return te==null?[]:(te=Object(te),pe(cr(te),function(ue){return pt.call(te,ue)}))}:tc,Js=Zu;(zt&&Js(new zt(new ArrayBuffer(1)))!=z||Ke&&Js(new Ke)!=A||nt&&Js(nt.resolve())!=C||$t&&Js(new $t)!=U||rt&&Js(new rt)!=k)&&(Js=function(te){var ue=Zu(te),de=ue==w?te.constructor:void 0,Oe=de?Xs(de):"";if(Oe)switch(Oe){case Jt:return z;case ze:return A;case it:return C;case Ht:return U;case Xe:return k}return ue});function tb(te,ue){return ue=ue??o,!!ue&&(typeof te=="number"||ae.test(te))&&te>-1&&te%1==0&&te<ue}function nb(te){var ue=typeof te;return ue=="string"||ue=="number"||ue=="symbol"||ue=="boolean"?te!=="__proto__":te===null}function rb(te){return!!ne&&ne in te}function Xu(te){var ue=te&&te.constructor,de=typeof ue=="function"&&ue.prototype||G;return te===de}function Ys(te){return se.call(te)}function Xs(te){if(te!=null){try{return $.call(te)}catch{}try{return te+""}catch{}}return""}function Ed(te,ue){return te===ue||te!==te&&ue!==ue}var gm=_d(function(){return arguments}())?_d:function(te){return eo(te)&&Z.call(te,"callee")&&!pt.call(te,"callee")},bs=Array.isArray;function ib(te){return te!=null&&mm(te.length)&&!Es(te)}var Ad=xt||nc;function sb(te,ue){return bd(te,ue)}function Es(te){if(!ym(te))return!1;var ue=Zu(te);return ue==m||ue==b||ue==c||ue==M}function mm(te){return typeof te=="number"&&te>-1&&te%1==0&&te<=o}function ym(te){var ue=typeof te;return te!=null&&(ue=="object"||ue=="function")}function eo(te){return te!=null&&typeof te=="object"}var ec=fe?Et(fe):_s;function vm(te){return ib(te)?hm(te):Ll(te)}function tc(){return[]}function nc(){return!1}t.exports=sb})(I1,I1.exports);var dW=I1.exports;const Jwe=Ni(dW);function pW(t,e){return e=e||{},new Promise(function(n,r){var i=new XMLHttpRequest,s=[],o=[],a={},u=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return s},entries:function(){return o},get:function(l){return a[l.toLowerCase()]},has:function(l){return l.toLowerCase()in a}}}};for(var c in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(l,f,h){s.push(f=f.toLowerCase()),o.push([f,h]),a[f]=a[f]?a[f]+","+h:h}),n(u())},i.onerror=r,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(c,e.headers[c]);i.send(e.body||null)})}const gW=Object.freeze(Object.defineProperty({__proto__:null,default:pW},Symbol.toStringTag,{value:"Module"})),TI=Ta(gW);var mW=self.fetch||(self.fetch=TI.default||TI);const Ywe=Ni(mW);var p3={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ce<"u"&&Ce,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof Ce<"u"&&Ce||{},u={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(d){return d&&DataView.prototype.isPrototypeOf(d)}if(u.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(d){return d&&l.indexOf(Object.prototype.toString.call(d))>-1};function h(d){if(typeof d!="string"&&(d=String(d)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(d)||d==="")throw new TypeError('Invalid character in header field name: "'+d+'"');return d.toLowerCase()}function m(d){return typeof d!="string"&&(d=String(d)),d}function b(d){var E={next:function(){var P=d.shift();return{done:P===void 0,value:P}}};return u.iterable&&(E[Symbol.iterator]=function(){return E}),E}function A(d){this.map={},d instanceof A?d.forEach(function(E,P){this.append(P,E)},this):Array.isArray(d)?d.forEach(function(E){if(E.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+E.length);this.append(E[0],E[1])},this):d&&Object.getOwnPropertyNames(d).forEach(function(E){this.append(E,d[E])},this)}A.prototype.append=function(d,E){d=h(d),E=m(E);var P=this.map[d];this.map[d]=P?P+", "+E:E},A.prototype.delete=function(d){delete this.map[h(d)]},A.prototype.get=function(d){return d=h(d),this.has(d)?this.map[d]:null},A.prototype.has=function(d){return this.map.hasOwnProperty(h(d))},A.prototype.set=function(d,E){this.map[h(d)]=m(E)},A.prototype.forEach=function(d,E){for(var P in this.map)this.map.hasOwnProperty(P)&&d.call(E,this.map[P],P,this)},A.prototype.keys=function(){var d=[];return this.forEach(function(E,P){d.push(P)}),b(d)},A.prototype.values=function(){var d=[];return this.forEach(function(E){d.push(E)}),b(d)},A.prototype.entries=function(){var d=[];return this.forEach(function(E,P){d.push([P,E])}),b(d)},u.iterable&&(A.prototype[Symbol.iterator]=A.prototype.entries);function T(d){if(!d._noBody){if(d.bodyUsed)return Promise.reject(new TypeError("Already read"));d.bodyUsed=!0}}function _(d){return new Promise(function(E,P){d.onload=function(){E(d.result)},d.onerror=function(){P(d.error)}})}function w(d){var E=new FileReader,P=_(E);return E.readAsArrayBuffer(d),P}function C(d){var E=new FileReader,P=_(E),I=/charset=([A-Za-z0-9_-]+)/.exec(d.type),F=I?I[1]:"utf-8";return E.readAsText(d,F),P}function M(d){for(var E=new Uint8Array(d),P=new Array(E.length),I=0;I<E.length;I++)P[I]=String.fromCharCode(E[I]);return P.join("")}function N(d){if(d.slice)return d.slice(0);var E=new Uint8Array(d.byteLength);return E.set(new Uint8Array(d)),E.buffer}function U(){return this.bodyUsed=!1,this._initBody=function(d){this.bodyUsed=this.bodyUsed,this._bodyInit=d,d?typeof d=="string"?this._bodyText=d:u.blob&&Blob.prototype.isPrototypeOf(d)?this._bodyBlob=d:u.formData&&FormData.prototype.isPrototypeOf(d)?this._bodyFormData=d:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)?this._bodyText=d.toString():u.arrayBuffer&&u.blob&&c(d)?(this._bodyArrayBuffer=N(d.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(d)||f(d))?this._bodyArrayBuffer=N(d):this._bodyText=d=Object.prototype.toString.call(d):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof d=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var d=T(this);if(d)return d;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var d=T(this);return d||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(u.blob)return this.blob().then(w);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var d=T(this);if(d)return d;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(M(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}var v=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function y(d){var E=d.toUpperCase();return v.indexOf(E)>-1?E:d}function S(d,E){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');E=E||{};var P=E.body;if(d instanceof S){if(d.bodyUsed)throw new TypeError("Already read");this.url=d.url,this.credentials=d.credentials,E.headers||(this.headers=new A(d.headers)),this.method=d.method,this.mode=d.mode,this.signal=d.signal,!P&&d._bodyInit!=null&&(P=d._bodyInit,d.bodyUsed=!0)}else this.url=String(d);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new A(E.headers)),this.method=y(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal||function(){if("AbortController"in a){var H=new AbortController;return H.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&P)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(P),(this.method==="GET"||this.method==="HEAD")&&(E.cache==="no-store"||E.cache==="no-cache")){var I=/([?&])_=[^&]*/;if(I.test(this.url))this.url=this.url.replace(I,"$1_="+new Date().getTime());else{var F=/\?/;this.url+=(F.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})};function k(d){var E=new FormData;return d.trim().split("&").forEach(function(P){if(P){var I=P.split("="),F=I.shift().replace(/\+/g," "),H=I.join("=").replace(/\+/g," ");E.append(decodeURIComponent(F),decodeURIComponent(H))}}),E}function L(d){var E=new A,P=d.replace(/\r?\n[\t ]+/g," ");return P.split("\r").map(function(I){return I.indexOf(`
`)===0?I.substr(1,I.length):I}).forEach(function(I){var F=I.split(":"),H=F.shift().trim();if(H){var V=F.join(":").trim();try{E.append(H,V)}catch(R){console.warn("Response "+R.message)}}}),E}U.call(S.prototype);function z(d,E){if(!(this instanceof z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=E.statusText===void 0?"":""+E.statusText,this.headers=new A(E.headers),this.url=E.url||"",this._initBody(d)}U.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},z.error=function(){var d=new z(null,{status:200,statusText:""});return d.ok=!1,d.status=0,d.type="error",d};var x=[301,302,303,307,308];z.redirect=function(d,E){if(x.indexOf(E)===-1)throw new RangeError("Invalid status code");return new z(null,{status:E,headers:{location:d}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(E,P){this.message=E,this.name=P;var I=Error(E);this.stack=I.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function g(d,E){return new Promise(function(P,I){var F=new S(d,E);if(F.signal&&F.signal.aborted)return I(new o.DOMException("Aborted","AbortError"));var H=new XMLHttpRequest;function V(){H.abort()}H.onload=function(){var ae={statusText:H.statusText,headers:L(H.getAllResponseHeaders()||"")};F.url.indexOf("file://")===0&&(H.status<200||H.status>599)?ae.status=200:ae.status=H.status,ae.url="responseURL"in H?H.responseURL:ae.headers.get("X-Request-URL");var re="response"in H?H.response:H.responseText;setTimeout(function(){P(new z(re,ae))},0)},H.onerror=function(){setTimeout(function(){I(new TypeError("Network request failed"))},0)},H.ontimeout=function(){setTimeout(function(){I(new TypeError("Network request timed out"))},0)},H.onabort=function(){setTimeout(function(){I(new o.DOMException("Aborted","AbortError"))},0)};function R(ae){try{return ae===""&&a.location.href?a.location.href:ae}catch{return ae}}if(H.open(F.method,R(F.url),!0),F.credentials==="include"?H.withCredentials=!0:F.credentials==="omit"&&(H.withCredentials=!1),"responseType"in H&&(u.blob?H.responseType="blob":u.arrayBuffer&&(H.responseType="arraybuffer")),E&&typeof E.headers=="object"&&!(E.headers instanceof A||a.Headers&&E.headers instanceof a.Headers)){var W=[];Object.getOwnPropertyNames(E.headers).forEach(function(ae){W.push(h(ae)),H.setRequestHeader(ae,m(E.headers[ae]))}),F.headers.forEach(function(ae,re){W.indexOf(re)===-1&&H.setRequestHeader(re,ae)})}else F.headers.forEach(function(ae,re){H.setRequestHeader(re,ae)});F.signal&&(F.signal.addEventListener("abort",V),H.onreadystatechange=function(){H.readyState===4&&F.signal.removeEventListener("abort",V)}),H.send(typeof F._bodyInit>"u"?null:F._bodyInit)})}return g.polyfill=!0,a.fetch||(a.fetch=g,a.Headers=A,a.Request=S,a.Response=z),o.Headers=A,o.Request=S,o.Response=z,o.fetch=g,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(p3,p3.exports);var yW=p3.exports;const Xwe=Ni(yW),vW="2.16.5",wW=t=>t,cg=t=>t,_W=()=>`viem@${vW}`;let me=class g3 extends Error{constructor(e,n={}){var s;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:_W()});const r=n.cause instanceof g3?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,i=n.cause instanceof g3&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${n.docsBaseUrl??"https://viem.sh"}${i}${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return oD(this,e)}};function oD(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t?oD(t.cause,e):e?null:t}class bW extends me{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class EW extends me{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesBooleanError"})}}class AW extends me{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}class aD extends me{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class uD extends me{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}class RI extends me{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesLengthError"})}}function Yh(t,{dir:e,size:n=32}={}){return typeof t=="string"?vu(t,{dir:e,size:n}):SW(t,{dir:e,size:n})}function vu(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new uD({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function SW(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new uD({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}function Hs(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function xn(t){return Hs(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function el(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const CW=new TextEncoder;function tl(t,e={}){return typeof t=="number"||typeof t=="bigint"?xW(t,e):typeof t=="boolean"?IW(t,e):Hs(t)?ga(t,e):jc(t,e)}function IW(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Gs(n,{size:e.size}),Yh(n,{size:e.size})):n}const Go={zero:48,nine:57,A:65,F:70,a:97,f:102};function kI(t){if(t>=Go.zero&&t<=Go.nine)return t-Go.zero;if(t>=Go.A&&t<=Go.F)return t-(Go.A-10);if(t>=Go.a&&t<=Go.f)return t-(Go.a-10)}function ga(t,e={}){let n=t;e.size&&(Gs(n,{size:e.size}),n=Yh(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const u=kI(r.charCodeAt(a++)),c=kI(r.charCodeAt(a++));if(u===void 0||c===void 0)throw new me(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=u*16+c}return s}function xW(t,e){const n=St(t,e);return ga(n)}function jc(t,e={}){const n=CW.encode(t);return typeof e.size=="number"?(Gs(n,{size:e.size}),Yh(n,{dir:"right",size:e.size})):n}function Gs(t,{size:e}){if(xn(t)>e)throw new AW({givenSize:xn(t),maxSize:e})}function Ns(t,e={}){const{signed:n}=e;e.size&&Gs(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function ma(t,e={}){return Number(Ns(t,e))}function e_e(t,e={}){let n=ga(t);return e.size&&(Gs(n,{size:e.size}),n=el(n,{dir:"right"})),new TextDecoder().decode(n)}const TW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function At(t,e={}){return typeof t=="number"||typeof t=="bigint"?St(t,e):typeof t=="string"?lh(t,e):typeof t=="boolean"?cD(t,e):Un(t,e)}function cD(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Gs(n,{size:e.size}),Yh(n,{size:e.size})):n}function Un(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=TW[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Gs(r,{size:e.size}),Yh(r,{dir:"right",size:e.size})):r}function St(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const u=typeof t=="bigint"?"n":"";throw new bW({max:s?`${s}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${t}${u}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Yh(a,{size:r}):a}const RW=new TextEncoder;function lh(t,e={}){const n=RW.encode(t);return Un(n,e)}function ya(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new VW(t.type);return`${t.name}(${Wv(t.inputs,{includeName:e})})`}function Wv(t,{includeName:e=!1}={}){return t?t.map(n=>kW(n,{includeName:e})).join(e?", ":","):""}function kW(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Wv(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class PW extends me{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class PI extends me{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class lD extends me{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Wv(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Gv extends me{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class MW extends me{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class DW extends me{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${xn(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class OW extends me{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class fD extends me{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class NW extends me{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class hD extends me{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class MI extends me{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class x1 extends me{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class LW extends me{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class BW extends me{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${ya(e.abiItem)}\`, and`,`\`${n.type}\` in \`${ya(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class FW extends me{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class W0 extends me{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Wv(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class Kv extends me{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ya(e,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class $W extends me{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class UW extends me{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class jW extends me{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class VW extends me{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}function No(t){return typeof t[0]=="string"?Vu(t):zW(t)}function zW(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function Vu(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class mi extends me{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class t6 extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}set(e,n){return super.set(e,n),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}function T1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function HW(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function lg(t,...e){if(!HW(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function qW(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");T1(t.outputLen),T1(t.blockLen)}function fh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function dD(t,e){lg(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const zm=BigInt(2**32-1),DI=BigInt(32);function WW(t,e=!1){return e?{h:Number(t&zm),l:Number(t>>DI&zm)}:{h:Number(t>>DI&zm)|0,l:Number(t&zm)|0}}function GW(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=WW(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const KW=(t,e,n)=>t<<n|e>>>32-n,QW=(t,e,n)=>e<<n|t>>>32-n,ZW=(t,e,n)=>e<<n-32|t>>>64-n,JW=(t,e,n)=>t<<n-32|e>>>64-n,$b=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const YW=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Ub=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),io=(t,e)=>t<<32-e|t>>>e,OI=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,XW=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function NI(t){for(let e=0;e<t.length;e++)t[e]=XW(t[e])}function eG(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Qv(t){return typeof t=="string"&&(t=eG(t)),lg(t),t}function tG(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];lg(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let n6=class{clone(){return this._cloneInto()}};function pD(t){const e=r=>t().update(Qv(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function nG(t=32){if($b&&typeof $b.getRandomValues=="function")return $b.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const gD=[],mD=[],yD=[],rG=BigInt(0),Dd=BigInt(1),iG=BigInt(2),sG=BigInt(7),oG=BigInt(256),aG=BigInt(113);for(let t=0,e=Dd,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],gD.push(2*(5*r+n)),mD.push((t+1)*(t+2)/2%64);let i=rG;for(let s=0;s<7;s++)e=(e<<Dd^(e>>sG)*aG)%oG,e&iG&&(i^=Dd<<(Dd<<BigInt(s))-Dd);yD.push(i)}const[uG,cG]=GW(yD,!0),LI=(t,e,n)=>n>32?ZW(t,e,n):KW(t,e,n),BI=(t,e,n)=>n>32?JW(t,e,n):QW(t,e,n);function lG(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,c=n[u],l=n[u+1],f=LI(c,l,1)^n[a],h=BI(c,l,1)^n[a+1];for(let m=0;m<50;m+=10)t[o+m]^=f,t[o+m+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=mD[o],u=LI(i,s,a),c=BI(i,s,a),l=gD[o];i=t[l],s=t[l+1],t[l]=u,t[l+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=uG[r],t[1]^=cG[r]}n.fill(0)}let fG=class vD extends n6{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,T1(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=YW(this.state)}keccak(){OI||NI(this.state32),lG(this.state32,this.rounds),OI||NI(this.state32),this.posOut=0,this.pos=0}update(e){fh(this);const{blockLen:n,state:r}=this;e=Qv(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){fh(this,!1),lg(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return T1(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(dD(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new vD(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const hG=(t,e,n)=>pD(()=>new fG(e,t,n)),dG=hG(1,136,256/8);function Gr(t,e){const n=e||"hex",r=dG(Hs(t,{strict:!1})?tl(t):t);return n==="bytes"?r:At(r)}const jb=new t6(8192);function r6(t,e){if(jb.has(`${t}.${e}`))return jb.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=Gr(jc(n),"bytes"),i=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return jb.set(`${t}.${e}`,s),s}function n_e(t,e){if(!Er(t,{strict:!1}))throw new mi({address:t});return r6(t,e)}const pG=/^0x[a-fA-F0-9]{40}$/,Vb=new t6(8192);function Er(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Vb.has(r))return Vb.get(r);const i=pG.test(t)?t.toLowerCase()===t?!0:n?r6(t)===t:!0:!1;return Vb.set(r,i),i}function G0(t,e,n,{strict:r}={}){return Hs(t,{strict:!1})?ED(t,e,n,{strict:r}):bD(t,e,n,{strict:r})}function wD(t,e){if(typeof e=="number"&&e>0&&e>xn(t)-1)throw new aD({offset:e,position:"start",size:xn(t)})}function _D(t,e,n){if(typeof e=="number"&&typeof n=="number"&&xn(t)!==n-e)throw new aD({offset:n,position:"end",size:xn(t)})}function bD(t,e,n,{strict:r}={}){wD(t,e);const i=t.slice(e,n);return r&&_D(i,e,n),i}function ED(t,e,n,{strict:r}={}){wD(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&_D(i,e,n),i}function Al(t,e){if(t.length!==e.length)throw new OW({expectedLength:t.length,givenLength:e.length});const n=gG({params:t,values:e}),r=s6(n);return r.length===0?"0x":r}function gG({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(i6({param:t[r],value:e[r]}));return n}function i6({param:t,value:e}){const n=o6(t.type);if(n){const[r,i]=n;return yG(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return EG(e,{param:t});if(t.type==="address")return mG(e);if(t.type==="bool")return wG(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int");return _G(e,{signed:r})}if(t.type.startsWith("bytes"))return vG(e,{param:t});if(t.type==="string")return bG(e);throw new $W(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function s6(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=xn(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(St(e+i,{size:32})),r.push(a),i+=xn(a)):n.push(a)}return No([...n,...r])}function mG(t){if(!Er(t))throw new mi({address:t});return{dynamic:!1,encoded:vu(t.toLowerCase())}}function yG(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new jW(t);if(!r&&t.length!==e)throw new MW({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=i6({param:n,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=s6(s);if(r){const a=St(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?No([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:No(s.map(({encoded:o})=>o))}}function vG(t,{param:e}){const[,n]=e.type.split("bytes"),r=xn(t);if(!n){let i=t;return r%32!==0&&(i=vu(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:No([vu(St(r,{size:32})),i])}}if(r!==Number.parseInt(n))throw new DW({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:vu(t,{dir:"right"})}}function wG(t){if(typeof t!="boolean")throw new me(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:vu(cD(t))}}function _G(t,{signed:e}){return{dynamic:!1,encoded:St(t,{size:32,signed:e})}}function bG(t){const e=lh(t),n=Math.ceil(xn(e)/32),r=[];for(let i=0;i<n;i++)r.push(vu(G0(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:No([vu(St(xn(e),{size:32})),...r])}}function EG(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=i6({param:s,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?s6(r):No(r.map(({encoded:i})=>i))}}function o6(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const zb="/docs/contract/encodeDeployData";function a6(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new PW({docsPath:zb});if(!("inputs"in i))throw new PI({docsPath:zb});if(!i.inputs||i.inputs.length===0)throw new PI({docsPath:zb});const s=Al(i.inputs,n);return Vu([r,s])}function $o(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class AD extends me{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class m3 extends me{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class AG extends me{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class SG extends me{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class SD extends me{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class u6 extends me{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}function CG({chain:t,currentChainId:e}){if(!t)throw new SG;if(e!==t.id)throw new AG({chain:t,currentChainId:e})}const CD={gwei:9,wei:18},IG={ether:-9,wei:9},r_e={ether:-18,gwei:-9};function ID(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function pi(t,e="wei"){return ID(t,IG[e])}class _f extends me{constructor({cause:e,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(_f,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(_f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class nl extends me{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${pi(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(nl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class y3 extends me{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${pi(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(y3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class v3 extends me{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(v3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class w3 extends me{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(w3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class _3 extends me{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(_3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class b3 extends me{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(b3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class E3 extends me{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(E3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class A3 extends me{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(A3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class S3 extends me{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(S3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class K0 extends me{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${pi(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${pi(r)} gwei`:""}).`].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(K0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Zv extends me{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function c6(t,e="wei"){return ID(t,CD[e])}function fg(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class xG extends me{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class TG extends me{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class RG extends me{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",fg(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class kG extends me{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class PG extends me{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:l,to:f,value:h}){var b;const m=fg({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:f,value:typeof h<"u"&&`${c6(h)} ${((b=i==null?void 0:i.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${pi(a)} gwei`,maxFeePerGas:typeof u<"u"&&`${pi(u)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${pi(c)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=e}}class xD extends me{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let o="Transaction";r&&s!==void 0&&(o=`Transaction at block time "${r}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class TD extends me{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class FI extends me{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}const ur=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);class Vc extends me{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${cg(o)}`,e&&`Request body: ${ur(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class RD extends me{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${cg(r)}`,`Request body: ${ur(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class $I extends me{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${cg(n)}`,`Request body: ${ur(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const MG=-1;class yi extends me{constructor(e,{code:n,docsPath:r,metaMessages:i,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof RD?e.code:n??MG}}class Xh extends yi{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Q0 extends yi{constructor(e){super(e,{code:Q0.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(Q0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Z0 extends yi{constructor(e){super(e,{code:Z0.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Z0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class J0 extends yi{constructor(e){super(e,{code:J0.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(J0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Y0 extends yi{constructor(e){super(e,{code:Y0.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Y0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class rl extends yi{constructor(e){super(e,{code:rl.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(rl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class il extends yi{constructor(e){super(e,{code:il.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(il,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class X0 extends yi{constructor(e){super(e,{code:X0.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(X0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ep extends yi{constructor(e){super(e,{code:ep.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(ep,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class tp extends yi{constructor(e){super(e,{code:tp.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(tp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class np extends yi{constructor(e){super(e,{code:np.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(np,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class hh extends yi{constructor(e){super(e,{code:hh.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(hh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class rp extends yi{constructor(e){super(e,{code:rp.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(rp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Mf extends Xh{constructor(e){super(e,{code:Mf.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(Mf,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class ip extends Xh{constructor(e){super(e,{code:ip.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(ip,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class sp extends Xh{constructor(e){super(e,{code:sp.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(sp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class op extends Xh{constructor(e){super(e,{code:op.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(op,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ap extends Xh{constructor(e){super(e,{code:ap.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(ap,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class up extends Xh{constructor(e){super(e,{code:up.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(up,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class DG extends yi{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}function l6(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof me?t.walk(i=>i.code===_f.code):t;return r instanceof me?new _f({cause:t,message:r.details}):_f.nodeMessage.test(n)?new _f({cause:t,message:t.details}):nl.nodeMessage.test(n)?new nl({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):y3.nodeMessage.test(n)?new y3({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):v3.nodeMessage.test(n)?new v3({cause:t,nonce:e==null?void 0:e.nonce}):w3.nodeMessage.test(n)?new w3({cause:t,nonce:e==null?void 0:e.nonce}):_3.nodeMessage.test(n)?new _3({cause:t,nonce:e==null?void 0:e.nonce}):b3.nodeMessage.test(n)?new b3({cause:t}):E3.nodeMessage.test(n)?new E3({cause:t,gas:e==null?void 0:e.gas}):A3.nodeMessage.test(n)?new A3({cause:t,gas:e==null?void 0:e.gas}):S3.nodeMessage.test(n)?new S3({cause:t}):K0.nodeMessage.test(n)?new K0({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Zv({cause:t})}function OG(t,{docsPath:e,...n}){const r=(()=>{const i=l6(t,n);return i instanceof Zv?t:i})();return new PG(r,{docsPath:e,...n})}function f6(t,{format:e}){if(!e)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in t&&(n[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=e(t||{});return r(i),n}function h6(t,e){return({exclude:n,format:r})=>({exclude:n,format:i=>{const s=e(i);if(n)for(const o of n)delete s[o];return{...s,...r(i)}},type:t})}const NG={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function d6(t){const e={};return typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Un(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=St(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=St(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=St(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=St(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=St(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=St(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=NG[t.type]),typeof t.value<"u"&&(e.value=St(t.value)),e}function et(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}function Jv(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=t,o=e?$o(e):void 0;if(o&&!Er(o.address))throw new mi({address:o.address});if(s&&!Er(s))throw new mi({address:s});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new xG;if(r&&r>2n**256n-1n)throw new nl({maxFeePerGas:r});if(i&&r&&i>r)throw new K0({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function p6(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return ma(e)}class LG extends me{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class g6 extends me{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class BG extends me{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${pi(e)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class kD extends me{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const PD={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function Yv(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?ma(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?ma(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?PD[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const FG=h6("transaction",Yv);function m6(t){var n;const e=(n=t.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:Yv(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const $G=h6("block",m6);async function Iu(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:i}={}){var l,f,h;const s=r??"latest",o=i??!1,a=n!==void 0?St(n):void 0;let u=null;if(e?u=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):u=await t.request({method:"eth_getBlockByNumber",params:[a||s,o]},{dedupe:!!a}),!u)throw new kD({blockHash:e,blockNumber:n});return(((h=(f=(l=t.chain)==null?void 0:l.formatters)==null?void 0:f.block)==null?void 0:h.format)||m6)(u)}async function y6(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function UG(t,e){return MD(t,e)}async function MD(t,e){var s,o,a;const{block:n,chain:r=t.chain,request:i}=e||{};if(typeof((s=r==null?void 0:r.fees)==null?void 0:s.defaultPriorityFee)=="function"){const u=n||await et(t,Iu,"getBlock")({});return r.fees.defaultPriorityFee({block:u,client:t,request:i})}if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)<"u")return(a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee;try{const u=await t.request({method:"eth_maxPriorityFeePerGas"});return Ns(u)}catch{const[u,c]=await Promise.all([n?Promise.resolve(n):et(t,Iu,"getBlock")({}),et(t,y6,"getGasPrice")({})]);if(typeof u.baseFeePerGas!="bigint")throw new g6;const l=c-u.baseFeePerGas;return l<0n?0n:l}}async function jG(t,e){return C3(t,e)}async function C3(t,e){var h,m;const{block:n,chain:r=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var b,A;return typeof((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):((A=r==null?void 0:r.fees)==null?void 0:A.baseFeeMultiplier)??1.2})();if(o<1)throw new LG;const u=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),c=b=>b*BigInt(Math.ceil(o*u))/BigInt(u),l=n||await et(t,Iu,"getBlock")({});if(typeof((m=r==null?void 0:r.fees)==null?void 0:m.estimateFeesPerGas)=="function"){const b=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:c,request:i,type:s});if(b!==null)return b}if(s==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new g6;const b=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await MD(t,{block:l,chain:r,request:i}),A=c(l.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??A+b,maxPriorityFeePerGas:b}}return{gasPrice:(i==null?void 0:i.gasPrice)??c(await et(t,y6,"getGasPrice")({}))}}class VG extends me{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:l,to:f,value:h}){var b;const m=fg({from:n==null?void 0:n.address,to:f,value:typeof h<"u"&&`${c6(h)} ${((b=i==null?void 0:i.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${pi(a)} gwei`,maxFeePerGas:typeof u<"u"&&`${pi(u)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${pi(c)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}function zG(t,{docsPath:e,...n}){const r=(()=>{const i=l6(t,n);return i instanceof Zv?t:i})();return new VG(r,{docsPath:e,...n})}class HG extends me{constructor({address:e}){super(`State for account "${e}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class qG extends me{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function UI(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function WG(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=UI(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=UI(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function jI(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new RI({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new RI({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function GG(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=St(e)),n!==void 0&&(o.nonce=St(n)),r!==void 0&&(o.state=jI(r)),i!==void 0){if(o.state)throw new qG;o.stateDiff=jI(i)}return o}function DD(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Er(n,{strict:!1}))throw new mi({address:n});if(e[n])throw new HG({address:n});e[n]=GG(r)}return e}async function v6(t,e){var i,s,o;const n=e.account??t.account,r=n?$o(n):void 0;try{const{accessList:a,blobs:u,blobVersionedHashes:c,blockNumber:l,blockTag:f,data:h,gas:m,gasPrice:b,maxFeePerBlobGas:A,maxFeePerGas:T,maxPriorityFeePerGas:_,nonce:w,to:C,value:M,stateOverride:N,...U}=await A6(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),y=(l?St(l):void 0)||f,S=DD(N);Jv(e);const k=(o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,z=(k||d6)({...f6(U,{format:k}),from:r==null?void 0:r.address,accessList:a,blobs:u,blobVersionedHashes:c,data:h,gas:m,gasPrice:b,maxFeePerBlobGas:A,maxFeePerGas:T,maxPriorityFeePerGas:_,nonce:w,to:C,value:M}),x=await t.request({method:"eth_estimateGas",params:S?[z,y??"latest",S]:y?[z,y]:[z]});return BigInt(x)}catch(a){throw zG(a,{...e,account:r,chain:t.chain})}}async function OD(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,r?St(r):n]},{dedupe:!!r});return ma(i)}function w6(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>ga(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>Un(s))}function _6(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>ga(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>ga(o)):t.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],u=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,u)))}return n==="bytes"?s:s.map(o=>Un(o))}function KG(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),u=r?4:0,c=r?0:4;t.setUint32(e+u,o,r),t.setUint32(e+c,a,r)}const QG=(t,e,n)=>t&e^~t&n,ZG=(t,e,n)=>t&e^t&n^e&n;class JG extends n6{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ub(this.buffer)}update(e){fh(this);const{view:n,buffer:r,blockLen:i}=this;e=Qv(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const u=Ub(e);for(;i<=s-o;o+=i)this.process(u,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){fh(this),dD(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;KG(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Ub(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=u/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,l[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const YG=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Na=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),La=new Uint32Array(64);class XG extends JG{constructor(){super(64,32,8,!1),this.A=Na[0]|0,this.B=Na[1]|0,this.C=Na[2]|0,this.D=Na[3]|0,this.E=Na[4]|0,this.F=Na[5]|0,this.G=Na[6]|0,this.H=Na[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:u}=this;return[e,n,r,i,s,o,a,u]}set(e,n,r,i,s,o,a,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,n){for(let f=0;f<16;f++,n+=4)La[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=La[f-15],m=La[f-2],b=io(h,7)^io(h,18)^h>>>3,A=io(m,17)^io(m,19)^m>>>10;La[f]=A+La[f-7]+b+La[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:u,G:c,H:l}=this;for(let f=0;f<64;f++){const h=io(a,6)^io(a,11)^io(a,25),m=l+h+QG(a,u,c)+YG[f]+La[f]|0,A=(io(r,2)^io(r,13)^io(r,22))+ZG(r,i,s)|0;l=c,c=u,u=a,a=o+m|0,o=s,s=i,i=r,r=m+A|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,i,s,o,a,u,c,l)}roundClean(){La.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ND=pD(()=>new XG);function eK(t,e){return ND(Hs(t,{strict:!1})?tl(t):t)}function tK(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=eK(e);return i.set([n],0),r==="bytes"?i:Un(i)}function LD(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(tK({commitment:s,to:r,version:n}));return i}const VI=6,BD=32,b6=4096,FD=BD*b6,zI=FD*VI-1-1*b6*VI,$D=1;class nK extends me{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlobSizeTooLargeError"})}}class UD extends me{constructor(){super("Blob data must not be empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyBlobError"})}}class rK extends me{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashSizeError"})}}class iK extends me{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${$D}`,`Received: ${n}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashVersionError"})}}class HI extends me{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class jD extends me{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class sK extends me{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const oK={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new sK({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new jD({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new HI({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new HI({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function E6(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(oK);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function aK(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?ga(t.data):t.data,r=xn(n);if(!r)throw new UD;if(r>zI)throw new nK({maxSize:zI,size:r});const i=[];let s=!0,o=0;for(;s;){const a=E6(new Uint8Array(FD));let u=0;for(;u<b6;){const c=n.slice(o,o+(BD-1));if(a.pushByte(0),a.pushBytes(c),c.length<31){a.pushByte(128),s=!1;break}u++,o+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>Un(a.bytes))}function VD(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??aK({data:e,to:r}),s=t.commitments??w6({blobs:i,kzg:n,to:r}),o=t.proofs??_6({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let u=0;u<i.length;u++)a.push({blob:i[u],commitment:s[u],proof:o[u]});return a}function zD(t){if(t.type)return t.type;if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new RG({transaction:t})}const HD=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function A6(t,e){const{account:n=t.account,blobs:r,chain:i,gas:s,kzg:o,nonce:a,parameters:u=HD,type:c}=e,l=n?$o(n):void 0,f={...e,...l?{from:l==null?void 0:l.address}:{}};let h;async function m(){return h||(h=await et(t,Iu,"getBlock")({blockTag:"latest"}),h)}let b;async function A(){return b||(i?i.id:typeof e.chainId<"u"?e.chainId:(b=await et(t,p6,"getChainId")({}),b))}if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const T=w6({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const _=LD({commitments:T,to:"hex"});f.blobVersionedHashes=_}if(u.includes("sidecars")){const _=_6({blobs:r,commitments:T,kzg:o}),w=VD({blobs:r,commitments:T,proofs:_,to:"hex"});f.sidecars=w}}if(u.includes("chainId")&&(f.chainId=await A()),u.includes("nonce")&&typeof a>"u"&&l)if(l.nonceManager){const T=await A();f.nonce=await l.nonceManager.consume({address:l.address,chainId:T,client:t})}else f.nonce=await et(t,OD,"getTransactionCount")({address:l.address,blockTag:"pending"});if((u.includes("fees")||u.includes("type"))&&typeof c>"u")try{f.type=zD(f)}catch{const T=await m();f.type=typeof(T==null?void 0:T.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(u.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const T=await m(),{maxFeePerGas:_,maxPriorityFeePerGas:w}=await C3(t,{block:T,chain:i,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<w)throw new BG({maxPriorityFeePerGas:w});f.maxPriorityFeePerGas=w,f.maxFeePerGas=_}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new g6;const T=await m(),{gasPrice:_}=await C3(t,{block:T,chain:i,request:f,type:"legacy"});f.gasPrice=_}return u.includes("gas")&&typeof s>"u"&&(f.gas=await et(t,v6,"estimateGas")({...f,account:l?{address:l.address,type:"json-rpc"}:void 0})),Jv(f),delete f.parameters,f}async function qD(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}async function uK(t,e){var _,w,C,M;const{account:n=t.account,chain:r=t.chain,accessList:i,blobs:s,data:o,gas:a,gasPrice:u,maxFeePerBlobGas:c,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:h,to:m,value:b,...A}=e;if(!n)throw new AD({docsPath:"/docs/actions/wallet/sendTransaction"});const T=$o(n);try{Jv(e);let N;if(r!==null&&(N=await et(t,p6,"getChainId")({}),CG({currentChainId:N,chain:r})),T.type==="local"){const S=await et(t,A6,"prepareTransactionRequest")({account:T,accessList:i,blobs:s,chain:r,chainId:N,data:o,gas:a,gasPrice:u,maxFeePerBlobGas:c,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:h,parameters:[...HD,"sidecars"],to:m,value:b,...A}),k=(_=r==null?void 0:r.serializers)==null?void 0:_.transaction,L=await T.signTransaction(S,{serializer:k});return await et(t,qD,"sendRawTransaction")({serializedTransaction:L})}const U=(M=(C=(w=t.chain)==null?void 0:w.formatters)==null?void 0:C.transactionRequest)==null?void 0:M.format,y=(U||d6)({...f6(A,{format:U}),accessList:i,blobs:s,chainId:N,data:o,from:T.address,gas:a,gasPrice:u,maxFeePerBlobGas:c,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:h,to:m,value:b});return await t.request({method:"eth_sendTransaction",params:[y]},{retryCount:0})}catch(N){throw OG(N,{...e,account:T,chain:e.chain||void 0})}}const I3=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],WD=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],GD=[...WD,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],cK=[...WD,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],qI=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],WI=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],lK=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}];function fK(t,e={}){typeof e.size<"u"&&Gs(t,{size:e.size});const n=Un(t,e);return Ns(n,e)}function hK(t,e={}){let n=t;if(typeof e.size<"u"&&(Gs(n,{size:e.size}),n=el(n)),n.length>1||n[0]>1)throw new EW(n);return!!n[0]}function aa(t,e={}){typeof e.size<"u"&&Gs(t,{size:e.size});const n=Un(t,e);return ma(n,e)}function dK(t,e={}){let n=t;return typeof e.size<"u"&&(Gs(n,{size:e.size}),n=el(n,{dir:"right"})),new TextDecoder().decode(n)}function Xv(t,e){const n=typeof e=="string"?ga(e):e,r=E6(n);if(xn(n)===0&&t.length>0)throw new Gv;if(xn(e)&&xn(e)<32)throw new lD({data:typeof e=="string"?e:Un(e),params:t,size:xn(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(i);const[u,c]=Df(r,a,{staticPosition:0});i+=c,s.push(u)}return s}function Df(t,e,{staticPosition:n}){const r=o6(e.type);if(r){const[i,s]=r;return gK(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type==="tuple")return wK(t,e,{staticPosition:n});if(e.type==="address")return pK(t);if(e.type==="bool")return mK(t);if(e.type.startsWith("bytes"))return yK(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return vK(t,e);if(e.type==="string")return _K(t,{staticPosition:n});throw new UW(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const GI=32,x3=32;function pK(t){const e=t.readBytes(32);return[r6(Un(bD(e,-20))),32]}function gK(t,e,{length:n,staticPosition:r}){if(!n){const o=aa(t.readBytes(x3)),a=r+o,u=a+GI;t.setPosition(a);const c=aa(t.readBytes(GI)),l=cp(e);let f=0;const h=[];for(let m=0;m<c;++m){t.setPosition(u+(l?m*32:f));const[b,A]=Df(t,e,{staticPosition:u});f+=A,h.push(b)}return t.setPosition(r+32),[h,32]}if(cp(e)){const o=aa(t.readBytes(x3)),a=r+o,u=[];for(let c=0;c<n;++c){t.setPosition(a+c*32);const[l]=Df(t,e,{staticPosition:a});u.push(l)}return t.setPosition(r+32),[u,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,u]=Df(t,e,{staticPosition:r+i});i+=u,s.push(a)}return[s,i]}function mK(t){return[hK(t.readBytes(32),{size:32}),32]}function yK(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=aa(t.readBytes(32));t.setPosition(n+o);const a=aa(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const u=t.readBytes(a);return t.setPosition(n+32),[Un(u),32]}return[Un(t.readBytes(Number.parseInt(i),32)),32]}function vK(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),i=t.readBytes(32);return[r>48?fK(i,{signed:n}):aa(i,{signed:n}),32]}function wK(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(cp(e)){const o=aa(t.readBytes(x3)),a=n+o;for(let u=0;u<e.components.length;++u){const c=e.components[u];t.setPosition(a+s);const[l,f]=Df(t,c,{staticPosition:a});s+=f,i[r?u:c==null?void 0:c.name]=l}return t.setPosition(n+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[u,c]=Df(t,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=u,s+=c}return[i,s]}function _K(t,{staticPosition:e}){const n=aa(t.readBytes(32)),r=e+n;t.setPosition(r);const i=aa(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=dK(el(s));return t.setPosition(e+32),[o,32]}function cp(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(cp);const n=o6(t.type);return!!(n&&cp({...t,type:n[1]}))}const bK=t=>Gr(tl(t));function EK(t){return bK(t)}const AK="1.0.5";class Zr extends Error{constructor(e,n={}){var o;const r=n.cause instanceof Zr?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof Zr&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${AK}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}}function zu(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const KD=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,QD=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ZD=/^\(.+?\).*?$/,KI=/^tuple(?<array>(\[(\d*)\])*)$/;function T3(t){let e=t.type;if(KI.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=T3(s),i<n-1&&(e+=", ")}const r=zu(KI,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,T3({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Od(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=T3(i),r!==n-1&&(e+=", ")}return e}function SK(t){return t.type==="function"?`function ${t.name}(${Od(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs.length?` returns (${Od(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Od(t.inputs)})`:t.type==="error"?`error ${t.name}(${Od(t.inputs)})`:t.type==="constructor"?`constructor(${Od(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?"fallback()":"receive() external payable"}const JD=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function CK(t){return JD.test(t)}function IK(t){return zu(JD,t)}const YD=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function xK(t){return YD.test(t)}function TK(t){return zu(YD,t)}const XD=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function RK(t){return XD.test(t)}function kK(t){return zu(XD,t)}const eO=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function tO(t){return eO.test(t)}function PK(t){return zu(eO,t)}const nO=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function MK(t){return nO.test(t)}function DK(t){return zu(nO,t)}const OK=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function NK(t){return OK.test(t)}const LK=/^receive\(\) external payable$/;function BK(t){return LK.test(t)}const FK=new Set(["indexed"]),R3=new Set(["calldata","memory","storage"]);class $K extends Zr{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class UK extends Zr{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class jK extends Zr{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class VK extends Zr{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class zK extends Zr{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class HK extends Zr{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class qK extends Zr{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Gd extends Zr{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class WK extends Zr{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class GK extends Zr{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class KK extends Zr{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class QK extends Zr{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function ZK(t,e){return e?`${e}:${t}`:t}const Hb=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function JK(t,e={}){if(RK(t)){const n=kK(t);if(!n)throw new Gd({signature:t,type:"function"});const r=Ls(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(mc(r[a],{modifiers:R3,structs:e,type:"function"}));const o=[];if(n.returns){const a=Ls(n.returns),u=a.length;for(let c=0;c<u;c++)o.push(mc(a[c],{modifiers:R3,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}if(xK(t)){const n=TK(t);if(!n)throw new Gd({signature:t,type:"event"});const r=Ls(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(mc(r[o],{modifiers:FK,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}if(CK(t)){const n=IK(t);if(!n)throw new Gd({signature:t,type:"error"});const r=Ls(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(mc(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}if(MK(t)){const n=DK(t);if(!n)throw new Gd({signature:t,type:"constructor"});const r=Ls(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(mc(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}if(NK(t))return{type:"fallback"};if(BK(t))return{type:"receive",stateMutability:"payable"};throw new WK({signature:t})}const YK=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,XK=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,eQ=/^u?int$/;function mc(t,e){var f,h;const n=ZK(t,e==null?void 0:e.type);if(Hb.has(n))return Hb.get(n);const r=ZD.test(t),i=zu(r?XK:YK,t);if(!i)throw new jK({param:t});if(i.name&&nQ(i.name))throw new VK({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let u,c={};if(r){u="tuple";const m=Ls(i.type),b=[],A=m.length;for(let T=0;T<A;T++)b.push(mc(m[T],{structs:a}));c={components:b}}else if(i.type in a)u="tuple",c={components:a[i.type]};else if(eQ.test(i.type))u=`${i.type}256`;else if(u=i.type,(e==null?void 0:e.type)!=="struct"&&!rO(u))throw new UK({type:u});if(i.modifier){if(!((h=(f=e==null?void 0:e.modifiers)==null?void 0:f.has)!=null&&h.call(f,i.modifier)))throw new zK({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(R3.has(i.modifier)&&!rQ(u,!!i.array))throw new HK({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const l={type:`${u}${i.array??""}`,...s,...o,...c};return Hb.set(n,l),l}function Ls(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return r===0?Ls(a,[...e,n.trim()]):Ls(a,e,`${n}${o}`,r);case"(":return Ls(a,e,`${n}${o}`,r+1);case")":return Ls(a,e,`${n}${o}`,r-1);default:return Ls(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new QK({current:n,depth:r});return e.push(n.trim()),e}function rO(t){return t==="address"||t==="bool"||t==="function"||t==="string"||KD.test(t)||QD.test(t)}const tQ=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function nQ(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||KD.test(t)||QD.test(t)||tQ.test(t)}function rQ(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function iQ(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!tO(a))continue;const u=PK(a);if(!u)throw new Gd({signature:a,type:"struct"});const c=u.properties.split(";"),l=[],f=c.length;for(let h=0;h<f;h++){const b=c[h].trim();if(!b)continue;const A=mc(b,{type:"struct"});l.push(A)}if(!l.length)throw new GK({signature:a});e[u.name]=l}const r={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,u]=i[o];r[a]=iO(u,e)}return r}const sQ=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function iO(t,e,n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(ZD.test(o.type))r.push(o);else{const u=zu(sQ,o.type);if(!(u!=null&&u.type))throw new qK({abiParameter:o});const{array:c,type:l}=u;if(l in e){if(n.has(l))throw new KK({type:l});r.push({...o,type:`tuple${c??""}`,components:iO(e[l]??[],e,new Set([...n,l]))})}else if(rO(l))r.push(o);else throw new $K({type:l})}}return r}function sO(t){const e=iQ(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];tO(s)||n.push(JK(s,e))}return n}function oQ(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new me("Unable to normalize signature.");return i}const aQ=t=>{const e=typeof t=="string"?t:SK(t);return oQ(e)};function oO(t){return EK(aQ(t))}const S6=oO,C6=t=>G0(oO(t),0,4);function hg(t){const{abi:e,args:n=[],name:r}=t,i=Hs(r,{strict:!1}),s=e.filter(a=>i?a.type==="function"?C6(a)===r:a.type==="event"?S6(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((c,l)=>{const f="inputs"in a&&a.inputs[l];return f?k3(c,f):!1})){if(o&&"inputs"in o&&o.inputs){const c=aO(a.inputs,o.inputs,n);if(c)throw new BW({abiItem:a,type:c[0]},{abiItem:o,type:c[1]})}o=a}}return o||s[0]}function k3(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Er(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>k3(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>k3(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function aO(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return aO(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Er(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Er(n[r],{strict:!1}):!1)return o}}const qb="/docs/contract/decodeFunctionResult";function ed(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const a=hg({abi:e,args:n,name:r});if(!a)throw new x1(r,{docsPath:qb});s=a}if(s.type!=="function")throw new x1(void 0,{docsPath:qb});if(!s.outputs)throw new LW(s.name,{docsPath:qb});const o=Xv(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const QI="/docs/contract/encodeFunctionData";function uQ(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=hg({abi:e,args:n,name:r});if(!s)throw new x1(r,{docsPath:QI});i=s}if(i.type!=="function")throw new x1(void 0,{docsPath:QI});return{abi:[i],functionName:C6(ya(i))}}function Hu(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:uQ(t)})(),i=n[0],s=r,o="inputs"in i&&i.inputs?Al(i.inputs,e??[]):void 0;return Vu([s,o??"0x"])}function td({blockNumber:t,chain:e,contract:n}){var i;const r=(i=e==null?void 0:e.contracts)==null?void 0:i[n];if(!r)throw new m3({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new m3({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const uO={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},cQ={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},lQ={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function cO(t){const{abi:e,data:n}=t,r=G0(n,0,4);if(r==="0x")throw new Gv;const s=[...e||[],cQ,lQ].find(o=>o.type==="error"&&r===C6(ya(o)));if(!s)throw new fD(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Xv(s.inputs,G0(n,4)):void 0,errorName:s.name}}function lO({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?ur(e[s]):e[s]}`).join(", ")})`}class fO extends me{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:l,to:f,value:h,stateOverride:m}){var T;const b=n?$o(n):void 0;let A=fg({from:b==null?void 0:b.address,to:f,value:typeof h<"u"&&`${c6(h)} ${((T=i==null?void 0:i.nativeCurrency)==null?void 0:T.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${pi(a)} gwei`,maxFeePerGas:typeof u<"u"&&`${pi(u)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${pi(c)} gwei`,nonce:l});m&&(A+=`
${WG(m)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",A].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}}class fQ extends me{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const u=hg({abi:n,args:r,name:o}),c=u?lO({abiItem:u,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=u?ya(u,{includeName:!0}):void 0,f=fg({address:i&&wW(i),function:l,args:c&&c!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${c}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",f].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class P3 extends me{constructor({abi:e,data:n,functionName:r,message:i}){let s,o,a,u;if(n&&n!=="0x")try{o=cO({abi:e,data:n});const{abiItem:l,errorName:f,args:h}=o;if(f==="Error")u=h[0];else if(f==="Panic"){const[m]=h;u=uO[m]}else{const m=l?ya(l,{includeName:!0}):void 0,b=l&&h?lO({abiItem:l,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[m?`Error: ${m}`:"",b&&b!=="()"?`       ${[...Array((f==null?void 0:f.length)??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(l){s=l}else i&&(u=i);let c;s instanceof fD&&(c=s.signature,a=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(u&&u!=="execution reverted"||c?[`The contract function "${r}" reverted with the following ${c?"signature":"reason"}:`,u||c].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=u,this.signature=c}}class hQ extends me{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class dQ extends me{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CounterfactualDeploymentFailedError"})}}class I6 extends me{constructor({data:e,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function x6(t,e){var r,i,s,o,a,u;if(!(t instanceof me))return!1;const n=t.walk(c=>c instanceof P3);return n instanceof P3?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((i=n.data)==null?void 0:i.errorName)==="ResolverWildcardNotSupported"||((s=n.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(u=n.reason)!=null&&u.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&n.reason===uO[50]):!1}function hO(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Hs(e)?e:null}function $y(t){let e=new Uint8Array(32).fill(0);if(!t)return Un(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=hO(n[r]),s=i?tl(i):Gr(jc(n[r]),"bytes");e=Gr(No([e,s]),"bytes")}return Un(e)}function pQ(t){return`[${t.slice(2)}]`}function gQ(t){const e=new Uint8Array(32).fill(0);return t?hO(t)||Gr(jc(t)):Un(e)}function ew(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(jc(e).byteLength+2);let r=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=jc(i[s]);o.byteLength>255&&(o=jc(pQ(gQ(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const mQ=3;function lp(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:o}){const{code:a,data:u,message:c,shortMessage:l}=t instanceof I6?t:t instanceof me?t.walk(h=>"data"in h)||t.walk():{},f=t instanceof Gv?new hQ({functionName:s}):[mQ,rl.code].includes(a)&&(u||c||l)?new P3({abi:e,data:typeof u=="object"?u.data:u,functionName:s,message:l??c}):t;return new fQ(f,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}const yQ="0x82ad56cb",vQ="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",wQ="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",_Q="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function bQ(t,{docsPath:e,...n}){const r=(()=>{const i=l6(t,n);return i instanceof Zv?t:i})();return new fO(r,{docsPath:e,...n})}const Wb=new Map;function dO({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const l=u();o();const f=l.map(({args:h})=>h);f.length!==0&&t(f).then(h=>{var m;i&&Array.isArray(h)&&h.sort(i);for(let b=0;b<l.length;b++){const{pendingPromise:A}=l[b];(m=A.resolve)==null||m.call(A,[h[b],h])}}).catch(h=>{var m;for(let b=0;b<l.length;b++){const{pendingPromise:A}=l[b];(m=A.reject)==null||m.call(A,h)}})},o=()=>Wb.delete(e),a=()=>u().map(({args:l})=>l),u=()=>Wb.get(e)||[],c=l=>Wb.set(e,[...u(),l]);return{flush:o,async schedule(l){const f={},h=new Promise((A,T)=>{f.resolve=A,f.reject=T});return(n==null?void 0:n([...a(),l]))&&s(),u().length>0?(c({args:l,pendingPromise:f}),h):(c({args:l,pendingPromise:f}),setTimeout(s,r),h)}}}async function dg(t,e){var L,z,x,g;const{account:n=t.account,batch:r=!!((L=t.batch)!=null&&L.multicall),blockNumber:i,blockTag:s="latest",accessList:o,blobs:a,code:u,data:c,factory:l,factoryData:f,gas:h,gasPrice:m,maxFeePerBlobGas:b,maxFeePerGas:A,maxPriorityFeePerGas:T,nonce:_,to:w,value:C,stateOverride:M,...N}=e,U=n?$o(n):void 0;if(u&&(l||f))throw new me("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&w)throw new me("Cannot provide both `code` & `to` as parameters.");const v=u&&c,y=l&&f&&w&&c,S=v||y,k=v?SQ({code:u,data:c}):y?CQ({data:c,factory:l,factoryData:f,to:w}):c;try{Jv(e);const E=(i?St(i):void 0)||s,P=DD(M),I=(g=(x=(z=t.chain)==null?void 0:z.formatters)==null?void 0:x.transactionRequest)==null?void 0:g.format,H=(I||d6)({...f6(N,{format:I}),from:U==null?void 0:U.address,accessList:o,blobs:a,data:k,gas:h,gasPrice:m,maxFeePerBlobGas:b,maxFeePerGas:A,maxPriorityFeePerGas:T,nonce:_,to:S?void 0:w,value:C});if(r&&EQ({request:H})&&!P)try{return await AQ(t,{...H,blockNumber:i,blockTag:s})}catch(R){if(!(R instanceof SD)&&!(R instanceof m3))throw R}const V=await t.request({method:"eth_call",params:P?[H,E,P]:[H,E]});return V==="0x"?{data:void 0}:{data:V}}catch(d){const E=IQ(d),{offchainLookup:P,offchainLookupSignature:I}=await XV(async()=>{const{offchainLookup:F,offchainLookupSignature:H}=await Promise.resolve().then(()=>SZ);return{offchainLookup:F,offchainLookupSignature:H}},void 0);if(t.ccipRead!==!1&&(E==null?void 0:E.slice(0,10))===I&&w)return{data:await P(t,{data:E,to:w})};throw S&&(E==null?void 0:E.slice(0,10))==="0x101bb98d"?new dQ({factory:l}):bQ(d,{...e,account:U,chain:t.chain})}}function EQ({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(yQ)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function AQ(t,e){var A;const{batchSize:n=1024,wait:r=0}=typeof((A=t.batch)==null?void 0:A.multicall)=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:s="latest",data:o,multicallAddress:a,to:u}=e;let c=a;if(!c){if(!t.chain)throw new SD;c=td({blockNumber:i,chain:t.chain,contract:"multicall3"})}const f=(i?St(i):void 0)||s,{schedule:h}=dO({id:`${t.uid}.${f}`,wait:r,shouldSplitBatch(T){return T.reduce((w,{data:C})=>w+(C.length-2),0)>n*2},fn:async T=>{const _=T.map(M=>({allowFailure:!0,callData:M.data,target:M.to})),w=Hu({abi:I3,args:[_],functionName:"aggregate3"}),C=await t.request({method:"eth_call",params:[{data:w,to:c},f]});return ed({abi:I3,args:[_],functionName:"aggregate3",data:C||"0x"})}}),[{returnData:m,success:b}]=await h({data:o,to:u});if(!b)throw new I6({data:m});return m==="0x"?{data:void 0}:{data:m}}function SQ(t){const{code:e,data:n}=t;return a6({abi:sO(["constructor(bytes, bytes)"]),bytecode:vQ,args:[e,n]})}function CQ(t){const{data:e,factory:n,factoryData:r,to:i}=t;return a6({abi:sO(["constructor(address, bytes, address, bytes)"]),bytecode:wQ,args:[i,e,n,r]})}function IQ(t){var n;if(!(t instanceof me))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function va(t,e){const{abi:n,address:r,args:i,functionName:s,...o}=e,a=Hu({abi:n,args:i,functionName:s});try{const{data:u}=await et(t,dg,"call")({...o,data:a,to:r});return ed({abi:n,args:i,functionName:s,data:u||"0x"})}catch(u){throw lp(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function xQ(t,{blockNumber:e,blockTag:n,coinType:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){let u=a;if(!u){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");u=td({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}try{const c=Hu({abi:WI,functionName:"addr",...r!=null?{args:[$y(i),BigInt(r)]}:{args:[$y(i)]}}),l={address:u,abi:GD,functionName:"resolve",args:[At(ew(i)),c],blockNumber:e,blockTag:n},f=et(t,va,"readContract"),h=s?await f({...l,args:[...l.args,s]}):await f(l);if(h[0]==="0x")return null;const m=ed({abi:WI,args:r!=null?[$y(i),BigInt(r)]:void 0,functionName:"addr",data:h[0]});return m==="0x"||el(m)==="0x00"?null:m}catch(c){if(o)throw c;if(x6(c,"resolve"))return null;throw c}}class TQ extends me{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class Nd extends me{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class T6 extends me{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class RQ extends me{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const kQ=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,PQ=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,MQ=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,DQ=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function OQ(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function ZI(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function pO({uri:t,gatewayUrls:e}){const n=MQ.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=ZI(e==null?void 0:e.ipfs,"https://ipfs.io"),i=ZI(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match(kQ),{protocol:o,subpath:a,target:u,subtarget:c=""}=(s==null?void 0:s.groups)||{},l=o==="ipns:/"||a==="ipns/",f=o==="ipfs:/"||a==="ipfs/"||PQ.test(t);if(t.startsWith("http")&&!l&&!f){let m=t;return e!=null&&e.arweave&&(m=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:m,isOnChain:!1,isEncoded:!1}}if((l||f)&&u)return{uri:`${r}/${l?"ipns":"ipfs"}/${u}${c}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&u)return{uri:`${i}/${u}${c||""}`,isOnChain:!1,isEncoded:!1};let h=t.replace(DQ,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new T6({uri:t})}function gO(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new TQ({data:t});return t.image||t.image_url||t.image_data}async function NQ({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await R6({gatewayUrls:t,uri:gO(n)})}catch{throw new T6({uri:e})}}async function R6({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=pO({uri:e,gatewayUrls:t});if(r||await OQ(n))return n;throw new T6({uri:e})}function LQ(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[s,o]=n.split(":"),[a,u]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new Nd({reason:"Only EIP-155 supported"});if(!o)throw new Nd({reason:"Chain ID not found"});if(!u)throw new Nd({reason:"Contract address not found"});if(!i)throw new Nd({reason:"Token ID not found"});if(!a)throw new Nd({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:a.toLowerCase(),contractAddress:u,tokenID:i}}async function BQ(t,{nft:e}){if(e.namespace==="erc721")return va(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return va(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new RQ({namespace:e.namespace})}async function FQ(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?$Q(t,{gatewayUrls:e,record:n}):R6({uri:n,gatewayUrls:e})}async function $Q(t,{gatewayUrls:e,record:n}){const r=LQ(n),i=await BQ(t,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=pO({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const c=a?atob(s.replace("data:application/json;base64,","")):s,l=JSON.parse(c);return R6({uri:gO(l),gatewayUrls:e})}let u=r.tokenID;return r.namespace==="erc1155"&&(u=u.replace("0x","").padStart(64,"0")),NQ({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,u)})}async function mO(t,{blockNumber:e,blockTag:n,name:r,key:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){let u=a;if(!u){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");u=td({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}try{const c={address:u,abi:GD,functionName:"resolve",args:[At(ew(r)),Hu({abi:qI,functionName:"text",args:[$y(r),i]})],blockNumber:e,blockTag:n},l=et(t,va,"readContract"),f=s?await l({...c,args:[...c.args,s]}):await l(c);if(f[0]==="0x")return null;const h=ed({abi:qI,functionName:"text",data:f[0]});return h===""?null:h}catch(c){if(o)throw c;if(x6(c,"resolve"))return null;throw c}}async function UQ(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const u=await et(t,mO,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!u)return null;try{return await FQ(t,{record:u,gatewayUrls:r})}catch{return null}}async function jQ(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:i,strict:s,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=td({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const u=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const c={address:a,abi:cK,functionName:"reverse",args:[At(ew(u))],blockNumber:n,blockTag:r},l=et(t,va,"readContract"),[f,h]=i?await l({...c,args:[...c.args,i]}):await l(c);return e.toLowerCase()!==h.toLowerCase()?null:f}catch(c){if(s)throw c;if(x6(c,"reverse"))return null;throw c}}async function VQ(t,{blockNumber:e,blockTag:n,name:r,universalResolverAddress:i}){let s=i;if(!s){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");s=td({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const[o]=await et(t,va,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[At(ew(r))],blockNumber:e,blockTag:n});return o}function tw(t,{method:e}){var r,i;const n={};return t.transport.type==="fallback"&&((i=(r=t.transport).onResponse)==null||i.call(r,({method:s,response:o,status:a,transport:u})=>{a==="success"&&e===s&&(n[o]=u.request)})),s=>n[s]||t.request}async function zQ(t){const e=tw(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}class HQ extends me{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}const JI="/docs/contract/encodeEventTopics";function pg(t){var u;const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const c=hg({abi:e,name:n});if(!c)throw new MI(n,{docsPath:JI});i=c}if(i.type!=="event")throw new MI(void 0,{docsPath:JI});const s=ya(i),o=S6(s);let a=[];if(r&&"inputs"in i){const c=(u=i.inputs)==null?void 0:u.filter(f=>"indexed"in f&&f.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?(c==null?void 0:c.map(f=>r[f.name]))??[]:[];l.length>0&&(a=(c==null?void 0:c.map((f,h)=>Array.isArray(l[h])?l[h].map((m,b)=>YI({param:f,value:l[h][b]})):l[h]?YI({param:f,value:l[h]}):null))??[])}return[o,...a]}function YI({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Gr(tl(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new HQ(t.type);return Al([t],[e])}async function yO(t,e){const{address:n,abi:r,args:i,eventName:s,fromBlock:o,strict:a,toBlock:u}=e,c=tw(t,{method:"eth_newFilter"}),l=s?pg({abi:r,args:i,eventName:s}):void 0,f=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?St(o):o,toBlock:typeof u=="bigint"?St(u):u,topics:l}]});return{abi:r,args:i,eventName:s,id:f,request:c(f),strict:!!a,type:"event"}}async function vO(t,{address:e,args:n,event:r,events:i,fromBlock:s,strict:o,toBlock:a}={}){const u=i??(r?[r]:void 0),c=tw(t,{method:"eth_newFilter"});let l=[];u&&(l=[u.flatMap(m=>pg({abi:[m],eventName:m.name,args:n}))],r&&(l=l[0]));const f=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?St(s):s,toBlock:typeof a=="bigint"?St(a):a,...l.length?{topics:l}:{}}]});return{abi:u,args:n,eventName:r?r.name:void 0,fromBlock:s,id:f,request:c(f),strict:!!o,toBlock:a,type:"event"}}async function wO(t){const e=tw(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function qQ(t,e){const{abi:n,address:r,args:i,functionName:s,...o}=e,a=Hu({abi:n,args:i,functionName:s});try{return await et(t,v6,"estimateGas")({data:a,to:r,...o})}catch(u){const c=o.account?$o(o.account):void 0;throw lp(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:c==null?void 0:c.address})}}async function WQ(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n?St(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(s)}async function GQ(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}const KQ=new Map,QQ=new Map;function ZQ(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=e(t,KQ),r=e(t,QQ);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function JQ(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=ZQ(e),i=r.response.get();if(i&&n>0&&new Date().getTime()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const YQ=t=>`blockNumber.${t}`;async function gg(t,{cacheTime:e=t.cacheTime}={}){const n=await JQ(()=>t.request({method:"eth_blockNumber"}),{cacheKey:YQ(t.uid),cacheTime:e});return BigInt(n)}async function XQ(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?St(n):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),ma(s)}async function M3(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?St(n):void 0,s=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(s!=="0x")return s}const XI="/docs/contract/decodeEventLog";function k6(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[o,...a]=i;if(!o)throw new NW({docsPath:XI});const u=e.find(A=>A.type==="event"&&o===S6(ya(A)));if(!(u&&"name"in u)||u.type!=="event")throw new hD(o,{docsPath:XI});const{name:c,inputs:l}=u,f=l==null?void 0:l.some(A=>!("name"in A&&A.name));let h=f?[]:{};const m=l.filter(A=>"indexed"in A&&A.indexed);for(let A=0;A<m.length;A++){const T=m[A],_=a[A];if(!_)throw new Kv({abiItem:u,param:T});h[f?A:T.name||A]=eZ({param:T,value:_})}const b=l.filter(A=>!("indexed"in A&&A.indexed));if(b.length>0){if(n&&n!=="0x")try{const A=Xv(b,n);if(A)if(f)h=[...h,...A];else for(let T=0;T<b.length;T++)h[b[T].name]=A[T]}catch(A){if(s)throw A instanceof lD||A instanceof jD?new W0({abiItem:u,data:n,params:b,size:xn(n)}):A}else if(s)throw new W0({abiItem:u,data:"0x",params:b,size:0})}return{eventName:c,args:Object.values(h).length>0?h:void 0}}function eZ({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Xv([t],e)||[])[0]}function P6({abi:t,eventName:e,logs:n,strict:r=!0}){return n.map(i=>{var s;try{const o=k6({...i,abi:t,strict:r});return e&&!e.includes(o.eventName)?null:{...o,...i}}catch(o){let a,u;if(o instanceof hD)return null;if(o instanceof W0||o instanceof Kv){if(r)return null;a=o.abiItem.name,u=(s=o.abiItem.inputs)==null?void 0:s.some(c=>!("name"in c&&c.name))}return{...i,args:u?[]:{},eventName:a}}}).filter(Boolean)}function xu(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function M6(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:s,events:o,args:a,strict:u}={}){const c=u??!1,l=o??(s?[s]:void 0);let f=[];l&&(f=[l.flatMap(A=>pg({abi:[A],eventName:A.name,args:a}))],s&&(f=f[0]));let h;n?h=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,blockHash:n}]}):h=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,fromBlock:typeof r=="bigint"?St(r):r,toBlock:typeof i=="bigint"?St(i):i}]});const m=h.map(b=>xu(b));return l?P6({abi:l,logs:m,strict:c}):m}async function _O(t,e){const{abi:n,address:r,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:u,strict:c}=e,l=o?hg({abi:n,name:o}):void 0,f=l?void 0:n.filter(h=>h.type==="event");return et(t,M6,"getLogs")({address:r,args:i,blockHash:s,event:l,events:f,fromBlock:a,toBlock:u,strict:c})}class tZ extends me{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip712DomainNotFoundError"})}}async function nZ(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[s,o,a,u,c,l,f]=await et(t,va,"readContract")({abi:rZ,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:o,version:a,chainId:Number(u),verifyingContract:c,salt:l},extensions:f,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new tZ({address:n}):o}}const rZ=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function iZ(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function sZ(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s=n?St(n):void 0,o=await t.request({method:"eth_feeHistory",params:[St(e),s||r,i]},{dedupe:!!s});return iZ(o)}async function nw(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>xu(s));return!("abi"in e)||!e.abi?i:P6({abi:e.abi,logs:i,strict:n})}async function oZ(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>xu(s));return e.abi?P6({abi:e.abi,logs:i,strict:n}):i}async function aZ(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const s=n!==void 0?St(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||r]})}async function D6(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){var l,f,h;const o=r||"latest",a=n!==void 0?St(n):void 0;let u=null;if(i?u=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?u=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,St(s)]},{dedupe:!0}):u=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,St(s)]},{dedupe:!!a}),!u)throw new xD({blockHash:e,blockNumber:n,blockTag:o,hash:i,index:s});return(((h=(f=(l=t.chain)==null?void 0:l.formatters)==null?void 0:f.transaction)==null?void 0:h.format)||Yv)(u)}async function uZ(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([et(t,gg,"getBlockNumber")({}),e?et(t,D6,"getTransaction")({hash:e}):void 0]),s=(n==null?void 0:n.blockNumber)||(i==null?void 0:i.blockNumber);return s?r-s+1n:0n}const cZ={"0x0":"reverted","0x1":"success"};function bO(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>xu(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?ma(t.transactionIndex):null,status:t.status?cZ[t.status]:null,type:t.type?PD[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const lZ=h6("transactionReceipt",bO);async function D3(t,{hash:e}){var i,s,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new TD({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||bO)(n)}async function fZ(t,e){var T;const{allowFailure:n=!0,batchSize:r,blockNumber:i,blockTag:s,multicallAddress:o,stateOverride:a}=e,u=e.contracts,c=r??(typeof((T=t.batch)==null?void 0:T.multicall)=="object"&&t.batch.multicall.batchSize||1024);let l=o;if(!l){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");l=td({blockNumber:i,chain:t.chain,contract:"multicall3"})}const f=[[]];let h=0,m=0;for(let _=0;_<u.length;_++){const{abi:w,address:C,args:M,functionName:N}=u[_];try{const U=Hu({abi:w,args:M,functionName:N});m+=(U.length-2)/2,c>0&&m>c&&f[h].length>0&&(h++,m=(U.length-2)/2,f[h]=[]),f[h]=[...f[h],{allowFailure:!0,callData:U,target:C}]}catch(U){const v=lp(U,{abi:w,address:C,args:M,docsPath:"/docs/contract/multicall",functionName:N});if(!n)throw v;f[h]=[...f[h],{allowFailure:!0,callData:"0x",target:C}]}}const b=await Promise.allSettled(f.map(_=>et(t,va,"readContract")({abi:I3,address:l,args:[_],blockNumber:i,blockTag:s,functionName:"aggregate3",stateOverride:a}))),A=[];for(let _=0;_<b.length;_++){const w=b[_];if(w.status==="rejected"){if(!n)throw w.reason;for(let M=0;M<f[_].length;M++)A.push({status:"failure",error:w.reason,result:void 0});continue}const C=w.value;for(let M=0;M<C.length;M++){const{returnData:N,success:U}=C[M],{callData:v}=f[_][M],{abi:y,address:S,functionName:k,args:L}=u[A.length];try{if(v==="0x")throw new Gv;if(!U)throw new I6({data:N});const z=ed({abi:y,args:L,data:N,functionName:k});A.push(n?{result:z,status:"success"}:z)}catch(z){const x=lp(z,{abi:y,address:S,args:L,docsPath:"/docs/contract/multicall",functionName:k});if(!n)throw x;A.push({error:x,result:void 0,status:"failure"})}}}if(A.length!==u.length)throw new me("multicall results mismatch");return A}const Gb=new Map,ex=new Map;let hZ=0;function Tu(t,e,n){const r=++hZ,i=()=>Gb.get(t)||[],s=()=>{const l=i();Gb.set(t,l.filter(f=>f.id!==r))},o=()=>{const l=ex.get(t);i().length===1&&l&&l(),s()},a=i();if(Gb.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const u={};for(const l in e)u[l]=(...f)=>{var m,b;const h=i();if(h.length!==0)for(const A of h)(b=(m=A.fns)[l])==null||b.call(m,...f)};const c=n(u);return typeof c=="function"&&ex.set(t,c),o}async function O3(t){return new Promise(e=>setTimeout(e,t))}function mg(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const u=await(n==null?void 0:n(a))??r;await O3(u);const c=async()=>{i&&(await t({unpoll:s}),await O3(r),c())};c()})(),s}function dZ(t,{blockTag:e="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:u=t.pollingInterval}){const c=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),l=o??!1;let f;return c?(()=>{const b=ur(["watchBlocks",t.uid,e,n,r,l,u]);return Tu(b,{onBlock:i,onError:s},A=>mg(async()=>{var T;try{const _=await et(t,Iu,"getBlock")({blockTag:e,includeTransactions:l});if(_.number&&(f!=null&&f.number)){if(_.number===f.number)return;if(_.number-f.number>1&&n)for(let w=(f==null?void 0:f.number)+1n;w<_.number;w++){const C=await et(t,Iu,"getBlock")({blockNumber:w,includeTransactions:l});A.onBlock(C,f),f=C}}(!(f!=null&&f.number)||e==="pending"&&!(_!=null&&_.number)||_.number&&_.number>f.number)&&(A.onBlock(_,f),f=_)}catch(_){(T=A.onError)==null||T.call(A,_)}},{emitOnBegin:r,interval:u}))})():(()=>{let b=!0,A=()=>b=!1;return(async()=>{try{const T=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(C=>C.config.type==="webSocket");return w?w.value:t.transport}return t.transport})(),{unsubscribe:_}=await T.subscribe({params:["newHeads"],onData(w){var N,U,v;if(!b)return;const M=(((v=(U=(N=t.chain)==null?void 0:N.formatters)==null?void 0:U.block)==null?void 0:v.format)||m6)(w.result);i(M,f),f=M},onError(w){s==null||s(w)}});A=_,b||A()}catch(T){s==null||s(T)}})(),()=>A()})()}function EO(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let u;return a?(()=>{const f=ur(["watchBlockNumber",t.uid,e,n,o]);return Tu(f,{onBlockNumber:r,onError:i},h=>mg(async()=>{var m;try{const b=await et(t,gg,"getBlockNumber")({cacheTime:0});if(u){if(b===u)return;if(b-u>1&&n)for(let A=u+1n;A<b;A++)h.onBlockNumber(A,u),u=A}(!u||b>u)&&(h.onBlockNumber(b,u),u=b)}catch(b){(m=h.onError)==null||m.call(h,b)}},{emitOnBegin:e,interval:o}))})():(()=>{const f=ur(["watchBlockNumber",t.uid,e,n]);return Tu(f,{onBlockNumber:r,onError:i},h=>{let m=!0,b=()=>m=!1;return(async()=>{try{const A=(()=>{if(t.transport.type==="fallback"){const _=t.transport.transports.find(w=>w.config.type==="webSocket");return _?_.value:t.transport}return t.transport})(),{unsubscribe:T}=await A.subscribe({params:["newHeads"],onData(_){var C;if(!m)return;const w=Ns((C=_.result)==null?void 0:C.number);h.onBlockNumber(w,u),u=w},onError(_){var w;(w=h.onError)==null||w.call(h,_)}});b=T,m||b()}catch(A){i==null||i(A)}})(),()=>b()})})()}async function rw(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function pZ(t,{address:e,args:n,batch:r=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:u,poll:c,pollingInterval:l=t.pollingInterval,strict:f}){const h=typeof c<"u"?c:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),m=f??!1;return h?(()=>{const T=ur(["watchEvent",e,n,r,t.uid,i,l,o]);return Tu(T,{onLogs:u,onError:a},_=>{let w;o!==void 0&&(w=o-1n);let C,M=!1;const N=mg(async()=>{var U;if(!M){try{C=await et(t,vO,"createEventFilter")({address:e,args:n,event:i,events:s,strict:m,fromBlock:o})}catch{}M=!0;return}try{let v;if(C)v=await et(t,nw,"getFilterChanges")({filter:C});else{const y=await et(t,gg,"getBlockNumber")({});w&&w!==y?v=await et(t,M6,"getLogs")({address:e,args:n,event:i,events:s,fromBlock:w+1n,toBlock:y}):v=[],w=y}if(v.length===0)return;if(r)_.onLogs(v);else for(const y of v)_.onLogs([y])}catch(v){C&&v instanceof il&&(M=!1),(U=_.onError)==null||U.call(_,v)}},{emitOnBegin:!0,interval:l});return async()=>{C&&await et(t,rw,"uninstallFilter")({filter:C}),N()}})})():(()=>{let T=!0,_=()=>T=!1;return(async()=>{try{const w=(()=>{if(t.transport.type==="fallback"){const U=t.transport.transports.find(v=>v.config.type==="webSocket");return U?U.value:t.transport}return t.transport})(),C=s??(i?[i]:void 0);let M=[];C&&(M=[C.flatMap(v=>pg({abi:[v],eventName:v.name,args:n}))],i&&(M=M[0]));const{unsubscribe:N}=await w.subscribe({params:["logs",{address:e,topics:M}],onData(U){var y;if(!T)return;const v=U.result;try{const{eventName:S,args:k}=k6({abi:C??[],data:v.data,topics:v.topics,strict:m}),L=xu(v,{args:k,eventName:S});u([L])}catch(S){let k,L;if(S instanceof W0||S instanceof Kv){if(f)return;k=S.abiItem.name,L=(y=S.abiItem.inputs)==null?void 0:y.some(x=>!("name"in x&&x.name))}const z=xu(v,{args:L?[]:{},eventName:k});u([z])}},onError(U){a==null||a(U)}});_=N,T||_()}catch(w){a==null||a(w)}})(),()=>_()})()}function gZ(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket")?(()=>{const c=ur(["watchPendingTransactions",t.uid,e,s]);return Tu(c,{onTransactions:r,onError:n},l=>{let f;const h=mg(async()=>{var m;try{if(!f)try{f=await et(t,wO,"createPendingTransactionFilter")({});return}catch(A){throw h(),A}const b=await et(t,nw,"getFilterChanges")({filter:f});if(b.length===0)return;if(e)l.onTransactions(b);else for(const A of b)l.onTransactions([A])}catch(b){(m=l.onError)==null||m.call(l,b)}},{emitOnBegin:!0,interval:s});return async()=>{f&&await et(t,rw,"uninstallFilter")({filter:f}),h()}})})():(()=>{let c=!0,l=()=>c=!1;return(async()=>{try{const{unsubscribe:f}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!c)return;const m=h.result;r([m])},onError(h){n==null||n(h)}});l=f,c||l()}catch(f){n==null||n(f)}})(),()=>l()})()}const Hm=new t6(8192);function mZ(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(Hm.get(n))return Hm.get(n);const r=t().finally(()=>Hm.delete(n));return Hm.set(n,r),r}function N3(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const u=async({error:c})=>{const l=typeof e=="function"?e({count:a,error:c}):e;l&&await O3(l),o({count:a+1})};try{const c=await t();i(c)}catch(c){if(a<n&&await r({count:a,error:c}))return u({error:c});s(c)}};o()})}function yZ(t,e={}){return async(n,r={})=>{const{dedupe:i=!1,retryDelay:s=150,retryCount:o=3,uid:a}={...e,...r},u=i?Gr(lh(`${a}.${ur(n)}`)):void 0;return mZ(()=>N3(async()=>{try{return await t(n)}catch(c){const l=c;switch(l.code){case Q0.code:throw new Q0(l);case Z0.code:throw new Z0(l);case J0.code:throw new J0(l);case Y0.code:throw new Y0(l);case rl.code:throw new rl(l);case il.code:throw new il(l);case X0.code:throw new X0(l);case ep.code:throw new ep(l);case tp.code:throw new tp(l);case np.code:throw new np(l);case hh.code:throw new hh(l);case rp.code:throw new rp(l);case Mf.code:throw new Mf(l);case ip.code:throw new ip(l);case sp.code:throw new sp(l);case op.code:throw new op(l);case ap.code:throw new ap(l);case up.code:throw new up(l);case 5e3:throw new Mf(l);default:throw c instanceof me?c:new DG(l)}}},{delay:({count:c,error:l})=>{var f;if(l&&l instanceof Vc){const h=(f=l==null?void 0:l.headers)==null?void 0:f.get("Retry-After");if(h!=null&&h.match(/\d/))return Number.parseInt(h)*1e3}return~~(1<<c)*s},retryCount:o,shouldRetry:({error:c})=>vZ(c)}),{enabled:i,id:u})}}function vZ(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===hh.code||t.code===rl.code:t instanceof Vc&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}class wZ extends me{constructor({callbackSelector:e,cause:n,data:r,extraData:i,sender:s,urls:o}){var a;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(a=n.metaMessages)!=null&&a.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(u=>`    ${cg(u)}`)],`  Sender: ${s}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${i}`].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}}class _Z extends me{constructor({result:e,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${cg(n)}`,`Response: ${ur(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}}class bZ extends me{constructor({sender:e,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}}function AO(t,e){if(!Er(t,{strict:!1}))throw new mi({address:t});if(!Er(e,{strict:!1}))throw new mi({address:e});return t.toLowerCase()===e.toLowerCase()}const EZ="0x556f1830",SO={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function AZ(t,{blockNumber:e,blockTag:n,data:r,to:i}){const{args:s}=cO({data:r,abi:[SO]}),[o,a,u,c,l]=s,{ccipRead:f}=t,h=f&&typeof(f==null?void 0:f.request)=="function"?f.request:CO;try{if(!AO(i,o))throw new bZ({sender:o,to:i});const m=await h({data:u,sender:o,urls:a}),{data:b}=await dg(t,{blockNumber:e,blockTag:n,data:No([c,Al([{type:"bytes"},{type:"bytes"}],[m,l])]),to:i});return b}catch(m){throw new wZ({callbackSelector:c,cause:m,data:r,extraData:l,sender:o,urls:a})}}async function CO({data:t,sender:e,urls:n}){var i;let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const o=n[s],a=o.includes("{data}")?"GET":"POST",u=a==="POST"?{data:t,sender:e}:void 0;try{const c=await fetch(o.replace("{sender}",e).replace("{data}",t),{body:JSON.stringify(u),method:a});let l;if((i=c.headers.get("Content-Type"))!=null&&i.startsWith("application/json")?l=(await c.json()).data:l=await c.text(),!c.ok){r=new Vc({body:u,details:l!=null&&l.error?ur(l.error):c.statusText,headers:c.headers,status:c.status,url:o});continue}if(!Hs(l)){r=new _Z({result:l,url:o});continue}return l}catch(c){r=new Vc({body:u,details:c.message,url:o})}}throw r}const SZ=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:CO,offchainLookup:AZ,offchainLookupAbiItem:SO,offchainLookupSignature:EZ},Symbol.toStringTag,{value:"Module"}));function nd(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const CZ=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,IZ=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function xZ(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():s(e)},n)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function TZ(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const tx=TZ();function RZ(t,e={}){return{async request(n){var f;const{body:r,onRequest:i=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:c,signal:l}=a;try{const h=await xZ(async({signal:b})=>{const A={...a,body:Array.isArray(r)?ur(r.map(w=>({jsonrpc:"2.0",id:w.id??tx.take(),...w}))):ur({jsonrpc:"2.0",id:r.id??tx.take(),...r}),headers:{...u,"Content-Type":"application/json"},method:c||"POST",signal:l||(o>0?b:null)},T=new Request(t,A);return i&&await i(T),await fetch(t,A)},{errorInstance:new $I({body:r,url:t}),timeout:o,signal:!0});s&&await s(h);let m;if((f=h.headers.get("Content-Type"))!=null&&f.startsWith("application/json")?m=await h.json():(m=await h.text(),m=JSON.parse(m||"{}")),!h.ok)throw new Vc({body:r,details:ur(m.error)||h.statusText,headers:h.headers,status:h.status,url:t});return m}catch(h){throw h instanceof Vc||h instanceof $I?h:new Vc({body:r,cause:h,url:t})}}}}function kZ(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:NZ({domain:e}),...t.types};OZ({domain:e,message:n,primaryType:r,types:i});const s=["0x1901"];return e&&s.push(PZ({domain:e,types:i})),r!=="EIP712Domain"&&s.push(IO({data:n,primaryType:r,types:i})),Gr(No(s))}function PZ({domain:t,types:e}){return IO({data:t,primaryType:"EIP712Domain",types:e})}function IO({data:t,primaryType:e,types:n}){const r=xO({data:t,primaryType:e,types:n});return Gr(r)}function xO({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[MZ({primaryType:e,types:n})];for(const s of n[e]){const[o,a]=RO({types:n,name:s.name,type:s.type,value:t[s.name]});r.push(o),i.push(a)}return Al(r,i)}function MZ({primaryType:t,types:e}){const n=At(DZ({primaryType:t,types:e}));return Gr(n)}function DZ({primaryType:t,types:e}){let n="";const r=TO({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const s of i)n+=`${s}(${e[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function TO({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),i=r==null?void 0:r[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const s of e[i])TO({primaryType:s.type,types:e},n);return n}function RO({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},Gr(xO({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Gr(r)];if(n==="string")return[{type:"bytes32"},Gr(At(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(o=>RO({name:e,type:i,types:t,value:o}));return[{type:"bytes32"},Gr(Al(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:n},r]}function OZ(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(o,a)=>{for(const u of o){const{name:c,type:l}=u,f=a[c],h=l.match(IZ);if(h&&(typeof f=="number"||typeof f=="bigint")){const[A,T,_]=h;St(f,{signed:T==="int",size:Number.parseInt(_)/8})}if(l==="address"&&typeof f=="string"&&!Er(f))throw new mi({address:f});const m=l.match(CZ);if(m){const[A,T]=m;if(T&&xn(f)!==Number.parseInt(T))throw new FW({expectedSize:Number.parseInt(T),givenSize:xn(f)})}const b=i[l];b&&s(b,f)}};i.EIP712Domain&&e&&s(i.EIP712Domain,e),r!=="EIP712Domain"&&s(i[r],n)}function NZ({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},typeof(t==null?void 0:t.chainId)=="number"&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function dh(t,e="hex"){const n=kO(t),r=E6(new Uint8Array(n.length));return n.encode(r),e==="hex"?Un(r.bytes):r.bytes}function kO(t){return Array.isArray(t)?LZ(t.map(e=>kO(e))):BZ(t)}function LZ(t){const e=t.reduce((i,s)=>i+s.length,0),n=PO(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function BZ(t){const e=typeof t=="string"?ga(t):t,n=PO(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function PO(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new me("Length is too large.")}const FZ=`Ethereum Signed Message:
`;function $Z(t){const e=typeof t=="string"?lh(t):typeof t.raw=="string"?t.raw:Un(t.raw),n=lh(`${FZ}${xn(e)}`);return No([n,e])}function MO(t,e){return Gr($Z(t),e)}const DO="0x6492649264926492649264926492649264926492649264926492649264926492";function UZ(t){return ED(t,-32)===DO}function jZ(t){const{address:e,data:n,signature:r}=t;return Vu([Al([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,r]),DO])}function VZ(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new UD;for(const n of e){const r=xn(n),i=ma(G0(n,0,1));if(r!==32)throw new rK({hash:n,size:r});if(i!==$D)throw new iK({hash:n,version:i})}}OO(t)}function OO(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=t;if(e<=0)throw new u6({chainId:e});if(i&&!Er(i))throw new mi({address:i});if(r&&r>2n**256n-1n)throw new nl({maxFeePerGas:r});if(n&&r&&n>r)throw new K0({maxFeePerGas:r,maxPriorityFeePerGas:n})}function zZ(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=t;if(e<=0)throw new u6({chainId:e});if(s&&!Er(s))throw new mi({address:s});if(n||i)throw new me("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>2n**256n-1n)throw new nl({maxFeePerGas:r})}function HZ(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s,accessList:o}=t;if(s&&!Er(s))throw new mi({address:s});if(typeof e<"u"&&e<=0)throw new u6({chainId:e});if(n||i)throw new me("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>2n**256n-1n)throw new nl({maxFeePerGas:r});if(o)throw new me("`accessList` is not a valid Legacy Transaction attribute.")}function O6(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:i}=t[n];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new kG({storageKey:i[s]});if(!Er(r,{strict:!1}))throw new mi({address:r});e.push([r,i])}return e}function qZ(t,e){const n=zD(t);return n==="eip1559"?GZ(t,e):n==="eip2930"?KZ(t,e):n==="eip4844"?WZ(t,e):QZ(t,e)}function WZ(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:u,maxPriorityFeePerGas:c,accessList:l,data:f}=t;VZ(t);let h=t.blobVersionedHashes,m=t.sidecars;if(t.blobs&&(typeof h>"u"||typeof m>"u")){const C=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(U=>Un(U)),M=t.kzg,N=w6({blobs:C,kzg:M});if(typeof h>"u"&&(h=LD({commitments:N})),typeof m>"u"){const U=_6({blobs:C,commitments:N,kzg:M});m=VD({blobs:C,commitments:N,proofs:U})}}const b=O6(l),A=[At(n),i?At(i):"0x",c?At(c):"0x",u?At(u):"0x",r?At(r):"0x",s??"0x",o?At(o):"0x",f??"0x",b,a?At(a):"0x",h??[],...N6(t,e)],T=[],_=[],w=[];if(m)for(let C=0;C<m.length;C++){const{blob:M,commitment:N,proof:U}=m[C];T.push(M),_.push(N),w.push(U)}return Vu(["0x03",dh(m?[A,T,_,w]:A)])}function GZ(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:u,accessList:c,data:l}=t;OO(t);const f=O6(c),h=[At(n),i?At(i):"0x",u?At(u):"0x",a?At(a):"0x",r?At(r):"0x",s??"0x",o?At(o):"0x",l??"0x",f,...N6(t,e)];return Vu(["0x02",dh(h)])}function KZ(t,e){const{chainId:n,gas:r,data:i,nonce:s,to:o,value:a,accessList:u,gasPrice:c}=t;zZ(t);const l=O6(u),f=[At(n),s?At(s):"0x",c?At(c):"0x",r?At(r):"0x",o??"0x",a?At(a):"0x",i??"0x",l,...N6(t,e)];return Vu(["0x01",dh(f)])}function QZ(t,e){const{chainId:n=0,gas:r,data:i,nonce:s,to:o,value:a,gasPrice:u}=t;HZ(t);let c=[s?At(s):"0x",u?At(u):"0x",r?At(r):"0x",o??"0x",a?At(a):"0x",i??"0x"];if(e){const l=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const f=27n+(e.v===27n?0n:1n);if(e.v!==f)throw new TG({v:e.v});return f})();c=[...c,At(l),e.r,e.s]}else n>0&&(c=[...c,At(n),"0x","0x"]);return dh(c)}function N6(t,e){const n=e??t,{v:r,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];const s=el(n.r),o=el(n.s);return[typeof i=="number"?i?At(1):"0x":r===0n?"0x":r===1n?At(1):r===27n?"0x":At(1),s==="0x00"?"0x":s,o==="0x00"?"0x":o]}function ZZ(t,e){let[n,r="0"]=t.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[s,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],u=Math.round(+`${o}.${a}`);u>9?r=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):r=`${s}${u}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${i?"-":""}${n}${r}`)}function i_e(t,e="wei"){return ZZ(t,CD[e])}function JZ(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function YZ(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?ma(t.nonce):void 0,storageProof:t.storageProof?JZ(t.storageProof):void 0}}async function XZ(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",o=n!==void 0?St(n):void 0,a=await t.request({method:"eth_getProof",params:[e,i,o||s]});return YZ(a)}async function eJ(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:i=t.pollingInterval,retryCount:s=6,retryDelay:o=({count:u})=>~~(1<<u)*200,timeout:a}){const u=ur(["waitForTransactionReceipt",t.uid,n]);let c=0,l,f,h,m=!1;return new Promise((b,A)=>{a&&setTimeout(()=>A(new FI({hash:n})),a);const T=Tu(u,{onReplaced:r,resolve:b,reject:A},_=>{const w=et(t,EO,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(C){const M=U=>{w(),U(),T()};let N=C;if(!m){c>s&&M(()=>_.reject(new FI({hash:n})));try{if(h){if(e>1&&(!h.blockNumber||N-h.blockNumber+1n<e))return;M(()=>_.resolve(h));return}if(l||(m=!0,await N3(async()=>{l=await et(t,D6,"getTransaction")({hash:n}),l.blockNumber&&(N=l.blockNumber)},{delay:o,retryCount:s}),m=!1),h=await et(t,D3,"getTransactionReceipt")({hash:n}),e>1&&(!h.blockNumber||N-h.blockNumber+1n<e))return;M(()=>_.resolve(h))}catch(U){if(U instanceof xD||U instanceof TD){if(!l){m=!1;return}try{f=l,m=!0;const v=await N3(()=>et(t,Iu,"getBlock")({blockNumber:N,includeTransactions:!0}),{delay:o,retryCount:s,shouldRetry:({error:k})=>k instanceof kD});m=!1;const y=v.transactions.find(({from:k,nonce:L})=>k===f.from&&L===f.nonce);if(!y||(h=await et(t,D3,"getTransactionReceipt")({hash:y.hash}),e>1&&(!h.blockNumber||N-h.blockNumber+1n<e)))return;let S="replaced";y.to===f.to&&y.value===f.value?S="repriced":y.from===y.to&&y.value===0n&&(S="cancelled"),M(()=>{var k;(k=_.onReplaced)==null||k.call(_,{reason:S,replacedTransaction:f,transaction:y,transactionReceipt:h}),_.resolve(h)})}catch(v){M(()=>_.reject(v))}}else M(()=>_.reject(U))}finally{c++}}}})})})}async function s_e(t,{account:e=t.account,message:n}){if(!e)throw new AD({docsPath:"/docs/actions/wallet/signMessage"});const r=$o(e);if(r.type==="local")return r.signMessage({message:n});const i=typeof n=="string"?lh(n):n.raw instanceof Uint8Array?At(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function tJ(t,e){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=e,u=a.account?$o(a.account):t.account,c=Hu({abi:n,args:i,functionName:o});try{const{data:l}=await et(t,dg,"call")({batch:!1,data:`${c}${s?s.replace("0x",""):""}`,to:r,...a,account:u}),f=ed({abi:n,args:i,functionName:o,data:l||"0x"}),h=n.filter(m=>"name"in m&&m.name===e.functionName);return{result:f,request:{abi:h,address:r,args:i,dataSuffix:s,functionName:o,...a,account:u}}}catch(l){throw lp(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:u==null?void 0:u.address})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const NO=BigInt(0),iw=BigInt(1),nJ=BigInt(2);function sl(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function yg(t){if(!sl(t))throw new Error("Uint8Array expected")}const rJ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ph(t){yg(t);let e="";for(let n=0;n<t.length;n++)e+=rJ[t[n]];return e}function LO(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function L6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const Ko={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function nx(t){if(t>=Ko._0&&t<=Ko._9)return t-Ko._0;if(t>=Ko._A&&t<=Ko._F)return t-(Ko._A-10);if(t>=Ko._a&&t<=Ko._f)return t-(Ko._a-10)}function gh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=nx(t.charCodeAt(s)),a=nx(t.charCodeAt(s+1));if(o===void 0||a===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[i]=o*16+a}return r}function zc(t){return L6(ph(t))}function B6(t){return yg(t),L6(ph(Uint8Array.from(t).reverse()))}function mh(t,e){return gh(t.toString(16).padStart(e*2,"0"))}function F6(t,e){return mh(t,e).reverse()}function iJ(t){return gh(LO(t))}function ks(t,e,n){let r;if(typeof e=="string")try{r=gh(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(sl(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function fp(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];yg(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function BO(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function sJ(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function oJ(t){let e;for(e=0;t>NO;t>>=iw,e+=1);return e}function aJ(t,e){return t>>BigInt(e)&iw}function uJ(t,e,n){return t|(n?iw:NO)<<BigInt(e)}const $6=t=>(nJ<<BigInt(t-1))-iw,Kb=t=>new Uint8Array(t),rx=t=>Uint8Array.from(t);function FO(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Kb(t),i=Kb(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...f)=>n(i,r,...f),u=(f=Kb())=>{i=a(rx([0]),f),r=a(),f.length!==0&&(i=a(rx([1]),f),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){r=a();const m=r.slice();h.push(m),f+=r.length}return fp(...h)};return(f,h)=>{o(),u(f);let m;for(;!(m=h(c()));)u();return o(),m}}const cJ={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||sl(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function vg(t,e,n={}){const r=(i,s,o)=>{const a=cJ[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const lJ=Object.freeze(Object.defineProperty({__proto__:null,abytes:yg,bitGet:aJ,bitLen:oJ,bitMask:$6,bitSet:uJ,bytesToHex:ph,bytesToNumberBE:zc,bytesToNumberLE:B6,concatBytes:fp,createHmacDrbg:FO,ensureBytes:ks,equalBytes:BO,hexToBytes:gh,hexToNumber:L6,isBytes:sl,numberToBytesBE:mh,numberToBytesLE:F6,numberToHexUnpadded:LO,numberToVarBytesBE:iJ,utf8ToBytes:sJ,validateObject:vg},Symbol.toStringTag,{value:"Module"}));function fJ(t,e){const n=Hs(t)?tl(t):t,r=Hs(e)?tl(e):e;return BO(n,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const or=BigInt(0),Mn=BigInt(1),yc=BigInt(2),hJ=BigInt(3),L3=BigInt(4),ix=BigInt(5),sx=BigInt(8);BigInt(9);BigInt(16);function ai(t,e){const n=t%e;return n>=or?n:e+n}function dJ(t,e,n){if(n<=or||e<or)throw new Error("Expected power/modulo > 0");if(n===Mn)return or;let r=Mn;for(;e>or;)e&Mn&&(r=r*t%n),t=t*t%n,e>>=Mn;return r}function Gi(t,e,n){let r=t;for(;e-- >or;)r*=r,r%=n;return r}function B3(t,e){if(t===or||e<=or)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=ai(t,e),r=e,i=or,s=Mn;for(;n!==or;){const a=r/n,u=r%n,c=i-s*a;r=n,n=u,i=s,s=c}if(r!==Mn)throw new Error("invert: does not exist");return ai(i,e)}function pJ(t){const e=(t-Mn)/yc;let n,r,i;for(n=t-Mn,r=0;n%yc===or;n/=yc,r++);for(i=yc;i<t&&dJ(i,e,t)!==t-Mn;i++);if(r===1){const o=(t+Mn)/L3;return function(u,c){const l=u.pow(c,o);if(!u.eql(u.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+Mn)/yc;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,l=a.pow(a.mul(a.ONE,i),n),f=a.pow(u,s),h=a.pow(u,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let m=1;for(let A=a.sqr(h);m<c&&!a.eql(A,a.ONE);m++)A=a.sqr(A);const b=a.pow(l,Mn<<BigInt(c-m-1));l=a.sqr(b),f=a.mul(f,b),h=a.mul(h,l),c=m}return f}}function gJ(t){if(t%L3===hJ){const e=(t+Mn)/L3;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%sx===ix){const e=(t-ix)/sx;return function(r,i){const s=r.mul(i,yc),o=r.pow(s,e),a=r.mul(i,o),u=r.mul(r.mul(a,yc),o),c=r.mul(a,r.sub(u,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return pJ(t)}const mJ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function yJ(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=mJ.reduce((r,i)=>(r[i]="function",r),e);return vg(t,n)}function vJ(t,e,n){if(n<or)throw new Error("Expected power > 0");if(n===or)return t.ONE;if(n===Mn)return e;let r=t.ONE,i=e;for(;n>or;)n&Mn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Mn;return r}function wJ(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function $O(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function _J(t,e,n=!1,r={}){if(t<=or)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=$O(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=gJ(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:$6(i),ZERO:or,ONE:Mn,create:u=>ai(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return or<=u&&u<t},is0:u=>u===or,isOdd:u=>(u&Mn)===Mn,neg:u=>ai(-u,t),eql:(u,c)=>u===c,sqr:u=>ai(u*u,t),add:(u,c)=>ai(u+c,t),sub:(u,c)=>ai(u-c,t),mul:(u,c)=>ai(u*c,t),pow:(u,c)=>vJ(a,u,c),div:(u,c)=>ai(u*B3(c,t),t),sqrN:u=>u*u,addN:(u,c)=>u+c,subN:(u,c)=>u-c,mulN:(u,c)=>u*c,inv:u=>B3(u,t),sqrt:r.sqrt||(u=>o(a,u)),invertBatch:u=>wJ(a,u),cmov:(u,c,l)=>l?c:u,toBytes:u=>n?F6(u,s):mh(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return n?B6(u):zc(u)}});return Object.freeze(a)}function UO(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function jO(t){const e=UO(t);return e+Math.ceil(e/2)}function bJ(t,e,n=!1){const r=t.length,i=UO(e),s=jO(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?zc(t):B6(t),a=ai(o,e-Mn)+Mn;return n?F6(a,i):mh(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const EJ=BigInt(0),Qb=BigInt(1);function AJ(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>EJ;)s&Qb&&(o=o.add(a)),a=a.double(),s>>=Qb;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),u=[];let c=i,l=c;for(let f=0;f<o;f++){l=c,u.push(l);for(let h=1;h<a;h++)l=l.add(c),u.push(l);c=l.double()}return u},wNAF(i,s,o){const{windows:a,windowSize:u}=r(i);let c=t.ZERO,l=t.BASE;const f=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let b=0;b<a;b++){const A=b*u;let T=Number(o&f);o>>=m,T>u&&(T-=h,o+=Qb);const _=A,w=A+Math.abs(T)-1,C=b%2!==0,M=T<0;T===0?l=l.add(n(C,s[_])):c=c.add(n(M,s[w]))}return{p:c,f:l}},wNAFCached(i,s,o,a){const u=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,u),u!==1&&s.set(i,a(c))),this.wNAF(u,c,o)}}}function VO(t){return yJ(t.Fp),vg(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...$O(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function SJ(t){const e=VO(t);vg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:CJ,hexToBytes:IJ}=lJ,Cc={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Cc;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:CJ(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Cc,n=typeof t=="string"?IJ(t):t;yg(n);let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Cc._parseInt(n.subarray(2)),{d:o,l:a}=Cc._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const l=c.toString(16);return l.length&1?`0${l}`:l},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),u=n(o);return`30${n(o+s+4)}02${u}${i}02${a}${r}`}},ra=BigInt(0),rs=BigInt(1);BigInt(2);const ox=BigInt(3);BigInt(4);function xJ(t){const e=SJ(t),{Fp:n}=e,r=e.toBytes||((b,A,T)=>{const _=A.toAffine();return fp(Uint8Array.from([4]),n.toBytes(_.x),n.toBytes(_.y))}),i=e.fromBytes||(b=>{const A=b.subarray(1),T=n.fromBytes(A.subarray(0,n.BYTES)),_=n.fromBytes(A.subarray(n.BYTES,2*n.BYTES));return{x:T,y:_}});function s(b){const{a:A,b:T}=e,_=n.sqr(b),w=n.mul(_,b);return n.add(n.add(w,n.mul(b,A)),T)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(b){return typeof b=="bigint"&&ra<b&&b<e.n}function a(b){if(!o(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(b){const{allowedPrivateKeyLengths:A,nByteLength:T,wrapPrivateKey:_,n:w}=e;if(A&&typeof b!="bigint"){if(sl(b)&&(b=ph(b)),typeof b!="string"||!A.includes(b.length))throw new Error("Invalid key");b=b.padStart(T*2,"0")}let C;try{C=typeof b=="bigint"?b:zc(ks("private key",b,T))}catch{throw new Error(`private key must be ${T} bytes, hex or bigint, not ${typeof b}`)}return _&&(C=ai(C,w)),a(C),C}const c=new Map;function l(b){if(!(b instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(A,T,_){if(this.px=A,this.py=T,this.pz=_,A==null||!n.isValid(A))throw new Error("x required");if(T==null||!n.isValid(T))throw new Error("y required");if(_==null||!n.isValid(_))throw new Error("z required")}static fromAffine(A){const{x:T,y:_}=A||{};if(!A||!n.isValid(T)||!n.isValid(_))throw new Error("invalid affine point");if(A instanceof f)throw new Error("projective point not allowed");const w=C=>n.eql(C,n.ZERO);return w(T)&&w(_)?f.ZERO:new f(T,_,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const T=n.invertBatch(A.map(_=>_.pz));return A.map((_,w)=>_.toAffine(T[w])).map(f.fromAffine)}static fromHex(A){const T=f.fromAffine(i(ks("pointHex",A)));return T.assertValidity(),T}static fromPrivateKey(A){return f.BASE.multiply(u(A))}_setWindowSize(A){this._WINDOW_SIZE=A,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:A,y:T}=this.toAffine();if(!n.isValid(A)||!n.isValid(T))throw new Error("bad point: x or y not FE");const _=n.sqr(T),w=s(A);if(!n.eql(_,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:A}=this.toAffine();if(n.isOdd)return!n.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){l(A);const{px:T,py:_,pz:w}=this,{px:C,py:M,pz:N}=A,U=n.eql(n.mul(T,N),n.mul(C,w)),v=n.eql(n.mul(_,N),n.mul(M,w));return U&&v}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:T}=e,_=n.mul(T,ox),{px:w,py:C,pz:M}=this;let N=n.ZERO,U=n.ZERO,v=n.ZERO,y=n.mul(w,w),S=n.mul(C,C),k=n.mul(M,M),L=n.mul(w,C);return L=n.add(L,L),v=n.mul(w,M),v=n.add(v,v),N=n.mul(A,v),U=n.mul(_,k),U=n.add(N,U),N=n.sub(S,U),U=n.add(S,U),U=n.mul(N,U),N=n.mul(L,N),v=n.mul(_,v),k=n.mul(A,k),L=n.sub(y,k),L=n.mul(A,L),L=n.add(L,v),v=n.add(y,y),y=n.add(v,y),y=n.add(y,k),y=n.mul(y,L),U=n.add(U,y),k=n.mul(C,M),k=n.add(k,k),y=n.mul(k,L),N=n.sub(N,y),v=n.mul(k,S),v=n.add(v,v),v=n.add(v,v),new f(N,U,v)}add(A){l(A);const{px:T,py:_,pz:w}=this,{px:C,py:M,pz:N}=A;let U=n.ZERO,v=n.ZERO,y=n.ZERO;const S=e.a,k=n.mul(e.b,ox);let L=n.mul(T,C),z=n.mul(_,M),x=n.mul(w,N),g=n.add(T,_),d=n.add(C,M);g=n.mul(g,d),d=n.add(L,z),g=n.sub(g,d),d=n.add(T,w);let E=n.add(C,N);return d=n.mul(d,E),E=n.add(L,x),d=n.sub(d,E),E=n.add(_,w),U=n.add(M,N),E=n.mul(E,U),U=n.add(z,x),E=n.sub(E,U),y=n.mul(S,d),U=n.mul(k,x),y=n.add(U,y),U=n.sub(z,y),y=n.add(z,y),v=n.mul(U,y),z=n.add(L,L),z=n.add(z,L),x=n.mul(S,x),d=n.mul(k,d),z=n.add(z,x),x=n.sub(L,x),x=n.mul(S,x),d=n.add(d,x),L=n.mul(z,d),v=n.add(v,L),L=n.mul(E,d),U=n.mul(g,U),U=n.sub(U,L),L=n.mul(g,z),y=n.mul(E,y),y=n.add(y,L),new f(U,v,y)}subtract(A){return this.add(A.negate())}is0(){return this.equals(f.ZERO)}wNAF(A){return m.wNAFCached(this,c,A,T=>{const _=n.invertBatch(T.map(w=>w.pz));return T.map((w,C)=>w.toAffine(_[C])).map(f.fromAffine)})}multiplyUnsafe(A){const T=f.ZERO;if(A===ra)return T;if(a(A),A===rs)return this;const{endo:_}=e;if(!_)return m.unsafeLadder(this,A);let{k1neg:w,k1:C,k2neg:M,k2:N}=_.splitScalar(A),U=T,v=T,y=this;for(;C>ra||N>ra;)C&rs&&(U=U.add(y)),N&rs&&(v=v.add(y)),y=y.double(),C>>=rs,N>>=rs;return w&&(U=U.negate()),M&&(v=v.negate()),v=new f(n.mul(v.px,_.beta),v.py,v.pz),U.add(v)}multiply(A){a(A);let T=A,_,w;const{endo:C}=e;if(C){const{k1neg:M,k1:N,k2neg:U,k2:v}=C.splitScalar(T);let{p:y,f:S}=this.wNAF(N),{p:k,f:L}=this.wNAF(v);y=m.constTimeNegate(M,y),k=m.constTimeNegate(U,k),k=new f(n.mul(k.px,C.beta),k.py,k.pz),_=y.add(k),w=S.add(L)}else{const{p:M,f:N}=this.wNAF(T);_=M,w=N}return f.normalizeZ([_,w])[0]}multiplyAndAddUnsafe(A,T,_){const w=f.BASE,C=(N,U)=>U===ra||U===rs||!N.equals(w)?N.multiplyUnsafe(U):N.multiply(U),M=C(this,T).add(C(A,_));return M.is0()?void 0:M}toAffine(A){const{px:T,py:_,pz:w}=this,C=this.is0();A==null&&(A=C?n.ONE:n.inv(w));const M=n.mul(T,A),N=n.mul(_,A),U=n.mul(w,A);if(C)return{x:n.ZERO,y:n.ZERO};if(!n.eql(U,n.ONE))throw new Error("invZ was invalid");return{x:M,y:N}}isTorsionFree(){const{h:A,isTorsionFree:T}=e;if(A===rs)return!0;if(T)return T(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:T}=e;return A===rs?this:T?T(f,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return this.assertValidity(),r(f,this,A)}toHex(A=!0){return ph(this.toRawBytes(A))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const h=e.nBitLength,m=AJ(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function TJ(t){const e=VO(t);return vg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function RJ(t){const e=TJ(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(d){return ra<d&&d<n.ORDER}function a(d){return ai(d,r)}function u(d){return B3(d,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:f,isWithinCurveOrder:h}=xJ({...e,toBytes(d,E,P){const I=E.toAffine(),F=n.toBytes(I.x),H=fp;return P?H(Uint8Array.from([E.hasEvenY()?2:3]),F):H(Uint8Array.from([4]),F,n.toBytes(I.y))},fromBytes(d){const E=d.length,P=d[0],I=d.subarray(1);if(E===i&&(P===2||P===3)){const F=zc(I);if(!o(F))throw new Error("Point is not on curve");const H=f(F);let V;try{V=n.sqrt(H)}catch(ae){const re=ae instanceof Error?": "+ae.message:"";throw new Error("Point is not on curve"+re)}const R=(V&rs)===rs;return(P&1)===1!==R&&(V=n.neg(V)),{x:F,y:V}}else if(E===s&&P===4){const F=n.fromBytes(I.subarray(0,n.BYTES)),H=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:F,y:H}}else throw new Error(`Point of length ${E} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),m=d=>ph(mh(d,e.nByteLength));function b(d){const E=r>>rs;return d>E}function A(d){return b(d)?a(-d):d}const T=(d,E,P)=>zc(d.slice(E,P));class _{constructor(E,P,I){this.r=E,this.s=P,this.recovery=I,this.assertValidity()}static fromCompact(E){const P=e.nByteLength;return E=ks("compactSignature",E,P*2),new _(T(E,0,P),T(E,P,2*P))}static fromDER(E){const{r:P,s:I}=Cc.toSig(ks("DER",E));return new _(P,I)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(E){return new _(this.r,this.s,E)}recoverPublicKey(E){const{r:P,s:I,recovery:F}=this,H=v(ks("msgHash",E));if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");const V=F===2||F===3?P+e.n:P;if(V>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const R=F&1?"03":"02",W=c.fromHex(R+m(V)),ae=u(V),re=a(-H*ae),X=a(I*ae),Q=c.BASE.multiplyAndAddUnsafe(W,re,X);if(!Q)throw new Error("point at infinify");return Q.assertValidity(),Q}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return gh(this.toDERHex())}toDERHex(){return Cc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return gh(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const w={isValidPrivateKey(d){try{return l(d),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const d=jO(e.n);return bJ(e.randomBytes(d),e.n)},precompute(d=8,E=c.BASE){return E._setWindowSize(d),E.multiply(BigInt(3)),E}};function C(d,E=!0){return c.fromPrivateKey(d).toRawBytes(E)}function M(d){const E=sl(d),P=typeof d=="string",I=(E||P)&&d.length;return E?I===i||I===s:P?I===2*i||I===2*s:d instanceof c}function N(d,E,P=!0){if(M(d))throw new Error("first arg must be private key");if(!M(E))throw new Error("second arg must be public key");return c.fromHex(E).multiply(l(d)).toRawBytes(P)}const U=e.bits2int||function(d){const E=zc(d),P=d.length*8-e.nBitLength;return P>0?E>>BigInt(P):E},v=e.bits2int_modN||function(d){return a(U(d))},y=$6(e.nBitLength);function S(d){if(typeof d!="bigint")throw new Error("bigint expected");if(!(ra<=d&&d<y))throw new Error(`bigint expected < 2^${e.nBitLength}`);return mh(d,e.nByteLength)}function k(d,E,P=L){if(["recovered","canonical"].some(ee=>ee in P))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:F}=e;let{lowS:H,prehash:V,extraEntropy:R}=P;H==null&&(H=!0),d=ks("msgHash",d),V&&(d=ks("prehashed msgHash",I(d)));const W=v(d),ae=l(E),re=[S(ae),S(W)];if(R!=null&&R!==!1){const ee=R===!0?F(n.BYTES):R;re.push(ks("extraEntropy",ee))}const X=fp(...re),Q=W;function Y(ee){const B=U(ee);if(!h(B))return;const j=u(B),K=c.BASE.multiply(B).toAffine(),ie=a(K.x);if(ie===ra)return;const fe=a(j*a(Q+ie*ae));if(fe===ra)return;let pe=(K.x===ie?0:2)|Number(K.y&rs),Ee=fe;return H&&b(fe)&&(Ee=A(fe),pe^=1),new _(ie,Ee,pe)}return{seed:X,k2sig:Y}}const L={lowS:e.lowS,prehash:!1},z={lowS:e.lowS,prehash:!1};function x(d,E,P=L){const{seed:I,k2sig:F}=k(d,E,P),H=e;return FO(H.hash.outputLen,H.nByteLength,H.hmac)(I,F)}c.BASE._setWindowSize(8);function g(d,E,P,I=z){var K;const F=d;if(E=ks("msgHash",E),P=ks("publicKey",P),"strict"in I)throw new Error("options.strict was renamed to lowS");const{lowS:H,prehash:V}=I;let R,W;try{if(typeof F=="string"||sl(F))try{R=_.fromDER(F)}catch(ie){if(!(ie instanceof Cc.Err))throw ie;R=_.fromCompact(F)}else if(typeof F=="object"&&typeof F.r=="bigint"&&typeof F.s=="bigint"){const{r:ie,s:fe}=F;R=new _(ie,fe)}else throw new Error("PARSE");W=c.fromHex(P)}catch(ie){if(ie.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(H&&R.hasHighS())return!1;V&&(E=e.hash(E));const{r:ae,s:re}=R,X=v(E),Q=u(re),Y=a(X*Q),ee=a(ae*Q),B=(K=c.BASE.multiplyAndAddUnsafe(W,Y,ee))==null?void 0:K.toAffine();return B?a(B.x)===ae:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:N,sign:x,verify:g,ProjectivePoint:c,Signature:_,utils:w}}class zO extends n6{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,qW(e);const r=Qv(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return fh(this),this.iHash.update(e),this}digestInto(e){fh(this),lg(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const HO=(t,e,n)=>new zO(t,e).update(n).digest();HO.create=(t,e)=>new zO(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function kJ(t){return{hash:t,hmac:(e,...n)=>HO(t,e,tG(...n)),randomBytes:nG}}function PJ(t,e){const n=r=>RJ({...t,...kJ(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qO=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ax=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MJ=BigInt(1),F3=BigInt(2),ux=(t,e)=>(t+e/F3)/e;function DJ(t){const e=qO,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),c=t*t*t%e,l=c*c*t%e,f=Gi(l,n,e)*l%e,h=Gi(f,n,e)*l%e,m=Gi(h,F3,e)*c%e,b=Gi(m,i,e)*m%e,A=Gi(b,s,e)*b%e,T=Gi(A,a,e)*A%e,_=Gi(T,u,e)*T%e,w=Gi(_,a,e)*A%e,C=Gi(w,n,e)*l%e,M=Gi(C,o,e)*b%e,N=Gi(M,r,e)*c%e,U=Gi(N,F3,e);if(!$3.eql($3.sqr(U),t))throw new Error("Cannot find square root");return U}const $3=_J(qO,void 0,void 0,{sqrt:DJ}),WO=PJ({a:BigInt(0),b:BigInt(7),Fp:$3,n:ax,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=ax,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-MJ*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=ux(s*t,e),u=ux(-r*t,e);let c=ai(t-a*n-u*i,e),l=ai(-a*r-u*s,e);const f=c>o,h=l>o;if(f&&(c=e-c),h&&(l=e-l),c>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:h,k2:l}}}},ND);BigInt(0);WO.ProjectivePoint;function OJ({r:t,s:e,v:n,yParity:r}){const i=(()=>{if(r===0||r===1)return r;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})();return`0x${new WO.Signature(Ns(t),Ns(e)).toCompactHex()}${i===0?"1b":"1c"}`}async function U6(t,e){const{address:n,factory:r,factoryData:i,hash:s,signature:o,...a}=e,u=Hs(o)?o:typeof o=="object"&&"r"in o&&"s"in o?OJ(o):Un(o),c=await(async()=>!r&&!i||UZ(u)||await et(t,M3,"getCode")({address:n})?u:jZ({address:r,data:i,signature:u}))();try{const{data:l}=await et(t,dg,"call")({data:a6({abi:lK,args:[n,s,c],bytecode:_Q}),...a});return fJ(l??"0x0","0x1")}catch(l){if(l instanceof fO)return!1;throw l}}async function NJ(t,{address:e,message:n,factory:r,factoryData:i,signature:s,...o}){const a=MO(n);return U6(t,{address:e,factory:r,factoryData:i,hash:a,signature:s,...o})}async function LJ(t,e){const{address:n,factory:r,factoryData:i,signature:s,message:o,primaryType:a,types:u,domain:c,...l}=e,f=kZ({message:o,primaryType:a,types:u,domain:c});return U6(t,{address:n,factory:r,factoryData:i,hash:f,signature:s,...l})}function BJ(t,e){const{abi:n,address:r,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:u,onLogs:c,poll:l,pollingInterval:f=t.pollingInterval,strict:h}=e;return(typeof l<"u"?l:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"))?(()=>{const T=h??!1,_=ur(["watchContractEvent",r,i,s,t.uid,o,f,T,a]);return Tu(_,{onLogs:c,onError:u},w=>{let C;a!==void 0&&(C=a-1n);let M,N=!1;const U=mg(async()=>{var v;if(!N){try{M=await et(t,yO,"createContractEventFilter")({abi:n,address:r,args:i,eventName:o,strict:T,fromBlock:a})}catch{}N=!0;return}try{let y;if(M)y=await et(t,nw,"getFilterChanges")({filter:M});else{const S=await et(t,gg,"getBlockNumber")({});C&&C!==S?y=await et(t,_O,"getContractEvents")({abi:n,address:r,args:i,eventName:o,fromBlock:C+1n,toBlock:S,strict:T}):y=[],C=S}if(y.length===0)return;if(s)w.onLogs(y);else for(const S of y)w.onLogs([S])}catch(y){M&&y instanceof il&&(N=!1),(v=w.onError)==null||v.call(w,y)}},{emitOnBegin:!0,interval:f});return async()=>{M&&await et(t,rw,"uninstallFilter")({filter:M}),U()}})})():(()=>{const T=h??!1,_=ur(["watchContractEvent",r,i,s,t.uid,o,f,T]);let w=!0,C=()=>w=!1;return Tu(_,{onLogs:c,onError:u},M=>((async()=>{try{const N=(()=>{if(t.transport.type==="fallback"){const y=t.transport.transports.find(S=>S.config.type==="webSocket");return y?y.value:t.transport}return t.transport})(),U=o?pg({abi:n,eventName:o,args:i}):[],{unsubscribe:v}=await N.subscribe({params:["logs",{address:r,topics:U}],onData(y){var k;if(!w)return;const S=y.result;try{const{eventName:L,args:z}=k6({abi:n,data:S.data,topics:S.topics,strict:h}),x=xu(S,{args:z,eventName:L});M.onLogs([x])}catch(L){let z,x;if(L instanceof W0||L instanceof Kv){if(h)return;z=L.abiItem.name,x=(k=L.abiItem.inputs)==null?void 0:k.some(d=>!("name"in d&&d.name))}const g=xu(S,{args:x?[]:{},eventName:z});M.onLogs([g])}},onError(y){var S;(S=M.onError)==null||S.call(M,y)}});C=v,w||C()}catch(N){u==null||u(N)}})(),()=>C()))})()}async function a_e(t,e){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=e,u=Hu({abi:n,args:i,functionName:o});return et(t,uK,"sendTransaction")({data:`${u}${s?s.replace("0x",""):""}`,to:r,...a})}const U3=256;let qm=U3,Wm;function GO(t=11){if(!Wm||qm+t>U3*2){Wm="",qm=0;for(let e=0;e<U3;e++)Wm+=(256+Math.random()*256|0).toString(16).substring(1)}return Wm.substring(qm,qm+++t)}function u_e(t){const{batch:e,cacheTime:n=t.pollingInterval??4e3,ccipRead:r,key:i="base",name:s="Base Client",pollingInterval:o=4e3,type:a="base"}=t,u=t.chain,c=t.account?$o(t.account):void 0,{config:l,request:f,value:h}=t.transport({chain:u,pollingInterval:o}),m={...l,...h},b={account:c,batch:e,cacheTime:n,ccipRead:r,chain:u,key:i,name:s,pollingInterval:o,request:f,transport:m,type:a,uid:GO()};function A(T){return _=>{const w=_(T);for(const M in b)delete w[M];const C={...T,...w};return Object.assign(C,{extend:A(C)})}}return Object.assign(b,{extend:A(b)})}function KO({key:t,name:e,request:n,retryCount:r=3,retryDelay:i=150,timeout:s,type:o},a){const u=GO();return{config:{key:t,name:e,request:n,retryCount:r,retryDelay:i,timeout:s,type:o},request:yZ(n,{retryCount:r,retryDelay:i,uid:u}),value:a}}function c_e(t,e={}){const{key:n="custom",name:r="Custom Provider",retryDelay:i}=e;return({retryCount:s})=>KO({key:n,name:r,request:t.request.bind(t),retryCount:e.retryCount??s,retryDelay:i,type:"custom"})}class FJ extends me{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function l_e(t,e={}){const{batch:n,fetchOptions:r,key:i="http",name:s="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:a,retryDelay:u}=e;return({chain:c,retryCount:l,timeout:f})=>{const{batchSize:h=1e3,wait:m=0}=typeof n=="object"?n:{},b=e.retryCount??l,A=f??e.timeout??1e4,T=t||(c==null?void 0:c.rpcUrls.default.http[0]);if(!T)throw new FJ;const _=RZ(T,{fetchOptions:r,onRequest:o,onResponse:a,timeout:A});return KO({key:i,name:s,async request({method:w,params:C}){const M={method:w,params:C},{schedule:N}=dO({id:T,wait:m,shouldSplitBatch(S){return S.length>h},fn:S=>_.request({body:S}),sort:(S,k)=>S.id-k.id}),U=async S=>n?N(S):[await _.request({body:S})],[{error:v,result:y}]=await U(M);if(v)throw new RD({body:M,error:v,url:T});return y},retryCount:b,retryDelay:u,timeout:A,type:"http"},{fetchOptions:r,url:T})}}function $J(t){var f,h,m;const{scheme:e,statement:n,...r}=((f=t.match(UJ))==null?void 0:f.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:u,...c}=((h=t.match(jJ))==null?void 0:h.groups)??{},l=(m=t.split("Resources:")[1])==null?void 0:m.split(`
- `).slice(1);return{...r,...c,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...u?{requestId:u}:{},...l?{resources:l}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const UJ=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,jJ=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function VJ(t){const{address:e,domain:n,message:r,nonce:i,scheme:s,time:o=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||e&&!AO(r.address,e))return!1}catch{return!1}return!0}async function zJ(t,e){const{address:n,domain:r,message:i,nonce:s,scheme:o,signature:a,time:u=new Date,...c}=e,l=$J(i);if(!l.address||!VJ({address:n,domain:r,message:l,nonce:s,scheme:o,time:u}))return!1;const h=MO(i);return U6(t,{address:l.address,hash:h,signature:a,...c})}function f_e(t){return{call:e=>dg(t,e),createBlockFilter:()=>zQ(t),createContractEventFilter:e=>yO(t,e),createEventFilter:e=>vO(t,e),createPendingTransactionFilter:()=>wO(t),estimateContractGas:e=>qQ(t,e),estimateGas:e=>v6(t,e),getBalance:e=>WQ(t,e),getBlobBaseFee:()=>GQ(t),getBlock:e=>Iu(t,e),getBlockNumber:e=>gg(t,e),getBlockTransactionCount:e=>XQ(t,e),getBytecode:e=>M3(t,e),getChainId:()=>p6(t),getCode:e=>M3(t,e),getContractEvents:e=>_O(t,e),getEip712Domain:e=>nZ(t,e),getEnsAddress:e=>xQ(t,e),getEnsAvatar:e=>UQ(t,e),getEnsName:e=>jQ(t,e),getEnsResolver:e=>VQ(t,e),getEnsText:e=>mO(t,e),getFeeHistory:e=>sZ(t,e),estimateFeesPerGas:e=>jG(t,e),getFilterChanges:e=>nw(t,e),getFilterLogs:e=>oZ(t,e),getGasPrice:()=>y6(t),getLogs:e=>M6(t,e),getProof:e=>XZ(t,e),estimateMaxPriorityFeePerGas:e=>UG(t,e),getStorageAt:e=>aZ(t,e),getTransaction:e=>D6(t,e),getTransactionConfirmations:e=>uZ(t,e),getTransactionCount:e=>OD(t,e),getTransactionReceipt:e=>D3(t,e),multicall:e=>fZ(t,e),prepareTransactionRequest:e=>A6(t,e),readContract:e=>va(t,e),sendRawTransaction:e=>qD(t,e),simulateContract:e=>tJ(t,e),verifyMessage:e=>NJ(t,e),verifySiweMessage:e=>zJ(t,e),verifyTypedData:e=>LJ(t,e),uninstallFilter:e=>rw(t,e),waitForTransactionReceipt:e=>eJ(t,e),watchBlocks:e=>dZ(t,e),watchBlockNumber:e=>EO(t,e),watchContractEvent:e=>BJ(t,e),watchEvent:e=>pZ(t,e),watchPendingTransactions:e=>gZ(t,e)}}function HJ(t){const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function h_e(){const t=new Set;let e=[];const n=()=>HJ(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}var qJ={};const WJ=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,u)=>{let c=o;if(a){const l=(u==null?void 0:u.equalityFn)||Object.is;let f=o(r.getState());c=h=>{const m=o(h);if(!l(f,m)){const b=f;a(f=m,b)}},u!=null&&u.fireImmediately&&a(f,f)}return i(c)},t(e,n,r)},d_e=WJ;function GJ(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=u=>u===null?null:JSON.parse(u,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const hp=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return hp(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return hp(r)(n)}}}},KJ=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:T=>T,version:0,merge:(T,_)=>({..._,...T}),...e},o=!1;const a=new Set,u=new Set;let c;try{c=s.getStorage()}catch{}if(!c)return t((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...T)},r,i);const l=hp(s.serialize),f=()=>{const T=s.partialize({...r()});let _;const w=l({state:T,version:s.version}).then(C=>c.setItem(s.name,C)).catch(C=>{_=C});if(_)throw _;return w},h=i.setState;i.setState=(T,_)=>{h(T,_),f()};const m=t((...T)=>{n(...T),f()},r,i);let b;const A=()=>{var T;if(!c)return;o=!1,a.forEach(w=>w(r()));const _=((T=s.onRehydrateStorage)==null?void 0:T.call(s,r()))||void 0;return hp(c.getItem.bind(c))(s.name).then(w=>{if(w)return s.deserialize(w)}).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==s.version){if(s.migrate)return s.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var C;return b=s.merge(w,(C=r())!=null?C:m),n(b,!0),f()}).then(()=>{_==null||_(b,void 0),o=!0,u.forEach(w=>w(b))}).catch(w=>{_==null||_(void 0,w)})};return i.persist={setOptions:T=>{s={...s,...T},T.getStorage&&(c=T.getStorage())},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>A(),hasHydrated:()=>o,onHydrate:T=>(a.add(T),()=>{a.delete(T)}),onFinishHydration:T=>(u.add(T),()=>{u.delete(T)})},A(),b||m},QJ=(t,e)=>(n,r,i)=>{let s={storage:GJ(()=>localStorage),partialize:A=>A,version:0,merge:(A,T)=>({...T,...A}),...e},o=!1;const a=new Set,u=new Set;let c=s.storage;if(!c)return t((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...A)},r,i);const l=()=>{const A=s.partialize({...r()});return c.setItem(s.name,{state:A,version:s.version})},f=i.setState;i.setState=(A,T)=>{f(A,T),l()};const h=t((...A)=>{n(...A),l()},r,i);let m;const b=()=>{var A,T;if(!c)return;o=!1,a.forEach(w=>{var C;return w((C=r())!=null?C:h)});const _=((T=s.onRehydrateStorage)==null?void 0:T.call(s,(A=r())!=null?A:h))||void 0;return hp(c.getItem.bind(c))(s.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==s.version){if(s.migrate)return s.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var C;return m=s.merge(w,(C=r())!=null?C:h),n(m,!0),l()}).then(()=>{_==null||_(m,void 0),m=r(),o=!0,u.forEach(w=>w(m))}).catch(w=>{_==null||_(void 0,w)})};return i.persist={setOptions:A=>{s={...s,...A},A.storage&&(c=A.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:A=>(a.add(A),()=>{a.delete(A)}),onFinishHydration:A=>(u.add(A),()=>{u.delete(A)})},s.skipHydration||b(),m||h},ZJ=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((qJ?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),KJ(t,e)):QJ(t,e),p_e=ZJ;var JJ={};const cx=t=>{let e;const n=new Set,r=(u,c)=>{const l=typeof u=="function"?u(e):u;if(!Object.is(l,e)){const f=e;e=c??typeof l!="object"?l:Object.assign({},e,l),n.forEach(h=>h(e,f))}},i=()=>e,a={setState:r,getState:i,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(JJ?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return e=t(r,i,a),a},g_e=t=>t?cx(t):cx;var QO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,c,l){this.fn=u,this.context=c,this.once=l||!1}function s(u,c,l,f,h){if(typeof l!="function")throw new TypeError("The listener must be a function");var m=new i(l,f||u,h),b=n?n+c:c;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],m]:u._events[b].push(m):(u._events[b]=m,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],l,f;if(this._eventsCount===0)return c;for(f in l=this._events)e.call(l,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(l)):c},a.prototype.listeners=function(c){var l=n?n+c:c,f=this._events[l];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,b=new Array(m);h<m;h++)b[h]=f[h].fn;return b},a.prototype.listenerCount=function(c){var l=n?n+c:c,f=this._events[l];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,l,f,h,m,b){var A=n?n+c:c;if(!this._events[A])return!1;var T=this._events[A],_=arguments.length,w,C;if(T.fn){switch(T.once&&this.removeListener(c,T.fn,void 0,!0),_){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,l),!0;case 3:return T.fn.call(T.context,l,f),!0;case 4:return T.fn.call(T.context,l,f,h),!0;case 5:return T.fn.call(T.context,l,f,h,m),!0;case 6:return T.fn.call(T.context,l,f,h,m,b),!0}for(C=1,w=new Array(_-1);C<_;C++)w[C-1]=arguments[C];T.fn.apply(T.context,w)}else{var M=T.length,N;for(C=0;C<M;C++)switch(T[C].once&&this.removeListener(c,T[C].fn,void 0,!0),_){case 1:T[C].fn.call(T[C].context);break;case 2:T[C].fn.call(T[C].context,l);break;case 3:T[C].fn.call(T[C].context,l,f);break;case 4:T[C].fn.call(T[C].context,l,f,h);break;default:if(!w)for(N=1,w=new Array(_-1);N<_;N++)w[N-1]=arguments[N];T[C].fn.apply(T[C].context,w)}}return!0},a.prototype.on=function(c,l,f){return s(this,c,l,f,!1)},a.prototype.once=function(c,l,f){return s(this,c,l,f,!0)},a.prototype.removeListener=function(c,l,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!l)return o(this,m),this;var b=this._events[m];if(b.fn)b.fn===l&&(!h||b.once)&&(!f||b.context===f)&&o(this,m);else{for(var A=0,T=[],_=b.length;A<_;A++)(b[A].fn!==l||h&&!b[A].once||f&&b[A].context!==f)&&T.push(b[A]);T.length?this._events[m]=T.length===1?T[0]:T:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var l;return c?(l=n?n+c:c,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(QO);var YJ=QO.exports;const lx=Ni(YJ),XJ=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:lx,default:lx},Symbol.toStringTag,{value:"Module"})),eY={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},tY={block:$G({format(t){var n;return{transactions:(n=t.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const i=Yv(r);return i.typeHex==="0x7e"&&(i.isSystemTx=r.isSystemTx,i.mint=r.mint?Ns(r.mint):void 0,i.sourceHash=r.sourceHash,i.type="deposit"),i}),stateRoot:t.stateRoot}}}),transaction:FG({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?Ns(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:lZ({format(t){return{l1GasPrice:t.l1GasPrice?Ns(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?Ns(t.l1GasUsed):null,l1Fee:t.l1Fee?Ns(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function nY(t,e){return sY(t)?iY(t):qZ(t,e)}const rY={transaction:nY};function iY(t){oY(t);const{sourceHash:e,data:n,from:r,gas:i,isSystemTx:s,mint:o,to:a,value:u}=t,c=[e,r,a??"0x",o?At(o):"0x",u?At(u):"0x",i?At(i):"0x",s?"0x1":"0x",n??"0x"];return Vu(["0x7e",dh(c)])}function sY(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function oY(t){const{from:e,to:n}=t;if(e&&!Er(e))throw new mi({address:e});if(n&&!Er(n))throw new mi({address:n})}const R1={contracts:eY,formatters:tY,serializers:rY},m_e=nd({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),Gm=1,y_e=nd({...R1,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...R1.contracts,l2OutputOracle:{[Gm]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Gm]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Gm]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Gm}),v_e=nd({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),w_e=nd({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cloudflare-eth.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Ld=1,__e=nd({...R1,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...R1.contracts,disputeGameFactory:{[Ld]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[Ld]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Ld]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Ld]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:Ld}),b_e=nd({id:137,name:"Polygon",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),aY=Symbol(),fx=Object.getPrototypeOf,j3=new WeakMap,uY=t=>t&&(j3.has(t)?j3.get(t):fx(t)===Object.prototype||fx(t)===Array.prototype),cY=t=>uY(t)&&t[aY]||null,hx=(t,e=!0)=>{j3.set(t,e)};var k1={};const Zb=t=>typeof t=="object"&&t!==null,za=new WeakMap,Kd=new WeakSet,lY=(t=Object.is,e=(c,l)=>new Proxy(c,l),n=c=>Zb(c)&&!Kd.has(c)&&(Array.isArray(c)||!(Symbol.iterator in c))&&!(c instanceof WeakMap)&&!(c instanceof WeakSet)&&!(c instanceof Error)&&!(c instanceof Number)&&!(c instanceof Date)&&!(c instanceof String)&&!(c instanceof RegExp)&&!(c instanceof ArrayBuffer),r=c=>{switch(c.status){case"fulfilled":return c.value;case"rejected":throw c.reason;default:throw c}},i=new WeakMap,s=(c,l,f=r)=>{const h=i.get(c);if((h==null?void 0:h[0])===l)return h[1];const m=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c));return hx(m,!0),i.set(c,[l,m]),Reflect.ownKeys(c).forEach(b=>{if(Object.getOwnPropertyDescriptor(m,b))return;const A=Reflect.get(c,b),T={value:A,enumerable:!0,configurable:!0};if(Kd.has(A))hx(A,!1);else if(A instanceof Promise)delete T.value,T.get=()=>f(A);else if(za.has(A)){const[_,w]=za.get(A);T.value=s(_,w(),f)}Object.defineProperty(m,b,T)}),Object.preventExtensions(m)},o=new WeakMap,a=[1,1],u=c=>{if(!Zb(c))throw new Error("object required");const l=o.get(c);if(l)return l;let f=a[0];const h=new Set,m=(S,k=++a[0])=>{f!==k&&(f=k,h.forEach(L=>L(S,k)))};let b=a[1];const A=(S=++a[1])=>(b!==S&&!h.size&&(b=S,_.forEach(([k])=>{const L=k[1](S);L>f&&(f=L)})),f),T=S=>(k,L)=>{const z=[...k];z[1]=[S,...z[1]],m(z,L)},_=new Map,w=(S,k)=>{if((k1?"production":void 0)!=="production"&&_.has(S))throw new Error("prop listener already exists");if(h.size){const L=k[3](T(S));_.set(S,[k,L])}else _.set(S,[k])},C=S=>{var k;const L=_.get(S);L&&(_.delete(S),(k=L[1])==null||k.call(L))},M=S=>(h.add(S),h.size===1&&_.forEach(([L,z],x)=>{if((k1?"production":void 0)!=="production"&&z)throw new Error("remove already exists");const g=L[3](T(x));_.set(x,[L,g])}),()=>{h.delete(S),h.size===0&&_.forEach(([L,z],x)=>{z&&(z(),_.set(x,[L]))})}),N=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c)),v=e(N,{deleteProperty(S,k){const L=Reflect.get(S,k);C(k);const z=Reflect.deleteProperty(S,k);return z&&m(["delete",[k],L]),z},set(S,k,L,z){const x=Reflect.has(S,k),g=Reflect.get(S,k,z);if(x&&(t(g,L)||o.has(L)&&t(g,o.get(L))))return!0;C(k),Zb(L)&&(L=cY(L)||L);let d=L;if(L instanceof Promise)L.then(E=>{L.status="fulfilled",L.value=E,m(["resolve",[k],E])}).catch(E=>{L.status="rejected",L.reason=E,m(["reject",[k],E])});else{!za.has(L)&&n(L)&&(d=u(L));const E=!Kd.has(d)&&za.get(d);E&&w(k,E)}return Reflect.set(S,k,d,z),m(["set",[k],L,g]),!0}});o.set(c,v);const y=[N,A,s,M];return za.set(v,y),Reflect.ownKeys(c).forEach(S=>{const k=Object.getOwnPropertyDescriptor(c,S);"value"in k&&(v[S]=c[S],delete k.value,delete k.writable),Object.defineProperty(N,S,k)}),v})=>[u,za,Kd,t,e,n,r,i,s,o,a],[fY]=lY();function hY(t={}){return fY(t)}function dY(t,e,n){const r=za.get(t);(k1?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const c=o(l=>{s.push(l),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,c()}}function E_e(t,e){const n=za.get(t);(k1?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,i,s]=n;return s(r,i(),e)}function A_e(t){return Kd.add(t),t}function S_e(t,e,n,r){let i=t[e];return dY(t,()=>{const s=t[e];Object.is(i,s)||n(i=s)})}function C_e(t){const e=hY({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const i=this.data.find(s=>s[0]===n);return i?i[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(i=>i[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(i=>i[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}var ZO={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ce,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",u="hour",c="day",l="week",f="month",h="quarter",m="year",b="date",A="Invalid Date",T=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(g){var d=["th","st","nd","rd"],E=g%100;return"["+g+(d[(E-20)%10]||d[E]||d[0])+"]"}},C=function(g,d,E){var P=String(g);return!P||P.length>=d?g:""+Array(d+1-P.length).join(E)+g},M={s:C,z:function(g){var d=-g.utcOffset(),E=Math.abs(d),P=Math.floor(E/60),I=E%60;return(d<=0?"+":"-")+C(P,2,"0")+":"+C(I,2,"0")},m:function g(d,E){if(d.date()<E.date())return-g(E,d);var P=12*(E.year()-d.year())+(E.month()-d.month()),I=d.clone().add(P,f),F=E-I<0,H=d.clone().add(P+(F?-1:1),f);return+(-(P+(E-I)/(F?I-H:H-I))||0)},a:function(g){return g<0?Math.ceil(g)||0:Math.floor(g)},p:function(g){return{M:f,y:m,w:l,d:c,D:b,h:u,m:a,s:o,ms:s,Q:h}[g]||String(g||"").toLowerCase().replace(/s$/,"")},u:function(g){return g===void 0}},N="en",U={};U[N]=w;var v="$isDayjsObject",y=function(g){return g instanceof z||!(!g||!g[v])},S=function g(d,E,P){var I;if(!d)return N;if(typeof d=="string"){var F=d.toLowerCase();U[F]&&(I=F),E&&(U[F]=E,I=F);var H=d.split("-");if(!I&&H.length>1)return g(H[0])}else{var V=d.name;U[V]=d,I=V}return!P&&I&&(N=I),I||!P&&N},k=function(g,d){if(y(g))return g.clone();var E=typeof d=="object"?d:{};return E.date=g,E.args=arguments,new z(E)},L=M;L.l=S,L.i=y,L.w=function(g,d){return k(g,{locale:d.$L,utc:d.$u,x:d.$x,$offset:d.$offset})};var z=function(){function g(E){this.$L=S(E.locale,null,!0),this.parse(E),this.$x=this.$x||E.x||{},this[v]=!0}var d=g.prototype;return d.parse=function(E){this.$d=function(P){var I=P.date,F=P.utc;if(I===null)return new Date(NaN);if(L.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var H=I.match(T);if(H){var V=H[2]-1||0,R=(H[7]||"0").substring(0,3);return F?new Date(Date.UTC(H[1],V,H[3]||1,H[4]||0,H[5]||0,H[6]||0,R)):new Date(H[1],V,H[3]||1,H[4]||0,H[5]||0,H[6]||0,R)}}return new Date(I)}(E),this.init()},d.init=function(){var E=this.$d;this.$y=E.getFullYear(),this.$M=E.getMonth(),this.$D=E.getDate(),this.$W=E.getDay(),this.$H=E.getHours(),this.$m=E.getMinutes(),this.$s=E.getSeconds(),this.$ms=E.getMilliseconds()},d.$utils=function(){return L},d.isValid=function(){return this.$d.toString()!==A},d.isSame=function(E,P){var I=k(E);return this.startOf(P)<=I&&I<=this.endOf(P)},d.isAfter=function(E,P){return k(E)<this.startOf(P)},d.isBefore=function(E,P){return this.endOf(P)<k(E)},d.$g=function(E,P,I){return L.u(E)?this[P]:this.set(I,E)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(E,P){var I=this,F=!!L.u(P)||P,H=L.p(E),V=function(ee,B){var j=L.w(I.$u?Date.UTC(I.$y,B,ee):new Date(I.$y,B,ee),I);return F?j:j.endOf(c)},R=function(ee,B){return L.w(I.toDate()[ee].apply(I.toDate("s"),(F?[0,0,0,0]:[23,59,59,999]).slice(B)),I)},W=this.$W,ae=this.$M,re=this.$D,X="set"+(this.$u?"UTC":"");switch(H){case m:return F?V(1,0):V(31,11);case f:return F?V(1,ae):V(0,ae+1);case l:var Q=this.$locale().weekStart||0,Y=(W<Q?W+7:W)-Q;return V(F?re-Y:re+(6-Y),ae);case c:case b:return R(X+"Hours",0);case u:return R(X+"Minutes",1);case a:return R(X+"Seconds",2);case o:return R(X+"Milliseconds",3);default:return this.clone()}},d.endOf=function(E){return this.startOf(E,!1)},d.$set=function(E,P){var I,F=L.p(E),H="set"+(this.$u?"UTC":""),V=(I={},I[c]=H+"Date",I[b]=H+"Date",I[f]=H+"Month",I[m]=H+"FullYear",I[u]=H+"Hours",I[a]=H+"Minutes",I[o]=H+"Seconds",I[s]=H+"Milliseconds",I)[F],R=F===c?this.$D+(P-this.$W):P;if(F===f||F===m){var W=this.clone().set(b,1);W.$d[V](R),W.init(),this.$d=W.set(b,Math.min(this.$D,W.daysInMonth())).$d}else V&&this.$d[V](R);return this.init(),this},d.set=function(E,P){return this.clone().$set(E,P)},d.get=function(E){return this[L.p(E)]()},d.add=function(E,P){var I,F=this;E=Number(E);var H=L.p(P),V=function(ae){var re=k(F);return L.w(re.date(re.date()+Math.round(ae*E)),F)};if(H===f)return this.set(f,this.$M+E);if(H===m)return this.set(m,this.$y+E);if(H===c)return V(1);if(H===l)return V(7);var R=(I={},I[a]=r,I[u]=i,I[o]=n,I)[H]||1,W=this.$d.getTime()+E*R;return L.w(W,this)},d.subtract=function(E,P){return this.add(-1*E,P)},d.format=function(E){var P=this,I=this.$locale();if(!this.isValid())return I.invalidDate||A;var F=E||"YYYY-MM-DDTHH:mm:ssZ",H=L.z(this),V=this.$H,R=this.$m,W=this.$M,ae=I.weekdays,re=I.months,X=I.meridiem,Q=function(B,j,K,ie){return B&&(B[j]||B(P,F))||K[j].slice(0,ie)},Y=function(B){return L.s(V%12||12,B,"0")},ee=X||function(B,j,K){var ie=B<12?"AM":"PM";return K?ie.toLowerCase():ie};return F.replace(_,function(B,j){return j||function(K){switch(K){case"YY":return String(P.$y).slice(-2);case"YYYY":return L.s(P.$y,4,"0");case"M":return W+1;case"MM":return L.s(W+1,2,"0");case"MMM":return Q(I.monthsShort,W,re,3);case"MMMM":return Q(re,W);case"D":return P.$D;case"DD":return L.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return Q(I.weekdaysMin,P.$W,ae,2);case"ddd":return Q(I.weekdaysShort,P.$W,ae,3);case"dddd":return ae[P.$W];case"H":return String(V);case"HH":return L.s(V,2,"0");case"h":return Y(1);case"hh":return Y(2);case"a":return ee(V,R,!0);case"A":return ee(V,R,!1);case"m":return String(R);case"mm":return L.s(R,2,"0");case"s":return String(P.$s);case"ss":return L.s(P.$s,2,"0");case"SSS":return L.s(P.$ms,3,"0");case"Z":return H}return null}(B)||H.replace(":","")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(E,P,I){var F,H=this,V=L.p(P),R=k(E),W=(R.utcOffset()-this.utcOffset())*r,ae=this-R,re=function(){return L.m(H,R)};switch(V){case m:F=re()/12;break;case f:F=re();break;case h:F=re()/3;break;case l:F=(ae-W)/6048e5;break;case c:F=(ae-W)/864e5;break;case u:F=ae/i;break;case a:F=ae/r;break;case o:F=ae/n;break;default:F=ae}return I?F:L.a(F)},d.daysInMonth=function(){return this.endOf(f).$D},d.$locale=function(){return U[this.$L]},d.locale=function(E,P){if(!E)return this.$L;var I=this.clone(),F=S(E,P,!0);return F&&(I.$L=F),I},d.clone=function(){return L.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},g}(),x=z.prototype;return k.prototype=x,[["$ms",s],["$s",o],["$m",a],["$H",u],["$W",c],["$M",f],["$y",m],["$D",b]].forEach(function(g){x[g[1]]=function(d){return this.$g(d,g[0],g[1])}}),k.extend=function(g,d){return g.$i||(g(d,z,k),g.$i=!0),k},k.locale=S,k.isDayjs=y,k.unix=function(g){return k(1e3*g)},k.en=U[N],k.Ls=U,k.p={},k})})(ZO);var pY=ZO.exports;const I_e=Ni(pY);var JO={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ce,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],i=n%100;return"["+n+(r[(i-20)%10]||r[i]||r[0])+"]"}}})})(JO);var gY=JO.exports;const x_e=Ni(gY);var YO={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ce,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,l,f,h){return s.fromToBase(c,l,f,h)}i.en.relativeTime=o,s.fromToBase=function(c,l,f,h,m){for(var b,A,T,_=f.$locale().relativeTime||o,w=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],C=w.length,M=0;M<C;M+=1){var N=w[M];N.d&&(b=h?i(c).diff(f,N.d,!0):f.diff(c,N.d,!0));var U=(n.rounding||Math.round)(Math.abs(b));if(T=b>0,U<=N.r||!N.r){U<=1&&M>0&&(N=w[M-1]);var v=_[N.l];m&&(U=m(""+U)),A=typeof v=="string"?v.replace("%d",U):v(U,l,N.l,T);break}}if(l)return A;var y=T?_.future:_.past;return typeof y=="function"?y(A):y.replace("%s",A)},s.to=function(c,l){return a(c,l,this,!0)},s.from=function(c,l){return a(c,l,this)};var u=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(u(this),c)},s.fromNow=function(c){return this.from(u(this),c)}}})})(YO);var mY=YO.exports;const T_e=Ni(mY);var XO={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ce,function(){return function(n,r,i){i.updateLocale=function(s,o){var a=i.Ls[s];if(a)return(o?Object.keys(o):[]).forEach(function(u){a[u]=o[u]}),a}}})})(XO);var yY=XO.exports;const R_e=Ni(yY);var vY=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Jb=Math.ceil,Xi=Math.floor,ii="[BigNumber Error] ",dx=ii+"Number primitive has more than 15 significant digits: ",Cs=1e14,dt=14,Yb=9007199254740991,Xb=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Ba=1e7,Xn=1e9;function eN(t){var e,n,r,i=w.prototype={constructor:w,toString:null,valueOf:null},s=new w(1),o=20,a=4,u=-7,c=21,l=-1e7,f=1e7,h=!1,m=1,b=0,A={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},T="0123456789abcdefghijklmnopqrstuvwxyz",_=!0;function w(y,S){var k,L,z,x,g,d,E,P,I=this;if(!(I instanceof w))return new w(y,S);if(S==null){if(y&&y._isBigNumber===!0){I.s=y.s,!y.c||y.e>f?I.c=I.e=null:y.e<l?I.c=[I.e=0]:(I.e=y.e,I.c=y.c.slice());return}if((d=typeof y=="number")&&y*0==0){if(I.s=1/y<0?(y=-y,-1):1,y===~~y){for(x=0,g=y;g>=10;g/=10,x++);x>f?I.c=I.e=null:(I.e=x,I.c=[y]);return}P=String(y)}else{if(!vY.test(P=String(y)))return r(I,P,d);I.s=P.charCodeAt(0)==45?(P=P.slice(1),-1):1}(x=P.indexOf("."))>-1&&(P=P.replace(".","")),(g=P.search(/e/i))>0?(x<0&&(x=g),x+=+P.slice(g+1),P=P.substring(0,g)):x<0&&(x=P.length)}else{if(pn(S,2,T.length,"Base"),S==10&&_)return I=new w(y),U(I,o+I.e+1,a);if(P=String(y),d=typeof y=="number"){if(y*0!=0)return r(I,P,d,S);if(I.s=1/y<0?(P=P.slice(1),-1):1,w.DEBUG&&P.replace(/^0\.0*|\./,"").length>15)throw Error(dx+y)}else I.s=P.charCodeAt(0)===45?(P=P.slice(1),-1):1;for(k=T.slice(0,S),x=g=0,E=P.length;g<E;g++)if(k.indexOf(L=P.charAt(g))<0){if(L=="."){if(g>x){x=E;continue}}else if(!z&&(P==P.toUpperCase()&&(P=P.toLowerCase())||P==P.toLowerCase()&&(P=P.toUpperCase()))){z=!0,g=-1,x=0;continue}return r(I,String(y),d,S)}d=!1,P=n(P,S,10,I.s),(x=P.indexOf("."))>-1?P=P.replace(".",""):x=P.length}for(g=0;P.charCodeAt(g)===48;g++);for(E=P.length;P.charCodeAt(--E)===48;);if(P=P.slice(g,++E)){if(E-=g,d&&w.DEBUG&&E>15&&(y>Yb||y!==Xi(y)))throw Error(dx+I.s*y);if((x=x-g-1)>f)I.c=I.e=null;else if(x<l)I.c=[I.e=0];else{if(I.e=x,I.c=[],g=(x+1)%dt,x<0&&(g+=dt),g<E){for(g&&I.c.push(+P.slice(0,g)),E-=dt;g<E;)I.c.push(+P.slice(g,g+=dt));g=dt-(P=P.slice(g)).length}else g-=E;for(;g--;P+="0");I.c.push(+P)}}else I.c=[I.e=0]}w.clone=eN,w.ROUND_UP=0,w.ROUND_DOWN=1,w.ROUND_CEIL=2,w.ROUND_FLOOR=3,w.ROUND_HALF_UP=4,w.ROUND_HALF_DOWN=5,w.ROUND_HALF_EVEN=6,w.ROUND_HALF_CEIL=7,w.ROUND_HALF_FLOOR=8,w.EUCLID=9,w.config=w.set=function(y){var S,k;if(y!=null)if(typeof y=="object"){if(y.hasOwnProperty(S="DECIMAL_PLACES")&&(k=y[S],pn(k,0,Xn,S),o=k),y.hasOwnProperty(S="ROUNDING_MODE")&&(k=y[S],pn(k,0,8,S),a=k),y.hasOwnProperty(S="EXPONENTIAL_AT")&&(k=y[S],k&&k.pop?(pn(k[0],-Xn,0,S),pn(k[1],0,Xn,S),u=k[0],c=k[1]):(pn(k,-Xn,Xn,S),u=-(c=k<0?-k:k))),y.hasOwnProperty(S="RANGE"))if(k=y[S],k&&k.pop)pn(k[0],-Xn,-1,S),pn(k[1],1,Xn,S),l=k[0],f=k[1];else if(pn(k,-Xn,Xn,S),k)l=-(f=k<0?-k:k);else throw Error(ii+S+" cannot be zero: "+k);if(y.hasOwnProperty(S="CRYPTO"))if(k=y[S],k===!!k)if(k)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))h=k;else throw h=!k,Error(ii+"crypto unavailable");else h=k;else throw Error(ii+S+" not true or false: "+k);if(y.hasOwnProperty(S="MODULO_MODE")&&(k=y[S],pn(k,0,9,S),m=k),y.hasOwnProperty(S="POW_PRECISION")&&(k=y[S],pn(k,0,Xn,S),b=k),y.hasOwnProperty(S="FORMAT"))if(k=y[S],typeof k=="object")A=k;else throw Error(ii+S+" not an object: "+k);if(y.hasOwnProperty(S="ALPHABET"))if(k=y[S],typeof k=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(k))_=k.slice(0,10)=="0123456789",T=k;else throw Error(ii+S+" invalid: "+k)}else throw Error(ii+"Object expected: "+y);return{DECIMAL_PLACES:o,ROUNDING_MODE:a,EXPONENTIAL_AT:[u,c],RANGE:[l,f],CRYPTO:h,MODULO_MODE:m,POW_PRECISION:b,FORMAT:A,ALPHABET:T}},w.isBigNumber=function(y){if(!y||y._isBigNumber!==!0)return!1;if(!w.DEBUG)return!0;var S,k,L=y.c,z=y.e,x=y.s;e:if({}.toString.call(L)=="[object Array]"){if((x===1||x===-1)&&z>=-Xn&&z<=Xn&&z===Xi(z)){if(L[0]===0){if(z===0&&L.length===1)return!0;break e}if(S=(z+1)%dt,S<1&&(S+=dt),String(L[0]).length==S){for(S=0;S<L.length;S++)if(k=L[S],k<0||k>=Cs||k!==Xi(k))break e;if(k!==0)return!0}}}else if(L===null&&z===null&&(x===null||x===1||x===-1))return!0;throw Error(ii+"Invalid BigNumber: "+y)},w.maximum=w.max=function(){return M(arguments,-1)},w.minimum=w.min=function(){return M(arguments,1)},w.random=function(){var y=9007199254740992,S=Math.random()*y&2097151?function(){return Xi(Math.random()*y)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(k){var L,z,x,g,d,E=0,P=[],I=new w(s);if(k==null?k=o:pn(k,0,Xn),g=Jb(k/dt),h)if(crypto.getRandomValues){for(L=crypto.getRandomValues(new Uint32Array(g*=2));E<g;)d=L[E]*131072+(L[E+1]>>>11),d>=9e15?(z=crypto.getRandomValues(new Uint32Array(2)),L[E]=z[0],L[E+1]=z[1]):(P.push(d%1e14),E+=2);E=g/2}else if(crypto.randomBytes){for(L=crypto.randomBytes(g*=7);E<g;)d=(L[E]&31)*281474976710656+L[E+1]*1099511627776+L[E+2]*4294967296+L[E+3]*16777216+(L[E+4]<<16)+(L[E+5]<<8)+L[E+6],d>=9e15?crypto.randomBytes(7).copy(L,E):(P.push(d%1e14),E+=7);E=g/7}else throw h=!1,Error(ii+"crypto unavailable");if(!h)for(;E<g;)d=S(),d<9e15&&(P[E++]=d%1e14);for(g=P[--E],k%=dt,g&&k&&(d=Xb[dt-k],P[E]=Xi(g/d)*d);P[E]===0;P.pop(),E--);if(E<0)P=[x=0];else{for(x=-1;P[0]===0;P.splice(0,1),x-=dt);for(E=1,d=P[0];d>=10;d/=10,E++);E<dt&&(x-=dt-E)}return I.e=x,I.c=P,I}}(),w.sum=function(){for(var y=1,S=arguments,k=new w(S[0]);y<S.length;)k=k.plus(S[y++]);return k},n=function(){var y="0123456789";function S(k,L,z,x){for(var g,d=[0],E,P=0,I=k.length;P<I;){for(E=d.length;E--;d[E]*=L);for(d[0]+=x.indexOf(k.charAt(P++)),g=0;g<d.length;g++)d[g]>z-1&&(d[g+1]==null&&(d[g+1]=0),d[g+1]+=d[g]/z|0,d[g]%=z)}return d.reverse()}return function(k,L,z,x,g){var d,E,P,I,F,H,V,R,W=k.indexOf("."),ae=o,re=a;for(W>=0&&(I=b,b=0,k=k.replace(".",""),R=new w(L),H=R.pow(k.length-W),b=I,R.c=S(Qo(Ki(H.c),H.e,"0"),10,z,y),R.e=R.c.length),V=S(k,L,z,g?(d=T,y):(d=y,T)),P=I=V.length;V[--I]==0;V.pop());if(!V[0])return d.charAt(0);if(W<0?--P:(H.c=V,H.e=P,H.s=x,H=e(H,R,ae,re,z),V=H.c,F=H.r,P=H.e),E=P+ae+1,W=V[E],I=z/2,F=F||E<0||V[E+1]!=null,F=re<4?(W!=null||F)&&(re==0||re==(H.s<0?3:2)):W>I||W==I&&(re==4||F||re==6&&V[E-1]&1||re==(H.s<0?8:7)),E<1||!V[0])k=F?Qo(d.charAt(1),-ae,d.charAt(0)):d.charAt(0);else{if(V.length=E,F)for(--z;++V[--E]>z;)V[E]=0,E||(++P,V=[1].concat(V));for(I=V.length;!V[--I];);for(W=0,k="";W<=I;k+=d.charAt(V[W++]));k=Qo(k,P,d.charAt(0))}return k}}(),e=function(){function y(L,z,x){var g,d,E,P,I=0,F=L.length,H=z%Ba,V=z/Ba|0;for(L=L.slice();F--;)E=L[F]%Ba,P=L[F]/Ba|0,g=V*E+P*H,d=H*E+g%Ba*Ba+I,I=(d/x|0)+(g/Ba|0)+V*P,L[F]=d%x;return I&&(L=[I].concat(L)),L}function S(L,z,x,g){var d,E;if(x!=g)E=x>g?1:-1;else for(d=E=0;d<x;d++)if(L[d]!=z[d]){E=L[d]>z[d]?1:-1;break}return E}function k(L,z,x,g){for(var d=0;x--;)L[x]-=d,d=L[x]<z[x]?1:0,L[x]=d*g+L[x]-z[x];for(;!L[0]&&L.length>1;L.splice(0,1));}return function(L,z,x,g,d){var E,P,I,F,H,V,R,W,ae,re,X,Q,Y,ee,B,j,K,ie=L.s==z.s?1:-1,fe=L.c,pe=z.c;if(!fe||!fe[0]||!pe||!pe[0])return new w(!L.s||!z.s||(fe?pe&&fe[0]==pe[0]:!pe)?NaN:fe&&fe[0]==0||!pe?ie*0:ie/0);for(W=new w(ie),ae=W.c=[],P=L.e-z.e,ie=x+P+1,d||(d=Cs,P=es(L.e/dt)-es(z.e/dt),ie=ie/dt|0),I=0;pe[I]==(fe[I]||0);I++);if(pe[I]>(fe[I]||0)&&P--,ie<0)ae.push(1),F=!0;else{for(ee=fe.length,j=pe.length,I=0,ie+=2,H=Xi(d/(pe[0]+1)),H>1&&(pe=y(pe,H,d),fe=y(fe,H,d),j=pe.length,ee=fe.length),Y=j,re=fe.slice(0,j),X=re.length;X<j;re[X++]=0);K=pe.slice(),K=[0].concat(K),B=pe[0],pe[1]>=d/2&&B++;do{if(H=0,E=S(pe,re,j,X),E<0){if(Q=re[0],j!=X&&(Q=Q*d+(re[1]||0)),H=Xi(Q/B),H>1)for(H>=d&&(H=d-1),V=y(pe,H,d),R=V.length,X=re.length;S(V,re,R,X)==1;)H--,k(V,j<R?K:pe,R,d),R=V.length,E=1;else H==0&&(E=H=1),V=pe.slice(),R=V.length;if(R<X&&(V=[0].concat(V)),k(re,V,X,d),X=re.length,E==-1)for(;S(pe,re,j,X)<1;)H++,k(re,j<X?K:pe,X,d),X=re.length}else E===0&&(H++,re=[0]);ae[I++]=H,re[0]?re[X++]=fe[Y]||0:(re=[fe[Y]],X=1)}while((Y++<ee||re[0]!=null)&&ie--);F=re[0]!=null,ae[0]||ae.splice(0,1)}if(d==Cs){for(I=1,ie=ae[0];ie>=10;ie/=10,I++);U(W,x+(W.e=I+P*dt-1)+1,g,F)}else W.e=P,W.r=+F;return W}}();function C(y,S,k,L){var z,x,g,d,E;if(k==null?k=a:pn(k,0,8),!y.c)return y.toString();if(z=y.c[0],g=y.e,S==null)E=Ki(y.c),E=L==1||L==2&&(g<=u||g>=c)?Qm(E,g):Qo(E,g,"0");else if(y=U(new w(y),S,k),x=y.e,E=Ki(y.c),d=E.length,L==1||L==2&&(S<=x||x<=u)){for(;d<S;E+="0",d++);E=Qm(E,x)}else if(S-=g,E=Qo(E,x,"0"),x+1>d){if(--S>0)for(E+=".";S--;E+="0");}else if(S+=x-d,S>0)for(x+1==d&&(E+=".");S--;E+="0");return y.s<0&&z?"-"+E:E}function M(y,S){for(var k,L,z=1,x=new w(y[0]);z<y.length;z++)L=new w(y[z]),(!L.s||(k=oc(x,L))===S||k===0&&x.s===S)&&(x=L);return x}function N(y,S,k){for(var L=1,z=S.length;!S[--z];S.pop());for(z=S[0];z>=10;z/=10,L++);return(k=L+k*dt-1)>f?y.c=y.e=null:k<l?y.c=[y.e=0]:(y.e=k,y.c=S),y}r=function(){var y=/^(-?)0([xbo])(?=\w[\w.]*$)/i,S=/^([^.]+)\.$/,k=/^\.([^.]+)$/,L=/^-?(Infinity|NaN)$/,z=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(x,g,d,E){var P,I=d?g:g.replace(z,"");if(L.test(I))x.s=isNaN(I)?null:I<0?-1:1;else{if(!d&&(I=I.replace(y,function(F,H,V){return P=(V=V.toLowerCase())=="x"?16:V=="b"?2:8,!E||E==P?H:F}),E&&(P=E,I=I.replace(S,"$1").replace(k,"0.$1")),g!=I))return new w(I,P);if(w.DEBUG)throw Error(ii+"Not a"+(E?" base "+E:"")+" number: "+g);x.s=null}x.c=x.e=null}}();function U(y,S,k,L){var z,x,g,d,E,P,I,F=y.c,H=Xb;if(F){e:{for(z=1,d=F[0];d>=10;d/=10,z++);if(x=S-z,x<0)x+=dt,g=S,E=F[P=0],I=Xi(E/H[z-g-1]%10);else if(P=Jb((x+1)/dt),P>=F.length)if(L){for(;F.length<=P;F.push(0));E=I=0,z=1,x%=dt,g=x-dt+1}else break e;else{for(E=d=F[P],z=1;d>=10;d/=10,z++);x%=dt,g=x-dt+z,I=g<0?0:Xi(E/H[z-g-1]%10)}if(L=L||S<0||F[P+1]!=null||(g<0?E:E%H[z-g-1]),L=k<4?(I||L)&&(k==0||k==(y.s<0?3:2)):I>5||I==5&&(k==4||L||k==6&&(x>0?g>0?E/H[z-g]:0:F[P-1])%10&1||k==(y.s<0?8:7)),S<1||!F[0])return F.length=0,L?(S-=y.e+1,F[0]=H[(dt-S%dt)%dt],y.e=-S||0):F[0]=y.e=0,y;if(x==0?(F.length=P,d=1,P--):(F.length=P+1,d=H[dt-x],F[P]=g>0?Xi(E/H[z-g]%H[g])*d:0),L)for(;;)if(P==0){for(x=1,g=F[0];g>=10;g/=10,x++);for(g=F[0]+=d,d=1;g>=10;g/=10,d++);x!=d&&(y.e++,F[0]==Cs&&(F[0]=1));break}else{if(F[P]+=d,F[P]!=Cs)break;F[P--]=0,d=1}for(x=F.length;F[--x]===0;F.pop());}y.e>f?y.c=y.e=null:y.e<l&&(y.c=[y.e=0])}return y}function v(y){var S,k=y.e;return k===null?y.toString():(S=Ki(y.c),S=k<=u||k>=c?Qm(S,k):Qo(S,k,"0"),y.s<0?"-"+S:S)}return i.absoluteValue=i.abs=function(){var y=new w(this);return y.s<0&&(y.s=1),y},i.comparedTo=function(y,S){return oc(this,new w(y,S))},i.decimalPlaces=i.dp=function(y,S){var k,L,z,x=this;if(y!=null)return pn(y,0,Xn),S==null?S=a:pn(S,0,8),U(new w(x),y+x.e+1,S);if(!(k=x.c))return null;if(L=((z=k.length-1)-es(this.e/dt))*dt,z=k[z])for(;z%10==0;z/=10,L--);return L<0&&(L=0),L},i.dividedBy=i.div=function(y,S){return e(this,new w(y,S),o,a)},i.dividedToIntegerBy=i.idiv=function(y,S){return e(this,new w(y,S),0,1)},i.exponentiatedBy=i.pow=function(y,S){var k,L,z,x,g,d,E,P,I,F=this;if(y=new w(y),y.c&&!y.isInteger())throw Error(ii+"Exponent not an integer: "+v(y));if(S!=null&&(S=new w(S)),d=y.e>14,!F.c||!F.c[0]||F.c[0]==1&&!F.e&&F.c.length==1||!y.c||!y.c[0])return I=new w(Math.pow(+v(F),d?y.s*(2-Km(y)):+v(y))),S?I.mod(S):I;if(E=y.s<0,S){if(S.c?!S.c[0]:!S.s)return new w(NaN);L=!E&&F.isInteger()&&S.isInteger(),L&&(F=F.mod(S))}else{if(y.e>9&&(F.e>0||F.e<-1||(F.e==0?F.c[0]>1||d&&F.c[1]>=24e7:F.c[0]<8e13||d&&F.c[0]<=9999975e7)))return x=F.s<0&&Km(y)?-0:0,F.e>-1&&(x=1/x),new w(E?1/x:x);b&&(x=Jb(b/dt+2))}for(d?(k=new w(.5),E&&(y.s=1),P=Km(y)):(z=Math.abs(+v(y)),P=z%2),I=new w(s);;){if(P){if(I=I.times(F),!I.c)break;x?I.c.length>x&&(I.c.length=x):L&&(I=I.mod(S))}if(z){if(z=Xi(z/2),z===0)break;P=z%2}else if(y=y.times(k),U(y,y.e+1,1),y.e>14)P=Km(y);else{if(z=+v(y),z===0)break;P=z%2}F=F.times(F),x?F.c&&F.c.length>x&&(F.c.length=x):L&&(F=F.mod(S))}return L?I:(E&&(I=s.div(I)),S?I.mod(S):x?U(I,b,a,g):I)},i.integerValue=function(y){var S=new w(this);return y==null?y=a:pn(y,0,8),U(S,S.e+1,y)},i.isEqualTo=i.eq=function(y,S){return oc(this,new w(y,S))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(y,S){return oc(this,new w(y,S))>0},i.isGreaterThanOrEqualTo=i.gte=function(y,S){return(S=oc(this,new w(y,S)))===1||S===0},i.isInteger=function(){return!!this.c&&es(this.e/dt)>this.c.length-2},i.isLessThan=i.lt=function(y,S){return oc(this,new w(y,S))<0},i.isLessThanOrEqualTo=i.lte=function(y,S){return(S=oc(this,new w(y,S)))===-1||S===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(y,S){var k,L,z,x,g=this,d=g.s;if(y=new w(y,S),S=y.s,!d||!S)return new w(NaN);if(d!=S)return y.s=-S,g.plus(y);var E=g.e/dt,P=y.e/dt,I=g.c,F=y.c;if(!E||!P){if(!I||!F)return I?(y.s=-S,y):new w(F?g:NaN);if(!I[0]||!F[0])return F[0]?(y.s=-S,y):new w(I[0]?g:a==3?-0:0)}if(E=es(E),P=es(P),I=I.slice(),d=E-P){for((x=d<0)?(d=-d,z=I):(P=E,z=F),z.reverse(),S=d;S--;z.push(0));z.reverse()}else for(L=(x=(d=I.length)<(S=F.length))?d:S,d=S=0;S<L;S++)if(I[S]!=F[S]){x=I[S]<F[S];break}if(x&&(z=I,I=F,F=z,y.s=-y.s),S=(L=F.length)-(k=I.length),S>0)for(;S--;I[k++]=0);for(S=Cs-1;L>d;){if(I[--L]<F[L]){for(k=L;k&&!I[--k];I[k]=S);--I[k],I[L]+=Cs}I[L]-=F[L]}for(;I[0]==0;I.splice(0,1),--P);return I[0]?N(y,I,P):(y.s=a==3?-1:1,y.c=[y.e=0],y)},i.modulo=i.mod=function(y,S){var k,L,z=this;return y=new w(y,S),!z.c||!y.s||y.c&&!y.c[0]?new w(NaN):!y.c||z.c&&!z.c[0]?new w(z):(m==9?(L=y.s,y.s=1,k=e(z,y,0,3),y.s=L,k.s*=L):k=e(z,y,0,m),y=z.minus(k.times(y)),!y.c[0]&&m==1&&(y.s=z.s),y)},i.multipliedBy=i.times=function(y,S){var k,L,z,x,g,d,E,P,I,F,H,V,R,W,ae,re=this,X=re.c,Q=(y=new w(y,S)).c;if(!X||!Q||!X[0]||!Q[0])return!re.s||!y.s||X&&!X[0]&&!Q||Q&&!Q[0]&&!X?y.c=y.e=y.s=null:(y.s*=re.s,!X||!Q?y.c=y.e=null:(y.c=[0],y.e=0)),y;for(L=es(re.e/dt)+es(y.e/dt),y.s*=re.s,E=X.length,F=Q.length,E<F&&(R=X,X=Q,Q=R,z=E,E=F,F=z),z=E+F,R=[];z--;R.push(0));for(W=Cs,ae=Ba,z=F;--z>=0;){for(k=0,H=Q[z]%ae,V=Q[z]/ae|0,g=E,x=z+g;x>z;)P=X[--g]%ae,I=X[g]/ae|0,d=V*P+I*H,P=H*P+d%ae*ae+R[x]+k,k=(P/W|0)+(d/ae|0)+V*I,R[x--]=P%W;R[x]=k}return k?++L:R.splice(0,1),N(y,R,L)},i.negated=function(){var y=new w(this);return y.s=-y.s||null,y},i.plus=function(y,S){var k,L=this,z=L.s;if(y=new w(y,S),S=y.s,!z||!S)return new w(NaN);if(z!=S)return y.s=-S,L.minus(y);var x=L.e/dt,g=y.e/dt,d=L.c,E=y.c;if(!x||!g){if(!d||!E)return new w(z/0);if(!d[0]||!E[0])return E[0]?y:new w(d[0]?L:z*0)}if(x=es(x),g=es(g),d=d.slice(),z=x-g){for(z>0?(g=x,k=E):(z=-z,k=d),k.reverse();z--;k.push(0));k.reverse()}for(z=d.length,S=E.length,z-S<0&&(k=E,E=d,d=k,S=z),z=0;S;)z=(d[--S]=d[S]+E[S]+z)/Cs|0,d[S]=Cs===d[S]?0:d[S]%Cs;return z&&(d=[z].concat(d),++g),N(y,d,g)},i.precision=i.sd=function(y,S){var k,L,z,x=this;if(y!=null&&y!==!!y)return pn(y,1,Xn),S==null?S=a:pn(S,0,8),U(new w(x),y,S);if(!(k=x.c))return null;if(z=k.length-1,L=z*dt+1,z=k[z]){for(;z%10==0;z/=10,L--);for(z=k[0];z>=10;z/=10,L++);}return y&&x.e+1>L&&(L=x.e+1),L},i.shiftedBy=function(y){return pn(y,-Yb,Yb),this.times("1e"+y)},i.squareRoot=i.sqrt=function(){var y,S,k,L,z,x=this,g=x.c,d=x.s,E=x.e,P=o+4,I=new w("0.5");if(d!==1||!g||!g[0])return new w(!d||d<0&&(!g||g[0])?NaN:g?x:1/0);if(d=Math.sqrt(+v(x)),d==0||d==1/0?(S=Ki(g),(S.length+E)%2==0&&(S+="0"),d=Math.sqrt(+S),E=es((E+1)/2)-(E<0||E%2),d==1/0?S="5e"+E:(S=d.toExponential(),S=S.slice(0,S.indexOf("e")+1)+E),k=new w(S)):k=new w(d+""),k.c[0]){for(E=k.e,d=E+P,d<3&&(d=0);;)if(z=k,k=I.times(z.plus(e(x,z,P,1))),Ki(z.c).slice(0,d)===(S=Ki(k.c)).slice(0,d))if(k.e<E&&--d,S=S.slice(d-3,d+1),S=="9999"||!L&&S=="4999"){if(!L&&(U(z,z.e+o+2,0),z.times(z).eq(x))){k=z;break}P+=4,d+=4,L=1}else{(!+S||!+S.slice(1)&&S.charAt(0)=="5")&&(U(k,k.e+o+2,1),y=!k.times(k).eq(x));break}}return U(k,k.e+o+1,a,y)},i.toExponential=function(y,S){return y!=null&&(pn(y,0,Xn),y++),C(this,y,S,1)},i.toFixed=function(y,S){return y!=null&&(pn(y,0,Xn),y=y+this.e+1),C(this,y,S)},i.toFormat=function(y,S,k){var L,z=this;if(k==null)y!=null&&S&&typeof S=="object"?(k=S,S=null):y&&typeof y=="object"?(k=y,y=S=null):k=A;else if(typeof k!="object")throw Error(ii+"Argument not an object: "+k);if(L=z.toFixed(y,S),z.c){var x,g=L.split("."),d=+k.groupSize,E=+k.secondaryGroupSize,P=k.groupSeparator||"",I=g[0],F=g[1],H=z.s<0,V=H?I.slice(1):I,R=V.length;if(E&&(x=d,d=E,E=x,R-=x),d>0&&R>0){for(x=R%d||d,I=V.substr(0,x);x<R;x+=d)I+=P+V.substr(x,d);E>0&&(I+=P+V.slice(x)),H&&(I="-"+I)}L=F?I+(k.decimalSeparator||"")+((E=+k.fractionGroupSize)?F.replace(new RegExp("\\d{"+E+"}\\B","g"),"$&"+(k.fractionGroupSeparator||"")):F):I}return(k.prefix||"")+L+(k.suffix||"")},i.toFraction=function(y){var S,k,L,z,x,g,d,E,P,I,F,H,V=this,R=V.c;if(y!=null&&(d=new w(y),!d.isInteger()&&(d.c||d.s!==1)||d.lt(s)))throw Error(ii+"Argument "+(d.isInteger()?"out of range: ":"not an integer: ")+v(d));if(!R)return new w(V);for(S=new w(s),P=k=new w(s),L=E=new w(s),H=Ki(R),x=S.e=H.length-V.e-1,S.c[0]=Xb[(g=x%dt)<0?dt+g:g],y=!y||d.comparedTo(S)>0?x>0?S:P:d,g=f,f=1/0,d=new w(H),E.c[0]=0;I=e(d,S,0,1),z=k.plus(I.times(L)),z.comparedTo(y)!=1;)k=L,L=z,P=E.plus(I.times(z=P)),E=z,S=d.minus(I.times(z=S)),d=z;return z=e(y.minus(k),L,0,1),E=E.plus(z.times(P)),k=k.plus(z.times(L)),E.s=P.s=V.s,x=x*2,F=e(P,L,x,a).minus(V).abs().comparedTo(e(E,k,x,a).minus(V).abs())<1?[P,L]:[E,k],f=g,F},i.toNumber=function(){return+v(this)},i.toPrecision=function(y,S){return y!=null&&pn(y,1,Xn),C(this,y,S,2)},i.toString=function(y){var S,k=this,L=k.s,z=k.e;return z===null?L?(S="Infinity",L<0&&(S="-"+S)):S="NaN":(y==null?S=z<=u||z>=c?Qm(Ki(k.c),z):Qo(Ki(k.c),z,"0"):y===10&&_?(k=U(new w(k),o+z+1,a),S=Qo(Ki(k.c),k.e,"0")):(pn(y,2,T.length,"Base"),S=n(Qo(Ki(k.c),z,"0"),10,y,L,!0)),L<0&&k.c[0]&&(S="-"+S)),S},i.valueOf=i.toJSON=function(){return v(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&w.set(t),w}function es(t){var e=t|0;return t>0||t===e?e:e-1}function Ki(t){for(var e,n,r=1,i=t.length,s=t[0]+"";r<i;){for(e=t[r++]+"",n=dt-e.length;n--;e="0"+e);s+=e}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function oc(t,e){var n,r,i=t.c,s=e.c,o=t.s,a=e.s,u=t.e,c=e.e;if(!o||!a)return null;if(n=i&&!i[0],r=s&&!s[0],n||r)return n?r?0:-a:o;if(o!=a)return o;if(n=o<0,r=u==c,!i||!s)return r?0:!i^n?1:-1;if(!r)return u>c^n?1:-1;for(a=(u=i.length)<(c=s.length)?u:c,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^n?1:-1;return u==c?0:u>c^n?1:-1}function pn(t,e,n,r){if(t<e||t>n||t!==Xi(t))throw Error(ii+(r||"Argument")+(typeof t=="number"?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function Km(t){var e=t.c.length-1;return es(t.e/dt)==e&&t.c[e]%2!=0}function Qm(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function Qo(t,e,n){var r,i;if(e<0){for(i=n+".";++e;i+=n);t=i+t}else if(r=t.length,++e>r){for(i=n,e-=r;--e;i+=n);t+=i}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}var k_e=eN(),tN={exports:{}},nN={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh=xe;function wY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _Y=typeof Object.is=="function"?Object.is:wY,bY=yh.useState,EY=yh.useEffect,AY=yh.useLayoutEffect,SY=yh.useDebugValue;function CY(t,e){var n=e(),r=bY({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return AY(function(){i.value=n,i.getSnapshot=e,e2(i)&&s({inst:i})},[t,n,e]),EY(function(){return e2(i)&&s({inst:i}),t(function(){e2(i)&&s({inst:i})})},[t]),SY(n),n}function e2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_Y(t,n)}catch{return!0}}function IY(t,e){return e()}var xY=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?IY:CY;nN.useSyncExternalStore=yh.useSyncExternalStore!==void 0?yh.useSyncExternalStore:xY;tN.exports=nN;var TY=tN.exports,wg={},sw={};sw.byteLength=PY;sw.toByteArray=DY;sw.fromByteArray=LY;var wo=[],ts=[],RY=typeof Uint8Array<"u"?Uint8Array:Array,t2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var zl=0,kY=t2.length;zl<kY;++zl)wo[zl]=t2[zl],ts[t2.charCodeAt(zl)]=zl;ts[45]=62;ts[95]=63;function rN(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function PY(t){var e=rN(t),n=e[0],r=e[1];return(n+r)*3/4-r}function MY(t,e,n){return(e+n)*3/4-n}function DY(t){var e,n=rN(t),r=n[0],i=n[1],s=new RY(MY(t,r,i)),o=0,a=i>0?r-4:r,u;for(u=0;u<a;u+=4)e=ts[t.charCodeAt(u)]<<18|ts[t.charCodeAt(u+1)]<<12|ts[t.charCodeAt(u+2)]<<6|ts[t.charCodeAt(u+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=ts[t.charCodeAt(u)]<<2|ts[t.charCodeAt(u+1)]>>4,s[o++]=e&255),i===1&&(e=ts[t.charCodeAt(u)]<<10|ts[t.charCodeAt(u+1)]<<4|ts[t.charCodeAt(u+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function OY(t){return wo[t>>18&63]+wo[t>>12&63]+wo[t>>6&63]+wo[t&63]}function NY(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(OY(r));return i.join("")}function LY(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(NY(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(wo[e>>2]+wo[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(wo[e>>10]+wo[e>>4&63]+wo[e<<2&63]+"=")),i.join("")}var j6={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */j6.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,m=t[e+f];for(f+=h,s=m&(1<<-l)-1,m>>=-l,l+=a;l>0;s=s*256+t[e+f],f+=h,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=o*256+t[e+f],f+=h,l-=8);if(s===0)s=1-c;else{if(s===u)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(m?-1:1)*o*Math.pow(2,s-r)};j6.write=function(t,e,n,r,i,s){var o,a,u,c=s*8-i-1,l=(1<<c)-1,f=l>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,b=r?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+f>=1?e+=h/u:e+=h*Math.pow(2,1-f),e*u>=2&&(o++,u/=2),o+f>=l?(a=0,o=l):o+f>=1?(a=(e*u-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+m]=a&255,m+=b,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+m]=o&255,m+=b,o/=256,c-=8);t[n+m-b]|=A*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=sw,n=j6,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=w,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const G=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(G,D),G.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(G){if(G>i)throw new RangeError('The value "'+G+'" is invalid for option "size"');const D=new Uint8Array(G);return Object.setPrototypeOf(D,a.prototype),D}function a(G,D,$){if(typeof G=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(G)}return u(G,D,$)}a.poolSize=8192;function u(G,D,$){if(typeof G=="string")return h(G,D);if(ArrayBuffer.isView(G))return b(G);if(G==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(He(G,ArrayBuffer)||G&&He(G.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(He(G,SharedArrayBuffer)||G&&He(G.buffer,SharedArrayBuffer)))return A(G,D,$);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Z=G.valueOf&&G.valueOf();if(Z!=null&&Z!==G)return a.from(Z,D,$);const ne=T(G);if(ne)return ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return a.from(G[Symbol.toPrimitive]("string"),D,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}a.from=function(G,D,$){return u(G,D,$)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function l(G,D,$){return c(G),G<=0?o(G):D!==void 0?typeof $=="string"?o(G).fill(D,$):o(G).fill(D):o(G)}a.alloc=function(G,D,$){return l(G,D,$)};function f(G){return c(G),o(G<0?0:_(G)|0)}a.allocUnsafe=function(G){return f(G)},a.allocUnsafeSlow=function(G){return f(G)};function h(G,D){if((typeof D!="string"||D==="")&&(D="utf8"),!a.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const $=C(G,D)|0;let Z=o($);const ne=Z.write(G,D);return ne!==$&&(Z=Z.slice(0,ne)),Z}function m(G){const D=G.length<0?0:_(G.length)|0,$=o(D);for(let Z=0;Z<D;Z+=1)$[Z]=G[Z]&255;return $}function b(G){if(He(G,Uint8Array)){const D=new Uint8Array(G);return A(D.buffer,D.byteOffset,D.byteLength)}return m(G)}function A(G,D,$){if(D<0||G.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<D+($||0))throw new RangeError('"length" is outside of buffer bounds');let Z;return D===void 0&&$===void 0?Z=new Uint8Array(G):$===void 0?Z=new Uint8Array(G,D):Z=new Uint8Array(G,D,$),Object.setPrototypeOf(Z,a.prototype),Z}function T(G){if(a.isBuffer(G)){const D=_(G.length)|0,$=o(D);return $.length===0||G.copy($,0,0,D),$}if(G.length!==void 0)return typeof G.length!="number"||Te(G.length)?o(0):m(G);if(G.type==="Buffer"&&Array.isArray(G.data))return m(G.data)}function _(G){if(G>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return G|0}function w(G){return+G!=G&&(G=0),a.alloc(+G)}a.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==a.prototype},a.compare=function(D,$){if(He(D,Uint8Array)&&(D=a.from(D,D.offset,D.byteLength)),He($,Uint8Array)&&($=a.from($,$.offset,$.byteLength)),!a.isBuffer(D)||!a.isBuffer($))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===$)return 0;let Z=D.length,ne=$.length;for(let se=0,ce=Math.min(Z,ne);se<ce;++se)if(D[se]!==$[se]){Z=D[se],ne=$[se];break}return Z<ne?-1:ne<Z?1:0},a.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(D,$){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return a.alloc(0);let Z;if($===void 0)for($=0,Z=0;Z<D.length;++Z)$+=D[Z].length;const ne=a.allocUnsafe($);let se=0;for(Z=0;Z<D.length;++Z){let ce=D[Z];if(He(ce,Uint8Array))se+ce.length>ne.length?(a.isBuffer(ce)||(ce=a.from(ce)),ce.copy(ne,se)):Uint8Array.prototype.set.call(ne,ce,se);else if(a.isBuffer(ce))ce.copy(ne,se);else throw new TypeError('"list" argument must be an Array of Buffers');se+=ce.length}return ne};function C(G,D){if(a.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||He(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);const $=G.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&$===0)return 0;let ne=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return _e(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $*2;case"hex":return $>>>1;case"base64":return De(G).length;default:if(ne)return Z?-1:_e(G).length;D=(""+D).toLowerCase(),ne=!0}}a.byteLength=C;function M(G,D,$){let Z=!1;if((D===void 0||D<0)&&(D=0),D>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0,D>>>=0,$<=D))return"";for(G||(G="utf8");;)switch(G){case"hex":return F(this,D,$);case"utf8":case"utf-8":return g(this,D,$);case"ascii":return P(this,D,$);case"latin1":case"binary":return I(this,D,$);case"base64":return x(this,D,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,D,$);default:if(Z)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),Z=!0}}a.prototype._isBuffer=!0;function N(G,D,$){const Z=G[D];G[D]=G[$],G[$]=Z}a.prototype.swap16=function(){const D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let $=0;$<D;$+=2)N(this,$,$+1);return this},a.prototype.swap32=function(){const D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let $=0;$<D;$+=4)N(this,$,$+3),N(this,$+1,$+2);return this},a.prototype.swap64=function(){const D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let $=0;$<D;$+=8)N(this,$,$+7),N(this,$+1,$+6),N(this,$+2,$+5),N(this,$+3,$+4);return this},a.prototype.toString=function(){const D=this.length;return D===0?"":arguments.length===0?g(this,0,D):M.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(D){if(!a.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:a.compare(this,D)===0},a.prototype.inspect=function(){let D="";const $=t.INSPECT_MAX_BYTES;return D=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim(),this.length>$&&(D+=" ... "),"<Buffer "+D+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(D,$,Z,ne,se){if(He(D,Uint8Array)&&(D=a.from(D,D.offset,D.byteLength)),!a.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if($===void 0&&($=0),Z===void 0&&(Z=D?D.length:0),ne===void 0&&(ne=0),se===void 0&&(se=this.length),$<0||Z>D.length||ne<0||se>this.length)throw new RangeError("out of range index");if(ne>=se&&$>=Z)return 0;if(ne>=se)return-1;if($>=Z)return 1;if($>>>=0,Z>>>=0,ne>>>=0,se>>>=0,this===D)return 0;let ce=se-ne,Ie=Z-$;const Ae=Math.min(ce,Ie),$e=this.slice(ne,se),pt=D.slice($,Z);for(let Fe=0;Fe<Ae;++Fe)if($e[Fe]!==pt[Fe]){ce=$e[Fe],Ie=pt[Fe];break}return ce<Ie?-1:Ie<ce?1:0};function U(G,D,$,Z,ne){if(G.length===0)return-1;if(typeof $=="string"?(Z=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,Te($)&&($=ne?0:G.length-1),$<0&&($=G.length+$),$>=G.length){if(ne)return-1;$=G.length-1}else if($<0)if(ne)$=0;else return-1;if(typeof D=="string"&&(D=a.from(D,Z)),a.isBuffer(D))return D.length===0?-1:v(G,D,$,Z,ne);if(typeof D=="number")return D=D&255,typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(G,D,$):Uint8Array.prototype.lastIndexOf.call(G,D,$):v(G,[D],$,Z,ne);throw new TypeError("val must be string, number or Buffer")}function v(G,D,$,Z,ne){let se=1,ce=G.length,Ie=D.length;if(Z!==void 0&&(Z=String(Z).toLowerCase(),Z==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(G.length<2||D.length<2)return-1;se=2,ce/=2,Ie/=2,$/=2}function Ae(pt,Fe){return se===1?pt[Fe]:pt.readUInt16BE(Fe*se)}let $e;if(ne){let pt=-1;for($e=$;$e<ce;$e++)if(Ae(G,$e)===Ae(D,pt===-1?0:$e-pt)){if(pt===-1&&(pt=$e),$e-pt+1===Ie)return pt*se}else pt!==-1&&($e-=$e-pt),pt=-1}else for($+Ie>ce&&($=ce-Ie),$e=$;$e>=0;$e--){let pt=!0;for(let Fe=0;Fe<Ie;Fe++)if(Ae(G,$e+Fe)!==Ae(D,Fe)){pt=!1;break}if(pt)return $e}return-1}a.prototype.includes=function(D,$,Z){return this.indexOf(D,$,Z)!==-1},a.prototype.indexOf=function(D,$,Z){return U(this,D,$,Z,!0)},a.prototype.lastIndexOf=function(D,$,Z){return U(this,D,$,Z,!1)};function y(G,D,$,Z){$=Number($)||0;const ne=G.length-$;Z?(Z=Number(Z),Z>ne&&(Z=ne)):Z=ne;const se=D.length;Z>se/2&&(Z=se/2);let ce;for(ce=0;ce<Z;++ce){const Ie=parseInt(D.substr(ce*2,2),16);if(Te(Ie))return ce;G[$+ce]=Ie}return ce}function S(G,D,$,Z){return ke(_e(D,G.length-$),G,$,Z)}function k(G,D,$,Z){return ke(qe(D),G,$,Z)}function L(G,D,$,Z){return ke(De(D),G,$,Z)}function z(G,D,$,Z){return ke(Et(D,G.length-$),G,$,Z)}a.prototype.write=function(D,$,Z,ne){if($===void 0)ne="utf8",Z=this.length,$=0;else if(Z===void 0&&typeof $=="string")ne=$,Z=this.length,$=0;else if(isFinite($))$=$>>>0,isFinite(Z)?(Z=Z>>>0,ne===void 0&&(ne="utf8")):(ne=Z,Z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const se=this.length-$;if((Z===void 0||Z>se)&&(Z=se),D.length>0&&(Z<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let ce=!1;for(;;)switch(ne){case"hex":return y(this,D,$,Z);case"utf8":case"utf-8":return S(this,D,$,Z);case"ascii":case"latin1":case"binary":return k(this,D,$,Z);case"base64":return L(this,D,$,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,D,$,Z);default:if(ce)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),ce=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(G,D,$){return D===0&&$===G.length?e.fromByteArray(G):e.fromByteArray(G.slice(D,$))}function g(G,D,$){$=Math.min(G.length,$);const Z=[];let ne=D;for(;ne<$;){const se=G[ne];let ce=null,Ie=se>239?4:se>223?3:se>191?2:1;if(ne+Ie<=$){let Ae,$e,pt,Fe;switch(Ie){case 1:se<128&&(ce=se);break;case 2:Ae=G[ne+1],(Ae&192)===128&&(Fe=(se&31)<<6|Ae&63,Fe>127&&(ce=Fe));break;case 3:Ae=G[ne+1],$e=G[ne+2],(Ae&192)===128&&($e&192)===128&&(Fe=(se&15)<<12|(Ae&63)<<6|$e&63,Fe>2047&&(Fe<55296||Fe>57343)&&(ce=Fe));break;case 4:Ae=G[ne+1],$e=G[ne+2],pt=G[ne+3],(Ae&192)===128&&($e&192)===128&&(pt&192)===128&&(Fe=(se&15)<<18|(Ae&63)<<12|($e&63)<<6|pt&63,Fe>65535&&Fe<1114112&&(ce=Fe))}}ce===null?(ce=65533,Ie=1):ce>65535&&(ce-=65536,Z.push(ce>>>10&1023|55296),ce=56320|ce&1023),Z.push(ce),ne+=Ie}return E(Z)}const d=4096;function E(G){const D=G.length;if(D<=d)return String.fromCharCode.apply(String,G);let $="",Z=0;for(;Z<D;)$+=String.fromCharCode.apply(String,G.slice(Z,Z+=d));return $}function P(G,D,$){let Z="";$=Math.min(G.length,$);for(let ne=D;ne<$;++ne)Z+=String.fromCharCode(G[ne]&127);return Z}function I(G,D,$){let Z="";$=Math.min(G.length,$);for(let ne=D;ne<$;++ne)Z+=String.fromCharCode(G[ne]);return Z}function F(G,D,$){const Z=G.length;(!D||D<0)&&(D=0),(!$||$<0||$>Z)&&($=Z);let ne="";for(let se=D;se<$;++se)ne+=Re[G[se]];return ne}function H(G,D,$){const Z=G.slice(D,$);let ne="";for(let se=0;se<Z.length-1;se+=2)ne+=String.fromCharCode(Z[se]+Z[se+1]*256);return ne}a.prototype.slice=function(D,$){const Z=this.length;D=~~D,$=$===void 0?Z:~~$,D<0?(D+=Z,D<0&&(D=0)):D>Z&&(D=Z),$<0?($+=Z,$<0&&($=0)):$>Z&&($=Z),$<D&&($=D);const ne=this.subarray(D,$);return Object.setPrototypeOf(ne,a.prototype),ne};function V(G,D,$){if(G%1!==0||G<0)throw new RangeError("offset is not uint");if(G+D>$)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(D,$,Z){D=D>>>0,$=$>>>0,Z||V(D,$,this.length);let ne=this[D],se=1,ce=0;for(;++ce<$&&(se*=256);)ne+=this[D+ce]*se;return ne},a.prototype.readUintBE=a.prototype.readUIntBE=function(D,$,Z){D=D>>>0,$=$>>>0,Z||V(D,$,this.length);let ne=this[D+--$],se=1;for(;$>0&&(se*=256);)ne+=this[D+--$]*se;return ne},a.prototype.readUint8=a.prototype.readUInt8=function(D,$){return D=D>>>0,$||V(D,1,this.length),this[D]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(D,$){return D=D>>>0,$||V(D,2,this.length),this[D]|this[D+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(D,$){return D=D>>>0,$||V(D,2,this.length),this[D]<<8|this[D+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(D,$){return D=D>>>0,$||V(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(D,$){return D=D>>>0,$||V(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},a.prototype.readBigUInt64LE=Ve(function(D){D=D>>>0,ie(D,"offset");const $=this[D],Z=this[D+7];($===void 0||Z===void 0)&&fe(D,this.length-8);const ne=$+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24,se=this[++D]+this[++D]*2**8+this[++D]*2**16+Z*2**24;return BigInt(ne)+(BigInt(se)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ve(function(D){D=D>>>0,ie(D,"offset");const $=this[D],Z=this[D+7];($===void 0||Z===void 0)&&fe(D,this.length-8);const ne=$*2**24+this[++D]*2**16+this[++D]*2**8+this[++D],se=this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+Z;return(BigInt(ne)<<BigInt(32))+BigInt(se)}),a.prototype.readIntLE=function(D,$,Z){D=D>>>0,$=$>>>0,Z||V(D,$,this.length);let ne=this[D],se=1,ce=0;for(;++ce<$&&(se*=256);)ne+=this[D+ce]*se;return se*=128,ne>=se&&(ne-=Math.pow(2,8*$)),ne},a.prototype.readIntBE=function(D,$,Z){D=D>>>0,$=$>>>0,Z||V(D,$,this.length);let ne=$,se=1,ce=this[D+--ne];for(;ne>0&&(se*=256);)ce+=this[D+--ne]*se;return se*=128,ce>=se&&(ce-=Math.pow(2,8*$)),ce},a.prototype.readInt8=function(D,$){return D=D>>>0,$||V(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},a.prototype.readInt16LE=function(D,$){D=D>>>0,$||V(D,2,this.length);const Z=this[D]|this[D+1]<<8;return Z&32768?Z|4294901760:Z},a.prototype.readInt16BE=function(D,$){D=D>>>0,$||V(D,2,this.length);const Z=this[D+1]|this[D]<<8;return Z&32768?Z|4294901760:Z},a.prototype.readInt32LE=function(D,$){return D=D>>>0,$||V(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},a.prototype.readInt32BE=function(D,$){return D=D>>>0,$||V(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},a.prototype.readBigInt64LE=Ve(function(D){D=D>>>0,ie(D,"offset");const $=this[D],Z=this[D+7];($===void 0||Z===void 0)&&fe(D,this.length-8);const ne=this[D+4]+this[D+5]*2**8+this[D+6]*2**16+(Z<<24);return(BigInt(ne)<<BigInt(32))+BigInt($+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24)}),a.prototype.readBigInt64BE=Ve(function(D){D=D>>>0,ie(D,"offset");const $=this[D],Z=this[D+7];($===void 0||Z===void 0)&&fe(D,this.length-8);const ne=($<<24)+this[++D]*2**16+this[++D]*2**8+this[++D];return(BigInt(ne)<<BigInt(32))+BigInt(this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+Z)}),a.prototype.readFloatLE=function(D,$){return D=D>>>0,$||V(D,4,this.length),n.read(this,D,!0,23,4)},a.prototype.readFloatBE=function(D,$){return D=D>>>0,$||V(D,4,this.length),n.read(this,D,!1,23,4)},a.prototype.readDoubleLE=function(D,$){return D=D>>>0,$||V(D,8,this.length),n.read(this,D,!0,52,8)},a.prototype.readDoubleBE=function(D,$){return D=D>>>0,$||V(D,8,this.length),n.read(this,D,!1,52,8)};function R(G,D,$,Z,ne,se){if(!a.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>ne||D<se)throw new RangeError('"value" argument is out of bounds');if($+Z>G.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(D,$,Z,ne){if(D=+D,$=$>>>0,Z=Z>>>0,!ne){const Ie=Math.pow(2,8*Z)-1;R(this,D,$,Z,Ie,0)}let se=1,ce=0;for(this[$]=D&255;++ce<Z&&(se*=256);)this[$+ce]=D/se&255;return $+Z},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(D,$,Z,ne){if(D=+D,$=$>>>0,Z=Z>>>0,!ne){const Ie=Math.pow(2,8*Z)-1;R(this,D,$,Z,Ie,0)}let se=Z-1,ce=1;for(this[$+se]=D&255;--se>=0&&(ce*=256);)this[$+se]=D/ce&255;return $+Z},a.prototype.writeUint8=a.prototype.writeUInt8=function(D,$,Z){return D=+D,$=$>>>0,Z||R(this,D,$,1,255,0),this[$]=D&255,$+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(D,$,Z){return D=+D,$=$>>>0,Z||R(this,D,$,2,65535,0),this[$]=D&255,this[$+1]=D>>>8,$+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(D,$,Z){return D=+D,$=$>>>0,Z||R(this,D,$,2,65535,0),this[$]=D>>>8,this[$+1]=D&255,$+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(D,$,Z){return D=+D,$=$>>>0,Z||R(this,D,$,4,4294967295,0),this[$+3]=D>>>24,this[$+2]=D>>>16,this[$+1]=D>>>8,this[$]=D&255,$+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(D,$,Z){return D=+D,$=$>>>0,Z||R(this,D,$,4,4294967295,0),this[$]=D>>>24,this[$+1]=D>>>16,this[$+2]=D>>>8,this[$+3]=D&255,$+4};function W(G,D,$,Z,ne){K(D,Z,ne,G,$,7);let se=Number(D&BigInt(4294967295));G[$++]=se,se=se>>8,G[$++]=se,se=se>>8,G[$++]=se,se=se>>8,G[$++]=se;let ce=Number(D>>BigInt(32)&BigInt(4294967295));return G[$++]=ce,ce=ce>>8,G[$++]=ce,ce=ce>>8,G[$++]=ce,ce=ce>>8,G[$++]=ce,$}function ae(G,D,$,Z,ne){K(D,Z,ne,G,$,7);let se=Number(D&BigInt(4294967295));G[$+7]=se,se=se>>8,G[$+6]=se,se=se>>8,G[$+5]=se,se=se>>8,G[$+4]=se;let ce=Number(D>>BigInt(32)&BigInt(4294967295));return G[$+3]=ce,ce=ce>>8,G[$+2]=ce,ce=ce>>8,G[$+1]=ce,ce=ce>>8,G[$]=ce,$+8}a.prototype.writeBigUInt64LE=Ve(function(D,$=0){return W(this,D,$,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ve(function(D,$=0){return ae(this,D,$,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(D,$,Z,ne){if(D=+D,$=$>>>0,!ne){const Ae=Math.pow(2,8*Z-1);R(this,D,$,Z,Ae-1,-Ae)}let se=0,ce=1,Ie=0;for(this[$]=D&255;++se<Z&&(ce*=256);)D<0&&Ie===0&&this[$+se-1]!==0&&(Ie=1),this[$+se]=(D/ce>>0)-Ie&255;return $+Z},a.prototype.writeIntBE=function(D,$,Z,ne){if(D=+D,$=$>>>0,!ne){const Ae=Math.pow(2,8*Z-1);R(this,D,$,Z,Ae-1,-Ae)}let se=Z-1,ce=1,Ie=0;for(this[$+se]=D&255;--se>=0&&(ce*=256);)D<0&&Ie===0&&this[$+se+1]!==0&&(Ie=1),this[$+se]=(D/ce>>0)-Ie&255;return $+Z},a.prototype.writeInt8=function(D,$,Z){return D=+D,$=$>>>0,Z||R(this,D,$,1,127,-128),D<0&&(D=255+D+1),this[$]=D&255,$+1},a.prototype.writeInt16LE=function(D,$,Z){return D=+D,$=$>>>0,Z||R(this,D,$,2,32767,-32768),this[$]=D&255,this[$+1]=D>>>8,$+2},a.prototype.writeInt16BE=function(D,$,Z){return D=+D,$=$>>>0,Z||R(this,D,$,2,32767,-32768),this[$]=D>>>8,this[$+1]=D&255,$+2},a.prototype.writeInt32LE=function(D,$,Z){return D=+D,$=$>>>0,Z||R(this,D,$,4,2147483647,-2147483648),this[$]=D&255,this[$+1]=D>>>8,this[$+2]=D>>>16,this[$+3]=D>>>24,$+4},a.prototype.writeInt32BE=function(D,$,Z){return D=+D,$=$>>>0,Z||R(this,D,$,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[$]=D>>>24,this[$+1]=D>>>16,this[$+2]=D>>>8,this[$+3]=D&255,$+4},a.prototype.writeBigInt64LE=Ve(function(D,$=0){return W(this,D,$,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ve(function(D,$=0){return ae(this,D,$,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function re(G,D,$,Z,ne,se){if($+Z>G.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function X(G,D,$,Z,ne){return D=+D,$=$>>>0,ne||re(G,D,$,4),n.write(G,D,$,Z,23,4),$+4}a.prototype.writeFloatLE=function(D,$,Z){return X(this,D,$,!0,Z)},a.prototype.writeFloatBE=function(D,$,Z){return X(this,D,$,!1,Z)};function Q(G,D,$,Z,ne){return D=+D,$=$>>>0,ne||re(G,D,$,8),n.write(G,D,$,Z,52,8),$+8}a.prototype.writeDoubleLE=function(D,$,Z){return Q(this,D,$,!0,Z)},a.prototype.writeDoubleBE=function(D,$,Z){return Q(this,D,$,!1,Z)},a.prototype.copy=function(D,$,Z,ne){if(!a.isBuffer(D))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),!ne&&ne!==0&&(ne=this.length),$>=D.length&&($=D.length),$||($=0),ne>0&&ne<Z&&(ne=Z),ne===Z||D.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),D.length-$<ne-Z&&(ne=D.length-$+Z);const se=ne-Z;return this===D&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin($,Z,ne):Uint8Array.prototype.set.call(D,this.subarray(Z,ne),$),se},a.prototype.fill=function(D,$,Z,ne){if(typeof D=="string"){if(typeof $=="string"?(ne=$,$=0,Z=this.length):typeof Z=="string"&&(ne=Z,Z=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!a.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(D.length===1){const ce=D.charCodeAt(0);(ne==="utf8"&&ce<128||ne==="latin1")&&(D=ce)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if($<0||this.length<$||this.length<Z)throw new RangeError("Out of range index");if(Z<=$)return this;$=$>>>0,Z=Z===void 0?this.length:Z>>>0,D||(D=0);let se;if(typeof D=="number")for(se=$;se<Z;++se)this[se]=D;else{const ce=a.isBuffer(D)?D:a.from(D,ne),Ie=ce.length;if(Ie===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(se=0;se<Z-$;++se)this[se+$]=ce[se%Ie]}return this};const Y={};function ee(G,D,$){Y[G]=class extends ${constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${G}]`,this.stack,delete this.name}get code(){return G}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${G}]: ${this.message}`}}}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(G){return G?`${G} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(G,D){return`The "${G}" argument must be of type number. Received type ${typeof D}`},TypeError),ee("ERR_OUT_OF_RANGE",function(G,D,$){let Z=`The value of "${G}" is out of range.`,ne=$;return Number.isInteger($)&&Math.abs($)>2**32?ne=B(String($)):typeof $=="bigint"&&(ne=String($),($>BigInt(2)**BigInt(32)||$<-(BigInt(2)**BigInt(32)))&&(ne=B(ne)),ne+="n"),Z+=` It must be ${D}. Received ${ne}`,Z},RangeError);function B(G){let D="",$=G.length;const Z=G[0]==="-"?1:0;for(;$>=Z+4;$-=3)D=`_${G.slice($-3,$)}${D}`;return`${G.slice(0,$)}${D}`}function j(G,D,$){ie(D,"offset"),(G[D]===void 0||G[D+$]===void 0)&&fe(D,G.length-($+1))}function K(G,D,$,Z,ne,se){if(G>$||G<D){const ce=typeof D=="bigint"?"n":"";let Ie;throw D===0||D===BigInt(0)?Ie=`>= 0${ce} and < 2${ce} ** ${(se+1)*8}${ce}`:Ie=`>= -(2${ce} ** ${(se+1)*8-1}${ce}) and < 2 ** ${(se+1)*8-1}${ce}`,new Y.ERR_OUT_OF_RANGE("value",Ie,G)}j(Z,ne,se)}function ie(G,D){if(typeof G!="number")throw new Y.ERR_INVALID_ARG_TYPE(D,"number",G)}function fe(G,D,$){throw Math.floor(G)!==G?(ie(G,$),new Y.ERR_OUT_OF_RANGE("offset","an integer",G)):D<0?new Y.ERR_BUFFER_OUT_OF_BOUNDS:new Y.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${D}`,G)}const pe=/[^+/0-9A-Za-z-_]/g;function Ee(G){if(G=G.split("=")[0],G=G.trim().replace(pe,""),G.length<2)return"";for(;G.length%4!==0;)G=G+"=";return G}function _e(G,D){D=D||1/0;let $;const Z=G.length;let ne=null;const se=[];for(let ce=0;ce<Z;++ce){if($=G.charCodeAt(ce),$>55295&&$<57344){if(!ne){if($>56319){(D-=3)>-1&&se.push(239,191,189);continue}else if(ce+1===Z){(D-=3)>-1&&se.push(239,191,189);continue}ne=$;continue}if($<56320){(D-=3)>-1&&se.push(239,191,189),ne=$;continue}$=(ne-55296<<10|$-56320)+65536}else ne&&(D-=3)>-1&&se.push(239,191,189);if(ne=null,$<128){if((D-=1)<0)break;se.push($)}else if($<2048){if((D-=2)<0)break;se.push($>>6|192,$&63|128)}else if($<65536){if((D-=3)<0)break;se.push($>>12|224,$>>6&63|128,$&63|128)}else if($<1114112){if((D-=4)<0)break;se.push($>>18|240,$>>12&63|128,$>>6&63|128,$&63|128)}else throw new Error("Invalid code point")}return se}function qe(G){const D=[];for(let $=0;$<G.length;++$)D.push(G.charCodeAt($)&255);return D}function Et(G,D){let $,Z,ne;const se=[];for(let ce=0;ce<G.length&&!((D-=2)<0);++ce)$=G.charCodeAt(ce),Z=$>>8,ne=$%256,se.push(ne),se.push(Z);return se}function De(G){return e.toByteArray(Ee(G))}function ke(G,D,$,Z){let ne;for(ne=0;ne<Z&&!(ne+$>=D.length||ne>=G.length);++ne)D[ne+$]=G[ne];return ne}function He(G,D){return G instanceof D||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===D.name}function Te(G){return G!==G}const Re=function(){const G="0123456789abcdef",D=new Array(256);for(let $=0;$<16;++$){const Z=$*16;for(let ne=0;ne<16;++ne)D[Z+ne]=G[$]+G[ne]}return D}();function Ve(G){return typeof BigInt>"u"?we:G}function we(){throw new Error("BigInt not supported")}})(wg);var Vt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Vt||(Vt={}));var V3;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(V3||(V3={}));const Pe=Vt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wa=t=>{switch(typeof t){case"undefined":return Pe.undefined;case"string":return Pe.string;case"number":return isNaN(t)?Pe.nan:Pe.number;case"boolean":return Pe.boolean;case"function":return Pe.function;case"bigint":return Pe.bigint;case"symbol":return Pe.symbol;case"object":return Array.isArray(t)?Pe.array:t===null?Pe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Pe.promise:typeof Map<"u"&&t instanceof Map?Pe.map:typeof Set<"u"&&t instanceof Set?Pe.set:typeof Date<"u"&&t instanceof Date?Pe.date:Pe.object;default:return Pe.unknown}},be=Vt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),BY=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Us extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,u=0;for(;u<o.path.length;){const c=o.path[u];u===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Vt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Us.create=t=>new Us(t);const dp=(t,e)=>{let n;switch(t.code){case be.invalid_type:t.received===Pe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Vt.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:n=`Unrecognized key(s) in object: ${Vt.joinValues(t.keys,", ")}`;break;case be.invalid_union:n="Invalid input";break;case be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Vt.joinValues(t.options)}`;break;case be.invalid_enum_value:n=`Invalid enum value. Expected ${Vt.joinValues(t.options)}, received '${t.received}'`;break;case be.invalid_arguments:n="Invalid function arguments";break;case be.invalid_return_type:n="Invalid function return type";break;case be.invalid_date:n="Invalid date";break;case be.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Vt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case be.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case be.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case be.custom:n="Invalid input";break;case be.invalid_intersection_types:n="Intersection results could not be merged";break;case be.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case be.not_finite:n="Number must be finite";break;default:n=e.defaultError,Vt.assertNever(t)}return{message:n}};let iN=dp;function FY(t){iN=t}function P1(){return iN}const M1=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const u=r.filter(c=>!!c).slice().reverse();for(const c of u)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},$Y=[];function Le(t,e){const n=M1({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,P1(),dp].filter(r=>!!r)});t.common.issues.push(n)}class Fr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return ft;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return Fr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return ft;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const ft=Object.freeze({status:"aborted"}),sN=t=>({status:"dirty",value:t}),Jr=t=>({status:"valid",value:t}),z3=t=>t.status==="aborted",H3=t=>t.status==="dirty",pp=t=>t.status==="valid",D1=t=>typeof Promise<"u"&&t instanceof Promise;var Je;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Je||(Je={}));class Lo{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const px=(t,e)=>{if(pp(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Us(t.common.issues);return this._error=n,this._error}}};function gt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class _t{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Wa(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Wa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Fr,ctx:{common:e.parent.common,data:e.data,parsedType:Wa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(D1(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wa(e)},s=this._parseSync({data:e,path:i.path,parent:i});return px(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wa(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(D1(i)?i:Promise.resolve(i));return px(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:be.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new qs({schema:this,typeName:tt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ua.create(this,this._def)}nullable(){return ul.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return js.create(this,this._def)}promise(){return wh.create(this,this._def)}or(e){return vp.create([this,e],this._def)}and(e){return wp.create(this,e,this._def)}transform(e){return new qs({...gt(this._def),schema:this,typeName:tt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Sp({...gt(this._def),innerType:this,defaultValue:n,typeName:tt.ZodDefault})}brand(){return new aN({typeName:tt.ZodBranded,type:this,...gt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new B1({...gt(this._def),innerType:this,catchValue:n,typeName:tt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return _g.create(this,e)}readonly(){return $1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const UY=/^c[^\s-]{8,}$/i,jY=/^[a-z][a-z0-9]*$/,VY=/^[0-9A-HJKMNP-TV-Z]{26}$/,zY=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,HY=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,qY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let n2;const WY=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,GY=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,KY=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function QY(t,e){return!!((e==="v4"||!e)&&WY.test(t)||(e==="v6"||!e)&&GY.test(t))}class Bs extends _t{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Pe.string){const s=this._getOrReturnCtx(e);return Le(s,{code:be.invalid_type,expected:Pe.string,received:s.parsedType}),ft}const r=new Fr;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Le(i,{code:be.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Le(i,{code:be.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Le(i,{code:be.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Le(i,{code:be.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")HY.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"email",code:be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")n2||(n2=new RegExp(qY,"u")),n2.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"emoji",code:be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")zY.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"uuid",code:be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")UY.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"cuid",code:be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")jY.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"cuid2",code:be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")VY.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"ulid",code:be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Le(i,{validation:"url",code:be.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"regex",code:be.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Le(i,{code:be.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Le(i,{code:be.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Le(i,{code:be.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?KY(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{code:be.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?QY(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"ip",code:be.invalid_string,message:s.message}),r.dirty()):Vt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:be.invalid_string,...Je.errToObj(r)})}_addCheck(e){return new Bs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Je.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Je.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Je.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Je.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Je.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Je.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Je.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Je.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...Je.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Je.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Je.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Je.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Je.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Je.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Je.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Je.errToObj(n)})}nonempty(e){return this.min(1,Je.errToObj(e))}trim(){return new Bs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Bs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Bs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Bs.create=t=>{var e;return new Bs({checks:[],typeName:tt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...gt(t)})};function ZY(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Ru extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Pe.number){const s=this._getOrReturnCtx(e);return Le(s,{code:be.invalid_type,expected:Pe.number,received:s.parsedType}),ft}let r;const i=new Fr;for(const s of this._def.checks)s.kind==="int"?Vt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Le(r,{code:be.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:be.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:be.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?ZY(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Le(r,{code:be.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Le(r,{code:be.not_finite,message:s.message}),i.dirty()):Vt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Je.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Je.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Je.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Je.toString(n))}setLimit(e,n,r,i){return new Ru({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Je.toString(i)}]})}_addCheck(e){return new Ru({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Je.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Je.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Je.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Je.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Je.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Je.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Vt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ru.create=t=>new Ru({checks:[],typeName:tt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...gt(t)});class ku extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Pe.bigint){const s=this._getOrReturnCtx(e);return Le(s,{code:be.invalid_type,expected:Pe.bigint,received:s.parsedType}),ft}let r;const i=new Fr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:be.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:be.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:be.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Vt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Je.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Je.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Je.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Je.toString(n))}setLimit(e,n,r,i){return new ku({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Je.toString(i)}]})}_addCheck(e){return new ku({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Je.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Je.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ku.create=t=>{var e;return new ku({checks:[],typeName:tt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...gt(t)})};class gp extends _t{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Pe.boolean){const r=this._getOrReturnCtx(e);return Le(r,{code:be.invalid_type,expected:Pe.boolean,received:r.parsedType}),ft}return Jr(e.data)}}gp.create=t=>new gp({typeName:tt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...gt(t)});class ol extends _t{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Pe.date){const s=this._getOrReturnCtx(e);return Le(s,{code:be.invalid_type,expected:Pe.date,received:s.parsedType}),ft}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Le(s,{code:be.invalid_date}),ft}const r=new Fr;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Le(i,{code:be.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Le(i,{code:be.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Vt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ol({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Je.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Je.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ol.create=t=>new ol({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:tt.ZodDate,...gt(t)});class O1 extends _t{_parse(e){if(this._getType(e)!==Pe.symbol){const r=this._getOrReturnCtx(e);return Le(r,{code:be.invalid_type,expected:Pe.symbol,received:r.parsedType}),ft}return Jr(e.data)}}O1.create=t=>new O1({typeName:tt.ZodSymbol,...gt(t)});class mp extends _t{_parse(e){if(this._getType(e)!==Pe.undefined){const r=this._getOrReturnCtx(e);return Le(r,{code:be.invalid_type,expected:Pe.undefined,received:r.parsedType}),ft}return Jr(e.data)}}mp.create=t=>new mp({typeName:tt.ZodUndefined,...gt(t)});class yp extends _t{_parse(e){if(this._getType(e)!==Pe.null){const r=this._getOrReturnCtx(e);return Le(r,{code:be.invalid_type,expected:Pe.null,received:r.parsedType}),ft}return Jr(e.data)}}yp.create=t=>new yp({typeName:tt.ZodNull,...gt(t)});class vh extends _t{constructor(){super(...arguments),this._any=!0}_parse(e){return Jr(e.data)}}vh.create=t=>new vh({typeName:tt.ZodAny,...gt(t)});class Hc extends _t{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Jr(e.data)}}Hc.create=t=>new Hc({typeName:tt.ZodUnknown,...gt(t)});class wa extends _t{_parse(e){const n=this._getOrReturnCtx(e);return Le(n,{code:be.invalid_type,expected:Pe.never,received:n.parsedType}),ft}}wa.create=t=>new wa({typeName:tt.ZodNever,...gt(t)});class N1 extends _t{_parse(e){if(this._getType(e)!==Pe.undefined){const r=this._getOrReturnCtx(e);return Le(r,{code:be.invalid_type,expected:Pe.void,received:r.parsedType}),ft}return Jr(e.data)}}N1.create=t=>new N1({typeName:tt.ZodVoid,...gt(t)});class js extends _t{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Pe.array)return Le(n,{code:be.invalid_type,expected:Pe.array,received:n.parsedType}),ft;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(Le(n,{code:o?be.too_big:be.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Le(n,{code:be.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Le(n,{code:be.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new Lo(n,o,n.path,a)))).then(o=>Fr.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new Lo(n,o,n.path,a)));return Fr.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new js({...this._def,minLength:{value:e,message:Je.toString(n)}})}max(e,n){return new js({...this._def,maxLength:{value:e,message:Je.toString(n)}})}length(e,n){return new js({...this._def,exactLength:{value:e,message:Je.toString(n)}})}nonempty(e){return this.min(1,e)}}js.create=(t,e)=>new js({type:t,minLength:null,maxLength:null,exactLength:null,typeName:tt.ZodArray,...gt(e)});function ef(t){if(t instanceof yn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ua.create(ef(r))}return new yn({...t._def,shape:()=>e})}else return t instanceof js?new js({...t._def,type:ef(t.element)}):t instanceof ua?ua.create(ef(t.unwrap())):t instanceof ul?ul.create(ef(t.unwrap())):t instanceof Bo?Bo.create(t.items.map(e=>ef(e))):t}class yn extends _t{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Vt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Pe.object){const c=this._getOrReturnCtx(e);return Le(c,{code:be.invalid_type,expected:Pe.object,received:c.parsedType}),ft}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof wa&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const u=[];for(const c of o){const l=s[c],f=i.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new Lo(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof wa){const c=this._def.unknownKeys;if(c==="passthrough")for(const l of a)u.push({key:{status:"valid",value:l},value:{status:"valid",value:i.data[l]}});else if(c==="strict")a.length>0&&(Le(i,{code:be.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const l of a){const f=i.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new Lo(i,f,i.path,l)),alwaysSet:l in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const l of u){const f=await l.key;c.push({key:f,value:await l.value,alwaysSet:l.alwaysSet})}return c}).then(c=>Fr.mergeObjectSync(r,c)):Fr.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return Je.errToObj,new yn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Je.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new yn({...this._def,unknownKeys:"strip"})}passthrough(){return new yn({...this._def,unknownKeys:"passthrough"})}extend(e){return new yn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new yn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:tt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new yn({...this._def,catchall:e})}pick(e){const n={};return Vt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new yn({...this._def,shape:()=>n})}omit(e){const n={};return Vt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new yn({...this._def,shape:()=>n})}deepPartial(){return ef(this)}partial(e){const n={};return Vt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new yn({...this._def,shape:()=>n})}required(e){const n={};return Vt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof ua;)s=s._def.innerType;n[r]=s}}),new yn({...this._def,shape:()=>n})}keyof(){return oN(Vt.objectKeys(this.shape))}}yn.create=(t,e)=>new yn({shape:()=>t,unknownKeys:"strip",catchall:wa.create(),typeName:tt.ZodObject,...gt(e)});yn.strictCreate=(t,e)=>new yn({shape:()=>t,unknownKeys:"strict",catchall:wa.create(),typeName:tt.ZodObject,...gt(e)});yn.lazycreate=(t,e)=>new yn({shape:t,unknownKeys:"strip",catchall:wa.create(),typeName:tt.ZodObject,...gt(e)});class vp extends _t{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Us(a.ctx.common.issues));return Le(n,{code:be.invalid_union,unionErrors:o}),ft}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const u of r){const c={...n,common:{...n.common,issues:[]},parent:null},l=u._parseSync({data:n.data,path:n.path,parent:c});if(l.status==="valid")return l;l.status==="dirty"&&!s&&(s={result:l,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(u=>new Us(u));return Le(n,{code:be.invalid_union,unionErrors:a}),ft}}get options(){return this._def.options}}vp.create=(t,e)=>new vp({options:t,typeName:tt.ZodUnion,...gt(e)});const Uy=t=>t instanceof bp?Uy(t.schema):t instanceof qs?Uy(t.innerType()):t instanceof Ep?[t.value]:t instanceof Pu?t.options:t instanceof Ap?Object.keys(t.enum):t instanceof Sp?Uy(t._def.innerType):t instanceof mp?[void 0]:t instanceof yp?[null]:null;class ow extends _t{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Pe.object)return Le(n,{code:be.invalid_type,expected:Pe.object,received:n.parsedType}),ft;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(Le(n,{code:be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ft)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Uy(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new ow({typeName:tt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...gt(r)})}}function q3(t,e){const n=Wa(t),r=Wa(e);if(t===e)return{valid:!0,data:t};if(n===Pe.object&&r===Pe.object){const i=Vt.objectKeys(e),s=Vt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const u=q3(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(n===Pe.array&&r===Pe.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],u=q3(o,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===Pe.date&&r===Pe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class wp extends _t{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(z3(s)||z3(o))return ft;const a=q3(s.value,o.value);return a.valid?((H3(s)||H3(o))&&n.dirty(),{status:n.value,value:a.data}):(Le(r,{code:be.invalid_intersection_types}),ft)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}wp.create=(t,e,n)=>new wp({left:t,right:e,typeName:tt.ZodIntersection,...gt(n)});class Bo extends _t{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Pe.array)return Le(r,{code:be.invalid_type,expected:Pe.array,received:r.parsedType}),ft;if(r.data.length<this._def.items.length)return Le(r,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ft;!this._def.rest&&r.data.length>this._def.items.length&&(Le(r,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const u=this._def.items[a]||this._def.rest;return u?u._parse(new Lo(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Fr.mergeArray(n,o)):Fr.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Bo({...this._def,rest:e})}}Bo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bo({items:t,typeName:tt.ZodTuple,rest:null,...gt(e)})};class _p extends _t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Pe.object)return Le(r,{code:be.invalid_type,expected:Pe.object,received:r.parsedType}),ft;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Lo(r,a,r.path,a)),value:o._parse(new Lo(r,r.data[a],r.path,a))});return r.common.async?Fr.mergeObjectAsync(n,i):Fr.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof _t?new _p({keyType:e,valueType:n,typeName:tt.ZodRecord,...gt(r)}):new _p({keyType:Bs.create(),valueType:e,typeName:tt.ZodRecord,...gt(n)})}}class L1 extends _t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Pe.map)return Le(r,{code:be.invalid_type,expected:Pe.map,received:r.parsedType}),ft;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,u],c)=>({key:i._parse(new Lo(r,a,r.path,[c,"key"])),value:s._parse(new Lo(r,u,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const u of o){const c=await u.key,l=await u.value;if(c.status==="aborted"||l.status==="aborted")return ft;(c.status==="dirty"||l.status==="dirty")&&n.dirty(),a.set(c.value,l.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const u of o){const c=u.key,l=u.value;if(c.status==="aborted"||l.status==="aborted")return ft;(c.status==="dirty"||l.status==="dirty")&&n.dirty(),a.set(c.value,l.value)}return{status:n.value,value:a}}}}L1.create=(t,e,n)=>new L1({valueType:e,keyType:t,typeName:tt.ZodMap,...gt(n)});class al extends _t{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Pe.set)return Le(r,{code:be.invalid_type,expected:Pe.set,received:r.parsedType}),ft;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Le(r,{code:be.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Le(r,{code:be.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(u){const c=new Set;for(const l of u){if(l.status==="aborted")return ft;l.status==="dirty"&&n.dirty(),c.add(l.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((u,c)=>s._parse(new Lo(r,u,r.path,c)));return r.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,n){return new al({...this._def,minSize:{value:e,message:Je.toString(n)}})}max(e,n){return new al({...this._def,maxSize:{value:e,message:Je.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}al.create=(t,e)=>new al({valueType:t,minSize:null,maxSize:null,typeName:tt.ZodSet,...gt(e)});class Of extends _t{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Pe.function)return Le(n,{code:be.invalid_type,expected:Pe.function,received:n.parsedType}),ft;function r(a,u){return M1({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,P1(),dp].filter(c=>!!c),issueData:{code:be.invalid_arguments,argumentsError:u}})}function i(a,u){return M1({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,P1(),dp].filter(c=>!!c),issueData:{code:be.invalid_return_type,returnTypeError:u}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof wh){const a=this;return Jr(async function(...u){const c=new Us([]),l=await a._def.args.parseAsync(u,s).catch(m=>{throw c.addIssue(r(u,m)),c}),f=await Reflect.apply(o,this,l);return await a._def.returns._def.type.parseAsync(f,s).catch(m=>{throw c.addIssue(i(f,m)),c})})}else{const a=this;return Jr(function(...u){const c=a._def.args.safeParse(u,s);if(!c.success)throw new Us([r(u,c.error)]);const l=Reflect.apply(o,this,c.data),f=a._def.returns.safeParse(l,s);if(!f.success)throw new Us([i(l,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Of({...this._def,args:Bo.create(e).rest(Hc.create())})}returns(e){return new Of({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Of({args:e||Bo.create([]).rest(Hc.create()),returns:n||Hc.create(),typeName:tt.ZodFunction,...gt(r)})}}class bp extends _t{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}bp.create=(t,e)=>new bp({getter:t,typeName:tt.ZodLazy,...gt(e)});class Ep extends _t{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Le(n,{received:n.data,code:be.invalid_literal,expected:this._def.value}),ft}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ep.create=(t,e)=>new Ep({value:t,typeName:tt.ZodLiteral,...gt(e)});function oN(t,e){return new Pu({values:t,typeName:tt.ZodEnum,...gt(e)})}class Pu extends _t{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Le(n,{expected:Vt.joinValues(r),received:n.parsedType,code:be.invalid_type}),ft}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Le(n,{received:n.data,code:be.invalid_enum_value,options:r}),ft}return Jr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Pu.create(e)}exclude(e){return Pu.create(this.options.filter(n=>!e.includes(n)))}}Pu.create=oN;class Ap extends _t{_parse(e){const n=Vt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Pe.string&&r.parsedType!==Pe.number){const i=Vt.objectValues(n);return Le(r,{expected:Vt.joinValues(i),received:r.parsedType,code:be.invalid_type}),ft}if(n.indexOf(e.data)===-1){const i=Vt.objectValues(n);return Le(r,{received:r.data,code:be.invalid_enum_value,options:i}),ft}return Jr(e.data)}get enum(){return this._def.values}}Ap.create=(t,e)=>new Ap({values:t,typeName:tt.ZodNativeEnum,...gt(e)});class wh extends _t{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Pe.promise&&n.common.async===!1)return Le(n,{code:be.invalid_type,expected:Pe.promise,received:n.parsedType}),ft;const r=n.parsedType===Pe.promise?n.data:Promise.resolve(n.data);return Jr(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}wh.create=(t,e)=>new wh({type:t,typeName:tt.ZodPromise,...gt(e)});class qs extends _t{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Le(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const u=i.refinement(a,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ft:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ft:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!pp(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>pp(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Vt.assertNever(i)}}qs.create=(t,e,n)=>new qs({schema:t,typeName:tt.ZodEffects,effect:e,...gt(n)});qs.createWithPreprocess=(t,e,n)=>new qs({schema:e,effect:{type:"preprocess",transform:t},typeName:tt.ZodEffects,...gt(n)});class ua extends _t{_parse(e){return this._getType(e)===Pe.undefined?Jr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ua.create=(t,e)=>new ua({innerType:t,typeName:tt.ZodOptional,...gt(e)});class ul extends _t{_parse(e){return this._getType(e)===Pe.null?Jr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ul.create=(t,e)=>new ul({innerType:t,typeName:tt.ZodNullable,...gt(e)});class Sp extends _t{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Pe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Sp.create=(t,e)=>new Sp({innerType:t,typeName:tt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...gt(e)});class B1 extends _t{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return D1(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Us(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Us(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}B1.create=(t,e)=>new B1({innerType:t,typeName:tt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...gt(e)});class F1 extends _t{_parse(e){if(this._getType(e)!==Pe.nan){const r=this._getOrReturnCtx(e);return Le(r,{code:be.invalid_type,expected:Pe.nan,received:r.parsedType}),ft}return{status:"valid",value:e.data}}}F1.create=t=>new F1({typeName:tt.ZodNaN,...gt(t)});const JY=Symbol("zod_brand");class aN extends _t{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class _g extends _t{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ft:s.status==="dirty"?(n.dirty(),sN(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ft:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new _g({in:e,out:n,typeName:tt.ZodPipeline})}}class $1 extends _t{_parse(e){const n=this._def.innerType._parse(e);return pp(n)&&(n.value=Object.freeze(n.value)),n}}$1.create=(t,e)=>new $1({innerType:t,typeName:tt.ZodReadonly,...gt(e)});const uN=(t,e={},n)=>t?vh.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:u})}}):vh.create(),YY={object:yn.lazycreate};var tt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(tt||(tt={}));const XY=(t,e={message:`Input not instance of ${t.name}`})=>uN(n=>n instanceof t,e),cN=Bs.create,lN=Ru.create,eX=F1.create,tX=ku.create,fN=gp.create,nX=ol.create,rX=O1.create,iX=mp.create,sX=yp.create,oX=vh.create,aX=Hc.create,uX=wa.create,cX=N1.create,lX=js.create,fX=yn.create,hX=yn.strictCreate,dX=vp.create,pX=ow.create,gX=wp.create,mX=Bo.create,yX=_p.create,vX=L1.create,wX=al.create,_X=Of.create,bX=bp.create,EX=Ep.create,AX=Pu.create,SX=Ap.create,CX=wh.create,gx=qs.create,IX=ua.create,xX=ul.create,TX=qs.createWithPreprocess,RX=_g.create,kX=()=>cN().optional(),PX=()=>lN().optional(),MX=()=>fN().optional(),DX={string:t=>Bs.create({...t,coerce:!0}),number:t=>Ru.create({...t,coerce:!0}),boolean:t=>gp.create({...t,coerce:!0}),bigint:t=>ku.create({...t,coerce:!0}),date:t=>ol.create({...t,coerce:!0})},OX=ft;var M_e=Object.freeze({__proto__:null,defaultErrorMap:dp,setErrorMap:FY,getErrorMap:P1,makeIssue:M1,EMPTY_PATH:$Y,addIssueToContext:Le,ParseStatus:Fr,INVALID:ft,DIRTY:sN,OK:Jr,isAborted:z3,isDirty:H3,isValid:pp,isAsync:D1,get util(){return Vt},get objectUtil(){return V3},ZodParsedType:Pe,getParsedType:Wa,ZodType:_t,ZodString:Bs,ZodNumber:Ru,ZodBigInt:ku,ZodBoolean:gp,ZodDate:ol,ZodSymbol:O1,ZodUndefined:mp,ZodNull:yp,ZodAny:vh,ZodUnknown:Hc,ZodNever:wa,ZodVoid:N1,ZodArray:js,ZodObject:yn,ZodUnion:vp,ZodDiscriminatedUnion:ow,ZodIntersection:wp,ZodTuple:Bo,ZodRecord:_p,ZodMap:L1,ZodSet:al,ZodFunction:Of,ZodLazy:bp,ZodLiteral:Ep,ZodEnum:Pu,ZodNativeEnum:Ap,ZodPromise:wh,ZodEffects:qs,ZodTransformer:qs,ZodOptional:ua,ZodNullable:ul,ZodDefault:Sp,ZodCatch:B1,ZodNaN:F1,BRAND:JY,ZodBranded:aN,ZodPipeline:_g,ZodReadonly:$1,custom:uN,Schema:_t,ZodSchema:_t,late:YY,get ZodFirstPartyTypeKind(){return tt},coerce:DX,any:oX,array:lX,bigint:tX,boolean:fN,date:nX,discriminatedUnion:pX,effect:gx,enum:AX,function:_X,instanceof:XY,intersection:gX,lazy:bX,literal:EX,map:vX,nan:eX,nativeEnum:SX,never:uX,null:sX,nullable:xX,number:lN,object:fX,oboolean:MX,onumber:PX,optional:IX,ostring:kX,pipeline:RX,preprocess:TX,promise:CX,record:yX,set:wX,strictObject:hX,string:cN,symbol:rX,transformer:gx,tuple:mX,undefined:iX,union:dX,unknown:aX,void:cX,NEVER:OX,ZodIssueCode:be,quotelessJson:BY,ZodError:Us});/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const jy=globalThis,V6=jy.ShadowRoot&&(jy.ShadyCSS===void 0||jy.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,z6=Symbol(),mx=new WeakMap;let hN=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==z6)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(V6&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=mx.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&mx.set(n,e))}return e}toString(){return this.cssText}};const NX=t=>new hN(typeof t=="string"?t:t+"",void 0,z6),O_e=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new hN(n,t,z6)},LX=(t,e)=>{if(V6)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),i=jy.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)}},yx=V6?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return NX(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:BX,defineProperty:FX,getOwnPropertyDescriptor:$X,getOwnPropertyNames:UX,getOwnPropertySymbols:jX,getPrototypeOf:VX}=Object,wu=globalThis,vx=wu.trustedTypes,zX=vx?vx.emptyScript:"",r2=wu.reactiveElementPolyfillSupport,f0=(t,e)=>t,U1={toAttribute(t,e){switch(e){case Boolean:t=t?zX:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},H6=(t,e)=>!BX(t,e),wx={attribute:!0,type:String,converter:U1,reflect:!1,useDefault:!1,hasChanged:H6};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),wu.litPropertyMetadata??(wu.litPropertyMetadata=new WeakMap);let tf=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=wx){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(e,r,n);i!==void 0&&FX(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){const{get:i,set:s}=$X(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:i,set(o){const a=i==null?void 0:i.call(this);s==null||s.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??wx}static _$Ei(){if(this.hasOwnProperty(f0("elementProperties")))return;const e=VX(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(f0("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(f0("properties"))){const n=this.properties,r=[...UX(n),...jX(n)];for(const i of r)this.createProperty(i,n[i])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(yx(i))}else e!==void 0&&n.push(yx(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return LX(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var s;const r=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,r);if(i!==void 0&&r.reflect===!0){const o=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:U1).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,n){var s,o;const r=this.constructor,i=r._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const a=r.getPropertyOptions(i),u=typeof a.converter=="function"?{fromAttribute:a.converter}:((s=a.converter)==null?void 0:s.fromAttribute)!==void 0?a.converter:U1;this._$Em=i,this[i]=u.fromAttribute(n,a.type)??((o=this._$Ej)==null?void 0:o.get(i))??null,this._$Em=null}}requestUpdate(e,n,r){var i;if(e!==void 0){const s=this.constructor,o=this[e];if(r??(r=s.getPropertyOptions(e)),!((r.hasChanged??H6)(o,n)||r.useDefault&&r.reflect&&o===((i=this._$Ej)==null?void 0:i.get(e))&&!this.hasAttribute(s._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:i,wrapped:s},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),i===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i){const{wrapped:a}=o,u=this[s];a!==!0||this._$AL.has(s)||u===void 0||this.C(s,void 0,o,u)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(n)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};tf.elementStyles=[],tf.shadowRootOptions={mode:"open"},tf[f0("elementProperties")]=new Map,tf[f0("finalized")]=new Map,r2==null||r2({ReactiveElement:tf}),(wu.reactiveElementVersions??(wu.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const h0=globalThis,j1=h0.trustedTypes,_x=j1?j1.createPolicy("lit-html",{createHTML:t=>t}):void 0,dN="$lit$",Ga=`lit$${Math.random().toFixed(9).slice(2)}$`,pN="?"+Ga,HX=`<${pN}>`,cl=document,Cp=()=>cl.createComment(""),Ip=t=>t===null||typeof t!="object"&&typeof t!="function",q6=Array.isArray,qX=t=>q6(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",i2=`[ 	
\f\r]`,Bd=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,bx=/-->/g,Ex=/>/g,ac=RegExp(`>|${i2}(?:([^\\s"'>=/]+)(${i2}*=${i2}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Ax=/'/g,Sx=/"/g,gN=/^(?:script|style|textarea|title)$/i,mN=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),L_e=mN(1),B_e=mN(2),ll=Symbol.for("lit-noChange"),Dn=Symbol.for("lit-nothing"),Cx=new WeakMap,Ic=cl.createTreeWalker(cl,129);function yN(t,e){if(!q6(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return _x!==void 0?_x.createHTML(e):e}const WX=(t,e)=>{const n=t.length-1,r=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=Bd;for(let a=0;a<n;a++){const u=t[a];let c,l,f=-1,h=0;for(;h<u.length&&(o.lastIndex=h,l=o.exec(u),l!==null);)h=o.lastIndex,o===Bd?l[1]==="!--"?o=bx:l[1]!==void 0?o=Ex:l[2]!==void 0?(gN.test(l[2])&&(i=RegExp("</"+l[2],"g")),o=ac):l[3]!==void 0&&(o=ac):o===ac?l[0]===">"?(o=i??Bd,f=-1):l[1]===void 0?f=-2:(f=o.lastIndex-l[2].length,c=l[1],o=l[3]===void 0?ac:l[3]==='"'?Sx:Ax):o===Sx||o===Ax?o=ac:o===bx||o===Ex?o=Bd:(o=ac,i=void 0);const m=o===ac&&t[a+1].startsWith("/>")?" ":"";s+=o===Bd?u+HX:f>=0?(r.push(c),u.slice(0,f)+dN+u.slice(f)+Ga+m):u+Ga+(f===-2?a:m)}return[yN(t,s+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};let W3=class vN{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=e.length-1,u=this.parts,[c,l]=WX(e,n);if(this.el=vN.createElement(c,r),Ic.currentNode=this.el.content,n===2||n===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(i=Ic.nextNode())!==null&&u.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const f of i.getAttributeNames())if(f.endsWith(dN)){const h=l[o++],m=i.getAttribute(f).split(Ga),b=/([.?@])?(.*)/.exec(h);u.push({type:1,index:s,name:b[2],strings:m,ctor:b[1]==="."?KX:b[1]==="?"?QX:b[1]==="@"?ZX:aw}),i.removeAttribute(f)}else f.startsWith(Ga)&&(u.push({type:6,index:s}),i.removeAttribute(f));if(gN.test(i.tagName)){const f=i.textContent.split(Ga),h=f.length-1;if(h>0){i.textContent=j1?j1.emptyScript:"";for(let m=0;m<h;m++)i.append(f[m],Cp()),Ic.nextNode(),u.push({type:2,index:++s});i.append(f[h],Cp())}}}else if(i.nodeType===8)if(i.data===pN)u.push({type:2,index:s});else{let f=-1;for(;(f=i.data.indexOf(Ga,f+1))!==-1;)u.push({type:7,index:s}),f+=Ga.length-1}s++}}static createElement(e,n){const r=cl.createElement("template");return r.innerHTML=e,r}};function _h(t,e,n=t,r){var o,a;if(e===ll)return e;let i=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const s=Ip(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(e=_h(t,i._$AS(t,e.values),i,r)),e}let GX=class{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,i=((e==null?void 0:e.creationScope)??cl).importNode(n,!0);Ic.currentNode=i;let s=Ic.nextNode(),o=0,a=0,u=r[0];for(;u!==void 0;){if(o===u.index){let c;u.type===2?c=new bg(s,s.nextSibling,this,e):u.type===1?c=new u.ctor(s,u.name,u.strings,this,e):u.type===6&&(c=new JX(s,this,e)),this._$AV.push(c),u=r[++a]}o!==(u==null?void 0:u.index)&&(s=Ic.nextNode(),o++)}return Ic.currentNode=cl,i}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}};class bg{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,i){this.type=2,this._$AH=Dn,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=_h(this,e,n),Ip(e)?e===Dn||e==null||e===""?(this._$AH!==Dn&&this._$AR(),this._$AH=Dn):e!==this._$AH&&e!==ll&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):qX(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Dn&&Ip(this._$AH)?this._$AA.nextSibling.data=e:this.T(cl.createTextNode(e)),this._$AH=e}$(e){var s;const{values:n,_$litType$:r}=e,i=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=W3.createElement(yN(r.h,r.h[0]),this.options)),r);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(n);else{const o=new GX(i,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=Cx.get(e.strings);return n===void 0&&Cx.set(e.strings,n=new W3(e)),n}k(e){q6(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of e)i===n.length?n.push(r=new bg(this.O(Cp()),this.O(Cp()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}let aw=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,i,s){this.type=1,this._$AH=Dn,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Dn}_$AI(e,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)e=_h(this,e,n,0),o=!Ip(e)||e!==this._$AH&&e!==ll,o&&(this._$AH=e);else{const a=e;let u,c;for(e=s[0],u=0;u<s.length-1;u++)c=_h(this,a[r+u],n,u),c===ll&&(c=this._$AH[u]),o||(o=!Ip(c)||c!==this._$AH[u]),c===Dn?e=Dn:e!==Dn&&(e+=(c??"")+s[u+1]),this._$AH[u]=c}o&&!i&&this.j(e)}j(e){e===Dn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},KX=class extends aw{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Dn?void 0:e}},QX=class extends aw{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Dn)}},ZX=class extends aw{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){if((e=_h(this,e,n,0)??Dn)===ll)return;const r=this._$AH,i=e===Dn&&r!==Dn||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,s=e!==Dn&&(r===Dn||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}},JX=class{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){_h(this,e)}};const s2=h0.litHtmlPolyfillSupport;s2==null||s2(W3,bg),(h0.litHtmlVersions??(h0.litHtmlVersions=[])).push("3.3.0");const YX=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let i=r._$litPart$;if(i===void 0){const s=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new bg(e.insertBefore(Cp(),s),s,void 0,n??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const qc=globalThis;let Vy=class extends tf{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=YX(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return ll}};var uk;Vy._$litElement$=!0,Vy.finalized=!0,(uk=qc.litElementHydrateSupport)==null||uk.call(qc,{LitElement:Vy});const o2=qc.litElementPolyfillSupport;o2==null||o2({LitElement:Vy});(qc.litElementVersions??(qc.litElementVersions=[])).push("4.2.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const XX={attribute:!0,type:String,converter:U1,reflect:!1,hasChanged:H6},eee=(t=XX,e,n)=>{const{kind:r,metadata:i}=n;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),r==="setter"&&((t=Object.create(t)).wrapped=!0),s.set(n.name,t),r==="accessor"){const{name:o}=n;return{set(a){const u=e.get.call(this);e.set.call(this,a),this.requestUpdate(o,u,t)},init(a){return a!==void 0&&this.C(o,void 0,t,a),a}}}if(r==="setter"){const{name:o}=n;return function(a){const u=this[o];e.call(this,a),this.requestUpdate(o,u,t)}}throw Error("Unsupported decorator location: "+r)};function tee(t){return(e,n)=>typeof n=="object"?eee(t,e,n):((r,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,r),o?Object.getOwnPropertyDescriptor(i,s):void 0})(t,e,n)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function q_e(t){return tee({...t,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wN={ATTRIBUTE:1,CHILD:2},_N=t=>(...e)=>({_$litDirective$:t,values:e});let bN=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,r){this._$Ct=e,this._$AM=n,this._$Ci=r}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const G_e=_N(class extends bN{constructor(t){var e;if(super(t),t.type!==wN.ATTRIBUTE||t.name!=="class"||((e=t.strings)==null?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var r,i;if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in e)e[s]&&!((r=this.nt)!=null&&r.has(s))&&this.st.add(s);return this.render(e)}const n=t.element.classList;for(const s of this.st)s in e||(n.remove(s),this.st.delete(s));for(const s in e){const o=!!e[s];o===this.st.has(s)||(i=this.nt)!=null&&i.has(s)||(o?(n.add(s),this.st.add(s)):(n.remove(s),this.st.delete(s)))}return ll}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const K_e=t=>t??Dn;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const nee=t=>t.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const d0=(t,e)=>{var r;const n=t._$AN;if(n===void 0)return!1;for(const i of n)(r=i._$AO)==null||r.call(i,e,!1),d0(i,e);return!0},V1=t=>{let e,n;do{if((e=t._$AM)===void 0)break;n=e._$AN,n.delete(t),t=e}while((n==null?void 0:n.size)===0)},EN=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(n===void 0)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),see(e)}};function ree(t){this._$AN!==void 0?(V1(this),this._$AM=t,EN(this)):this._$AM=t}function iee(t,e=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(e)if(Array.isArray(r))for(let s=n;s<r.length;s++)d0(r[s],!1),V1(r[s]);else r!=null&&(d0(r,!1),V1(r));else d0(this,t)}const see=t=>{t.type==wN.CHILD&&(t._$AP??(t._$AP=iee),t._$AQ??(t._$AQ=ree))};let oee=class extends bN{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,n,r){super._$AT(e,n,r),EN(this),this.isConnected=e._$AU}_$AO(e,n=!0){var r,i;e!==this.isConnected&&(this.isConnected=e,e?(r=this.reconnected)==null||r.call(this):(i=this.disconnected)==null||i.call(this)),n&&(d0(this,e),V1(this))}setValue(e){if(nee(this._$Ct))this._$Ct._$AI(e,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=e,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}};/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Z_e=()=>new aee;let aee=class{};const a2=new WeakMap,Y_e=_N(class extends oee{render(t){return Dn}update(t,[e]){var r;const n=e!==this.G;return n&&this.G!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.G=e,this.ht=(r=t.options)==null?void 0:r.host,this.rt(this.ct=t.element)),Dn}rt(t){if(this.isConnected||(t=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let n=a2.get(e);n===void 0&&(n=new WeakMap,a2.set(e,n)),n.get(this.G)!==void 0&&this.G.call(this.ht,void 0),n.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){var t,e;return typeof this.G=="function"?(t=a2.get(this.ht??globalThis))==null?void 0:t.get(this.G):(e=this.G)==null?void 0:e.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var uw={},uee=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},AN={},$i={};let W6;const cee=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];$i.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};$i.getSymbolTotalCodewords=function(e){return cee[e]};$i.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};$i.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');W6=e};$i.isKanjiModeEnabled=function(){return typeof W6<"u"};$i.toSJIS=function(e){return W6(e)};var cw={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(cw);function SN(){this.buffer=[],this.length=0}SN.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var lee=SN;function Eg(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Eg.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};Eg.prototype.get=function(t,e){return this.data[t*this.size+e]};Eg.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Eg.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var fee=Eg,CN={};(function(t){const e=$i.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let u=1;u<i-1;u++)a[u]=a[u-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let u=0;u<o;u++)a===0&&u===0||a===0&&u===o-1||a===o-1&&u===0||i.push([s[a],s[u]]);return i}})(CN);var IN={};const hee=$i.getSymbolSize,Ix=7;IN.getPositions=function(e){const n=hee(e);return[[0,0],[n-Ix,0],[0,n-Ix]]};var xN={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,u=0,c=null,l=null;for(let f=0;f<s;f++){a=u=0,c=l=null;for(let h=0;h<s;h++){let m=i.get(f,h);m===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=m,a=1),m=i.get(h,f),m===l?u++:(u>=5&&(o+=e.N1+(u-5)),l=m,u=1)}a>=5&&(o+=e.N1+(a-5)),u>=5&&(o+=e.N1+(u-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let u=0;u<s-1;u++){const c=i.get(a,u)+i.get(a,u+1)+i.get(a+1,u)+i.get(a+1,u+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,u=0;for(let c=0;c<s;c++){a=u=0;for(let l=0;l<s;l++)a=a<<1&2047|i.get(c,l),l>=10&&(a===1488||a===93)&&o++,u=u<<1&2047|i.get(l,c),l>=10&&(u===1488||u===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let u=0;u<o;u++)s+=i.data[u];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let u=0;u<o;u++)s.isReserved(u,a)||s.xor(u,a,n(i,u,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,u=1/0;for(let c=0;c<o;c++){s(c),t.applyMask(c,i);const l=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),l<u&&(u=l,a=c)}return a}})(xN);var lw={};const su=cw,Zm=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Jm=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];lw.getBlocksCount=function(e,n){switch(n){case su.L:return Zm[(e-1)*4+0];case su.M:return Zm[(e-1)*4+1];case su.Q:return Zm[(e-1)*4+2];case su.H:return Zm[(e-1)*4+3];default:return}};lw.getTotalCodewordsCount=function(e,n){switch(n){case su.L:return Jm[(e-1)*4+0];case su.M:return Jm[(e-1)*4+1];case su.Q:return Jm[(e-1)*4+2];case su.H:return Jm[(e-1)*4+3];default:return}};var TN={},fw={};const p0=new Uint8Array(512),z1=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)p0[n]=e,z1[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)p0[n]=p0[n-255]})();fw.log=function(e){if(e<1)throw new Error("log("+e+")");return z1[e]};fw.exp=function(e){return p0[e]};fw.mul=function(e,n){return e===0||n===0?0:p0[z1[e]+z1[n]]};(function(t){const e=fw;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let u=0;u<i.length;u++)s[u]^=e.mul(i[u],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(TN);const RN=TN;function G6(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}G6.prototype.initialize=function(e){this.degree=e,this.genPoly=RN.generateECPolynomial(this.degree)};G6.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=RN.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var dee=G6,kN={},qu={},K6={};K6.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Uo={};const PN="[0-9]+",pee="[A-Z $%*+\\-./:]+";let xp="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";xp=xp.replace(/u/g,"\\u");const gee="(?:(?![A-Z0-9 $%*+\\-./:]|"+xp+`)(?:.|[\r
]))+`;Uo.KANJI=new RegExp(xp,"g");Uo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Uo.BYTE=new RegExp(gee,"g");Uo.NUMERIC=new RegExp(PN,"g");Uo.ALPHANUMERIC=new RegExp(pee,"g");const mee=new RegExp("^"+xp+"$"),yee=new RegExp("^"+PN+"$"),vee=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Uo.testKanji=function(e){return mee.test(e)};Uo.testNumeric=function(e){return yee.test(e)};Uo.testAlphanumeric=function(e){return vee.test(e)};(function(t){const e=K6,n=Uo;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(qu);(function(t){const e=$i,n=lw,r=cw,i=qu,s=K6,o=7973,a=e.getBCHDigit(o);function u(h,m,b){for(let A=1;A<=40;A++)if(m<=t.getCapacity(A,b,h))return A}function c(h,m){return i.getCharCountIndicator(h,m)+4}function l(h,m){let b=0;return h.forEach(function(A){const T=c(A.mode,m);b+=T+A.getBitsLength()}),b}function f(h,m){for(let b=1;b<=40;b++)if(l(h,b)<=t.getCapacity(b,m,i.MIXED))return b}t.from=function(m,b){return s.isValid(m)?parseInt(m,10):b},t.getCapacity=function(m,b,A){if(!s.isValid(m))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=i.BYTE);const T=e.getSymbolTotalCodewords(m),_=n.getTotalCodewordsCount(m,b),w=(T-_)*8;if(A===i.MIXED)return w;const C=w-c(A,m);switch(A){case i.NUMERIC:return Math.floor(C/10*3);case i.ALPHANUMERIC:return Math.floor(C/11*2);case i.KANJI:return Math.floor(C/13);case i.BYTE:default:return Math.floor(C/8)}},t.getBestVersionForData=function(m,b){let A;const T=r.from(b,r.M);if(Array.isArray(m)){if(m.length>1)return f(m,T);if(m.length===0)return 1;A=m[0]}else A=m;return u(A.mode,A.getLength(),T)},t.getEncodedBits=function(m){if(!s.isValid(m)||m<7)throw new Error("Invalid QR Code version");let b=m<<12;for(;e.getBCHDigit(b)-a>=0;)b^=o<<e.getBCHDigit(b)-a;return m<<12|b}})(kN);var MN={};const G3=$i,DN=1335,wee=21522,xx=G3.getBCHDigit(DN);MN.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;G3.getBCHDigit(i)-xx>=0;)i^=DN<<G3.getBCHDigit(i)-xx;return(r<<10|i)^wee};var ON={};const _ee=qu;function bh(t){this.mode=_ee.NUMERIC,this.data=t.toString()}bh.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};bh.prototype.getLength=function(){return this.data.length};bh.prototype.getBitsLength=function(){return bh.getBitsLength(this.data.length)};bh.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var bee=bh;const Eee=qu,u2=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Eh(t){this.mode=Eee.ALPHANUMERIC,this.data=t}Eh.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Eh.prototype.getLength=function(){return this.data.length};Eh.prototype.getBitsLength=function(){return Eh.getBitsLength(this.data.length)};Eh.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=u2.indexOf(this.data[n])*45;r+=u2.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(u2.indexOf(this.data[n]),6)};var Aee=Eh,See=function(e){for(var n=[],r=e.length,i=0;i<r;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const Cee=See,Iee=qu;function Ah(t){this.mode=Iee.BYTE,typeof t=="string"&&(t=Cee(t)),this.data=new Uint8Array(t)}Ah.getBitsLength=function(e){return e*8};Ah.prototype.getLength=function(){return this.data.length};Ah.prototype.getBitsLength=function(){return Ah.getBitsLength(this.data.length)};Ah.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var xee=Ah;const Tee=qu,Ree=$i;function Sh(t){this.mode=Tee.KANJI,this.data=t}Sh.getBitsLength=function(e){return e*13};Sh.prototype.getLength=function(){return this.data.length};Sh.prototype.getBitsLength=function(){return Sh.getBitsLength(this.data.length)};Sh.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=Ree.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var kee=Sh,NN={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var u,c,l,f,h,m,b,A,T;!a.empty();){u=a.pop(),c=u.value,f=u.cost,h=n[c]||{};for(l in h)h.hasOwnProperty(l)&&(m=h[l],b=f+m,A=o[l],T=typeof o[l]>"u",(T||A>b)&&(o[l]=b,a.push(l,b),s[l]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var _=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(_)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(NN);var Pee=NN.exports;(function(t){const e=qu,n=bee,r=Aee,i=xee,s=kee,o=Uo,a=$i,u=Pee;function c(_){return unescape(encodeURIComponent(_)).length}function l(_,w,C){const M=[];let N;for(;(N=_.exec(C))!==null;)M.push({data:N[0],index:N.index,mode:w,length:N[0].length});return M}function f(_){const w=l(o.NUMERIC,e.NUMERIC,_),C=l(o.ALPHANUMERIC,e.ALPHANUMERIC,_);let M,N;return a.isKanjiModeEnabled()?(M=l(o.BYTE,e.BYTE,_),N=l(o.KANJI,e.KANJI,_)):(M=l(o.BYTE_KANJI,e.BYTE,_),N=[]),w.concat(C,M,N).sort(function(v,y){return v.index-y.index}).map(function(v){return{data:v.data,mode:v.mode,length:v.length}})}function h(_,w){switch(w){case e.NUMERIC:return n.getBitsLength(_);case e.ALPHANUMERIC:return r.getBitsLength(_);case e.KANJI:return s.getBitsLength(_);case e.BYTE:return i.getBitsLength(_)}}function m(_){return _.reduce(function(w,C){const M=w.length-1>=0?w[w.length-1]:null;return M&&M.mode===C.mode?(w[w.length-1].data+=C.data,w):(w.push(C),w)},[])}function b(_){const w=[];for(let C=0;C<_.length;C++){const M=_[C];switch(M.mode){case e.NUMERIC:w.push([M,{data:M.data,mode:e.ALPHANUMERIC,length:M.length},{data:M.data,mode:e.BYTE,length:M.length}]);break;case e.ALPHANUMERIC:w.push([M,{data:M.data,mode:e.BYTE,length:M.length}]);break;case e.KANJI:w.push([M,{data:M.data,mode:e.BYTE,length:c(M.data)}]);break;case e.BYTE:w.push([{data:M.data,mode:e.BYTE,length:c(M.data)}])}}return w}function A(_,w){const C={},M={start:{}};let N=["start"];for(let U=0;U<_.length;U++){const v=_[U],y=[];for(let S=0;S<v.length;S++){const k=v[S],L=""+U+S;y.push(L),C[L]={node:k,lastCount:0},M[L]={};for(let z=0;z<N.length;z++){const x=N[z];C[x]&&C[x].node.mode===k.mode?(M[x][L]=h(C[x].lastCount+k.length,k.mode)-h(C[x].lastCount,k.mode),C[x].lastCount+=k.length):(C[x]&&(C[x].lastCount=k.length),M[x][L]=h(k.length,k.mode)+4+e.getCharCountIndicator(k.mode,w))}}N=y}for(let U=0;U<N.length;U++)M[N[U]].end=0;return{map:M,table:C}}function T(_,w){let C;const M=e.getBestModeForData(_);if(C=e.from(w,M),C!==e.BYTE&&C.bit<M.bit)throw new Error('"'+_+'" cannot be encoded with mode '+e.toString(C)+`.
 Suggested mode is: `+e.toString(M));switch(C===e.KANJI&&!a.isKanjiModeEnabled()&&(C=e.BYTE),C){case e.NUMERIC:return new n(_);case e.ALPHANUMERIC:return new r(_);case e.KANJI:return new s(_);case e.BYTE:return new i(_)}}t.fromArray=function(w){return w.reduce(function(C,M){return typeof M=="string"?C.push(T(M,null)):M.data&&C.push(T(M.data,M.mode)),C},[])},t.fromString=function(w,C){const M=f(w,a.isKanjiModeEnabled()),N=b(M),U=A(N,C),v=u.find_path(U.map,"start","end"),y=[];for(let S=1;S<v.length-1;S++)y.push(U.table[v[S]].node);return t.fromArray(m(y))},t.rawSplit=function(w){return t.fromArray(f(w,a.isKanjiModeEnabled()))}})(ON);const hw=$i,c2=cw,Mee=lee,Dee=fee,Oee=CN,Nee=IN,K3=xN,Q3=lw,Lee=dee,H1=kN,Bee=MN,Fee=qu,l2=ON;function $ee(t,e){const n=t.size,r=Nee.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let u=-1;u<=7;u++)o+u<=-1||n<=o+u||(a>=0&&a<=6&&(u===0||u===6)||u>=0&&u<=6&&(a===0||a===6)||a>=2&&a<=4&&u>=2&&u<=4?t.set(s+a,o+u,!0,!0):t.set(s+a,o+u,!1,!0))}}function Uee(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function jee(t,e){const n=Oee.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function Vee(t,e){const n=t.size,r=H1.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function f2(t,e,n){const r=t.size,i=Bee.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function zee(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let u=0;u<2;u++)if(!t.isReserved(i,a-u)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),t.set(i,a-u,c),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function Hee(t,e,n){const r=new Mee;n.forEach(function(u){r.put(u.mode.bit,4),r.put(u.getLength(),Fee.getCharCountIndicator(u.mode,t)),u.write(r)});const i=hw.getSymbolTotalCodewords(t),s=Q3.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let u=0;u<a;u++)r.put(u%2?17:236,8);return qee(r,t,e)}function qee(t,e,n){const r=hw.getSymbolTotalCodewords(e),i=Q3.getTotalCodewordsCount(e,n),s=r-i,o=Q3.getBlocksCount(e,n),a=r%o,u=o-a,c=Math.floor(r/o),l=Math.floor(s/o),f=l+1,h=c-l,m=new Lee(h);let b=0;const A=new Array(o),T=new Array(o);let _=0;const w=new Uint8Array(t.buffer);for(let v=0;v<o;v++){const y=v<u?l:f;A[v]=w.slice(b,b+y),T[v]=m.encode(A[v]),b+=y,_=Math.max(_,y)}const C=new Uint8Array(r);let M=0,N,U;for(N=0;N<_;N++)for(U=0;U<o;U++)N<A[U].length&&(C[M++]=A[U][N]);for(N=0;N<h;N++)for(U=0;U<o;U++)C[M++]=T[U][N];return C}function Wee(t,e,n,r){let i;if(Array.isArray(t))i=l2.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const l=l2.rawSplit(t);c=H1.getBestVersionForData(l,n)}i=l2.fromString(t,c||40)}else throw new Error("Invalid data");const s=H1.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=Hee(e,n,i),a=hw.getSymbolSize(e),u=new Dee(a);return $ee(u,e),Uee(u),jee(u,e),f2(u,n,0),e>=7&&Vee(u,e),zee(u,o),isNaN(r)&&(r=K3.getBestMask(u,f2.bind(null,u,n))),K3.applyMask(r,u),f2(u,n,r),{modules:u,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}AN.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=c2.M,i,s;return typeof n<"u"&&(r=c2.from(n.errorCorrectionLevel,c2.M),i=H1.from(n.version),s=K3.from(n.maskPattern),n.toSJISFunc&&hw.setToSJISFunction(n.toSJISFunc)),Wee(e,i,r,s)};var LN={},Q6={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,u=t.getScale(o,s),c=Math.floor((o+s.margin*2)*u),l=s.margin*u,f=[s.color.light,s.color.dark];for(let h=0;h<c;h++)for(let m=0;m<c;m++){let b=(h*c+m)*4,A=s.color.light;if(h>=l&&m>=l&&h<c-l&&m<c-l){const T=Math.floor((h-l)/u),_=Math.floor((m-l)/u);A=f[a[T*o+_]?1:0]}r[b++]=A.r,r[b++]=A.g,r[b++]=A.b,r[b]=A.a}}})(Q6);(function(t){const e=Q6;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let u=a,c=o;typeof u>"u"&&(!o||!o.getContext)&&(u=o,o=void 0),o||(c=r()),u=e.getOptions(u);const l=e.getImageWidth(s.modules.size,u),f=c.getContext("2d"),h=f.createImageData(l,l);return e.qrToImageData(h.data,s,u),n(f,c,l),f.putImageData(h,0,0),c},t.renderToDataURL=function(s,o,a){let u=a;typeof u>"u"&&(!o||!o.getContext)&&(u=o,o=void 0),u||(u={});const c=t.render(s,o,u),l=u.type||"image/png",f=u.rendererOpts||{};return c.toDataURL(l,f.quality)}})(LN);var BN={};const Gee=Q6;function Tx(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function h2(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function Kee(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const u=Math.floor(a%e),c=Math.floor(a/e);!u&&!s&&(s=!0),t[a]?(o++,a>0&&u>0&&t[a-1]||(r+=s?h2("M",u+n,.5+c+n):h2("m",i,0),i=0,s=!1),u+1<e&&t[a+1]||(r+=h2("h",o),o=0)):i++}return r}BN.render=function(e,n,r){const i=Gee.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,u=i.color.light.a?"<path "+Tx(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+Tx(i.color.dark,"stroke")+' d="'+Kee(o,s,i.margin)+'"/>',l='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+l+' shape-rendering="crispEdges">'+u+c+`</svg>
`;return typeof r=="function"&&r(null,h),h};const Qee=uee,Z3=AN,FN=LN,Zee=BN;function Z6(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!Qee())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(u,c){try{const l=Z3.create(n,r);u(t(l,e,r))}catch(l){c(l)}})}try{const u=Z3.create(n,r);i(null,t(u,e,r))}catch(u){i(u)}}uw.create=Z3.create;uw.toCanvas=Z6.bind(null,FN.render);uw.toDataURL=Z6.bind(null,FN.renderToDataURL);uw.toString=Z6.bind(null,function(t,e,n){return Zee.render(t,n)});var Jee="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const Rx=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),kx=4;function Yee(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let N=1;N<r;N++)s.push(i+=n());let o=n(),a=e;e+=o;let u=0,c=0;function l(){return u==0&&(c=c<<8|t[e++],u=8),c>>--u&1}const f=31,h=2**f,m=h>>>1,b=m>>1,A=h-1;let T=0;for(let N=0;N<f;N++)T=T<<1|l();let _=[],w=0,C=h;for(;;){let N=Math.floor(((T-w+1)*i-1)/C),U=0,v=r;for(;v-U>1;){let k=U+v>>>1;N<s[k]?v=k:U=k}if(U==0)break;_.push(U);let y=w+Math.floor(C*s[U]/i),S=w+Math.floor(C*s[U+1]/i)-1;for(;!((y^S)&m);)T=T<<1&A|l(),y=y<<1&A,S=S<<1&A|1;for(;y&~S&b;)T=T&m|T<<1&A>>>1|l(),y=y<<1^m,S=(S^m)<<1|m|1;w=y,C=1+S-y}let M=r-4;return _.map(N=>{switch(N-M){case 3:return M+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return M+256+(t[a++]<<8|t[a++]);case 1:return M+t[a++];default:return N-1}})}function Xee(t){let e=0;return()=>t[e++]}function $N(t){return Xee(Yee(ete(t)))}function ete(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function tte(t){return t&1?~t>>1:t>>1}function nte(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=tte(e());return n}function Tp(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function UN(t){return Rp(()=>{let e=Tp(t);if(e.length)return e})}function jN(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(rte(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(ite(n,t))}return e.flat()}function Rp(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function VN(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)nte(t,n).forEach((s,o)=>r[o].push(s));return r}function rte(t,e){let n=1+e(),r=e(),i=Rp(e);return VN(i.length,1+t,e).flatMap((o,a)=>{let[u,...c]=o;return Array(i[a]).fill().map((l,f)=>{let h=f*r;return[u+f*n,c.map(m=>m+h)]})})}function ite(t,e){let n=1+e();return VN(n,1+t,e).map(i=>[i[0],i.slice(1)])}function ste(t){let e=[],n=Tp(t);return i(r([]),[]),e;function r(s){let o=t(),a=Rp(()=>{let u=Tp(t).map(c=>n[c]);if(u.length)return r(u)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,u){if(!(s&4&&u===a[a.length-1])){s&2&&(u=a[a.length-1]),s&1&&e.push(a);for(let c of o)for(let l of c.Q)i(c,[...a,l],u)}}}function ote(t){return t.toString(16).toUpperCase().padStart(2,"0")}function zN(t){return`{${ote(t)}}`}function ate(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function Ch(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function ute(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var cte="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const kp=44032,q1=4352,W1=4449,G1=4519,HN=19,qN=21,Ih=28,K1=qN*Ih,lte=HN*K1,fte=kp+lte,hte=q1+HN,dte=W1+qN,pte=G1+Ih;function Qd(t){return t>>24&255}function WN(t){return t&16777215}let J3,Px,Y3,zy;function gte(){let t=$N(cte);J3=new Map(UN(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),Px=new Set(Tp(t)),Y3=new Map,zy=new Map;for(let[e,n]of jN(t)){if(!Px.has(e)&&n.length==2){let[r,i]=n,s=zy.get(r);s||(s=new Map,zy.set(r,s)),s.set(i,e)}Y3.set(e,n.reverse())}}function GN(t){return t>=kp&&t<fte}function mte(t,e){if(t>=q1&&t<hte&&e>=W1&&e<dte)return kp+(t-q1)*K1+(e-W1)*Ih;if(GN(t)&&e>G1&&e<pte&&(t-kp)%Ih==0)return t+(e-G1);{let n=zy.get(t);return n&&(n=n.get(e),n)?n:-1}}function KN(t){J3||gte();let e=[],n=[],r=!1;function i(s){let o=J3.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(GN(s)){let o=s-kp,a=o/K1|0,u=o%K1/Ih|0,c=o%Ih;i(q1+a),i(W1+u),c>0&&i(G1+c)}else{let o=Y3.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=Qd(e[0]);for(let o=1;o<e.length;o++){let a=Qd(e[o]);if(a==0||s<=a){s=a;continue}let u=o-1;for(;;){let c=e[u+1];if(e[u+1]=e[u],e[u]=c,!u||(s=Qd(e[--u]),s<=a))break}s=Qd(e[o])}}return e}function yte(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=Qd(s),a=WN(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let u=mte(r,a);u>=0?r=u:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function QN(t){return KN(t).map(WN)}function vte(t){return yte(KN(t))}const Mx=45,ZN=".",JN=65039,YN=1,bf=t=>Array.from(t);function Pp(t,e){return t.P.has(e)||t.Q.has(e)}class wte extends Array{get is_emoji(){return!0}}let X3,XN,xc,eA,e9,Nf,d2,nf,t9,Dx,tA;function J6(){if(X3)return;let t=$N(Jee);const e=()=>Tp(t),n=()=>new Set(e());X3=new Map(jN(t)),XN=n(),xc=e(),eA=new Set(e().map(l=>xc[l])),xc=new Set(xc),e9=n(),n();let r=UN(t),i=t();const s=()=>new Set(e().flatMap(l=>r[l]).concat(e()));Nf=Rp(l=>{let f=Rp(t).map(h=>h+96);if(f.length){let h=l>=i;f[0]-=32,f=Ch(f),h&&(f=`Restricted[${f}]`);let m=s(),b=s(),A=!t();return{N:f,P:m,Q:b,M:A,R:h}}}),d2=n(),nf=new Map;let o=e().concat(bf(d2)).sort((l,f)=>l-f);o.forEach((l,f)=>{let h=t(),m=o[f]=h?o[f-h]:{V:[],M:new Map};m.V.push(l),d2.has(l)||nf.set(l,m)});for(let{V:l,M:f}of new Set(nf.values())){let h=[];for(let b of l){let A=Nf.filter(_=>Pp(_,b)),T=h.find(({G:_})=>A.some(w=>_.has(w)));T||(T={G:new Set,V:[]},h.push(T)),T.V.push(b),A.forEach(_=>T.G.add(_))}let m=h.flatMap(b=>bf(b.G));for(let{G:b,V:A}of h){let T=new Set(m.filter(_=>!b.has(_)));for(let _ of A)f.set(_,T)}}let a=new Set,u=new Set;const c=l=>a.has(l)?u.add(l):a.add(l);for(let l of Nf){for(let f of l.P)c(f);for(let f of l.Q)c(f)}for(let l of a)!nf.has(l)&&!u.has(l)&&nf.set(l,YN);t9=new Set(bf(a).concat(bf(QN(a)))),Dx=ste(t).map(l=>wte.from(l)).sort(ute),tA=new Map;for(let l of Dx){let f=[tA];for(let h of l){let m=f.map(b=>{let A=b.get(h);return A||(A=new Map,b.set(h,A)),A});h===JN?f.push(...m):f=m}for(let h of f)h.V=l}}function Y6(t){return(n9(t)?"":`${X6(dw([t]))} `)+zN(t)}function X6(t){return`"${t}"`}function _te(t){if(t.length>=4&&t[2]==Mx&&t[3]==Mx)throw new Error(`invalid label extension: "${Ch(t.slice(0,4))}"`)}function bte(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function Ete(t){let e=t[0],n=Rx.get(e);if(n)throw g0(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=Rx.get(e);if(o){if(i==s)throw g0(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw g0(`trailing ${n}`)}function dw(t,e=zN){let n=[];Ate(t[0])&&n.push("");let r=0,i=t.length;for(let s=0;s<i;s++){let o=t[s];n9(o)&&(n.push(Ch(t.slice(r,s))),n.push(e(o)),r=s+1)}return n.push(Ch(t.slice(r,i))),n.join("")}function Ate(t){return J6(),xc.has(t)}function n9(t){return J6(),e9.has(t)}function Ste(t){return Tte(Cte(t,vte,Pte))}function Cte(t,e,n){if(!t)return[];J6();let r=0;return t.split(ZN).map(i=>{let s=ate(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=kte(s,e,n),u=a.length,c;if(!u)throw new Error("empty label");let l=o.output=a.flat();if(bte(l),!(o.emoji=u>1||a[0].is_emoji)&&l.every(h=>h<128))_te(l),c="ASCII";else{let h=a.flatMap(m=>m.is_emoji?[]:m);if(!h.length)c="Emoji";else{if(xc.has(l[0]))throw g0("leading combining mark");for(let A=1;A<u;A++){let T=a[A];if(!T.is_emoji&&xc.has(T[0]))throw g0(`emoji + combining mark: "${Ch(a[A-1])} + ${dw([T[0]])}"`)}Ete(l);let m=bf(new Set(h)),[b]=xte(m);Rte(b,h),Ite(b,m),c=b.N}}o.type=c}catch(a){o.error=a}return o})}function Ite(t,e){let n,r=[];for(let i of e){let s=nf.get(i);if(s===YN)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):bf(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>Pp(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function xte(t){let e=Nf;for(let n of t){let r=e.filter(i=>Pp(i,n));if(!r.length)throw Nf.some(i=>Pp(i,n))?i9(e[0],n):r9(n);if(e=r,r.length==1)break}return e}function Tte(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${X6(dw(e))}: ${i}`)}return Ch(r)}).join(ZN)}function r9(t){return new Error(`disallowed character: ${Y6(t)}`)}function i9(t,e){let n=Y6(e),r=Nf.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function g0(t){return new Error(`illegal placement: ${t}`)}function Rte(t,e){for(let n of e)if(!Pp(t,n))throw i9(t,n);if(t.M){let n=QN(e);for(let r=1,i=n.length;r<i;r++)if(eA.has(n[r])){let s=r+1;for(let o;s<i&&eA.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${Y6(o)}`);if(s-r>kx)throw new Error(`excessive non-spacing marks: ${X6(dw(n.slice(r-1,s)))} (${s-r}/${kx})`);r=s}}}function kte(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=Mte(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(t9.has(o))i.push(o);else{let a=X3.get(o);if(a)i.push(...a);else if(!XN.has(o))throw r9(o)}}}return i.length&&r.push(e(i)),r}function Pte(t){return t.filter(e=>e!=JN)}function Mte(t,e){let n=tA,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,t.length=i)}return r}function X_e(t){return Ste(t)}var s9={exports:{}},o9={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw=xe,Dte=TY;function Ote(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nte=typeof Object.is=="function"?Object.is:Ote,Lte=Dte.useSyncExternalStore,Bte=pw.useRef,Fte=pw.useEffect,$te=pw.useMemo,Ute=pw.useDebugValue;o9.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Bte(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=$te(function(){function u(m){if(!c){if(c=!0,l=m,m=r(m),i!==void 0&&o.hasValue){var b=o.value;if(i(b,m))return f=b}return f=m}if(b=f,Nte(l,m))return b;var A=r(m);return i!==void 0&&i(b,A)?b:(l=m,f=A)}var c=!1,l,f,h=n===void 0?null:n;return[function(){return u(e())},h===null?void 0:function(){return u(h())}]},[e,n,r,i]);var a=Lte(t,s[0],s[1]);return Fte(function(){o.hasValue=!0,o.value=a},[a]),Ute(a),a};s9.exports=o9;var ebe=s9.exports,rd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xh=typeof window>"u"||"Deno"in globalThis;function is(){}function jte(t,e){return typeof t=="function"?t(e):t}function nA(t){return typeof t=="number"&&t>=0&&t!==1/0}function a9(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Lf(t,e){return typeof t=="function"?t(e):t}function Os(t,e){return typeof t=="function"?t(e):t}function Ox(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==e5(o,e.options))return!1}else if(!Mp(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function Nx(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(fl(e.options.mutationKey)!==fl(s))return!1}else if(!Mp(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function e5(t,e){return((e==null?void 0:e.queryKeyHashFn)||fl)(t)}function fl(t){return JSON.stringify(t,(e,n)=>rA(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Mp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Mp(t[n],e[n])):!1}function u9(t,e){if(t===e)return t;const n=Lx(t)&&Lx(e);if(n||rA(t)&&rA(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let u=0;for(let c=0;c<o;c++){const l=n?c:s[c];(!n&&r.includes(l)||n)&&t[l]===void 0&&e[l]===void 0?(a[l]=void 0,u++):(a[l]=u9(t[l],e[l]),a[l]===t[l]&&t[l]!==void 0&&u++)}return i===o&&u===i?t:a}return e}function Q1(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Lx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function rA(t){if(!Bx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Bx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Bx(t){return Object.prototype.toString.call(t)==="[object Object]"}function Vte(t){return new Promise(e=>{setTimeout(e,t)})}function iA(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?u9(t,e):e}function zte(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Hte(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var c9=Symbol(),l9=(t,e)=>!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===c9?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn,Mc,Qa,Hf,ck,qte=(ck=class extends rd{constructor(){super();Ye(this,Mc);Ye(this,Qa);Ye(this,Hf);Ne(this,Hf,e=>{if(!xh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){oe(this,Qa)||this.setEventListener(oe(this,Hf))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,Qa))==null||e.call(this),Ne(this,Qa,void 0))}setEventListener(e){var n;Ne(this,Hf,e),(n=oe(this,Qa))==null||n.call(this),Ne(this,Qa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){oe(this,Mc)!==e&&(Ne(this,Mc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof oe(this,Mc)=="boolean"?oe(this,Mc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Mc=new WeakMap,Qa=new WeakMap,Hf=new WeakMap,ck),t5=new qte,qf,Za,Wf,lk,Wte=(lk=class extends rd{constructor(){super();Ye(this,qf,!0);Ye(this,Za);Ye(this,Wf);Ne(this,Wf,e=>{if(!xh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){oe(this,Za)||this.setEventListener(oe(this,Wf))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,Za))==null||e.call(this),Ne(this,Za,void 0))}setEventListener(e){var n;Ne(this,Wf,e),(n=oe(this,Za))==null||n.call(this),Ne(this,Za,e(this.setOnline.bind(this)))}setOnline(e){oe(this,qf)!==e&&(Ne(this,qf,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return oe(this,qf)}},qf=new WeakMap,Za=new WeakMap,Wf=new WeakMap,lk),Z1=new Wte;function Gte(t){return Math.min(1e3*2**t,3e4)}function f9(t){return(t??"online")==="online"?Z1.isOnline():!0}var h9=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function p2(t){return t instanceof h9}function d9(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((_,w)=>{s=_,o=w}),u=_=>{var w;r||(b(new h9(_)),(w=t.abort)==null||w.call(t))},c=()=>{e=!0},l=()=>{e=!1},f=()=>t5.isFocused()&&(t.networkMode==="always"||Z1.isOnline())&&t.canRun(),h=()=>f9(t.networkMode)&&t.canRun(),m=_=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,_),i==null||i(),s(_))},b=_=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,_),i==null||i(),o(_))},A=()=>new Promise(_=>{var w;i=C=>{(r||f())&&_(C)},(w=t.onPause)==null||w.call(t)}).then(()=>{var _;i=void 0,r||(_=t.onContinue)==null||_.call(t)}),T=()=>{if(r)return;let _;const w=n===0?t.initialPromise:void 0;try{_=w??t.fn()}catch(C){_=Promise.reject(C)}Promise.resolve(_).then(m).catch(C=>{var y;if(r)return;const M=t.retry??(xh?0:3),N=t.retryDelay??Gte,U=typeof N=="function"?N(n,C):N,v=M===!0||typeof M=="number"&&n<M||typeof M=="function"&&M(n,C);if(e||!v){b(C);return}n++,(y=t.onFail)==null||y.call(t,n,C),Vte(U).then(()=>f()?void 0:A()).then(()=>{e?b(C):T()})})};return{promise:a,cancel:u,continue:()=>(i==null||i(),a),cancelRetry:c,continueRetry:l,canStart:h,start:()=>(h()?T():A().then(T),a)}}function Kte(){let t=[],e=0,n=h=>{h()},r=h=>{h()},i=h=>setTimeout(h,0);const s=h=>{i=h},o=h=>{let m;e++;try{m=h()}finally{e--,e||c()}return m},a=h=>{e?t.push(h):i(()=>{n(h)})},u=h=>(...m)=>{a(()=>{h(...m)})},c=()=>{const h=t;t=[],h.length&&i(()=>{r(()=>{h.forEach(m=>{n(m)})})})};return{batch:o,batchCalls:u,schedule:a,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:s}}var Hn=Kte(),Dc,fk,p9=(fk=class{constructor(){Ye(this,Dc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nA(this.gcTime)&&Ne(this,Dc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(xh?1/0:5*60*1e3))}clearGcTimeout(){oe(this,Dc)&&(clearTimeout(oe(this,Dc)),Ne(this,Dc,void 0))}},Dc=new WeakMap,fk),Gf,Kf,ns,Mr,Zp,Oc,Ps,Jo,hk,Qte=(hk=class extends p9{constructor(n){super();Ye(this,Ps);Ye(this,Gf);Ye(this,Kf);Ye(this,ns);Ye(this,Mr);Ye(this,Zp);Ye(this,Oc);Ne(this,Oc,!1),Ne(this,Zp,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ne(this,ns,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ne(this,Gf,n.state||Zte(this.options)),this.state=oe(this,Gf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=oe(this,Mr))==null?void 0:n.promise}setOptions(n){this.options={...oe(this,Zp),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&oe(this,ns).remove(this)}setData(n,r){const i=iA(this.state.data,n,this.options);return vt(this,Ps,Jo).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){vt(this,Ps,Jo).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=oe(this,Mr))==null?void 0:i.promise;return(s=oe(this,Mr))==null||s.cancel(n),r?r.then(is).catch(is):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(oe(this,Gf))}isActive(){return this.observers.some(n=>Os(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!a9(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=oe(this,Mr))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=oe(this,Mr))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),oe(this,ns).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(oe(this,Mr)&&(oe(this,Oc)?oe(this,Mr).cancel({revert:!0}):oe(this,Mr).cancelRetry()),this.scheduleGc()),oe(this,ns).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vt(this,Ps,Jo).call(this,{type:"invalidate"})}fetch(n,r){var c,l,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(oe(this,Mr))return oe(this,Mr).continueRetry(),oe(this,Mr).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ne(this,Oc,!0),i.signal)})},o=()=>{const h=l9(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),Ne(this,Oc,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),Ne(this,Kf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=a.fetchOptions)==null?void 0:l.meta))&&vt(this,Ps,Jo).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const u=h=>{var m,b,A,T;p2(h)&&h.silent||vt(this,Ps,Jo).call(this,{type:"error",error:h}),p2(h)||((b=(m=oe(this,ns).config).onError)==null||b.call(m,h,this),(T=(A=oe(this,ns).config).onSettled)==null||T.call(A,this.state.data,h,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Ne(this,Mr,d9({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var m,b,A,T;if(h===void 0){u(new Error(`${this.queryHash} data is undefined`));return}this.setData(h),(b=(m=oe(this,ns).config).onSuccess)==null||b.call(m,h,this),(T=(A=oe(this,ns).config).onSettled)==null||T.call(A,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:u,onFail:(h,m)=>{vt(this,Ps,Jo).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{vt(this,Ps,Jo).call(this,{type:"pause"})},onContinue:()=>{vt(this,Ps,Jo).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),oe(this,Mr).start()}},Gf=new WeakMap,Kf=new WeakMap,ns=new WeakMap,Mr=new WeakMap,Zp=new WeakMap,Oc=new WeakMap,Ps=new WeakSet,Jo=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...g9(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return p2(s)&&s.revert&&oe(this,Kf)?{...oe(this,Kf),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Hn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),oe(this,ns).notify({query:this,type:"updated",action:n})})},hk);function g9(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:f9(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Zte(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var po,dk,Jte=(dk=class extends rd{constructor(e={}){super();Ye(this,po);this.config=e,Ne(this,po,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??e5(i,n);let o=this.get(s);return o||(o=new Qte({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){oe(this,po).has(e.queryHash)||(oe(this,po).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=oe(this,po).get(e.queryHash);n&&(e.destroy(),n===e&&oe(this,po).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Hn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return oe(this,po).get(e)}getAll(){return[...oe(this,po).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ox(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Ox(e,r)):n}notify(e){Hn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Hn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Hn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},po=new WeakMap,dk),go,Vr,Nc,mo,Ua,pk,Yte=(pk=class extends p9{constructor(n){super();Ye(this,mo);Ye(this,go);Ye(this,Vr);Ye(this,Nc);this.mutationId=n.mutationId,Ne(this,Vr,n.mutationCache),Ne(this,go,[]),this.state=n.state||m9(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){oe(this,go).includes(n)||(oe(this,go).push(n),this.clearGcTimeout(),oe(this,Vr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ne(this,go,oe(this,go).filter(r=>r!==n)),this.scheduleGc(),oe(this,Vr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){oe(this,go).length||(this.state.status==="pending"?this.scheduleGc():oe(this,Vr).remove(this))}continue(){var n;return((n=oe(this,Nc))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,u,c,l,f,h,m,b,A,T,_,w,C,M,N,U,v,y;Ne(this,Nc,d9({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(S,k)=>{vt(this,mo,Ua).call(this,{type:"failed",failureCount:S,error:k})},onPause:()=>{vt(this,mo,Ua).call(this,{type:"pause"})},onContinue:()=>{vt(this,mo,Ua).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>oe(this,Vr).canRun(this)}));const r=this.state.status==="pending",i=!oe(this,Nc).canStart();try{if(!r){vt(this,mo,Ua).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=oe(this,Vr).config).onMutate)==null?void 0:o.call(s,n,this));const k=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,n));k!==this.state.context&&vt(this,mo,Ua).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const S=await oe(this,Nc).start();return await((l=(c=oe(this,Vr).config).onSuccess)==null?void 0:l.call(c,S,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,S,n,this.state.context)),await((b=(m=oe(this,Vr).config).onSettled)==null?void 0:b.call(m,S,null,this.state.variables,this.state.context,this)),await((T=(A=this.options).onSettled)==null?void 0:T.call(A,S,null,n,this.state.context)),vt(this,mo,Ua).call(this,{type:"success",data:S}),S}catch(S){try{throw await((w=(_=oe(this,Vr).config).onError)==null?void 0:w.call(_,S,n,this.state.context,this)),await((M=(C=this.options).onError)==null?void 0:M.call(C,S,n,this.state.context)),await((U=(N=oe(this,Vr).config).onSettled)==null?void 0:U.call(N,void 0,S,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,void 0,S,n,this.state.context)),S}finally{vt(this,mo,Ua).call(this,{type:"error",error:S})}}finally{oe(this,Vr).runNext(this)}}},go=new WeakMap,Vr=new WeakMap,Nc=new WeakMap,mo=new WeakSet,Ua=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Hn.batch(()=>{oe(this,go).forEach(i=>{i.onMutationUpdate(n)}),oe(this,Vr).notify({mutation:this,type:"updated",action:n})})},pk);function m9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ii,Jp,gk,Xte=(gk=class extends rd{constructor(e={}){super();Ye(this,Ii);Ye(this,Jp);this.config=e,Ne(this,Ii,new Map),Ne(this,Jp,Date.now())}build(e,n,r){const i=new Yte({mutationCache:this,mutationId:++Em(this,Jp)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Ym(e),r=oe(this,Ii).get(n)??[];r.push(e),oe(this,Ii).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Ym(e);if(oe(this,Ii).has(n)){const i=(r=oe(this,Ii).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?oe(this,Ii).delete(n):oe(this,Ii).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=oe(this,Ii).get(Ym(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=oe(this,Ii).get(Ym(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Hn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...oe(this,Ii).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Nx(n,r))}findAll(e={}){return this.getAll().filter(n=>Nx(e,n))}notify(e){Hn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Hn.batch(()=>Promise.all(e.map(n=>n.continue().catch(is))))}},Ii=new WeakMap,Jp=new WeakMap,gk);function Ym(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ene(t){return{onFetch:(e,n)=>{const r=async()=>{var b,A,T,_,w;const i=e.options,s=(T=(A=(b=e.fetchOptions)==null?void 0:b.meta)==null?void 0:A.fetchMore)==null?void 0:T.direction,o=((_=e.state.data)==null?void 0:_.pages)||[],a=((w=e.state.data)==null?void 0:w.pageParams)||[],u={pages:[],pageParams:[]};let c=!1;const l=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},f=l9(e.options,e.fetchOptions),h=async(C,M,N)=>{if(c)return Promise.reject();if(M==null&&C.pages.length)return Promise.resolve(C);const U={queryKey:e.queryKey,pageParam:M,direction:N?"backward":"forward",meta:e.options.meta};l(U);const v=await f(U),{maxPages:y}=e.options,S=N?Hte:zte;return{pages:S(C.pages,v,y),pageParams:S(C.pageParams,M,y)}};let m;if(s&&o.length){const C=s==="backward",M=C?tne:Fx,N={pages:o,pageParams:a},U=M(i,N);m=await h(N,U,C)}else{m=await h(u,a[0]??i.initialPageParam);const C=t??o.length;for(let M=1;M<C;M++){const N=Fx(i,m);m=await h(m,N)}}return m};e.options.persister?e.fetchFn=()=>{var i,s;return(s=(i=e.options).persister)==null?void 0:s.call(i,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function Fx(t,{pages:e,pageParams:n}){const r=e.length-1;return t.getNextPageParam(e[r],e,n[r],n)}function tne(t,{pages:e,pageParams:n}){var r;return(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n)}var Cn,Ja,Ya,Qf,Zf,Xa,Jf,Yf,mk,rbe=(mk=class{constructor(t={}){Ye(this,Cn);Ye(this,Ja);Ye(this,Ya);Ye(this,Qf);Ye(this,Zf);Ye(this,Xa);Ye(this,Jf);Ye(this,Yf);Ne(this,Cn,t.queryCache||new Jte),Ne(this,Ja,t.mutationCache||new Xte),Ne(this,Ya,t.defaultOptions||{}),Ne(this,Qf,new Map),Ne(this,Zf,new Map),Ne(this,Xa,0)}mount(){Em(this,Xa)._++,oe(this,Xa)===1&&(Ne(this,Jf,t5.subscribe(async t=>{t&&(await this.resumePausedMutations(),oe(this,Cn).onFocus())})),Ne(this,Yf,Z1.subscribe(async t=>{t&&(await this.resumePausedMutations(),oe(this,Cn).onOnline())})))}unmount(){var t,e;Em(this,Xa)._--,oe(this,Xa)===0&&((t=oe(this,Jf))==null||t.call(this),Ne(this,Jf,void 0),(e=oe(this,Yf))==null||e.call(this),Ne(this,Yf,void 0))}isFetching(t){return oe(this,Cn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return oe(this,Ja).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=oe(this,Cn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=oe(this,Cn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Lf(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return oe(this,Cn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=oe(this,Cn).get(r.queryHash),s=i==null?void 0:i.state.data,o=jte(e,s);if(o!==void 0)return oe(this,Cn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Hn.batch(()=>oe(this,Cn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=oe(this,Cn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=oe(this,Cn);Hn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=oe(this,Cn),r={type:"active",...t};return Hn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Hn.batch(()=>oe(this,Cn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(is).catch(is)}invalidateQueries(t={},e={}){return Hn.batch(()=>{if(oe(this,Cn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Hn.batch(()=>oe(this,Cn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(is)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(is)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=oe(this,Cn).build(this,e);return n.isStaleByTime(Lf(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(is).catch(is)}fetchInfiniteQuery(t){return t.behavior=ene(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(is).catch(is)}resumePausedMutations(){return Z1.isOnline()?oe(this,Ja).resumePausedMutations():Promise.resolve()}getQueryCache(){return oe(this,Cn)}getMutationCache(){return oe(this,Ja)}getDefaultOptions(){return oe(this,Ya)}setDefaultOptions(t){Ne(this,Ya,t)}setQueryDefaults(t,e){oe(this,Qf).set(fl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...oe(this,Qf).values()];let n={};return e.forEach(r=>{Mp(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){oe(this,Zf).set(fl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...oe(this,Zf).values()];let n={};return e.forEach(r=>{Mp(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...oe(this,Ya).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=e5(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===c9&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...oe(this,Ya).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){oe(this,Cn).clear(),oe(this,Ja).clear()}},Cn=new WeakMap,Ja=new WeakMap,Ya=new WeakMap,Qf=new WeakMap,Zf=new WeakMap,Xa=new WeakMap,Jf=new WeakMap,Yf=new WeakMap,mk),si,kt,Yp,zr,Lc,Xf,yo,Xp,eh,th,Bc,Fc,eu,nh,Wt,Zd,sA,oA,aA,uA,cA,lA,fA,y9,yk,nne=(yk=class extends rd{constructor(e,n){super();Ye(this,Wt);Ye(this,si);Ye(this,kt);Ye(this,Yp);Ye(this,zr);Ye(this,Lc);Ye(this,Xf);Ye(this,yo);Ye(this,Xp);Ye(this,eh);Ye(this,th);Ye(this,Bc);Ye(this,Fc);Ye(this,eu);Ye(this,nh,new Set);this.options=n,Ne(this,si,e),Ne(this,yo,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(oe(this,kt).addObserver(this),$x(oe(this,kt),this.options)?vt(this,Wt,Zd).call(this):this.updateResult(),vt(this,Wt,uA).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hA(oe(this,kt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hA(oe(this,kt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,vt(this,Wt,cA).call(this),vt(this,Wt,lA).call(this),oe(this,kt).removeObserver(this)}setOptions(e,n){const r=this.options,i=oe(this,kt);if(this.options=oe(this,si).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Os(this.options.enabled,oe(this,kt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");vt(this,Wt,fA).call(this),oe(this,kt).setOptions(this.options),r._defaulted&&!Q1(this.options,r)&&oe(this,si).getQueryCache().notify({type:"observerOptionsUpdated",query:oe(this,kt),observer:this});const s=this.hasListeners();s&&Ux(oe(this,kt),i,this.options,r)&&vt(this,Wt,Zd).call(this),this.updateResult(n),s&&(oe(this,kt)!==i||Os(this.options.enabled,oe(this,kt))!==Os(r.enabled,oe(this,kt))||Lf(this.options.staleTime,oe(this,kt))!==Lf(r.staleTime,oe(this,kt)))&&vt(this,Wt,sA).call(this);const o=vt(this,Wt,oA).call(this);s&&(oe(this,kt)!==i||Os(this.options.enabled,oe(this,kt))!==Os(r.enabled,oe(this,kt))||o!==oe(this,eu))&&vt(this,Wt,aA).call(this,o)}getOptimisticResult(e){const n=oe(this,si).getQueryCache().build(oe(this,si),e),r=this.createResult(n,e);return ine(this,r)&&(Ne(this,zr,r),Ne(this,Xf,this.options),Ne(this,Lc,oe(this,kt).state)),r}getCurrentResult(){return oe(this,zr)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){oe(this,nh).add(e)}getCurrentQuery(){return oe(this,kt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=oe(this,si).defaultQueryOptions(e),r=oe(this,si).getQueryCache().build(oe(this,si),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return vt(this,Wt,Zd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),oe(this,zr)))}createResult(e,n){var v;const r=oe(this,kt),i=this.options,s=oe(this,zr),o=oe(this,Lc),a=oe(this,Xf),c=e!==r?e.state:oe(this,Yp),{state:l}=e;let f={...l},h=!1,m;if(n._optimisticResults){const y=this.hasListeners(),S=!y&&$x(e,n),k=y&&Ux(e,r,n,i);(S||k)&&(f={...f,...g9(l.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:A,status:T}=f;if(n.select&&f.data!==void 0)if(s&&f.data===(o==null?void 0:o.data)&&n.select===oe(this,Xp))m=oe(this,eh);else try{Ne(this,Xp,n.select),m=n.select(f.data),m=iA(s==null?void 0:s.data,m,n),Ne(this,eh,m),Ne(this,yo,null)}catch(y){Ne(this,yo,y)}else m=f.data;if(n.placeholderData!==void 0&&m===void 0&&T==="pending"){let y;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))y=s.data;else if(y=typeof n.placeholderData=="function"?n.placeholderData((v=oe(this,th))==null?void 0:v.state.data,oe(this,th)):n.placeholderData,n.select&&y!==void 0)try{y=n.select(y),Ne(this,yo,null)}catch(S){Ne(this,yo,S)}y!==void 0&&(T="success",m=iA(s==null?void 0:s.data,y,n),h=!0)}oe(this,yo)&&(b=oe(this,yo),m=oe(this,eh),A=Date.now(),T="error");const _=f.fetchStatus==="fetching",w=T==="pending",C=T==="error",M=w&&_,N=m!==void 0;return{status:T,fetchStatus:f.fetchStatus,isPending:w,isSuccess:T==="success",isError:C,isInitialLoading:M,isLoading:M,data:m,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:A,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!w,isLoadingError:C&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:C&&N,isStale:n5(e,n),refetch:this.refetch}}updateResult(e){const n=oe(this,zr),r=this.createResult(oe(this,kt),this.options);if(Ne(this,Lc,oe(this,kt).state),Ne(this,Xf,this.options),oe(this,Lc).data!==void 0&&Ne(this,th,oe(this,kt)),Q1(r,n))return;Ne(this,zr,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!oe(this,nh).size)return!0;const u=new Set(a??oe(this,nh));return this.options.throwOnError&&u.add("error"),Object.keys(oe(this,zr)).some(c=>{const l=c;return oe(this,zr)[l]!==n[l]&&u.has(l)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),vt(this,Wt,y9).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&vt(this,Wt,uA).call(this)}},si=new WeakMap,kt=new WeakMap,Yp=new WeakMap,zr=new WeakMap,Lc=new WeakMap,Xf=new WeakMap,yo=new WeakMap,Xp=new WeakMap,eh=new WeakMap,th=new WeakMap,Bc=new WeakMap,Fc=new WeakMap,eu=new WeakMap,nh=new WeakMap,Wt=new WeakSet,Zd=function(e){vt(this,Wt,fA).call(this);let n=oe(this,kt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(is)),n},sA=function(){vt(this,Wt,cA).call(this);const e=Lf(this.options.staleTime,oe(this,kt));if(xh||oe(this,zr).isStale||!nA(e))return;const r=a9(oe(this,zr).dataUpdatedAt,e)+1;Ne(this,Bc,setTimeout(()=>{oe(this,zr).isStale||this.updateResult()},r))},oA=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(oe(this,kt)):this.options.refetchInterval)??!1},aA=function(e){vt(this,Wt,lA).call(this),Ne(this,eu,e),!(xh||Os(this.options.enabled,oe(this,kt))===!1||!nA(oe(this,eu))||oe(this,eu)===0)&&Ne(this,Fc,setInterval(()=>{(this.options.refetchIntervalInBackground||t5.isFocused())&&vt(this,Wt,Zd).call(this)},oe(this,eu)))},uA=function(){vt(this,Wt,sA).call(this),vt(this,Wt,aA).call(this,vt(this,Wt,oA).call(this))},cA=function(){oe(this,Bc)&&(clearTimeout(oe(this,Bc)),Ne(this,Bc,void 0))},lA=function(){oe(this,Fc)&&(clearInterval(oe(this,Fc)),Ne(this,Fc,void 0))},fA=function(){const e=oe(this,si).getQueryCache().build(oe(this,si),this.options);if(e===oe(this,kt))return;const n=oe(this,kt);Ne(this,kt,e),Ne(this,Yp,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},y9=function(e){Hn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(oe(this,zr))}),oe(this,si).getQueryCache().notify({query:oe(this,kt),type:"observerResultsUpdated"})})},yk);function rne(t,e){return Os(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function $x(t,e){return rne(t,e)||t.state.data!==void 0&&hA(t,e,e.refetchOnMount)}function hA(t,e,n){if(Os(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&n5(t,e)}return!1}function Ux(t,e,n,r){return(t!==e||Os(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&n5(t,n)}function n5(t,e){return Os(e.enabled,t)!==!1&&t.isStaleByTime(Lf(e.staleTime,t))}function ine(t,e){return!Q1(t.getCurrentResult(),e)}var tu,nu,oi,na,la,Hy,dA,vk,sne=(vk=class extends rd{constructor(e,n){super();Ye(this,la);Ye(this,tu);Ye(this,nu);Ye(this,oi);Ye(this,na);Ne(this,tu,e),this.setOptions(n),this.bindMethods(),vt(this,la,Hy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const n=this.options;this.options=oe(this,tu).defaultMutationOptions(e),Q1(this.options,n)||oe(this,tu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:oe(this,oi),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&fl(n.mutationKey)!==fl(this.options.mutationKey)?this.reset():((r=oe(this,oi))==null?void 0:r.state.status)==="pending"&&oe(this,oi).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=oe(this,oi))==null||e.removeObserver(this)}onMutationUpdate(e){vt(this,la,Hy).call(this),vt(this,la,dA).call(this,e)}getCurrentResult(){return oe(this,nu)}reset(){var e;(e=oe(this,oi))==null||e.removeObserver(this),Ne(this,oi,void 0),vt(this,la,Hy).call(this),vt(this,la,dA).call(this)}mutate(e,n){var r;return Ne(this,na,n),(r=oe(this,oi))==null||r.removeObserver(this),Ne(this,oi,oe(this,tu).getMutationCache().build(oe(this,tu),this.options)),oe(this,oi).addObserver(this),oe(this,oi).execute(e)}},tu=new WeakMap,nu=new WeakMap,oi=new WeakMap,na=new WeakMap,la=new WeakSet,Hy=function(){var n;const e=((n=oe(this,oi))==null?void 0:n.state)??m9();Ne(this,nu,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},dA=function(e){Hn.batch(()=>{var n,r,i,s,o,a,u,c;if(oe(this,na)&&this.hasListeners()){const l=oe(this,nu).variables,f=oe(this,nu).context;(e==null?void 0:e.type)==="success"?((r=(n=oe(this,na)).onSuccess)==null||r.call(n,e.data,l,f),(s=(i=oe(this,na)).onSettled)==null||s.call(i,e.data,null,l,f)):(e==null?void 0:e.type)==="error"&&((a=(o=oe(this,na)).onError)==null||a.call(o,e.error,l,f),(c=(u=oe(this,na)).onSettled)==null||c.call(u,void 0,e.error,l,f))}this.listeners.forEach(l=>{l(oe(this,nu))})})},vk),v9=xe.createContext(void 0),w9=t=>{const e=xe.useContext(v9);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},ibe=({client:t,children:e})=>(xe.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),HU.jsx(v9.Provider,{value:t,children:e})),_9=xe.createContext(!1),one=()=>xe.useContext(_9);_9.Provider;function ane(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var une=xe.createContext(ane()),cne=()=>xe.useContext(une);function b9(t,e){return typeof t=="function"?t(...e):!!t}function lne(){}var fne=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},hne=t=>{xe.useEffect(()=>{t.clearReset()},[t])},dne=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&b9(n,[t.error,r]),pne=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},gne=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,mne=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function yne(t,e,n){var c,l,f,h;const r=w9(),i=one(),s=cne(),o=r.defaultQueryOptions(t);(l=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||l.call(c,o),o._optimisticResults=i?"isRestoring":"optimistic",pne(o),fne(o,s),hne(s);const[a]=xe.useState(()=>new e(r,o)),u=a.getOptimisticResult(o);if(xe.useSyncExternalStore(xe.useCallback(m=>{const b=i?()=>{}:a.subscribe(Hn.batchCalls(m));return a.updateResult(),b},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),xe.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),gne(o,u))throw mne(o,a,s);if(dne({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;return(h=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||h.call(f,o,u),o.notifyOnChangeProps?u:a.trackResult(u)}function sbe(t,e){return yne(t,nne)}function obe(t,e){const n=w9(),[r]=xe.useState(()=>new sne(n,t));xe.useEffect(()=>{r.setOptions(t)},[r,t]);const i=xe.useSyncExternalStore(xe.useCallback(o=>r.subscribe(Hn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=xe.useCallback((o,a)=>{r.mutate(o,a).catch(lne)},[r]);if(i.error&&b9(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dp(){return Dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dp.apply(this,arguments)}var ou;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ou||(ou={}));const jx="popstate";function vne(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return pA("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:A9(i)}return _ne(e,n,null,t)}function $n(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function E9(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wne(){return Math.random().toString(36).substr(2,8)}function Vx(t,e){return{usr:t.state,key:t.key,idx:e}}function pA(t,e,n,r){return n===void 0&&(n=null),Dp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?id(e):e,{state:n,key:e&&e.key||r||wne()})}function A9(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function id(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function _ne(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ou.Pop,u=null,c=l();c==null&&(c=0,o.replaceState(Dp({},o.state,{idx:c}),""));function l(){return(o.state||{idx:null}).idx}function f(){a=ou.Pop;let T=l(),_=T==null?null:T-c;c=T,u&&u({action:a,location:A.location,delta:_})}function h(T,_){a=ou.Push;let w=pA(A.location,T,_);c=l()+1;let C=Vx(w,c),M=A.createHref(w);try{o.pushState(C,"",M)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(M)}s&&u&&u({action:a,location:A.location,delta:1})}function m(T,_){a=ou.Replace;let w=pA(A.location,T,_);c=l();let C=Vx(w,c),M=A.createHref(w);o.replaceState(C,"",M),s&&u&&u({action:a,location:A.location,delta:0})}function b(T){let _=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof T=="string"?T:A9(T);return w=w.replace(/ $/,"%20"),$n(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let A={get action(){return a},get location(){return t(i,o)},listen(T){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(jx,f),u=T,()=>{i.removeEventListener(jx,f),u=null}},createHref(T){return e(i,T)},createURL:b,encodeLocation(T){let _=b(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:m,go(T){return o.go(T)}};return A}var zx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zx||(zx={}));function bne(t,e,n){return n===void 0&&(n="/"),Ene(t,e,n)}function Ene(t,e,n,r){let i=typeof e=="string"?id(e):e,s=I9(i.pathname||"/",n);if(s==null)return null;let o=S9(t);Ane(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=Nne(s);a=Mne(o[u],c)}return a}function S9(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&($n(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Wc([r,u.relativePath]),l=n.concat(u);s.children&&s.children.length>0&&($n(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),S9(s.children,e,l,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:kne(c,s.index),routesMeta:l})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of C9(s.path))i(s,o,u)}),e}function C9(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=C9(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function Ane(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Pne(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Sne=/^:[\w-]+$/,Cne=3,Ine=2,xne=1,Tne=10,Rne=-2,Hx=t=>t==="*";function kne(t,e){let n=t.split("/"),r=n.length;return n.some(Hx)&&(r+=Rne),e&&(r+=Ine),n.filter(i=>!Hx(i)).reduce((i,s)=>i+(Sne.test(s)?Cne:s===""?xne:Tne),r)}function Pne(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Mne(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,l=s==="/"?e:e.slice(s.length)||"/",f=Dne({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},l),h=u.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Wc([s,f.pathname]),pathnameBase:$ne(Wc([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Wc([s,f.pathnameBase]))}return o}function Dne(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=One(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,l,f)=>{let{paramName:h,isOptional:m}=l;if(h==="*"){let A=a[f]||"";o=s.slice(0,s.length-A.length).replace(/(.)\/+$/,"$1")}const b=a[f];return m&&!b?c[h]=void 0:c[h]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function One(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),E9(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Nne(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return E9(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function I9(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Lne(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?id(t):t;return{pathname:n?n.startsWith("/")?n:Bne(n,e):e,search:Une(r),hash:jne(i)}}function Bne(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function g2(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fne(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function x9(t,e){let n=Fne(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function T9(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=id(t):(i=Dp({},t),$n(!i.pathname||!i.pathname.includes("?"),g2("?","pathname","search",i)),$n(!i.pathname||!i.pathname.includes("#"),g2("#","pathname","hash",i)),$n(!i.search||!i.search.includes("#"),g2("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let u=Lne(i,a),c=o&&o!=="/"&&o.endsWith("/"),l=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||l)&&(u.pathname+="/"),u}const Wc=t=>t.join("/").replace(/\/\/+/g,"/"),$ne=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Une=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jne=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Vne(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const R9=["post","put","patch","delete"];new Set(R9);const zne=["get",...R9];new Set(zne);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Op.apply(this,arguments)}const r5=xe.createContext(null),Hne=xe.createContext(null),Ag=xe.createContext(null),gw=xe.createContext(null),Sl=xe.createContext({outlet:null,matches:[],isDataRoute:!1}),k9=xe.createContext(null);function Sg(){return xe.useContext(gw)!=null}function i5(){return Sg()||$n(!1),xe.useContext(gw).location}function P9(t){xe.useContext(Ag).static||xe.useLayoutEffect(t)}function qne(){let{isDataRoute:t}=xe.useContext(Sl);return t?ire():Wne()}function Wne(){Sg()||$n(!1);let t=xe.useContext(r5),{basename:e,future:n,navigator:r}=xe.useContext(Ag),{matches:i}=xe.useContext(Sl),{pathname:s}=i5(),o=JSON.stringify(x9(i,n.v7_relativeSplatPath)),a=xe.useRef(!1);return P9(()=>{a.current=!0}),xe.useCallback(function(c,l){if(l===void 0&&(l={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=T9(c,JSON.parse(o),s,l.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Wc([e,f.pathname])),(l.replace?r.replace:r.push)(f,l.state,l)},[e,r,o,s,t])}function Gne(t,e){return Kne(t,e)}function Kne(t,e,n,r){Sg()||$n(!1);let{navigator:i}=xe.useContext(Ag),{matches:s}=xe.useContext(Sl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=i5(),l;if(e){var f;let T=typeof e=="string"?id(e):e;u==="/"||(f=T.pathname)!=null&&f.startsWith(u)||$n(!1),l=T}else l=c;let h=l.pathname||"/",m=h;if(u!=="/"){let T=u.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(T.length).join("/")}let b=bne(t,{pathname:m}),A=Xne(b&&b.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:Wc([u,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?u:Wc([u,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return e&&A?xe.createElement(gw.Provider,{value:{location:Op({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:ou.Pop}},A):A}function Qne(){let t=rre(),e=Vne(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return xe.createElement(xe.Fragment,null,xe.createElement("h2",null,"Unexpected Application Error!"),xe.createElement("h3",{style:{fontStyle:"italic"}},e),n?xe.createElement("pre",{style:i},n):null,null)}const Zne=xe.createElement(Qne,null);class Jne extends xe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?xe.createElement(Sl.Provider,{value:this.props.routeContext},xe.createElement(k9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Yne(t){let{routeContext:e,match:n,children:r}=t,i=xe.useContext(r5);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),xe.createElement(Sl.Provider,{value:e},r)}function Xne(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let l=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);l>=0||$n(!1),o=o.slice(0,Math.min(o.length,l+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let l=0;l<o.length;l++){let f=o[l];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=l),f.route.id){let{loaderData:h,errors:m}=n,b=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||b){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((l,f,h)=>{let m,b=!1,A=null,T=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,A=f.route.errorElement||Zne,u&&(c<0&&h===0?(sre("route-fallback"),b=!0,T=null):c===h&&(b=!0,T=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,h+1)),w=()=>{let C;return m?C=A:b?C=T:f.route.Component?C=xe.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=l,xe.createElement(Yne,{match:f,routeContext:{outlet:l,matches:_,isDataRoute:n!=null},children:C})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?xe.createElement(Jne,{location:n.location,revalidation:n.revalidation,component:A,error:m,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var M9=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(M9||{}),D9=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(D9||{});function ere(t){let e=xe.useContext(r5);return e||$n(!1),e}function tre(t){let e=xe.useContext(Hne);return e||$n(!1),e}function nre(t){let e=xe.useContext(Sl);return e||$n(!1),e}function O9(t){let e=nre(),n=e.matches[e.matches.length-1];return n.route.id||$n(!1),n.route.id}function rre(){var t;let e=xe.useContext(k9),n=tre(),r=O9();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ire(){let{router:t}=ere(M9.UseNavigateStable),e=O9(D9.UseNavigateStable),n=xe.useRef(!1);return P9(()=>{n.current=!0}),xe.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Op({fromRouteId:e},s)))},[t,e])}const qx={};function sre(t,e,n){qx[t]||(qx[t]=!0)}function ore(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function abe(t){let{to:e,replace:n,state:r,relative:i}=t;Sg()||$n(!1);let{future:s,static:o}=xe.useContext(Ag),{matches:a}=xe.useContext(Sl),{pathname:u}=i5(),c=qne(),l=T9(e,x9(a,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(l);return xe.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function are(t){$n(!1)}function ure(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ou.Pop,navigator:s,static:o=!1,future:a}=t;Sg()&&$n(!1);let u=e.replace(/^\/*/,"/"),c=xe.useMemo(()=>({basename:u,navigator:s,static:o,future:Op({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=id(r));let{pathname:l="/",search:f="",hash:h="",state:m=null,key:b="default"}=r,A=xe.useMemo(()=>{let T=I9(l,u);return T==null?null:{location:{pathname:T,search:f,hash:h,state:m,key:b},navigationType:i}},[u,l,f,h,m,b,i]);return A==null?null:xe.createElement(Ag.Provider,{value:c},xe.createElement(gw.Provider,{children:n,value:A}))}function ube(t){let{children:e,location:n}=t;return Gne(gA(e),n)}new Promise(()=>{});function gA(t,e){e===void 0&&(e=[]);let n=[];return xe.Children.forEach(t,(r,i)=>{if(!xe.isValidElement(r))return;let s=[...e,i];if(r.type===xe.Fragment){n.push.apply(n,gA(r.props.children,s));return}r.type!==are&&$n(!1),!r.props.index||!r.props.children||$n(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gA(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const cre="6";try{window.__reactRouterVersion=cre}catch{}const lre="startTransition",Wx=BU[lre];function cbe(t){let{basename:e,children:n,future:r,window:i}=t,s=xe.useRef();s.current==null&&(s.current=vne({window:i,v5Compat:!0}));let o=s.current,[a,u]=xe.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},l=xe.useCallback(f=>{c&&Wx?Wx(()=>u(f)):u(f)},[u,c]);return xe.useLayoutEffect(()=>o.listen(l),[o,l]),xe.useEffect(()=>ore(r),[r]),xe.createElement(ure,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var Gx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gx||(Gx={}));var Kx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Kx||(Kx={}));var Qx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fre=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},L9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;u||(m=64,o||(h=64)),r.push(n[l],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(N9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fre(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new hre;const h=s<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const b=c<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dre=function(t){const e=N9(t);return L9.encodeByteArray(e,!0)},J1=function(t){return dre(t).replace(/\./g,"")},pre=function(t){try{return L9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gre(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mre=()=>gre().__FIREBASE_DEFAULTS__,yre=()=>{if(typeof process>"u"||typeof Qx>"u")return;const t=Qx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vre=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pre(t[1]);return e&&JSON.parse(e)},s5=()=>{try{return mre()||yre()||vre()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wre=t=>{var e,n;return(n=(e=s5())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_re=t=>{const e=wre(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},B9=()=>{var t;return(t=s5())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bre{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ere(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[J1(JSON.stringify(n)),J1(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Are(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Sre(){var t;const e=(t=s5())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cre(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ire(){return!Sre()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F9(){try{return typeof indexedDB=="object"}catch{return!1}}function $9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function xre(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tre="FirebaseError";class Wu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Tre,Object.setPrototypeOf(this,Wu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mw.prototype.create)}}class mw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Rre(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Wu(i,a,r)}}function Rre(t,e){return t.replace(kre,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kre=/\{\$([^}]+)}/g;function Np(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Zx(s)&&Zx(o)){if(!Np(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Zx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pre=1e3,Mre=2,Dre=4*60*60*1e3,Ore=.5;function Jx(t,e=Pre,n=Mre){const r=e*Math.pow(n,t),i=Math.round(Ore*r*(Math.random()-.5)*2);return Math.min(Dre,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t){return t&&t._delegate?t._delegate:t}class _a{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nre{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bre;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bre(e))try{this.getOrInitializeService({instanceIdentifier:pc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=pc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pc){return this.instances.has(e)}getOptions(e=pc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Lre(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pc){return this.component?this.component.multipleInstances?e:pc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lre(t){return t===pc?void 0:t}function Bre(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fre{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Nre(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Bt||(Bt={}));const $re={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},Ure=Bt.INFO,jre={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},Vre=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=jre[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class o5{constructor(e){this.name=e,this._logLevel=Ure,this._logHandler=Vre,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$re[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const zre=(t,e)=>e.some(n=>t instanceof n);let Yx,Xx;function Hre(){return Yx||(Yx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qre(){return Xx||(Xx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U9=new WeakMap,mA=new WeakMap,j9=new WeakMap,m2=new WeakMap,a5=new WeakMap;function Wre(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(_u(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&U9.set(n,t)}).catch(()=>{}),a5.set(e,t),e}function Gre(t){if(mA.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});mA.set(t,e)}let yA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||j9.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _u(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Kre(t){yA=t(yA)}function Qre(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(y2(this),e,...n);return j9.set(r,e.sort?e.sort():[e]),_u(r)}:qre().includes(t)?function(...e){return t.apply(y2(this),e),_u(U9.get(this))}:function(...e){return _u(t.apply(y2(this),e))}}function Zre(t){return typeof t=="function"?Qre(t):(t instanceof IDBTransaction&&Gre(t),zre(t,Hre())?new Proxy(t,yA):t)}function _u(t){if(t instanceof IDBRequest)return Wre(t);if(m2.has(t))return m2.get(t);const e=Zre(t);return e!==t&&(m2.set(t,e),a5.set(e,t)),e}const y2=t=>a5.get(t);function V9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=_u(o);return r&&o.addEventListener("upgradeneeded",u=>{r(_u(o.result),u.oldVersion,u.newVersion,_u(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Jre=["get","getKey","getAll","getAllKeys","count"],Yre=["put","add","delete","clear"],v2=new Map;function eT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(v2.get(e))return v2.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Yre.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Jre.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return v2.set(e,s),s}Kre(t=>({...t,get:(e,n,r)=>eT(e,n)||t.get(e,n,r),has:(e,n)=>!!eT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xre{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eie(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eie(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vA="@firebase/app",tT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new o5("@firebase/app"),tie="@firebase/app-compat",nie="@firebase/analytics-compat",rie="@firebase/analytics",iie="@firebase/app-check-compat",sie="@firebase/app-check",oie="@firebase/auth",aie="@firebase/auth-compat",uie="@firebase/database",cie="@firebase/data-connect",lie="@firebase/database-compat",fie="@firebase/functions",hie="@firebase/functions-compat",die="@firebase/installations",pie="@firebase/installations-compat",gie="@firebase/messaging",mie="@firebase/messaging-compat",yie="@firebase/performance",vie="@firebase/performance-compat",wie="@firebase/remote-config",_ie="@firebase/remote-config-compat",bie="@firebase/storage",Eie="@firebase/storage-compat",Aie="@firebase/firestore",Sie="@firebase/vertexai-preview",Cie="@firebase/firestore-compat",Iie="firebase",xie="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="[DEFAULT]",Tie={[vA]:"fire-core",[tie]:"fire-core-compat",[rie]:"fire-analytics",[nie]:"fire-analytics-compat",[sie]:"fire-app-check",[iie]:"fire-app-check-compat",[oie]:"fire-auth",[aie]:"fire-auth-compat",[uie]:"fire-rtdb",[cie]:"fire-data-connect",[lie]:"fire-rtdb-compat",[fie]:"fire-fn",[hie]:"fire-fn-compat",[die]:"fire-iid",[pie]:"fire-iid-compat",[gie]:"fire-fcm",[mie]:"fire-fcm-compat",[yie]:"fire-perf",[vie]:"fire-perf-compat",[wie]:"fire-rc",[_ie]:"fire-rc-compat",[bie]:"fire-gcs",[Eie]:"fire-gcs-compat",[Aie]:"fire-fst",[Cie]:"fire-fst-compat",[Sie]:"fire-vertex","fire-js":"fire-js",[Iie]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new Map,Rie=new Map,_A=new Map;function nT(t,e){try{t.container.addComponent(e)}catch(n){ba.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mu(t){const e=t.name;if(_A.has(e))return ba.debug(`There were multiple attempts to register component ${e}.`),!1;_A.set(e,t);for(const n of Y1.values())nT(n,t);for(const n of Rie.values())nT(n,t);return!0}function Cg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kie={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bu=new mw("app","Firebase",kie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mie=xie;function Die(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wA,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw bu.create("bad-app-name",{appName:String(i)});if(n||(n=B9()),!n)throw bu.create("no-options");const s=Y1.get(i);if(s){if(Np(n,s.options)&&Np(r,s.config))return s;throw bu.create("duplicate-app",{appName:i})}const o=new Fre(i);for(const u of _A.values())o.addComponent(u);const a=new Pie(n,r,o);return Y1.set(i,a),a}function z9(t=wA){const e=Y1.get(t);if(!e&&t===wA&&B9())return Die();if(!e)throw bu.create("no-app",{appName:t});return e}function Ro(t,e,n){var r;let i=(r=Tie[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ba.warn(a.join(" "));return}Mu(new _a(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oie="firebase-heartbeat-database",Nie=1,Lp="firebase-heartbeat-store";let w2=null;function H9(){return w2||(w2=V9(Oie,Nie,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lp)}catch(n){console.warn(n)}}}}).catch(t=>{throw bu.create("idb-open",{originalErrorMessage:t.message})})),w2}async function Lie(t){try{const n=(await H9()).transaction(Lp),r=await n.objectStore(Lp).get(q9(t));return await n.done,r}catch(e){if(e instanceof Wu)ba.warn(e.message);else{const n=bu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ba.warn(n.message)}}}async function rT(t,e){try{const r=(await H9()).transaction(Lp,"readwrite");await r.objectStore(Lp).put(e,q9(t)),await r.done}catch(n){if(n instanceof Wu)ba.warn(n.message);else{const r=bu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ba.warn(r.message)}}}function q9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bie=1024,Fie=30*24*60*60*1e3;class $ie{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jie(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Fie}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ba.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iT(),{heartbeatsToSend:r,unsentEntries:i}=Uie(this._heartbeatsCache.heartbeats),s=J1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ba.warn(n),""}}}function iT(){return new Date().toISOString().substring(0,10)}function Uie(t,e=Bie){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),sT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F9()?$9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Lie(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sT(t){return J1(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vie(t){Mu(new _a("platform-logger",e=>new Xre(e),"PRIVATE")),Mu(new _a("heartbeat",e=>new $ie(e),"PRIVATE")),Ro(vA,tT,t),Ro(vA,tT,"esm2017"),Ro("fire-js","")}Vie("");var zie="firebase",Hie="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ro(zie,Hie,"app");const W9="@firebase/installations",u5="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=1e4,K9=`w:${u5}`,Q9="FIS_v2",qie="https://firebaseinstallations.googleapis.com/v1",Wie=60*60*1e3,Gie="installations",Kie="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qie={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},hl=new mw(Gie,Kie,Qie);function Z9(t){return t instanceof Wu&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9({projectId:t}){return`${qie}/projects/${t}/installations`}function Y9(t){return{token:t.token,requestStatus:2,expiresIn:Jie(t.expiresIn),creationTime:Date.now()}}async function X9(t,e){const r=(await e.json()).error;return hl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function eL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Zie(t,{refreshToken:e}){const n=eL(t);return n.append("Authorization",Yie(e)),n}async function tL(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Jie(t){return Number(t.replace("s","000"))}function Yie(t){return`${Q9} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xie({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=J9(t),i=eL(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Q9,appId:t.appId,sdkVersion:K9},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await tL(()=>fetch(r,a));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Y9(c.authToken)}}else throw await X9("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ese(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tse=/^[cdef][\w-]{21}$/,bA="";function nse(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=rse(t);return tse.test(n)?n:bA}catch{return bA}}function rse(t){return ese(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=new Map;function iL(t,e){const n=yw(t);sL(n,e),ise(n,e)}function sL(t,e){const n=rL.get(t);if(n)for(const r of n)r(e)}function ise(t,e){const n=sse();n&&n.postMessage({key:t,fid:e}),ose()}let Tc=null;function sse(){return!Tc&&"BroadcastChannel"in self&&(Tc=new BroadcastChannel("[Firebase] FID Change"),Tc.onmessage=t=>{sL(t.data.key,t.data.fid)}),Tc}function ose(){rL.size===0&&Tc&&(Tc.close(),Tc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ase="firebase-installations-database",use=1,dl="firebase-installations-store";let _2=null;function c5(){return _2||(_2=V9(ase,use,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(dl)}}})),_2}async function X1(t,e){const n=yw(t),i=(await c5()).transaction(dl,"readwrite"),s=i.objectStore(dl),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&iL(t,e.fid),e}async function oL(t){const e=yw(t),r=(await c5()).transaction(dl,"readwrite");await r.objectStore(dl).delete(e),await r.done}async function vw(t,e){const n=yw(t),i=(await c5()).transaction(dl,"readwrite"),s=i.objectStore(dl),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&iL(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(t){let e;const n=await vw(t.appConfig,r=>{const i=cse(r),s=lse(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===bA?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function cse(t){const e=t||{fid:nse(),registrationStatus:0};return aL(e)}function lse(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(hl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=fse(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:hse(t)}:{installationEntry:e}}async function fse(t,e){try{const n=await Xie(t,e);return X1(t.appConfig,n)}catch(n){throw Z9(n)&&n.customData.serverCode===409?await oL(t.appConfig):await X1(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function hse(t){let e=await oT(t.appConfig);for(;e.registrationStatus===1;)await nL(100),e=await oT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await l5(t);return r||n}return e}function oT(t){return vw(t,e=>{if(!e)throw hl.create("installation-not-found");return aL(e)})}function aL(t){return dse(t)?{fid:t.fid,registrationStatus:0}:t}function dse(t){return t.registrationStatus===1&&t.registrationTime+G9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pse({appConfig:t,heartbeatServiceProvider:e},n){const r=gse(t,n),i=Zie(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:K9,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await tL(()=>fetch(r,a));if(u.ok){const c=await u.json();return Y9(c)}else throw await X9("Generate Auth Token",u)}function gse(t,{fid:e}){return`${J9(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(t,e=!1){let n;const r=await vw(t.appConfig,s=>{if(!uL(s))throw hl.create("not-registered");const o=s.authToken;if(!e&&vse(o))return s;if(o.requestStatus===1)return n=mse(t,e),s;{if(!navigator.onLine)throw hl.create("app-offline");const a=_se(s);return n=yse(t,a),a}});return n?await n:r.authToken}async function mse(t,e){let n=await aT(t.appConfig);for(;n.authToken.requestStatus===1;)await nL(100),n=await aT(t.appConfig);const r=n.authToken;return r.requestStatus===0?f5(t,e):r}function aT(t){return vw(t,e=>{if(!uL(e))throw hl.create("not-registered");const n=e.authToken;return bse(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function yse(t,e){try{const n=await pse(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await X1(t.appConfig,r),n}catch(n){if(Z9(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await oL(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await X1(t.appConfig,r)}throw n}}function uL(t){return t!==void 0&&t.registrationStatus===2}function vse(t){return t.requestStatus===2&&!wse(t)}function wse(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Wie}function _se(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function bse(t){return t.requestStatus===1&&t.requestTime+G9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ese(t){const e=t,{installationEntry:n,registrationPromise:r}=await l5(e);return r?r.catch(console.error):f5(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ase(t,e=!1){const n=t;return await Sse(n),(await f5(n,e)).token}async function Sse(t){const{registrationPromise:e}=await l5(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cse(t){if(!t||!t.options)throw b2("App Configuration");if(!t.name)throw b2("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw b2(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function b2(t){return hl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="installations",Ise="installations-internal",xse=t=>{const e=t.getProvider("app").getImmediate(),n=Cse(e),r=Cg(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Tse=t=>{const e=t.getProvider("app").getImmediate(),n=Cg(e,cL).getImmediate();return{getId:()=>Ese(n),getToken:i=>Ase(n,i)}};function Rse(){Mu(new _a(cL,xse,"PUBLIC")),Mu(new _a(Ise,Tse,"PRIVATE"))}Rse();Ro(W9,u5);Ro(W9,u5,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="analytics",kse="firebase_id",Pse="origin",Mse=60*1e3,Dse="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",h5="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new o5("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ose={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Di=new mw("analytics","Analytics",Ose);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nse(t){if(!t.startsWith(h5)){const e=Di.create("invalid-gtag-resource",{gtagURL:t});return gi.warn(e.message),""}return t}function lL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Lse(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Bse(t,e){const n=Lse("firebase-js-sdk-policy",{createScriptURL:Nse}),r=document.createElement("script"),i=`${h5}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Fse(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function $se(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const u=(await lL(n)).find(c=>c.measurementId===i);u&&await e[u.appId]}}catch(a){gi.error(a)}t("config",i,s)}async function Use(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await lL(n);for(const u of o){const c=a.find(f=>f.measurementId===u),l=c&&e[c.appId];if(l)s.push(l);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){gi.error(s)}}function jse(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,u]=o;await Use(t,e,n,a,u)}else if(s==="config"){const[a,u]=o;await $se(t,e,n,r,a,u)}else if(s==="consent"){const[a,u]=o;t("consent",a,u)}else if(s==="get"){const[a,u,c]=o;t("get",a,u,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){gi.error(a)}}return i}function Vse(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=jse(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function zse(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(h5)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hse=30,qse=1e3;class Wse{constructor(e={},n=qse){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const fL=new Wse;function Gse(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Kse(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Gse(r)},s=Dse.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw Di.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Qse(t,e=fL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Di.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Di.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Yse;return setTimeout(async()=>{a.abort()},Mse),hL({appId:r,apiKey:i,measurementId:s},o,a,e)}async function hL(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=fL){var s;const{appId:o,measurementId:a}=t;try{await Zse(r,e)}catch(u){if(a)return gi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=await Kse(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!Jse(c)){if(i.deleteThrottleMetadata(o),a)return gi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw u}const l=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?Jx(n,i.intervalMillis,Hse):Jx(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,f),gi.debug(`Calling attemptFetch again in ${l} millis`),hL(t,f,r,i)}}function Zse(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Di.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Jse(t){if(!(t instanceof Wu)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Yse{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Xse(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eoe(){if(F9())try{await $9()}catch(t){return gi.warn(Di.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return gi.warn(Di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function toe(t,e,n,r,i,s,o){var a;const u=Qse(t);u.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&gi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>gi.error(m)),e.push(u);const c=eoe().then(m=>{if(m)return r.getId()}),[l,f]=await Promise.all([u,c]);zse(s)||Bse(s,l.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[Pse]="firebase",h.update=!0,f!=null&&(h[kse]=f),i("config",l.measurementId,h),l.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class noe{constructor(e){this.app=e}_delete(){return delete m0[this.app.options.appId],Promise.resolve()}}let m0={},uT=[];const cT={};let E2="dataLayer",roe="gtag",lT,dL,fT=!1;function ioe(){const t=[];if(Cre()&&t.push("This is a browser extension environment."),xre()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Di.create("invalid-analytics-context",{errorInfo:e});gi.warn(n.message)}}function soe(t,e,n){ioe();const r=t.options.appId;if(!r)throw Di.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)gi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Di.create("no-api-key");if(m0[r]!=null)throw Di.create("already-exists",{id:r});if(!fT){Fse(E2);const{wrappedGtag:s,gtagCore:o}=Vse(m0,uT,cT,E2,roe);dL=s,lT=o,fT=!0}return m0[r]=toe(t,uT,cT,e,lT,E2,n),new noe(t)}function lbe(t=z9()){t=ys(t);const e=Cg(t,ev);return e.isInitialized()?e.getImmediate():ooe(t)}function ooe(t,e={}){const n=Cg(t,ev);if(n.isInitialized()){const i=n.getImmediate();if(Np(e,n.getOptions()))return i;throw Di.create("already-initialized")}return n.initialize({options:e})}function aoe(t,e,n,r){t=ys(t),Xse(dL,m0[t.app.options.appId],e,n,r).catch(i=>gi.error(i))}const hT="@firebase/analytics",dT="0.10.8";function uoe(){Mu(new _a(ev,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return soe(r,i,n)},"PUBLIC")),Mu(new _a("analytics-internal",t,"PRIVATE")),Ro(hT,dT),Ro(hT,dT,"esm2017");function t(e){try{const n=e.getProvider(ev).getImmediate();return{logEvent:(r,i,s)=>aoe(n,r,i,s)}}catch(n){throw Di.create("interop-component-reg-failed",{reason:n})}}}uoe();var pT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gc,pL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,y){function S(){}S.prototype=y.prototype,v.D=y.prototype,v.prototype=new S,v.prototype.constructor=v,v.C=function(k,L,z){for(var x=Array(arguments.length-2),g=2;g<arguments.length;g++)x[g-2]=arguments[g];return y.prototype[L].apply(k,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(v,y,S){S||(S=0);var k=Array(16);if(typeof y=="string")for(var L=0;16>L;++L)k[L]=y.charCodeAt(S++)|y.charCodeAt(S++)<<8|y.charCodeAt(S++)<<16|y.charCodeAt(S++)<<24;else for(L=0;16>L;++L)k[L]=y[S++]|y[S++]<<8|y[S++]<<16|y[S++]<<24;y=v.g[0],S=v.g[1],L=v.g[2];var z=v.g[3],x=y+(z^S&(L^z))+k[0]+3614090360&4294967295;y=S+(x<<7&4294967295|x>>>25),x=z+(L^y&(S^L))+k[1]+3905402710&4294967295,z=y+(x<<12&4294967295|x>>>20),x=L+(S^z&(y^S))+k[2]+606105819&4294967295,L=z+(x<<17&4294967295|x>>>15),x=S+(y^L&(z^y))+k[3]+3250441966&4294967295,S=L+(x<<22&4294967295|x>>>10),x=y+(z^S&(L^z))+k[4]+4118548399&4294967295,y=S+(x<<7&4294967295|x>>>25),x=z+(L^y&(S^L))+k[5]+1200080426&4294967295,z=y+(x<<12&4294967295|x>>>20),x=L+(S^z&(y^S))+k[6]+2821735955&4294967295,L=z+(x<<17&4294967295|x>>>15),x=S+(y^L&(z^y))+k[7]+4249261313&4294967295,S=L+(x<<22&4294967295|x>>>10),x=y+(z^S&(L^z))+k[8]+1770035416&4294967295,y=S+(x<<7&4294967295|x>>>25),x=z+(L^y&(S^L))+k[9]+2336552879&4294967295,z=y+(x<<12&4294967295|x>>>20),x=L+(S^z&(y^S))+k[10]+4294925233&4294967295,L=z+(x<<17&4294967295|x>>>15),x=S+(y^L&(z^y))+k[11]+2304563134&4294967295,S=L+(x<<22&4294967295|x>>>10),x=y+(z^S&(L^z))+k[12]+1804603682&4294967295,y=S+(x<<7&4294967295|x>>>25),x=z+(L^y&(S^L))+k[13]+4254626195&4294967295,z=y+(x<<12&4294967295|x>>>20),x=L+(S^z&(y^S))+k[14]+2792965006&4294967295,L=z+(x<<17&4294967295|x>>>15),x=S+(y^L&(z^y))+k[15]+1236535329&4294967295,S=L+(x<<22&4294967295|x>>>10),x=y+(L^z&(S^L))+k[1]+4129170786&4294967295,y=S+(x<<5&4294967295|x>>>27),x=z+(S^L&(y^S))+k[6]+3225465664&4294967295,z=y+(x<<9&4294967295|x>>>23),x=L+(y^S&(z^y))+k[11]+643717713&4294967295,L=z+(x<<14&4294967295|x>>>18),x=S+(z^y&(L^z))+k[0]+3921069994&4294967295,S=L+(x<<20&4294967295|x>>>12),x=y+(L^z&(S^L))+k[5]+3593408605&4294967295,y=S+(x<<5&4294967295|x>>>27),x=z+(S^L&(y^S))+k[10]+38016083&4294967295,z=y+(x<<9&4294967295|x>>>23),x=L+(y^S&(z^y))+k[15]+3634488961&4294967295,L=z+(x<<14&4294967295|x>>>18),x=S+(z^y&(L^z))+k[4]+3889429448&4294967295,S=L+(x<<20&4294967295|x>>>12),x=y+(L^z&(S^L))+k[9]+568446438&4294967295,y=S+(x<<5&4294967295|x>>>27),x=z+(S^L&(y^S))+k[14]+3275163606&4294967295,z=y+(x<<9&4294967295|x>>>23),x=L+(y^S&(z^y))+k[3]+4107603335&4294967295,L=z+(x<<14&4294967295|x>>>18),x=S+(z^y&(L^z))+k[8]+1163531501&4294967295,S=L+(x<<20&4294967295|x>>>12),x=y+(L^z&(S^L))+k[13]+2850285829&4294967295,y=S+(x<<5&4294967295|x>>>27),x=z+(S^L&(y^S))+k[2]+4243563512&4294967295,z=y+(x<<9&4294967295|x>>>23),x=L+(y^S&(z^y))+k[7]+1735328473&4294967295,L=z+(x<<14&4294967295|x>>>18),x=S+(z^y&(L^z))+k[12]+2368359562&4294967295,S=L+(x<<20&4294967295|x>>>12),x=y+(S^L^z)+k[5]+4294588738&4294967295,y=S+(x<<4&4294967295|x>>>28),x=z+(y^S^L)+k[8]+2272392833&4294967295,z=y+(x<<11&4294967295|x>>>21),x=L+(z^y^S)+k[11]+1839030562&4294967295,L=z+(x<<16&4294967295|x>>>16),x=S+(L^z^y)+k[14]+4259657740&4294967295,S=L+(x<<23&4294967295|x>>>9),x=y+(S^L^z)+k[1]+2763975236&4294967295,y=S+(x<<4&4294967295|x>>>28),x=z+(y^S^L)+k[4]+1272893353&4294967295,z=y+(x<<11&4294967295|x>>>21),x=L+(z^y^S)+k[7]+4139469664&4294967295,L=z+(x<<16&4294967295|x>>>16),x=S+(L^z^y)+k[10]+3200236656&4294967295,S=L+(x<<23&4294967295|x>>>9),x=y+(S^L^z)+k[13]+681279174&4294967295,y=S+(x<<4&4294967295|x>>>28),x=z+(y^S^L)+k[0]+3936430074&4294967295,z=y+(x<<11&4294967295|x>>>21),x=L+(z^y^S)+k[3]+3572445317&4294967295,L=z+(x<<16&4294967295|x>>>16),x=S+(L^z^y)+k[6]+76029189&4294967295,S=L+(x<<23&4294967295|x>>>9),x=y+(S^L^z)+k[9]+3654602809&4294967295,y=S+(x<<4&4294967295|x>>>28),x=z+(y^S^L)+k[12]+3873151461&4294967295,z=y+(x<<11&4294967295|x>>>21),x=L+(z^y^S)+k[15]+530742520&4294967295,L=z+(x<<16&4294967295|x>>>16),x=S+(L^z^y)+k[2]+3299628645&4294967295,S=L+(x<<23&4294967295|x>>>9),x=y+(L^(S|~z))+k[0]+4096336452&4294967295,y=S+(x<<6&4294967295|x>>>26),x=z+(S^(y|~L))+k[7]+1126891415&4294967295,z=y+(x<<10&4294967295|x>>>22),x=L+(y^(z|~S))+k[14]+2878612391&4294967295,L=z+(x<<15&4294967295|x>>>17),x=S+(z^(L|~y))+k[5]+4237533241&4294967295,S=L+(x<<21&4294967295|x>>>11),x=y+(L^(S|~z))+k[12]+1700485571&4294967295,y=S+(x<<6&4294967295|x>>>26),x=z+(S^(y|~L))+k[3]+2399980690&4294967295,z=y+(x<<10&4294967295|x>>>22),x=L+(y^(z|~S))+k[10]+4293915773&4294967295,L=z+(x<<15&4294967295|x>>>17),x=S+(z^(L|~y))+k[1]+2240044497&4294967295,S=L+(x<<21&4294967295|x>>>11),x=y+(L^(S|~z))+k[8]+1873313359&4294967295,y=S+(x<<6&4294967295|x>>>26),x=z+(S^(y|~L))+k[15]+4264355552&4294967295,z=y+(x<<10&4294967295|x>>>22),x=L+(y^(z|~S))+k[6]+2734768916&4294967295,L=z+(x<<15&4294967295|x>>>17),x=S+(z^(L|~y))+k[13]+1309151649&4294967295,S=L+(x<<21&4294967295|x>>>11),x=y+(L^(S|~z))+k[4]+4149444226&4294967295,y=S+(x<<6&4294967295|x>>>26),x=z+(S^(y|~L))+k[11]+3174756917&4294967295,z=y+(x<<10&4294967295|x>>>22),x=L+(y^(z|~S))+k[2]+718787259&4294967295,L=z+(x<<15&4294967295|x>>>17),x=S+(z^(L|~y))+k[9]+3951481745&4294967295,v.g[0]=v.g[0]+y&4294967295,v.g[1]=v.g[1]+(L+(x<<21&4294967295|x>>>11))&4294967295,v.g[2]=v.g[2]+L&4294967295,v.g[3]=v.g[3]+z&4294967295}r.prototype.u=function(v,y){y===void 0&&(y=v.length);for(var S=y-this.blockSize,k=this.B,L=this.h,z=0;z<y;){if(L==0)for(;z<=S;)i(this,v,z),z+=this.blockSize;if(typeof v=="string"){for(;z<y;)if(k[L++]=v.charCodeAt(z++),L==this.blockSize){i(this,k),L=0;break}}else for(;z<y;)if(k[L++]=v[z++],L==this.blockSize){i(this,k),L=0;break}}this.h=L,this.o+=y},r.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var y=1;y<v.length-8;++y)v[y]=0;var S=8*this.o;for(y=v.length-8;y<v.length;++y)v[y]=S&255,S/=256;for(this.u(v),v=Array(16),y=S=0;4>y;++y)for(var k=0;32>k;k+=8)v[S++]=this.g[y]>>>k&255;return v};function s(v,y){var S=a;return Object.prototype.hasOwnProperty.call(S,v)?S[v]:S[v]=y(v)}function o(v,y){this.h=y;for(var S=[],k=!0,L=v.length-1;0<=L;L--){var z=v[L]|0;k&&z==y||(S[L]=z,k=!1)}this.g=S}var a={};function u(v){return-128<=v&&128>v?s(v,function(y){return new o([y|0],0>y?-1:0)}):new o([v|0],0>v?-1:0)}function c(v){if(isNaN(v)||!isFinite(v))return f;if(0>v)return T(c(-v));for(var y=[],S=1,k=0;v>=S;k++)y[k]=v/S|0,S*=4294967296;return new o(y,0)}function l(v,y){if(v.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(v.charAt(0)=="-")return T(l(v.substring(1),y));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(y,8)),k=f,L=0;L<v.length;L+=8){var z=Math.min(8,v.length-L),x=parseInt(v.substring(L,L+z),y);8>z?(z=c(Math.pow(y,z)),k=k.j(z).add(c(x))):(k=k.j(S),k=k.add(c(x)))}return k}var f=u(0),h=u(1),m=u(16777216);t=o.prototype,t.m=function(){if(A(this))return-T(this).m();for(var v=0,y=1,S=0;S<this.g.length;S++){var k=this.i(S);v+=(0<=k?k:4294967296+k)*y,y*=4294967296}return v},t.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(b(this))return"0";if(A(this))return"-"+T(this).toString(v);for(var y=c(Math.pow(v,6)),S=this,k="";;){var L=M(S,y).g;S=_(S,L.j(y));var z=((0<S.g.length?S.g[0]:S.h)>>>0).toString(v);if(S=L,b(S))return z+k;for(;6>z.length;)z="0"+z;k=z+k}},t.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function b(v){if(v.h!=0)return!1;for(var y=0;y<v.g.length;y++)if(v.g[y]!=0)return!1;return!0}function A(v){return v.h==-1}t.l=function(v){return v=_(this,v),A(v)?-1:b(v)?0:1};function T(v){for(var y=v.g.length,S=[],k=0;k<y;k++)S[k]=~v.g[k];return new o(S,~v.h).add(h)}t.abs=function(){return A(this)?T(this):this},t.add=function(v){for(var y=Math.max(this.g.length,v.g.length),S=[],k=0,L=0;L<=y;L++){var z=k+(this.i(L)&65535)+(v.i(L)&65535),x=(z>>>16)+(this.i(L)>>>16)+(v.i(L)>>>16);k=x>>>16,z&=65535,x&=65535,S[L]=x<<16|z}return new o(S,S[S.length-1]&-2147483648?-1:0)};function _(v,y){return v.add(T(y))}t.j=function(v){if(b(this)||b(v))return f;if(A(this))return A(v)?T(this).j(T(v)):T(T(this).j(v));if(A(v))return T(this.j(T(v)));if(0>this.l(m)&&0>v.l(m))return c(this.m()*v.m());for(var y=this.g.length+v.g.length,S=[],k=0;k<2*y;k++)S[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<v.g.length;L++){var z=this.i(k)>>>16,x=this.i(k)&65535,g=v.i(L)>>>16,d=v.i(L)&65535;S[2*k+2*L]+=x*d,w(S,2*k+2*L),S[2*k+2*L+1]+=z*d,w(S,2*k+2*L+1),S[2*k+2*L+1]+=x*g,w(S,2*k+2*L+1),S[2*k+2*L+2]+=z*g,w(S,2*k+2*L+2)}for(k=0;k<y;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=y;k<2*y;k++)S[k]=0;return new o(S,0)};function w(v,y){for(;(v[y]&65535)!=v[y];)v[y+1]+=v[y]>>>16,v[y]&=65535,y++}function C(v,y){this.g=v,this.h=y}function M(v,y){if(b(y))throw Error("division by zero");if(b(v))return new C(f,f);if(A(v))return y=M(T(v),y),new C(T(y.g),T(y.h));if(A(y))return y=M(v,T(y)),new C(T(y.g),y.h);if(30<v.g.length){if(A(v)||A(y))throw Error("slowDivide_ only works with positive integers.");for(var S=h,k=y;0>=k.l(v);)S=N(S),k=N(k);var L=U(S,1),z=U(k,1);for(k=U(k,2),S=U(S,2);!b(k);){var x=z.add(k);0>=x.l(v)&&(L=L.add(S),z=x),k=U(k,1),S=U(S,1)}return y=_(v,L.j(y)),new C(L,y)}for(L=f;0<=v.l(y);){for(S=Math.max(1,Math.floor(v.m()/y.m())),k=Math.ceil(Math.log(S)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),z=c(S),x=z.j(y);A(x)||0<x.l(v);)S-=k,z=c(S),x=z.j(y);b(z)&&(z=h),L=L.add(z),v=_(v,x)}return new C(L,v)}t.A=function(v){return M(this,v).h},t.and=function(v){for(var y=Math.max(this.g.length,v.g.length),S=[],k=0;k<y;k++)S[k]=this.i(k)&v.i(k);return new o(S,this.h&v.h)},t.or=function(v){for(var y=Math.max(this.g.length,v.g.length),S=[],k=0;k<y;k++)S[k]=this.i(k)|v.i(k);return new o(S,this.h|v.h)},t.xor=function(v){for(var y=Math.max(this.g.length,v.g.length),S=[],k=0;k<y;k++)S[k]=this.i(k)^v.i(k);return new o(S,this.h^v.h)};function N(v){for(var y=v.g.length+1,S=[],k=0;k<y;k++)S[k]=v.i(k)<<1|v.i(k-1)>>>31;return new o(S,v.h)}function U(v,y){var S=y>>5;y%=32;for(var k=v.g.length-S,L=[],z=0;z<k;z++)L[z]=0<y?v.i(z+S)>>>y|v.i(z+S+1)<<32-y:v.i(z+S);return new o(L,v.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pL=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=l,Gc=o}).apply(typeof pT<"u"?pT:typeof self<"u"?self:typeof window<"u"?window:{});var Xm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gL,Jd,mL,qy,EA,yL,vL,wL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,O,q){return p==Array.prototype||p==Object.prototype||(p[O]=q.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xm=="object"&&Xm];for(var O=0;O<p.length;++O){var q=p[O];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var r=n(this);function i(p,O){if(O)e:{var q=r;p=p.split(".");for(var J=0;J<p.length-1;J++){var le=p[J];if(!(le in q))break e;q=q[le]}p=p[p.length-1],J=q[p],O=O(J),O!=J&&O!=null&&e(q,p,{configurable:!0,writable:!0,value:O})}}function s(p,O){p instanceof String&&(p+="");var q=0,J=!1,le={next:function(){if(!J&&q<p.length){var he=q++;return{value:O(he,p[he]),done:!1}}return J=!0,{done:!0,value:void 0}}};return le[Symbol.iterator]=function(){return le},le}i("Array.prototype.values",function(p){return p||function(){return s(this,function(O,q){return q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(p){var O=typeof p;return O=O!="object"?O:p?Array.isArray(p)?"array":O:"null",O=="array"||O=="object"&&typeof p.length=="number"}function c(p){var O=typeof p;return O=="object"&&p!=null||O=="function"}function l(p,O,q){return p.call.apply(p.bind,arguments)}function f(p,O,q){if(!p)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(le,J),p.apply(O,le)}}return function(){return p.apply(O,arguments)}}function h(p,O,q){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?l:f,h.apply(null,arguments)}function m(p,O){var q=Array.prototype.slice.call(arguments,1);return function(){var J=q.slice();return J.push.apply(J,arguments),p.apply(this,J)}}function b(p,O){function q(){}q.prototype=O.prototype,p.aa=O.prototype,p.prototype=new q,p.prototype.constructor=p,p.Qb=function(J,le,he){for(var Se=Array(arguments.length-2),nn=2;nn<arguments.length;nn++)Se[nn-2]=arguments[nn];return O.prototype[le].apply(J,Se)}}function A(p){const O=p.length;if(0<O){const q=Array(O);for(let J=0;J<O;J++)q[J]=p[J];return q}return[]}function T(p,O){for(let q=1;q<arguments.length;q++){const J=arguments[q];if(u(J)){const le=p.length||0,he=J.length||0;p.length=le+he;for(let Se=0;Se<he;Se++)p[le+Se]=J[Se]}else p.push(J)}}class _{constructor(O,q){this.i=O,this.j=q,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function w(p){return/^[\s\xa0]*$/.test(p)}function C(){var p=a.navigator;return p&&(p=p.userAgent)?p:""}function M(p){return M[" "](p),p}M[" "]=function(){};var N=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function U(p,O,q){for(const J in p)O.call(q,p[J],J,p)}function v(p,O){for(const q in p)O.call(void 0,p[q],q,p)}function y(p){const O={};for(const q in p)O[q]=p[q];return O}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(p,O){let q,J;for(let le=1;le<arguments.length;le++){J=arguments[le];for(q in J)p[q]=J[q];for(let he=0;he<S.length;he++)q=S[he],Object.prototype.hasOwnProperty.call(J,q)&&(p[q]=J[q])}}function L(p){var O=1;p=p.split(":");const q=[];for(;0<O&&p.length;)q.push(p.shift()),O--;return p.length&&q.push(p.join(":")),q}function z(p){a.setTimeout(()=>{throw p},0)}function x(){var p=F;let O=null;return p.g&&(O=p.g,p.g=p.g.next,p.g||(p.h=null),O.next=null),O}class g{constructor(){this.h=this.g=null}add(O,q){const J=d.get();J.set(O,q),this.h?this.h.next=J:this.g=J,this.h=J}}var d=new _(()=>new E,p=>p.reset());class E{constructor(){this.next=this.g=this.h=null}set(O,q){this.h=O,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let P,I=!1,F=new g,H=()=>{const p=a.Promise.resolve(void 0);P=()=>{p.then(V)}};var V=()=>{for(var p;p=x();){try{p.h.call(p.g)}catch(q){z(q)}var O=d;O.j(p),100>O.h&&(O.h++,p.next=O.g,O.g=p)}I=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(p,O){this.type=p,this.g=this.target=O,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,O=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const q=()=>{};a.addEventListener("test",q,O),a.removeEventListener("test",q,O)}catch{}return p}();function re(p,O){if(W.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var q=this.type=p.type,J=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=O,O=p.relatedTarget){if(N){e:{try{M(O.nodeName);var le=!0;break e}catch{}le=!1}le||(O=null)}}else q=="mouseover"?O=p.fromElement:q=="mouseout"&&(O=p.toElement);this.relatedTarget=O,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:X[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&re.aa.h.call(this)}}b(re,W);var X={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),Y=0;function ee(p,O,q,J,le){this.listener=p,this.proxy=null,this.src=O,this.type=q,this.capture=!!J,this.ha=le,this.key=++Y,this.da=this.fa=!1}function B(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function j(p){this.src=p,this.g={},this.h=0}j.prototype.add=function(p,O,q,J,le){var he=p.toString();p=this.g[he],p||(p=this.g[he]=[],this.h++);var Se=ie(p,O,J,le);return-1<Se?(O=p[Se],q||(O.fa=!1)):(O=new ee(O,this.src,he,!!J,le),O.fa=q,p.push(O)),O};function K(p,O){var q=O.type;if(q in p.g){var J=p.g[q],le=Array.prototype.indexOf.call(J,O,void 0),he;(he=0<=le)&&Array.prototype.splice.call(J,le,1),he&&(B(O),p.g[q].length==0&&(delete p.g[q],p.h--))}}function ie(p,O,q,J){for(var le=0;le<p.length;++le){var he=p[le];if(!he.da&&he.listener==O&&he.capture==!!q&&he.ha==J)return le}return-1}var fe="closure_lm_"+(1e6*Math.random()|0),pe={};function Ee(p,O,q,J,le){if(Array.isArray(O)){for(var he=0;he<O.length;he++)Ee(p,O[he],q,J,le);return null}return q=Ve(q),p&&p[Q]?p.K(O,q,c(J)?!!J.capture:!1,le):_e(p,O,q,!1,J,le)}function _e(p,O,q,J,le,he){if(!O)throw Error("Invalid event type");var Se=c(le)?!!le.capture:!!le,nn=Te(p);if(nn||(p[fe]=nn=new j(p)),q=nn.add(O,q,J,Se,he),q.proxy)return q;if(J=qe(),q.proxy=J,J.src=p,J.listener=q,p.addEventListener)ae||(le=Se),le===void 0&&(le=!1),p.addEventListener(O.toString(),J,le);else if(p.attachEvent)p.attachEvent(ke(O.toString()),J);else if(p.addListener&&p.removeListener)p.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return q}function qe(){function p(q){return O.call(p.src,p.listener,q)}const O=He;return p}function Et(p,O,q,J,le){if(Array.isArray(O))for(var he=0;he<O.length;he++)Et(p,O[he],q,J,le);else J=c(J)?!!J.capture:!!J,q=Ve(q),p&&p[Q]?(p=p.i,O=String(O).toString(),O in p.g&&(he=p.g[O],q=ie(he,q,J,le),-1<q&&(B(he[q]),Array.prototype.splice.call(he,q,1),he.length==0&&(delete p.g[O],p.h--)))):p&&(p=Te(p))&&(O=p.g[O.toString()],p=-1,O&&(p=ie(O,q,J,le)),(q=-1<p?O[p]:null)&&De(q))}function De(p){if(typeof p!="number"&&p&&!p.da){var O=p.src;if(O&&O[Q])K(O.i,p);else{var q=p.type,J=p.proxy;O.removeEventListener?O.removeEventListener(q,J,p.capture):O.detachEvent?O.detachEvent(ke(q),J):O.addListener&&O.removeListener&&O.removeListener(J),(q=Te(O))?(K(q,p),q.h==0&&(q.src=null,O[fe]=null)):B(p)}}}function ke(p){return p in pe?pe[p]:pe[p]="on"+p}function He(p,O){if(p.da)p=!0;else{O=new re(O,this);var q=p.listener,J=p.ha||p.src;p.fa&&De(p),p=q.call(J,O)}return p}function Te(p){return p=p[fe],p instanceof j?p:null}var Re="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ve(p){return typeof p=="function"?p:(p[Re]||(p[Re]=function(O){return p.handleEvent(O)}),p[Re])}function we(){R.call(this),this.i=new j(this),this.M=this,this.F=null}b(we,R),we.prototype[Q]=!0,we.prototype.removeEventListener=function(p,O,q,J){Et(this,p,O,q,J)};function G(p,O){var q,J=p.F;if(J)for(q=[];J;J=J.F)q.push(J);if(p=p.M,J=O.type||O,typeof O=="string")O=new W(O,p);else if(O instanceof W)O.target=O.target||p;else{var le=O;O=new W(J,p),k(O,le)}if(le=!0,q)for(var he=q.length-1;0<=he;he--){var Se=O.g=q[he];le=D(Se,J,!0,O)&&le}if(Se=O.g=p,le=D(Se,J,!0,O)&&le,le=D(Se,J,!1,O)&&le,q)for(he=0;he<q.length;he++)Se=O.g=q[he],le=D(Se,J,!1,O)&&le}we.prototype.N=function(){if(we.aa.N.call(this),this.i){var p=this.i,O;for(O in p.g){for(var q=p.g[O],J=0;J<q.length;J++)B(q[J]);delete p.g[O],p.h--}}this.F=null},we.prototype.K=function(p,O,q,J){return this.i.add(String(p),O,!1,q,J)},we.prototype.L=function(p,O,q,J){return this.i.add(String(p),O,!0,q,J)};function D(p,O,q,J){if(O=p.i.g[String(O)],!O)return!0;O=O.concat();for(var le=!0,he=0;he<O.length;++he){var Se=O[he];if(Se&&!Se.da&&Se.capture==q){var nn=Se.listener,fr=Se.ha||Se.src;Se.fa&&K(p.i,Se),le=nn.call(fr,J)!==!1&&le}}return le&&!J.defaultPrevented}function $(p,O,q){if(typeof p=="function")q&&(p=h(p,q));else if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(O)?-1:a.setTimeout(p,O||0)}function Z(p){p.g=$(()=>{p.g=null,p.i&&(p.i=!1,Z(p))},p.l);const O=p.h;p.h=null,p.m.apply(null,O)}class ne extends R{constructor(O,q){super(),this.m=O,this.l=q,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:Z(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function se(p){R.call(this),this.h=p,this.g={}}b(se,R);var ce=[];function Ie(p){U(p.g,function(O,q){this.g.hasOwnProperty(q)&&De(O)},p),p.g={}}se.prototype.N=function(){se.aa.N.call(this),Ie(this)},se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ae=a.JSON.stringify,$e=a.JSON.parse,pt=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function Fe(){}Fe.prototype.h=null;function yt(p){return p.h||(p.h=p.i())}function cr(){}var xt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dt(){W.call(this,"d")}b(Dt,W);function zt(){W.call(this,"c")}b(zt,W);var Ke={},nt=null;function $t(){return nt=nt||new we}Ke.La="serverreachability";function rt(p){W.call(this,Ke.La,p)}b(rt,W);function Ze(p){const O=$t();G(O,new rt(O))}Ke.STAT_EVENT="statevent";function Jt(p,O){W.call(this,Ke.STAT_EVENT,p),this.stat=O}b(Jt,W);function ze(p){const O=$t();G(O,new Jt(O,p))}Ke.Ma="timingevent";function it(p,O){W.call(this,Ke.Ma,p),this.size=O}b(it,W);function Ht(p,O){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},O)}function Xe(){this.g=!0}Xe.prototype.xa=function(){this.g=!1};function st(p,O,q,J,le,he){p.info(function(){if(p.g)if(he)for(var Se="",nn=he.split("&"),fr=0;fr<nn.length;fr++){var Ut=nn[fr].split("=");if(1<Ut.length){var Cr=Ut[0];Ut=Ut[1];var Ir=Cr.split("_");Se=2<=Ir.length&&Ir[1]=="type"?Se+(Cr+"="+Ut+"&"):Se+(Cr+"=redacted&")}}else Se=null;else Se=he;return"XMLHTTP REQ ("+J+") [attempt "+le+"]: "+O+`
`+q+`
`+Se})}function Gt(p,O,q,J,le,he,Se){p.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+le+"]: "+O+`
`+q+`
`+he+" "+Se})}function We(p,O,q,J){p.info(function(){return"XMLHTTP TEXT ("+O+"): "+Xt(p,q)+(J?" "+J:"")})}function at(p,O){p.info(function(){return"TIMEOUT: "+O})}Xe.prototype.info=function(){};function Xt(p,O){if(!p.g)return O;if(!O)return null;try{var q=JSON.parse(O);if(q){for(p=0;p<q.length;p++)if(Array.isArray(q[p])){var J=q[p];if(!(2>J.length)){var le=J[1];if(Array.isArray(le)&&!(1>le.length)){var he=le[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Se=1;Se<le.length;Se++)le[Se]=""}}}}return Ae(q)}catch{return O}}var qt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ui;function bt(){}b(bt,Fe),bt.prototype.g=function(){return new XMLHttpRequest},bt.prototype.i=function(){return{}},Ui=new bt;function Rt(p,O,q,J){this.j=p,this.i=O,this.l=q,this.R=J||1,this.U=new se(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ji}function ji(){this.i=null,this.g="",this.h=!1}var Vi={},wi={};function _i(p,O,q){p.L=1,p.v=Yu(_s(O)),p.m=q,p.P=!0,Kn(p,null)}function Kn(p,O){p.F=Date.now(),ei(p),p.A=_s(p.v);var q=p.A,J=p.R;Array.isArray(J)||(J=[String(J)]),gm(q.i,"t",J),p.C=0,q=p.j.J,p.h=new ji,p.g=Y4(p.j,q?O:null,!p.m),0<p.O&&(p.M=new ne(h(p.Y,p,p.g),p.O)),O=p.U,q=p.g,J=p.ca;var le="readystatechange";Array.isArray(le)||(le&&(ce[0]=le.toString()),le=ce);for(var he=0;he<le.length;he++){var Se=Ee(q,le[he],J||O.handleEvent,!1,O.h||O);if(!Se)break;O.g[Se.key]=Se}O=p.H?y(p.H):{},p.m?(p.u||(p.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,O)):(p.u="GET",p.g.ea(p.A,p.u,null,O)),Ze(),st(p.i,p.u,p.A,p.l,p.R,p.m)}Rt.prototype.ca=function(p){p=p.target;const O=this.M;O&&dn(p)==3?O.j():this.Y(p)},Rt.prototype.Y=function(p){try{if(p==this.g)e:{const Ir=dn(this.g);var O=this.g.Ba();const $l=this.g.Z();if(!(3>Ir)&&(Ir!=3||this.g&&(this.h.h||this.g.oa()||ti(this.g)))){this.J||Ir!=4||O==7||(O==8||0>=$l?Ze(3):Ze(2)),bi(this);var q=this.g.Z();this.X=q;t:if(zi(this)){var J=ti(this.g);p="";var le=J.length,he=dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lr(this),Qn(this);var Se="";break t}this.h.i=new a.TextDecoder}for(O=0;O<le;O++)this.h.h=!0,p+=this.h.i.decode(J[O],{stream:!(he&&O==le-1)});J.length=0,this.h.g+=p,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=q==200,Gt(this.i,this.u,this.A,this.l,this.R,Ir,q),this.o){if(this.T&&!this.K){t:{if(this.g){var nn,fr=this.g;if((nn=fr.g?fr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(nn)){var Ut=nn;break t}}Ut=null}if(q=Ut)We(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ei(this,q);else{this.o=!1,this.s=3,ze(12),lr(this),Qn(this);break e}}if(this.P){q=!0;let As;for(;!this.J&&this.C<Se.length;)if(As=ws(this,Se),As==wi){Ir==4&&(this.s=4,ze(14),q=!1),We(this.i,this.l,null,"[Incomplete Response]");break}else if(As==Vi){this.s=4,ze(15),We(this.i,this.l,Se,"[Invalid Chunk]"),q=!1;break}else We(this.i,this.l,As,null),Ei(this,As);if(zi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ir!=4||Se.length!=0||this.h.h||(this.s=1,ze(16),q=!1),this.o=this.o&&q,!q)We(this.i,this.l,Se,"[Invalid Chunked Response]"),lr(this),Qn(this);else if(0<Se.length&&!this.W){this.W=!0;var Cr=this.j;Cr.g==this&&Cr.ba&&!Cr.M&&(Cr.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),ab(Cr),Cr.M=!0,ze(11))}}else We(this.i,this.l,Se,null),Ei(this,Se);Ir==4&&lr(this),this.o&&!this.J&&(Ir==4?K4(this.j,this):(this.o=!1,ei(this)))}else Jn(this.g),q==400&&0<Se.indexOf("Unknown SID")?(this.s=3,ze(12)):(this.s=0,ze(13)),lr(this),Qn(this)}}}catch{}finally{}};function zi(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function ws(p,O){var q=p.C,J=O.indexOf(`
`,q);return J==-1?wi:(q=Number(O.substring(q,J)),isNaN(q)?Vi:(J+=1,J+q>O.length?wi:(O=O.slice(J,J+q),p.C=J+q,O)))}Rt.prototype.cancel=function(){this.J=!0,lr(this)};function ei(p){p.S=Date.now()+p.I,Hi(p,p.I)}function Hi(p,O){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Ht(h(p.ba,p),O)}function bi(p){p.B&&(a.clearTimeout(p.B),p.B=null)}Rt.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(at(this.i,this.A),this.L!=2&&(Ze(),ze(17)),lr(this),this.s=2,Qn(this)):Hi(this,this.S-p)};function Qn(p){p.j.G==0||p.J||K4(p.j,p)}function lr(p){bi(p);var O=p.M;O&&typeof O.ma=="function"&&O.ma(),p.M=null,Ie(p.U),p.g&&(O=p.g,p.g=null,O.abort(),O.ma())}function Ei(p,O){try{var q=p.j;if(q.G!=0&&(q.g==p||Ho(q.h,p))){if(!p.K&&Ho(q.h,p)&&q.G==3){try{var J=q.Da.g.parse(O)}catch{J=null}if(Array.isArray(J)&&J.length==3){var le=J;if(le[0]==0){e:if(!q.u){if(q.g)if(q.g.F+3e3<p.F)wm(q),ni(q);else break e;ob(q),ze(18)}}else q.za=le[1],0<q.za-q.T&&37500>le[2]&&q.F&&q.v==0&&!q.C&&(q.C=Ht(h(q.Za,q),6e3));if(1>=Da(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else sc(q,11)}else if((p.K||q.g==p)&&wm(q),!w(O))for(le=q.Da.g.parse(O),O=0;O<le.length;O++){let Ut=le[O];if(q.T=Ut[0],Ut=Ut[1],q.G==2)if(Ut[0]=="c"){q.K=Ut[1],q.ia=Ut[2];const Cr=Ut[3];Cr!=null&&(q.la=Cr,q.j.info("VER="+q.la));const Ir=Ut[4];Ir!=null&&(q.Aa=Ir,q.j.info("SVER="+q.Aa));const $l=Ut[5];$l!=null&&typeof $l=="number"&&0<$l&&(J=1.5*$l,q.L=J,q.j.info("backChannelRequestTimeoutMs_="+J)),J=q;const As=p.g;if(As){const bm=As.g?As.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bm){var he=J.h;he.g||bm.indexOf("spdy")==-1&&bm.indexOf("quic")==-1&&bm.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(qo(he,he.h),he.h=null))}if(J.D){const ub=As.g?As.g.getResponseHeader("X-HTTP-Session-Id"):null;ub&&(J.ya=ub,en(J.I,J.D,ub))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-p.F,q.j.info("Handshake RTT: "+q.R+"ms")),J=q;var Se=p;if(J.qa=J4(J,J.J?J.ia:null,J.W),Se.K){hm(J.h,Se);var nn=Se,fr=J.L;fr&&(nn.I=fr),nn.B&&(bi(nn),ei(nn)),J.g=Se}else W4(J);0<q.i.length&&rc(q)}else Ut[0]!="stop"&&Ut[0]!="close"||sc(q,7);else q.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?sc(q,7):Wi(q):Ut[0]!="noop"&&q.l&&q.l.ta(Ut),q.v=0)}}Ze(4)}catch{}}var Zn=class{constructor(p,O){this.g=p,this.map=O}};function Pa(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ma(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Da(p){return p.h?1:p.g?p.g.size:0}function Ho(p,O){return p.h?p.h==O:p.g?p.g.has(O):!1}function qo(p,O){p.g?p.g.add(O):p.h=O}function hm(p,O){p.h&&p.h==O?p.h=null:p.g&&p.g.has(O)&&p.g.delete(O)}Pa.prototype.cancel=function(){if(this.i=Qu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Qu(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let O=p.i;for(const q of p.g.values())O=O.concat(q.D);return O}return A(p.i)}function Y_(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(u(p)){for(var O=[],q=p.length,J=0;J<q;J++)O.push(p[J]);return O}O=[],q=0;for(J in p)O[q++]=p[J];return O}function Zu(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(u(p)||typeof p=="string"){var O=[];p=p.length;for(var q=0;q<p;q++)O.push(q);return O}O=[],q=0;for(const J in p)O[q++]=J;return O}}}function _d(p,O){if(p.forEach&&typeof p.forEach=="function")p.forEach(O,void 0);else if(u(p)||typeof p=="string")Array.prototype.forEach.call(p,O,void 0);else for(var q=Zu(p),J=Y_(p),le=J.length,he=0;he<le;he++)O.call(void 0,J[he],q&&q[he],p)}var bd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function X_(p,O){if(p){p=p.split("&");for(var q=0;q<p.length;q++){var J=p[q].indexOf("="),le=null;if(0<=J){var he=p[q].substring(0,J);le=p[q].substring(J+1)}else he=p[q];O(he,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function Wo(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Wo){this.h=p.h,Ll(this,p.j),this.o=p.o,this.g=p.g,Ju(this,p.s),this.l=p.l;var O=p.i,q=new Xu;q.i=O.i,O.g&&(q.g=new Map(O.g),q.h=O.h),dm(this,q),this.m=p.m}else p&&(O=String(p).match(bd))?(this.h=!1,Ll(this,O[1]||"",!0),this.o=Zs(O[2]||""),this.g=Zs(O[3]||"",!0),Ju(this,O[4]),this.l=Zs(O[5]||"",!0),dm(this,O[6]||"",!0),this.m=Zs(O[7]||"")):(this.h=!1,this.i=new Xu(null,this.h))}Wo.prototype.toString=function(){var p=[],O=this.j;O&&p.push(qi(O,pm,!0),":");var q=this.g;return(q||O=="file")&&(p.push("//"),(O=this.o)&&p.push(qi(O,pm,!0),"@"),p.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.s,q!=null&&p.push(":",String(q))),(q=this.l)&&(this.g&&q.charAt(0)!="/"&&p.push("/"),p.push(qi(q,q.charAt(0)=="/"?tb:Js,!0))),(q=this.i.toString())&&p.push("?",q),(q=this.m)&&p.push("#",qi(q,rb)),p.join("")};function _s(p){return new Wo(p)}function Ll(p,O,q){p.j=q?Zs(O,!0):O,p.j&&(p.j=p.j.replace(/:$/,""))}function Ju(p,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);p.s=O}else p.s=null}function dm(p,O,q){O instanceof Xu?(p.i=O,ib(p.i,p.h)):(q||(O=qi(O,nb)),p.i=new Xu(O,p.h))}function en(p,O,q){p.i.set(O,q)}function Yu(p){return en(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Zs(p,O){return p?O?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function qi(p,O,q){return typeof p=="string"?(p=encodeURI(p).replace(O,eb),q&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function eb(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var pm=/[#\/\?@]/g,Js=/[#\?:]/g,tb=/[#\?]/g,nb=/[#\?@]/g,rb=/#/g;function Xu(p,O){this.h=this.g=null,this.i=p||null,this.j=!!O}function Ys(p){p.g||(p.g=new Map,p.h=0,p.i&&X_(p.i,function(O,q){p.add(decodeURIComponent(O.replace(/\+/g," ")),q)}))}t=Xu.prototype,t.add=function(p,O){Ys(this),this.i=null,p=bs(this,p);var q=this.g.get(p);return q||this.g.set(p,q=[]),q.push(O),this.h+=1,this};function Xs(p,O){Ys(p),O=bs(p,O),p.g.has(O)&&(p.i=null,p.h-=p.g.get(O).length,p.g.delete(O))}function Ed(p,O){return Ys(p),O=bs(p,O),p.g.has(O)}t.forEach=function(p,O){Ys(this),this.g.forEach(function(q,J){q.forEach(function(le){p.call(O,le,J,this)},this)},this)},t.na=function(){Ys(this);const p=Array.from(this.g.values()),O=Array.from(this.g.keys()),q=[];for(let J=0;J<O.length;J++){const le=p[J];for(let he=0;he<le.length;he++)q.push(O[J])}return q},t.V=function(p){Ys(this);let O=[];if(typeof p=="string")Ed(this,p)&&(O=O.concat(this.g.get(bs(this,p))));else{p=Array.from(this.g.values());for(let q=0;q<p.length;q++)O=O.concat(p[q])}return O},t.set=function(p,O){return Ys(this),this.i=null,p=bs(this,p),Ed(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[O]),this.h+=1,this},t.get=function(p,O){return p?(p=this.V(p),0<p.length?String(p[0]):O):O};function gm(p,O,q){Xs(p,O),0<q.length&&(p.i=null,p.g.set(bs(p,O),A(q)),p.h+=q.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],O=Array.from(this.g.keys());for(var q=0;q<O.length;q++){var J=O[q];const he=encodeURIComponent(String(J)),Se=this.V(J);for(J=0;J<Se.length;J++){var le=he;Se[J]!==""&&(le+="="+encodeURIComponent(String(Se[J]))),p.push(le)}}return this.i=p.join("&")};function bs(p,O){return O=String(O),p.j&&(O=O.toLowerCase()),O}function ib(p,O){O&&!p.j&&(Ys(p),p.i=null,p.g.forEach(function(q,J){var le=J.toLowerCase();J!=le&&(Xs(this,J),gm(this,le,q))},p)),p.j=O}function Ad(p,O){const q=new Xe;if(a.Image){const J=new Image;J.onload=m(Es,q,"TestLoadImage: loaded",!0,O,J),J.onerror=m(Es,q,"TestLoadImage: error",!1,O,J),J.onabort=m(Es,q,"TestLoadImage: abort",!1,O,J),J.ontimeout=m(Es,q,"TestLoadImage: timeout",!1,O,J),a.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=p}else O(!1)}function sb(p,O){const q=new Xe,J=new AbortController,le=setTimeout(()=>{J.abort(),Es(q,"TestPingServer: timeout",!1,O)},1e4);fetch(p,{signal:J.signal}).then(he=>{clearTimeout(le),he.ok?Es(q,"TestPingServer: ok",!0,O):Es(q,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(le),Es(q,"TestPingServer: error",!1,O)})}function Es(p,O,q,J,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),J(q)}catch{}}function mm(){this.g=new pt}function ym(p,O,q){const J=q||"";try{_d(p,function(le,he){let Se=le;c(le)&&(Se=Ae(le)),O.push(J+he+"="+encodeURIComponent(Se))})}catch(le){throw O.push(J+"type="+encodeURIComponent("_badmap")),le}}function eo(p){this.l=p.Ub||null,this.j=p.eb||!1}b(eo,Fe),eo.prototype.g=function(){return new ec(this.l,this.j)},eo.prototype.i=function(p){return function(){return p}}({});function ec(p,O){we.call(this),this.D=p,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(ec,we),t=ec.prototype,t.open=function(p,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=O,this.readyState=1,nc(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(O.body=p),(this.D||a).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tc(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,nc(this)),this.g&&(this.readyState=3,nc(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vm(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function vm(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var O=p.value?p.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!p.done}))&&(this.response=this.responseText+=O)}p.done?tc(this):nc(this),this.readyState==3&&vm(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,tc(this))},t.Qa=function(p){this.g&&(this.response=p,tc(this))},t.ga=function(){this.g&&tc(this)};function tc(p){p.readyState=4,p.l=null,p.j=null,p.v=null,nc(p)}t.setRequestHeader=function(p,O){this.u.append(p,O)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],O=this.h.entries();for(var q=O.next();!q.done;)q=q.value,p.push(q[0]+": "+q[1]),q=O.next();return p.join(`\r
`)};function nc(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ec.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function te(p){let O="";return U(p,function(q,J){O+=J,O+=":",O+=q,O+=`\r
`}),O}function ue(p,O,q){e:{for(J in q){var J=!1;break e}J=!0}J||(q=te(q),typeof p=="string"?q!=null&&encodeURIComponent(String(q)):en(p,O,q))}function de(p){we.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(de,we);var Oe=/^https?$/i,tn=["POST","PUT"];t=de.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,O,q,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);O=O?O.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ui.g(),this.v=this.o?yt(this.o):yt(Ui),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(O,String(p),!0),this.B=!1}catch(he){ct(this,he);return}if(p=q||"",q=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var le in J)q.set(le,J[le]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const he of J.keys())q.set(he,J.get(he));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(q.keys()).find(he=>he.toLowerCase()=="content-type"),le=a.FormData&&p instanceof a.FormData,!(0<=Array.prototype.indexOf.call(tn,O,void 0))||J||le||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Se]of q)this.g.setRequestHeader(he,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sn(this),this.u=!0,this.g.send(p),this.u=!1}catch(he){ct(this,he)}};function ct(p,O){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=O,p.m=5,un(p),Sn(p)}function un(p){p.A||(p.A=!0,G(p,"complete"),G(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,G(this,"complete"),G(this,"abort"),Sn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sn(this,!0)),de.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Tn(this):this.bb())},t.bb=function(){Tn(this)};function Tn(p){if(p.h&&typeof o<"u"&&(!p.v[1]||dn(p)!=4||p.Z()!=2)){if(p.u&&dn(p)==4)$(p.Ea,0,p);else if(G(p,"readystatechange"),dn(p)==4){p.h=!1;try{const Se=p.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var q;if(!(q=O)){var J;if(J=Se===0){var le=String(p.D).match(bd)[1]||null;!le&&a.self&&a.self.location&&(le=a.self.location.protocol.slice(0,-1)),J=!Oe.test(le?le.toLowerCase():"")}q=J}if(q)G(p,"complete"),G(p,"success");else{p.m=6;try{var he=2<dn(p)?p.g.statusText:""}catch{he=""}p.l=he+" ["+p.Z()+"]",un(p)}}finally{Sn(p)}}}}function Sn(p,O){if(p.g){sn(p);const q=p.g,J=p.v[0]?()=>{}:null;p.g=null,p.v=null,O||G(p,"ready");try{q.onreadystatechange=J}catch{}}}function sn(p){p.I&&(a.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function dn(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<dn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var O=this.g.responseText;return p&&O.indexOf(p)==0&&(O=O.substring(p.length)),$e(O)}};function ti(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Jn(p){const O={};p=(p.g&&2<=dn(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<p.length;J++){if(w(p[J]))continue;var q=L(p[J]);const le=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const he=O[le]||[];O[le]=he,he.push(q)}v(O,function(J){return J.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yn(p,O,q){return q&&q.internalChannelParams&&q.internalChannelParams[p]||O}function Ur(p){this.Aa=0,this.i=[],this.j=new Xe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yn("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yn("baseRetryDelayMs",5e3,p),this.cb=Yn("retryDelaySeedMs",1e4,p),this.Wa=Yn("forwardChannelMaxRetries",2,p),this.wa=Yn("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Pa(p&&p.concurrentRequestLimit),this.Da=new mm,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ur.prototype,t.la=8,t.G=1,t.connect=function(p,O,q,J){ze(0),this.W=p,this.H=O||{},q&&J!==void 0&&(this.H.OSID=q,this.H.OAID=J),this.F=this.X,this.I=J4(this,null,this.W),rc(this)};function Wi(p){if(to(p),p.G==3){var O=p.U++,q=_s(p.I);if(en(q,"SID",p.K),en(q,"RID",O),en(q,"TYPE","terminate"),Sd(p,q),O=new Rt(p,p.j,O),O.L=2,O.v=Yu(_s(q)),q=!1,a.navigator&&a.navigator.sendBeacon)try{q=a.navigator.sendBeacon(O.v.toString(),"")}catch{}!q&&a.Image&&(new Image().src=O.v,q=!0),q||(O.g=Y4(O.j,null),O.g.ea(O.v)),O.F=Date.now(),ei(O)}Z4(p)}function ni(p){p.g&&(ab(p),p.g.cancel(),p.g=null)}function to(p){ni(p),p.u&&(a.clearTimeout(p.u),p.u=null),wm(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&a.clearTimeout(p.s),p.s=null)}function rc(p){if(!Ma(p.h)&&!p.s){p.s=!0;var O=p.Ga;P||H(),I||(P(),I=!0),F.add(O,p),p.B=0}}function Bl(p,O){return Da(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=O.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Ht(h(p.Ga,p,O),Q4(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const le=new Rt(this,this.j,p);let he=this.o;if(this.S&&(he?(he=y(he),k(he,this.S)):he=this.S),this.m!==null||this.O||(le.H=he,he=null),this.P)e:{for(var O=0,q=0;q<this.i.length;q++){t:{var J=this.i[q];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(O+=J,4096<O){O=q;break e}if(O===4096||q===this.i.length-1){O=q+1;break e}}O=1e3}else O=1e3;O=q4(this,le,O),q=_s(this.I),en(q,"RID",p),en(q,"CVER",22),this.D&&en(q,"X-HTTP-Session-Id",this.D),Sd(this,q),he&&(this.O?O="headers="+encodeURIComponent(String(te(he)))+"&"+O:this.m&&ue(q,this.m,he)),qo(this.h,le),this.Ua&&en(q,"TYPE","init"),this.P?(en(q,"$req",O),en(q,"SID","null"),le.T=!0,_i(le,q,null)):_i(le,q,O),this.G=2}}else this.G==3&&(p?ic(this,p):this.i.length==0||Ma(this.h)||ic(this))};function ic(p,O){var q;O?q=O.l:q=p.U++;const J=_s(p.I);en(J,"SID",p.K),en(J,"RID",q),en(J,"AID",p.T),Sd(p,J),p.m&&p.o&&ue(J,p.m,p.o),q=new Rt(p,p.j,q,p.B+1),p.m===null&&(q.H=p.o),O&&(p.i=O.D.concat(p.i)),O=q4(p,q,1e3),q.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),qo(p.h,q),_i(q,J,O)}function Sd(p,O){p.H&&U(p.H,function(q,J){en(O,J,q)}),p.l&&_d({},function(q,J){en(O,J,q)})}function q4(p,O,q){q=Math.min(p.i.length,q);var J=p.l?h(p.l.Na,p.l,p):null;e:{var le=p.i;let he=-1;for(;;){const Se=["count="+q];he==-1?0<q?(he=le[0].g,Se.push("ofs="+he)):he=0:Se.push("ofs="+he);let nn=!0;for(let fr=0;fr<q;fr++){let Ut=le[fr].g;const Cr=le[fr].map;if(Ut-=he,0>Ut)he=Math.max(0,le[fr].g-100),nn=!1;else try{ym(Cr,Se,"req"+Ut+"_")}catch{J&&J(Cr)}}if(nn){J=Se.join("&");break e}}}return p=p.i.splice(0,q),O.D=p,J}function W4(p){if(!p.g&&!p.u){p.Y=1;var O=p.Fa;P||H(),I||(P(),I=!0),F.add(O,p),p.v=0}}function ob(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Ht(h(p.Fa,p),Q4(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,G4(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Ht(h(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ze(10),ni(this),G4(this))};function ab(p){p.A!=null&&(a.clearTimeout(p.A),p.A=null)}function G4(p){p.g=new Rt(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var O=_s(p.qa);en(O,"RID","rpc"),en(O,"SID",p.K),en(O,"AID",p.T),en(O,"CI",p.F?"0":"1"),!p.F&&p.ja&&en(O,"TO",p.ja),en(O,"TYPE","xmlhttp"),Sd(p,O),p.m&&p.o&&ue(O,p.m,p.o),p.L&&(p.g.I=p.L);var q=p.g;p=p.ia,q.L=1,q.v=Yu(_s(O)),q.m=null,q.P=!0,Kn(q,p)}t.Za=function(){this.C!=null&&(this.C=null,ni(this),ob(this),ze(19))};function wm(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function K4(p,O){var q=null;if(p.g==O){wm(p),ab(p),p.g=null;var J=2}else if(Ho(p.h,O))q=O.D,hm(p.h,O),J=1;else return;if(p.G!=0){if(O.o)if(J==1){q=O.m?O.m.length:0,O=Date.now()-O.F;var le=p.B;J=$t(),G(J,new it(J,q)),rc(p)}else W4(p);else if(le=O.s,le==3||le==0&&0<O.X||!(J==1&&Bl(p,O)||J==2&&ob(p)))switch(q&&0<q.length&&(O=p.h,O.i=O.i.concat(q)),le){case 1:sc(p,5);break;case 4:sc(p,10);break;case 3:sc(p,6);break;default:sc(p,2)}}}function Q4(p,O){let q=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(q*=2),q*O}function sc(p,O){if(p.j.info("Error code "+O),O==2){var q=h(p.fb,p),J=p.Xa;const le=!J;J=new Wo(J||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ll(J,"https"),Yu(J),le?Ad(J.toString(),q):sb(J.toString(),q)}else ze(2);p.G=0,p.l&&p.l.sa(O),Z4(p),to(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),ze(2)):(this.j.info("Failed to ping google.com"),ze(1))};function Z4(p){if(p.G=0,p.ka=[],p.l){const O=Qu(p.h);(O.length!=0||p.i.length!=0)&&(T(p.ka,O),T(p.ka,p.i),p.h.i.length=0,A(p.i),p.i.length=0),p.l.ra()}}function J4(p,O,q){var J=q instanceof Wo?_s(q):new Wo(q);if(J.g!="")O&&(J.g=O+"."+J.g),Ju(J,J.s);else{var le=a.location;J=le.protocol,O=O?O+"."+le.hostname:le.hostname,le=+le.port;var he=new Wo(null);J&&Ll(he,J),O&&(he.g=O),le&&Ju(he,le),q&&(he.l=q),J=he}return q=p.D,O=p.ya,q&&O&&en(J,q,O),en(J,"VER",p.la),Sd(p,J),J}function Y4(p,O,q){if(O&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return O=p.Ca&&!p.pa?new de(new eo({eb:q})):new de(p.pa),O.Ha(p.J),O}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function X4(){}t=X4.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _m(){}_m.prototype.g=function(p,O){return new Ai(p,O)};function Ai(p,O){we.call(this),this.g=new Ur(O),this.l=p,this.h=O&&O.messageUrlParams||null,p=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(p?p["X-WebChannel-Content-Type"]=O.messageContentType:p={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(p?p["X-WebChannel-Client-Profile"]=O.va:p={"X-WebChannel-Client-Profile":O.va}),this.g.S=p,(p=O&&O.Sb)&&!w(p)&&(this.g.m=p),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!w(O)&&(this.g.D=O,p=this.h,p!==null&&O in p&&(p=this.h,O in p&&delete p[O])),this.j=new Fl(this)}b(Ai,we),Ai.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ai.prototype.close=function(){Wi(this.g)},Ai.prototype.o=function(p){var O=this.g;if(typeof p=="string"){var q={};q.__data__=p,p=q}else this.u&&(q={},q.__data__=Ae(p),p=q);O.i.push(new Zn(O.Ya++,p)),O.G==3&&rc(O)},Ai.prototype.N=function(){this.g.l=null,delete this.j,Wi(this.g),delete this.g,Ai.aa.N.call(this)};function eC(p){Dt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var O=p.__sm__;if(O){e:{for(const q in O){p=q;break e}p=void 0}(this.i=p)&&(p=this.i,O=O!==null&&p in O?O[p]:void 0),this.data=O}else this.data=p}b(eC,Dt);function tC(){zt.call(this),this.status=1}b(tC,zt);function Fl(p){this.g=p}b(Fl,X4),Fl.prototype.ua=function(){G(this.g,"a")},Fl.prototype.ta=function(p){G(this.g,new eC(p))},Fl.prototype.sa=function(p){G(this.g,new tC)},Fl.prototype.ra=function(){G(this.g,"b")},_m.prototype.createWebChannel=_m.prototype.g,Ai.prototype.send=Ai.prototype.o,Ai.prototype.open=Ai.prototype.m,Ai.prototype.close=Ai.prototype.close,wL=function(){return new _m},vL=function(){return $t()},yL=Ke,EA={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qt.NO_ERROR=0,qt.TIMEOUT=8,qt.HTTP_ERROR=6,qy=qt,Kt.COMPLETE="complete",mL=Kt,cr.EventType=xt,xt.OPEN="a",xt.CLOSE="b",xt.ERROR="c",xt.MESSAGE="d",we.prototype.listen=we.prototype.K,Jd=cr,de.prototype.listenOnce=de.prototype.L,de.prototype.getLastError=de.prototype.Ka,de.prototype.getLastErrorCode=de.prototype.Ba,de.prototype.getStatus=de.prototype.Z,de.prototype.getResponseJson=de.prototype.Oa,de.prototype.getResponseText=de.prototype.oa,de.prototype.send=de.prototype.ea,de.prototype.setWithCredentials=de.prototype.Ha,gL=de}).apply(typeof Xm<"u"?Xm:typeof self<"u"?self:typeof window<"u"?window:{});const gT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dr.UNAUTHENTICATED=new Dr(null),Dr.GOOGLE_CREDENTIALS=new Dr("google-credentials-uid"),Dr.FIRST_PARTY=new Dr("first-party-uid"),Dr.MOCK_USER=new Dr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new o5("@firebase/firestore");function Fd(){return pl.logLevel}function je(t,...e){if(pl.logLevel<=Bt.DEBUG){const n=e.map(d5);pl.debug(`Firestore (${sd}): ${t}`,...n)}}function Ea(t,...e){if(pl.logLevel<=Bt.ERROR){const n=e.map(d5);pl.error(`Firestore (${sd}): ${t}`,...n)}}function Th(t,...e){if(pl.logLevel<=Bt.WARN){const n=e.map(d5);pl.warn(`Firestore (${sd}): ${t}`,...n)}}function d5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t="Unexpected state"){const e=`FIRESTORE (${sd}) INTERNAL ASSERTION FAILED: `+t;throw Ea(e),new Error(e)}function Zt(t,e){t||ot()}function ht(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Wu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class coe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dr.UNAUTHENTICATED))}shutdown(){}}class loe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class foe{constructor(e){this.t=e,this.currentUser=Dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Zt(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ca,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ca)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zt(typeof r.accessToken=="string"),new _L(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Zt(e===null||typeof e=="string"),new Dr(e)}}class hoe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class doe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hoe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class poe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class goe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Zt(this.o===void 0);const r=s=>{s.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Zt(typeof n.token=="string"),this.R=n.token,new poe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function moe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=moe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function jt(t,e){return t<e?-1:t>e?1:0}function Rh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Me(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Me(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Me(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wn.fromMillis(Date.now())}static fromDate(e){return Wn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Wn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new lt(e)}static min(){return new lt(new Wn(0,0))}static max(){return new lt(new Wn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,r){n===void 0?n=0:n>e.length&&ot(),r===void 0?r=e.length-n:r>e.length-n&&ot(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ln extends Bp{construct(e,n,r){return new ln(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ln(n)}static emptyPath(){return new ln([])}}const yoe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends Bp{construct(e,n,r){return new yr(e,n,r)}static isValidIdentifier(e){return yoe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Me(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Me(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Me(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Me(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(ln.fromString(e))}static fromName(e){return new Qe(ln.fromString(e).popFirst(5))}static empty(){return new Qe(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ln.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ln.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new ln(e.slice()))}}function voe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=lt.fromTimestamp(r===1e9?new Wn(n+1,0):new Wn(n,r));return new Du(i,Qe.empty(),e)}function woe(t){return new Du(t.readTime,t.key,-1)}class Du{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Du(lt.min(),Qe.empty(),-1)}static max(){return new Du(lt.max(),Qe.empty(),-1)}}function _oe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Qe.comparator(t.documentKey,e.documentKey),n!==0?n:jt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const boe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Eoe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ig(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==boe)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.reject(n)}static resolve(e){return new ye((n,r)=>{n(e)})}static reject(e){return new ye((n,r)=>{r(e)})}static waitFor(e){return new ye((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next(i=>i?ye.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ye((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new ye((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Aoe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xg(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}p5.oe=-1;function ww(t){return t==null}function tv(t){return t===0&&1/t==-1/0}function Soe(t){return typeof t=="number"&&Number.isInteger(t)&&!tv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){this.comparator=e,this.root=n||gr.EMPTY}insert(e,n){return new An(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gr.BLACK,null,null))}remove(e){return new An(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ey(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ey(this.root,e,this.comparator,!1)}getReverseIterator(){return new ey(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ey(this.root,e,this.comparator,!0)}}class ey{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gr.RED,this.left=i??gr.EMPTY,this.right=s??gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new gr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}gr.EMPTY=null,gr.RED=!0,gr.BLACK=!1;gr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(e,n,r,i,s){return this}insert(e,n,r){return new gr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.comparator=e,this.data=new An(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yT(this.data.getIterator())}getIteratorFrom(e){return new yT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _r(this.comparator);return n.data=e,n}}class yT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new Ri([])}unionWith(e){let n=new _r(yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ri(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AL("Invalid base64 string: "+s):s}}(e);return new Ar(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ar(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ar.EMPTY_BYTE_STRING=new Ar("");const Coe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ou(t){if(Zt(!!t),typeof t=="string"){let e=0;const n=Coe.exec(t);if(Zt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kn(t.seconds),nanos:kn(t.nanos)}}function kn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gl(t){return typeof t=="string"?Ar.fromBase64String(t):Ar.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function m5(t){const e=t.mapValue.fields.__previous_value__;return g5(e)?m5(e):e}function Fp(t){const e=Ou(t.mapValue.fields.__local_write_time__.timestampValue);return new Wn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ioe{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class $p{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $p("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $p&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty={mapValue:{}};function ml(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?g5(t)?4:Toe(t)?9007199254740991:xoe(t)?10:11:ot()}function Fo(t,e){if(t===e)return!0;const n=ml(t);if(n!==ml(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fp(t).isEqual(Fp(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ou(i.timestampValue),a=Ou(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return gl(i.bytesValue).isEqual(gl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return kn(i.geoPointValue.latitude)===kn(s.geoPointValue.latitude)&&kn(i.geoPointValue.longitude)===kn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return kn(i.integerValue)===kn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=kn(i.doubleValue),a=kn(s.doubleValue);return o===a?tv(o)===tv(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Rh(t.arrayValue.values||[],e.arrayValue.values||[],Fo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(mT(o)!==mT(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Fo(o[u],a[u])))return!1;return!0}(t,e);default:return ot()}}function Up(t,e){return(t.values||[]).find(n=>Fo(n,e))!==void 0}function kh(t,e){if(t===e)return 0;const n=ml(t),r=ml(e);if(n!==r)return jt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=kn(s.integerValue||s.doubleValue),u=kn(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return vT(t.timestampValue,e.timestampValue);case 4:return vT(Fp(t),Fp(e));case 5:return jt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=gl(s),u=gl(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=jt(a[c],u[c]);if(l!==0)return l}return jt(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=jt(kn(s.latitude),kn(o.latitude));return a!==0?a:jt(kn(s.longitude),kn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,l;const f=s.fields||{},h=o.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,b=(u=h.value)===null||u===void 0?void 0:u.arrayValue,A=jt(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((l=b==null?void 0:b.values)===null||l===void 0?void 0:l.length)||0);return A!==0?A:wT(m,b)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ty.mapValue&&o===ty.mapValue)return 0;if(s===ty.mapValue)return 1;if(o===ty.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let f=0;f<u.length&&f<l.length;++f){const h=jt(u[f],l[f]);if(h!==0)return h;const m=kh(a[u[f]],c[l[f]]);if(m!==0)return m}return jt(u.length,l.length)}(t.mapValue,e.mapValue);default:throw ot()}}function vT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return jt(t,e);const n=Ou(t),r=Ou(e),i=jt(n.seconds,r.seconds);return i!==0?i:jt(n.nanos,r.nanos)}function wT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=kh(n[i],r[i]);if(s)return s}return jt(n.length,r.length)}function Ph(t){return AA(t)}function AA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ou(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Qe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=AA(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${AA(n.fields[o])}`;return i+"}"}(t.mapValue):ot()}function _T(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function SA(t){return!!t&&"integerValue"in t}function y5(t){return!!t&&"arrayValue"in t}function bT(t){return!!t&&"nullValue"in t}function ET(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wy(t){return!!t&&"mapValue"in t}function xoe(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function y0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Cl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=y0(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=y0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Toe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.value=e}static empty(){return new ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=y0(n)}setAll(e){let n=yr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=y0(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Wy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ci(y0(this.value))}}function SL(t){const e=[];return Cl(t.fields,(n,r)=>{const i=new yr([n]);if(Wy(r)){const s=SL(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ri(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nr(e,0,lt.min(),lt.min(),lt.min(),ci.empty(),0)}static newFoundDocument(e,n,r,i){return new Nr(e,1,n,lt.min(),r,i,0)}static newNoDocument(e,n){return new Nr(e,2,n,lt.min(),lt.min(),ci.empty(),0)}static newUnknownDocument(e,n){return new Nr(e,3,n,lt.min(),lt.min(),ci.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n){this.position=e,this.inclusive=n}}function AT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Qe.comparator(Qe.fromName(o.referenceValue),n.key):r=kh(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ST(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n="asc"){this.field=e,this.dir=n}}function Roe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{}class Fn extends CL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Poe(e,n,r):n==="array-contains"?new Ooe(e,r):n==="in"?new Noe(e,r):n==="not-in"?new Loe(e,r):n==="array-contains-any"?new Boe(e,r):new Fn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Moe(e,r):new Doe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(kh(n,this.value)):n!==null&&ml(this.value)===ml(n)&&this.matchesComparison(kh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ws extends CL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ws(e,n)}matches(e){return IL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function IL(t){return t.op==="and"}function xL(t){return koe(t)&&IL(t)}function koe(t){for(const e of t.filters)if(e instanceof Ws)return!1;return!0}function CA(t){if(t instanceof Fn)return t.field.canonicalString()+t.op.toString()+Ph(t.value);if(xL(t))return t.filters.map(e=>CA(e)).join(",");{const e=t.filters.map(n=>CA(n)).join(",");return`${t.op}(${e})`}}function TL(t,e){return t instanceof Fn?function(r,i){return i instanceof Fn&&r.op===i.op&&r.field.isEqual(i.field)&&Fo(r.value,i.value)}(t,e):t instanceof Ws?function(r,i){return i instanceof Ws&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&TL(o,i.filters[a]),!0):!1}(t,e):void ot()}function RL(t){return t instanceof Fn?function(n){return`${n.field.canonicalString()} ${n.op} ${Ph(n.value)}`}(t):t instanceof Ws?function(n){return n.op.toString()+" {"+n.getFilters().map(RL).join(" ,")+"}"}(t):"Filter"}class Poe extends Fn{constructor(e,n,r){super(e,n,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const n=Qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class Moe extends Fn{constructor(e,n){super(e,"in",n),this.keys=kL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Doe extends Fn{constructor(e,n){super(e,"not-in",n),this.keys=kL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class Ooe extends Fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return y5(n)&&Up(n.arrayValue,this.value)}}class Noe extends Fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Up(this.value.arrayValue,n)}}class Loe extends Fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Up(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Up(this.value.arrayValue,n)}}class Boe extends Fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!y5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Up(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function CT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Foe(t,e,n,r,i,s,o)}function v5(t){const e=ht(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>CA(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ww(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ph(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ph(r)).join(",")),e.ue=n}return e.ue}function w5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Roe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ST(t.startAt,e.startAt)&&ST(t.endAt,e.endAt)}function IA(t){return Qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $oe(t,e,n,r,i,s,o,a){return new od(t,e,n,r,i,s,o,a)}function _w(t){return new od(t)}function IT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PL(t){return t.collectionGroup!==null}function v0(t){const e=ht(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _r(yr.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new jp(s,r))}),n.has(yr.keyField().canonicalString())||e.ce.push(new jp(yr.keyField(),r))}return e.ce}function ko(t){const e=ht(t);return e.le||(e.le=Uoe(e,v0(t))),e.le}function Uoe(t,e){if(t.limitType==="F")return CT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new jp(i.field,s)});const n=t.endAt?new nv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nv(t.startAt.position,t.startAt.inclusive):null;return CT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xA(t,e){const n=t.filters.concat([e]);return new od(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rv(t,e,n){return new od(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bw(t,e){return w5(ko(t),ko(e))&&t.limitType===e.limitType}function ML(t){return`${v5(ko(t))}|lt:${t.limitType}`}function rf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>RL(i)).join(", ")}]`),ww(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ph(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ph(i)).join(",")),`Target(${r})`}(ko(t))}; limitType=${t.limitType})`}function Ew(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Qe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of v0(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=AT(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,v0(r),i)||r.endAt&&!function(o,a,u){const c=AT(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,v0(r),i))}(t,e)}function joe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DL(t){return(e,n)=>{let r=!1;for(const i of v0(t)){const s=Voe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Voe(t,e,n){const r=t.field.isKeyField()?Qe.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?kh(u,c):ot()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return EL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zoe=new An(Qe.comparator);function Aa(){return zoe}const OL=new An(Qe.comparator);function Yd(...t){let e=OL;for(const n of t)e=e.insert(n.key,n);return e}function NL(t){let e=OL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Rc(){return w0()}function LL(){return w0()}function w0(){return new ad(t=>t.toString(),(t,e)=>t.isEqual(e))}const Hoe=new An(Qe.comparator),qoe=new _r(Qe.comparator);function Tt(...t){let e=qoe;for(const n of t)e=e.add(n);return e}const Woe=new _r(jt);function Goe(){return Woe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tv(e)?"-0":e}}function BL(t){return{integerValue:""+t}}function Koe(t,e){return Soe(e)?BL(e):_5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this._=void 0}}function Qoe(t,e,n){return t instanceof iv?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&g5(s)&&(s=m5(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Mh?$L(t,e):t instanceof Vp?UL(t,e):function(i,s){const o=FL(i,s),a=xT(o)+xT(i.Pe);return SA(o)&&SA(i.Pe)?BL(a):_5(i.serializer,a)}(t,e)}function Zoe(t,e,n){return t instanceof Mh?$L(t,e):t instanceof Vp?UL(t,e):n}function FL(t,e){return t instanceof sv?function(r){return SA(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class iv extends Aw{}class Mh extends Aw{constructor(e){super(),this.elements=e}}function $L(t,e){const n=jL(e);for(const r of t.elements)n.some(i=>Fo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vp extends Aw{constructor(e){super(),this.elements=e}}function UL(t,e){let n=jL(e);for(const r of t.elements)n=n.filter(i=>!Fo(i,r));return{arrayValue:{values:n}}}class sv extends Aw{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function xT(t){return kn(t.integerValue||t.doubleValue)}function jL(t){return y5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Joe{constructor(e,n){this.field=e,this.transform=n}}function Yoe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Mh&&i instanceof Mh||r instanceof Vp&&i instanceof Vp?Rh(r.elements,i.elements,Fo):r instanceof sv&&i instanceof sv?Fo(r.Pe,i.Pe):r instanceof iv&&i instanceof iv}(t.transform,e.transform)}class Xoe{constructor(e,n){this.version=e,this.transformResults=n}}class Po{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Po}static exists(e){return new Po(void 0,e)}static updateTime(e){return new Po(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sw{}function VL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new HL(t.key,Po.none()):new Tg(t.key,t.data,Po.none());{const n=t.data,r=ci.empty();let i=new _r(yr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Gu(t.key,r,new Ri(i.toArray()),Po.none())}}function eae(t,e,n){t instanceof Tg?function(i,s,o){const a=i.value.clone(),u=RT(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gu?function(i,s,o){if(!Gy(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=RT(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(zL(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function _0(t,e,n,r){return t instanceof Tg?function(s,o,a,u){if(!Gy(s.precondition,o))return a;const c=s.value.clone(),l=kT(s.fieldTransforms,u,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gu?function(s,o,a,u){if(!Gy(s.precondition,o))return a;const c=kT(s.fieldTransforms,u,o),l=o.data;return l.setAll(zL(s)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Gy(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function tae(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=FL(r.transform,i||null);s!=null&&(n===null&&(n=ci.empty()),n.set(r.field,s))}return n||null}function TT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Rh(r,i,(s,o)=>Yoe(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tg extends Sw{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gu extends Sw{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function zL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function RT(t,e,n){const r=new Map;Zt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Zoe(o,a,n[i]))}return r}function kT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Qoe(s,o,e))}return r}class HL extends Sw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nae extends Sw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rae{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eae(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=VL(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(lt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Tt())}isEqual(e){return this.batchId===e.batchId&&Rh(this.mutations,e.mutations,(n,r)=>TT(n,r))&&Rh(this.baseMutations,e.baseMutations,(n,r)=>TT(n,r))}}class b5{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Zt(e.mutations.length===r.length);let i=function(){return Hoe}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new b5(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iae{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sae{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln,Pt;function oae(t){switch(t){default:return ot();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function qL(t){if(t===void 0)return Ea("GRPC error has no .code"),ge.UNKNOWN;switch(t){case Ln.OK:return ge.OK;case Ln.CANCELLED:return ge.CANCELLED;case Ln.UNKNOWN:return ge.UNKNOWN;case Ln.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Ln.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Ln.INTERNAL:return ge.INTERNAL;case Ln.UNAVAILABLE:return ge.UNAVAILABLE;case Ln.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Ln.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Ln.NOT_FOUND:return ge.NOT_FOUND;case Ln.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Ln.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Ln.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Ln.ABORTED:return ge.ABORTED;case Ln.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Ln.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Ln.DATA_LOSS:return ge.DATA_LOSS;default:return ot()}}(Pt=Ln||(Ln={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aae(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uae=new Gc([4294967295,4294967295],0);function PT(t){const e=aae().encode(t),n=new pL;return n.update(e),new Uint8Array(n.digest())}function MT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gc([n,r],0),new Gc([i,s],0)]}class E5{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xd(`Invalid padding: ${n}`);if(r<0)throw new Xd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Gc.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Gc.fromNumber(r)));return i.compare(uae)===1&&(i=new Gc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=PT(e),[r,i]=MT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new E5(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=PT(e),[r,i]=MT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cw(lt.min(),i,new An(jt),Aa(),Tt())}}class Rg{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rg(r,n,Tt(),Tt(),Tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class WL{constructor(e,n){this.targetId=e,this.me=n}}class GL{constructor(e,n,r=Ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class DT{constructor(){this.fe=0,this.ge=NT(),this.pe=Ar.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Tt(),n=Tt(),r=Tt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new Rg(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=NT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Zt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cae{constructor(e){this.Le=e,this.Be=new Map,this.ke=Aa(),this.qe=OT(),this.Qe=new An(jt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ot()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(IA(s))if(r===0){const o=new Qe(s.path);this.Ue(n,o,Nr.newNoDocument(o,lt.min()))}else Zt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=gl(r).toUint8Array()}catch(u){if(u instanceof AL)return Th("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new E5(o,i,s)}catch(u){return Th(u instanceof Xd?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&IA(a.target)){const u=new Qe(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Nr.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Tt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Cw(e,n,this.Qe,this.ke,r);return this.ke=Aa(),this.qe=OT(),this.Qe=new An(jt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new DT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new _r(jt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||je("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new DT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function OT(){return new An(Qe.comparator)}function NT(){return new An(Qe.comparator)}const lae={asc:"ASCENDING",desc:"DESCENDING"},fae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hae={and:"AND",or:"OR"};class dae{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function TA(t,e){return t.useProto3Json||ww(e)?e:{value:e}}function ov(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pae(t,e){return ov(t,e.toTimestamp())}function Mo(t){return Zt(!!t),lt.fromTimestamp(function(n){const r=Ou(n);return new Wn(r.seconds,r.nanos)}(t))}function A5(t,e){return RA(t,e).canonicalString()}function RA(t,e){const n=function(i){return new ln(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QL(t){const e=ln.fromString(t);return Zt(eB(e)),e}function kA(t,e){return A5(t.databaseId,e.path)}function A2(t,e){const n=QL(e);if(n.get(1)!==t.databaseId.projectId)throw new Me(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Me(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Qe(JL(n))}function ZL(t,e){return A5(t.databaseId,e)}function gae(t){const e=QL(t);return e.length===4?ln.emptyPath():JL(e)}function PA(t){return new ln(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JL(t){return Zt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function LT(t,e,n){return{name:kA(t,e),fields:n.value.mapValue.fields}}function mae(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ot()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(Zt(l===void 0||typeof l=="string"),Ar.fromBase64String(l||"")):(Zt(l===void 0||l instanceof Buffer||l instanceof Uint8Array),Ar.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=c.code===void 0?ge.UNKNOWN:qL(c.code);return new Me(l,c.message||"")}(o);n=new GL(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=A2(t,r.document.name),s=Mo(r.document.updateTime),o=r.document.createTime?Mo(r.document.createTime):lt.min(),a=new ci({mapValue:{fields:r.document.fields}}),u=Nr.newFoundDocument(i,s,o,a),c=r.targetIds||[],l=r.removedTargetIds||[];n=new Ky(c,l,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=A2(t,r.document),s=r.readTime?Mo(r.readTime):lt.min(),o=Nr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ky([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=A2(t,r.document),s=r.removedTargetIds||[];n=new Ky([],s,i,null)}else{if(!("filter"in e))return ot();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new sae(i,s),a=r.targetId;n=new WL(a,o)}}return n}function yae(t,e){let n;if(e instanceof Tg)n={update:LT(t,e.key,e.value)};else if(e instanceof HL)n={delete:kA(t,e.key)};else if(e instanceof Gu)n={update:LT(t,e.key,e.data),updateMask:Iae(e.fieldMask)};else{if(!(e instanceof nae))return ot();n={verify:kA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof iv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Mh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sv)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ot()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:pae(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ot()}(t,e.precondition)),n}function vae(t,e){return t&&t.length>0?(Zt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Mo(i.updateTime):Mo(s);return o.isEqual(lt.min())&&(o=Mo(s)),new Xoe(o,i.transformResults||[])}(n,e))):[]}function wae(t,e){return{documents:[ZL(t,e.path)]}}function _ae(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZL(t,i);const s=function(c){if(c.length!==0)return XL(Ws.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(l=>function(h){return{field:sf(h.field),direction:Aae(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=TA(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function bae(t){let e=gae(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Zt(r===1);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(f){const h=YL(f);return h instanceof Ws&&xL(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(b){return new jp(of(b.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,ww(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(f){const h=!!f.before,m=f.values||[];return new nv(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,m=f.values||[];return new nv(m,h)}(n.endAt)),$oe(e,i,o,s,a,"F",u,c)}function Eae(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=of(n.unaryFilter.field);return Fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=of(n.unaryFilter.field);return Fn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=of(n.unaryFilter.field);return Fn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=of(n.unaryFilter.field);return Fn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(t):t.fieldFilter!==void 0?function(n){return Fn.create(of(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ws.create(n.compositeFilter.filters.map(r=>YL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ot()}}(n.compositeFilter.op))}(t):ot()}function Aae(t){return lae[t]}function Sae(t){return fae[t]}function Cae(t){return hae[t]}function sf(t){return{fieldPath:t.canonicalString()}}function of(t){return yr.fromServerFormat(t.fieldPath)}function XL(t){return t instanceof Fn?function(n){if(n.op==="=="){if(ET(n.value))return{unaryFilter:{field:sf(n.field),op:"IS_NAN"}};if(bT(n.value))return{unaryFilter:{field:sf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ET(n.value))return{unaryFilter:{field:sf(n.field),op:"IS_NOT_NAN"}};if(bT(n.value))return{unaryFilter:{field:sf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sf(n.field),op:Sae(n.op),value:n.value}}}(t):t instanceof Ws?function(n){const r=n.getFilters().map(i=>XL(i));return r.length===1?r[0]:{compositeFilter:{op:Cae(n.op),filters:r}}}(t):ot()}function Iae(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n,r,i,s=lt.min(),o=lt.min(),a=Ar.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new au(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new au(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new au(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new au(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xae{constructor(e){this.ct=e}}function Tae(t){const e=bae({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(){this.un=new kae}addToCollectionParentIndex(e,n){return this.un.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(Du.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(Du.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class kae{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _r(ln.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _r(ln.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Dh(0)}static kn(){return new Dh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pae{constructor(){this.changes=new ad(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mae{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dae{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_0(r.mutation,i,Ri.empty(),Wn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Tt()){const i=Rc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Yd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Rc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Tt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Aa();const o=w0(),a=function(){return w0()}();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(l===void 0||l.mutation instanceof Gu)?s=s.insert(c.key,c):l!==void 0?(o.set(c.key,l.mutation.getFieldMask()),_0(l.mutation,c,l.mutation.getFieldMask(),Wn.now())):o.set(c.key,Ri.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var f;return a.set(c,new Mae(l,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=w0();let i=new An((o,a)=>o-a),s=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let l=r.get(u)||Ri.empty();l=a.applyToLocalView(c,l),r.set(u,l);const f=(i.get(a.batchId)||Tt()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,f=LL();l.forEach(h=>{if(!s.has(h)){const m=VL(n.get(h),r.get(h));m!==null&&f.set(h,m),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ye.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Qe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ye.resolve(Rc());let a=-1,u=s;return o.next(c=>ye.forEach(c,(l,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(l)?ye.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Tt())).next(l=>({batchId:a,changes:NL(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Qe(n)).next(r=>{let i=Yd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Yd();return this.indexManager.getCollectionParents(e,s).next(a=>ye.forEach(a,u=>{const c=function(f,h){return new od(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const l=c.getKey();o.get(l)===null&&(o=o.insert(l,Nr.newInvalidDocument(l)))});let a=Yd();return o.forEach((u,c)=>{const l=s.get(u);l!==void 0&&_0(l.mutation,c,Ri.empty(),Wn.now()),Ew(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oae{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ye.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Mo(i.createTime)}}(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Tae(i.bundledQuery),readTime:Mo(i.readTime)}}(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nae{constructor(){this.overlays=new An(Qe.comparator),this.Ir=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Rc();return ye.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ye.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const i=Rc(),s=n.length+1,o=new Qe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new An((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);l===null&&(l=Rc(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Rc(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return ye.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iae(n,r));let s=this.Ir.get(n);s===void 0&&(s=Tt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{constructor(){this.sessionToken=Ar.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(){this.Tr=new _r(rr.Er),this.dr=new _r(rr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new rr(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new rr(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Qe(new ln([])),r=new rr(n,e),i=new rr(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Qe(new ln([])),r=new rr(n,e),i=new rr(n,e+1);let s=Tt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new rr(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rr{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Qe.comparator(e.key,n.key)||jt(e.wr,n.wr)}static Ar(e,n){return jt(e.wr,n.wr)||Qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bae{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new _r(rr.Er)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rae(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new rr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ye.resolve(o)}lookupMutationBatch(e,n){return ye.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return ye.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rr(n,0),i=new rr(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _r(jt);return n.forEach(i=>{const s=new rr(i,0),o=new rr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ye.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Qe.isDocumentKey(s)||(s=s.child(""));const o=new rr(new Qe(s),0);let a=new _r(jt);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},o),ye.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Zt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ye.forEach(n.mutations,i=>{const s=new rr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new rr(n,0),i=this.br.firstAfterOrEqual(r);return ye.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fae{constructor(e){this.Mr=e,this.docs=function(){return new An(Qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():Nr.newInvalidDocument(n))}getEntries(e,n){let r=Aa();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nr.newInvalidDocument(i))}),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Aa();const o=n.path,a=new Qe(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_oe(woe(l),r)<=0||(i.has(l.key)||Ew(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return ye.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ot()}Or(e,n){return ye.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $ae(this)}getSize(e){return ye.resolve(this.size)}}class $ae extends Pae{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ye.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uae{constructor(e){this.persistence=e,this.Nr=new ad(n=>v5(n),w5),this.lastRemoteSnapshotVersion=lt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new S5,this.targetCount=0,this.kr=Dh.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ye.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Dh(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Kn(n),ye.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ye.waitFor(s).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ye.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jae{constructor(e,n){this.qr={},this.overlays={},this.Qr=new p5(0),this.Kr=!1,this.Kr=!0,this.$r=new Lae,this.referenceDelegate=e(this),this.Ur=new Uae(this),this.indexManager=new Rae,this.remoteDocumentCache=function(i){return new Fae(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new xae(n),this.Gr=new Oae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Nae,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Bae(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){je("MemoryPersistence","Starting transaction:",e);const i=new Vae(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ye.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Vae extends Eoe{constructor(e){super(),this.currentSequenceNumber=e}}class C5{constructor(e){this.persistence=e,this.Jr=new S5,this.Yr=null}static Zr(e){return new C5(e)}get Xr(){if(this.Yr)return this.Yr;throw ot()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Xr,r=>{const i=Qe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,lt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ye.or([()=>ye.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Tt(),i=Tt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new I5(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zae{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hae{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Ire()?8:Aoe(Are())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new zae;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Fd()<=Bt.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",rf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ye.resolve()):(Fd()<=Bt.DEBUG&&je("QueryEngine","Query:",rf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Fd()<=Bt.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",rf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ko(n))):ye.resolve())}Yi(e,n){if(IT(n))return ye.resolve(null);let r=ko(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rv(n,null,"F"),r=ko(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Tt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,rv(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return IT(n)||i.isEqual(lt.min())?ye.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?ye.resolve(null):(Fd()<=Bt.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rf(n)),this.rs(e,o,n,voe(i,-1)).next(a=>a))})}ts(e,n){let r=new _r(DL(e));return n.forEach((i,s)=>{Ew(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Fd()<=Bt.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",rf(n)),this.Ji.getDocumentsMatchingQuery(e,n,Du.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qae{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new An(jt),this._s=new ad(s=>v5(s),w5),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dae(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Wae(t,e,n,r){return new qae(t,e,n,r)}async function tB(t,e){const n=ht(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Tt();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Gae(t,e){const n=ht(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){const f=c.batch,h=f.keys();let m=ye.resolve();return h.forEach(b=>{m=m.next(()=>l.getEntry(u,b)).next(A=>{const T=c.docVersions.get(b);Zt(T!==null),A.version.compareTo(T)<0&&(f.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),l.addEntry(A)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Tt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function nB(t){const e=ht(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Kae(t,e){const n=ht(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((l,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ur.removeMatchingKeys(s,l.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,l.addedDocuments,f)));let m=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Ar.EMPTY_BYTE_STRING,lt.min()).withLastLimboFreeSnapshotVersion(lt.min()):l.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(l.resumeToken,r)),i=i.insert(f,m),function(A,T,_){return A.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,m,l)&&a.push(n.Ur.updateTargetData(s,m))});let u=Aa(),c=Tt();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(Qae(s,o,e.documentUpdates).next(l=>{u=l.Ps,c=l.Is})),!r.isEqual(lt.min())){const l=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return ye.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function Qae(t,e,n){let r=Tt(),i=Tt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Aa();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(lt.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):je("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function Zae(t,e){const n=ht(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Jae(t,e){const n=ht(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ye.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new au(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function MA(t,e,n){const r=ht(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!xg(o))throw o;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function BT(t,e,n){const r=ht(t);let i=lt.min(),s=Tt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,l){const f=ht(u),h=f._s.get(l);return h!==void 0?ye.resolve(f.os.get(h)):f.Ur.getTargetData(c,l)}(r,o,ko(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:lt.min(),n?s:Tt())).next(a=>(Yae(r,joe(e),a),{documents:a,Ts:s})))}function Yae(t,e,n){let r=t.us.get(e)||lt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class FT{constructor(){this.activeTargetIds=Goe()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xae{constructor(){this.so=new FT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new FT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eue{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ny=null;function S2(){return ny===null?ny=function(){return 268435456+Math.round(2147483648*Math.random())}():ny++,"0x"+ny.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nue{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="WebChannelConnection";class rue extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=S2(),u=this.xo(n,r.toUriEncodedString());je("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(l=>(je("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Th("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sd}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=tue[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=S2();return new Promise((o,a)=>{const u=new gL;u.setWithCredentials(!0),u.listenOnce(mL.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case qy.NO_ERROR:const l=u.getResponseJson();je(kr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case qy.TIMEOUT:je(kr,`RPC '${e}' ${s} timed out`),a(new Me(ge.DEADLINE_EXCEEDED,"Request time out"));break;case qy.HTTP_ERROR:const f=u.getStatus();if(je(kr,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const b=function(T){const _=T.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(_)>=0?_:ge.UNKNOWN}(m.status);a(new Me(b,m.message))}else a(new Me(ge.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Me(ge.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{je(kr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);je(kr,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=S2(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wL(),a=vL(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");je(kr,`Creating RPC '${e}' stream ${i}: ${l}`,u);const f=o.createWebChannel(l,u);let h=!1,m=!1;const b=new nue({Io:T=>{m?je(kr,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(h||(je(kr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),je(kr,`RPC '${e}' stream ${i} sending:`,T),f.send(T))},To:()=>f.close()}),A=(T,_,w)=>{T.listen(_,C=>{try{w(C)}catch(M){setTimeout(()=>{throw M},0)}})};return A(f,Jd.EventType.OPEN,()=>{m||(je(kr,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),A(f,Jd.EventType.CLOSE,()=>{m||(m=!0,je(kr,`RPC '${e}' stream ${i} transport closed`),b.So())}),A(f,Jd.EventType.ERROR,T=>{m||(m=!0,Th(kr,`RPC '${e}' stream ${i} transport errored:`,T),b.So(new Me(ge.UNAVAILABLE,"The operation could not be completed")))}),A(f,Jd.EventType.MESSAGE,T=>{var _;if(!m){const w=T.data[0];Zt(!!w);const C=w,M=C.error||((_=C[0])===null||_===void 0?void 0:_.error);if(M){je(kr,`RPC '${e}' stream ${i} received error:`,M);const N=M.status;let U=function(S){const k=Ln[S];if(k!==void 0)return qL(k)}(N),v=M.message;U===void 0&&(U=ge.INTERNAL,v="Unknown error status: "+N+" with message "+M.message),m=!0,b.So(new Me(U,v)),f.close()}else je(kr,`RPC '${e}' stream ${i} received:`,w),b.bo(w)}}),A(a,yL.STAT_EVENT,T=>{T.stat===EA.PROXY?je(kr,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===EA.NOPROXY&&je(kr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function C2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t){return new dae(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new rB(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(Ea(n.toString()),Ea("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Me(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iue extends iB{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=mae(this.serializer,e),r=function(s){if(!("targetChange"in s))return lt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?lt.min():o.readTime?Mo(o.readTime):lt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=PA(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=IA(u)?{documents:wae(s,u)}:{query:_ae(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KL(s,o.resumeToken);const c=TA(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(lt.min())>0){a.readTime=ov(s,o.snapshotVersion.toTimestamp());const c=TA(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Eae(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=PA(this.serializer),n.removeTarget=e,this.a_(n)}}class sue extends iB{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Zt(!!e.streamToken),this.lastStreamToken=e.streamToken,Zt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=vae(e.writeResults,e.commitTime),r=Mo(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=PA(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yae(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oue extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Me(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,RA(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Me(ge.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,RA(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(ge.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class aue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ea(n),this.D_=!1):je("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uue{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Il(this)&&(je("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ht(u);c.L_.add(4),await kg(c),c.q_.set("Unknown"),c.L_.delete(4),await xw(c)}(this))})}),this.q_=new aue(r,i)}}async function xw(t){if(Il(t))for(const e of t.B_)await e(!0)}async function kg(t){for(const e of t.B_)await e(!1)}function sB(t,e){const n=ht(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),k5(n)?R5(n):ud(n).r_()&&T5(n,e))}function x5(t,e){const n=ht(t),r=ud(n);n.N_.delete(e),r.r_()&&oB(n,e),n.N_.size===0&&(r.r_()?r.o_():Il(n)&&n.q_.set("Unknown"))}function T5(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(lt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ud(t).A_(e)}function oB(t,e){t.Q_.xe(e),ud(t).R_(e)}function R5(t){t.Q_=new cae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ud(t).start(),t.q_.v_()}function k5(t){return Il(t)&&!ud(t).n_()&&t.N_.size>0}function Il(t){return ht(t).L_.size===0}function aB(t){t.Q_=void 0}async function cue(t){t.q_.set("Online")}async function lue(t){t.N_.forEach((e,n)=>{T5(t,e)})}async function fue(t,e){aB(t),k5(t)?(t.q_.M_(e),R5(t)):t.q_.set("Unknown")}async function hue(t,e,n){if(t.q_.set("Online"),e instanceof GL&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await av(t,r)}else if(e instanceof Ky?t.Q_.Ke(e):e instanceof WL?t.Q_.He(e):t.Q_.We(e),!n.isEqual(lt.min()))try{const r=await nB(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=s.N_.get(c);l&&s.N_.set(c,l.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const l=s.N_.get(u);if(!l)return;s.N_.set(u,l.withResumeToken(Ar.EMPTY_BYTE_STRING,l.snapshotVersion)),oB(s,u);const f=new au(l.target,u,c,l.sequenceNumber);T5(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){je("RemoteStore","Failed to raise snapshot:",r),await av(t,r)}}async function av(t,e,n){if(!xg(e))throw e;t.L_.add(1),await kg(t),t.q_.set("Offline"),n||(n=()=>nB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{je("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await xw(t)})}function uB(t,e){return e().catch(n=>av(t,n,e))}async function Tw(t){const e=ht(t),n=Nu(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;due(e);)try{const i=await Zae(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,pue(e,i)}catch(i){await av(e,i)}cB(e)&&lB(e)}function due(t){return Il(t)&&t.O_.length<10}function pue(t,e){t.O_.push(e);const n=Nu(t);n.r_()&&n.V_&&n.m_(e.mutations)}function cB(t){return Il(t)&&!Nu(t).n_()&&t.O_.length>0}function lB(t){Nu(t).start()}async function gue(t){Nu(t).p_()}async function mue(t){const e=Nu(t);for(const n of t.O_)e.m_(n.mutations)}async function yue(t,e,n){const r=t.O_.shift(),i=b5.from(r,e,n);await uB(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Tw(t)}async function vue(t,e){e&&Nu(t).V_&&await async function(r,i){if(function(o){return oae(o)&&o!==ge.ABORTED}(i.code)){const s=r.O_.shift();Nu(r).s_(),await uB(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Tw(r)}}(t,e),cB(t)&&lB(t)}async function UT(t,e){const n=ht(t);n.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=Il(n);n.L_.add(3),await kg(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await xw(n)}async function wue(t,e){const n=ht(t);e?(n.L_.delete(2),await xw(n)):e||(n.L_.add(2),await kg(n),n.q_.set("Unknown"))}function ud(t){return t.K_||(t.K_=function(n,r,i){const s=ht(n);return s.w_(),new iue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:cue.bind(null,t),Ro:lue.bind(null,t),mo:fue.bind(null,t),d_:hue.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),k5(t)?R5(t):t.q_.set("Unknown")):(await t.K_.stop(),aB(t))})),t.K_}function Nu(t){return t.U_||(t.U_=function(n,r,i){const s=ht(n);return s.w_(),new sue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:gue.bind(null,t),mo:vue.bind(null,t),f_:mue.bind(null,t),g_:yue.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Tw(t)):(await t.U_.stop(),t.O_.length>0&&(je("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new P5(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M5(t,e){if(Ea("AsyncQueue",`${e}: ${t}`),xg(t))return new Me(ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Qe.comparator(n.key,r.key):(n,r)=>Qe.comparator(n.key,r.key),this.keyedMap=Yd(),this.sortedSet=new An(this.comparator)}static emptySet(e){return new Bf(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.W_=new An(Qe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ot():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Oh{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Oh(e,n,Bf.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ue{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class bue{constructor(){this.queries=VT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ht(n),s=i.queries;i.queries=VT(),s.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new Me(ge.ABORTED,"Firestore shutting down"))}}function VT(){return new ad(t=>ML(t),bw)}async function D5(t,e){const n=ht(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new _ue,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=M5(o,`Initialization of query '${rf(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&N5(n)}async function O5(t,e){const n=ht(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Eue(t,e){const n=ht(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&N5(n)}function Aue(t,e,n){const r=ht(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function N5(t){t.Y_.forEach(e=>{e.next()})}var DA,zT;(zT=DA||(DA={})).ea="default",zT.Cache="cache";class L5{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Oh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Oh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==DA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e){this.key=e}}class hB{constructor(e){this.key=e}}class Sue{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Tt(),this.mutatedKeys=Tt(),this.Aa=DL(e),this.Ra=new Bf(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new jT,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,f)=>{const h=i.get(l),m=Ew(this.query,f)?f:null,b=!!h&&this.mutatedKeys.has(h.key),A=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;h&&m?h.data.isEqual(m.data)?b!==A&&(r.track({type:3,doc:m}),T=!0):this.ga(h,m)||(r.track({type:2,doc:m}),T=!0,(u&&this.Aa(m,u)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),T=!0):h&&!m&&(r.track({type:1,doc:h}),T=!0,(u||c)&&(a=!0)),T&&(m?(o=o.add(m),s=A?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((l,f)=>function(m,b){const A=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return A(m)-A(b)}(l.type,f.type)||this.Aa(l.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new Oh(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new jT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Tt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new hB(r))}),this.da.forEach(r=>{e.has(r)||n.push(new fB(r))}),n}ba(e){this.Ta=e.Ts,this.da=Tt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Oh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Cue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Iue{constructor(e){this.key=e,this.va=!1}}class xue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ad(a=>ML(a),bw),this.Ma=new Map,this.xa=new Set,this.Oa=new An(Qe.comparator),this.Na=new Map,this.La=new S5,this.Ba={},this.ka=new Map,this.qa=Dh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Tue(t,e,n=!0){const r=vB(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await dB(r,e,n,!0),i}async function Rue(t,e){const n=vB(t);await dB(n,e,!0,!1)}async function dB(t,e,n,r){const i=await Jae(t.localStore,ko(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await kue(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&sB(t.remoteStore,i),a}async function kue(t,e,n,r,i){t.Ka=(f,h,m)=>async function(A,T,_,w){let C=T.view.ma(_);C.ns&&(C=await BT(A.localStore,T.query,!1).then(({documents:v})=>T.view.ma(v,C)));const M=w&&w.targetChanges.get(T.targetId),N=w&&w.targetMismatches.get(T.targetId)!=null,U=T.view.applyChanges(C,A.isPrimaryClient,M,N);return qT(A,T.targetId,U.wa),U.snapshot}(t,f,h,m);const s=await BT(t.localStore,e,!0),o=new Sue(e,s.Ts),a=o.ma(s.documents),u=Rg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);qT(t,n,c.wa);const l=new Cue(e,n,o);return t.Fa.set(e,l),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Pue(t,e,n){const r=ht(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!bw(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await MA(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&x5(r.remoteStore,i.targetId),OA(r,i.targetId)}).catch(Ig)):(OA(r,i.targetId),await MA(r.localStore,i.targetId,!0))}async function Mue(t,e){const n=ht(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),x5(n.remoteStore,r.targetId))}async function Due(t,e,n){const r=Uue(t);try{const i=await function(o,a){const u=ht(o),c=Wn.now(),l=a.reduce((m,b)=>m.add(b.key),Tt());let f,h;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let b=Aa(),A=Tt();return u.cs.getEntries(m,l).next(T=>{b=T,b.forEach((_,w)=>{w.isValidDocument()||(A=A.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,b)).next(T=>{f=T;const _=[];for(const w of a){const C=tae(w,f.get(w.key).overlayedDocument);C!=null&&_.push(new Gu(w.key,C,SL(C.value.mapValue),Po.exists(!0)))}return u.mutationQueue.addMutationBatch(m,c,_,a)}).next(T=>{h=T;const _=T.applyToLocalDocumentSet(f,A);return u.documentOverlayCache.saveOverlays(m,T.batchId,_)})}).then(()=>({batchId:h.batchId,changes:NL(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new An(jt)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Pg(r,i.changes),await Tw(r.remoteStore)}catch(i){const s=M5(i,"Failed to persist write");n.reject(s)}}async function pB(t,e){const n=ht(t);try{const r=await Kae(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Zt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Zt(o.va):i.removedDocuments.size>0&&(Zt(o.va),o.va=!1))}),await Pg(n,r,e)}catch(r){await Ig(r)}}function HT(t,e,n){const r=ht(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=ht(o);u.onlineState=a;let c=!1;u.queries.forEach((l,f)=>{for(const h of f.j_)h.Z_(a)&&(c=!0)}),c&&N5(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Oue(t,e,n){const r=ht(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new An(Qe.comparator);o=o.insert(s,Nr.newNoDocument(s,lt.min()));const a=Tt().add(s),u=new Cw(lt.min(),new Map,new An(jt),o,a);await pB(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),B5(r)}else await MA(r.localStore,e,!1).then(()=>OA(r,e,n)).catch(Ig)}async function Nue(t,e){const n=ht(t),r=e.batch.batchId;try{const i=await Gae(n.localStore,e);mB(n,r,null),gB(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pg(n,i)}catch(i){await Ig(i)}}async function Lue(t,e,n){const r=ht(t);try{const i=await function(o,a){const u=ht(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Zt(f!==null),l=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);mB(r,e,n),gB(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pg(r,i)}catch(i){await Ig(i)}}function gB(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function mB(t,e,n){const r=ht(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function OA(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||yB(t,r)})}function yB(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(x5(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),B5(t))}function qT(t,e,n){for(const r of n)r instanceof fB?(t.La.addReference(r.key,e),Bue(t,r)):r instanceof hB?(je("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||yB(t,r.key)):ot()}function Bue(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(je("SyncEngine","New document in limbo: "+n),t.xa.add(r),B5(t))}function B5(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Qe(ln.fromString(e)),r=t.qa.next();t.Na.set(r,new Iue(n)),t.Oa=t.Oa.insert(n,r),sB(t.remoteStore,new au(ko(_w(n.path)),r,"TargetPurposeLimboResolution",p5.oe))}}async function Pg(t,e,n){const r=ht(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var l;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(l=n==null?void 0:n.targetChanges.get(u.targetId))===null||l===void 0?void 0:l.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=I5.Wi(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const l=ht(u);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ye.forEach(c,h=>ye.forEach(h.$i,m=>l.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>ye.forEach(h.Ui,m=>l.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!xg(f))throw f;je("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const m=l.os.get(h),b=m.snapshotVersion,A=m.withLastLimboFreeSnapshotVersion(b);l.os=l.os.insert(h,A)}}}(r.localStore,s))}async function Fue(t,e){const n=ht(t);if(!n.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=await tB(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new Me(ge.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pg(n,r.hs)}}function $ue(t,e){const n=ht(t),r=n.Na.get(e);if(r&&r.va)return Tt().add(r.key);{let i=Tt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function vB(t){const e=ht(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$ue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Oue.bind(null,e),e.Ca.d_=Eue.bind(null,e.eventManager),e.Ca.$a=Aue.bind(null,e.eventManager),e}function Uue(t){const e=ht(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lue.bind(null,e),e}class uv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Iw(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Wae(this.persistence,new Hae,e.initialUser,this.serializer)}Ga(e){return new jae(C5.Zr,this.serializer)}Wa(e){return new Xae}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uv.provider={build:()=>new uv};class NA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fue.bind(null,this.syncEngine),await wue(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bue}()}createDatastore(e){const n=Iw(e.databaseInfo.databaseId),r=function(s){return new rue(s)}(e.databaseInfo);return function(s,o,a,u){return new oue(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new uue(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>HT(this.syncEngine,n,0),function(){return $T.D()?new $T:new eue}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,l){const f=new xue(i,s,o,a,u,c);return l&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ht(i);je("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await kg(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}NA.provider={build:()=>new NA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ea("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jue{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dr.UNAUTHENTICATED,this.clientId=bL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{je("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(je("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=M5(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function I2(t,e){t.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await tB(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function WT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Vue(t);je("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>UT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>UT(e.remoteStore,i)),t._onlineComponents=e}async function Vue(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je("FirestoreClient","Using user provided OfflineComponentProvider");try{await I2(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ge.FAILED_PRECONDITION||i.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Th("Error using user provided cache. Falling back to memory cache: "+n),await I2(t,new uv)}}else je("FirestoreClient","Using default OfflineComponentProvider"),await I2(t,new uv);return t._offlineComponents}async function wB(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je("FirestoreClient","Using user provided OnlineComponentProvider"),await WT(t,t._uninitializedComponentsProvider._online)):(je("FirestoreClient","Using default OnlineComponentProvider"),await WT(t,new NA))),t._onlineComponents}function zue(t){return wB(t).then(e=>e.syncEngine)}async function cv(t){const e=await wB(t),n=e.eventManager;return n.onListen=Tue.bind(null,e.syncEngine),n.onUnlisten=Pue.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Rue.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Mue.bind(null,e.syncEngine),n}function Hue(t,e,n={}){const r=new ca;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const l=new F5({next:h=>{l.Za(),o.enqueueAndForget(()=>O5(s,f));const m=h.docs.has(a);!m&&h.fromCache?c.reject(new Me(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&u&&u.source==="server"?c.reject(new Me(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new L5(_w(a.path),l,{includeMetadataChanges:!0,_a:!0});return D5(s,f)}(await cv(t),t.asyncQueue,e,n,r)),r.promise}function que(t,e,n={}){const r=new ca;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const l=new F5({next:h=>{l.Za(),o.enqueueAndForget(()=>O5(s,f)),h.fromCache&&u.source==="server"?c.reject(new Me(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new L5(a,l,{includeMetadataChanges:!0,_a:!0});return D5(s,f)}(await cv(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(t,e,n){if(!n)throw new Me(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Wue(t,e,n,r){if(e===!0&&r===!0)throw new Me(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KT(t){if(!Qe.isDocumentKey(t))throw new Me(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QT(t){if(Qe.isDocumentKey(t))throw new Me(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ot()}function Vs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rw(t);throw new Me(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Gue(t,e){if(e<=0)throw new Me(ge.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Me(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Wue("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_B((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Me(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Me(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Me(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kw{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new coe;switch(r.type){case"firstParty":return new doe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Me(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=GT.get(n);r&&(je("ComponentProvider","Removing Datastore"),GT.delete(n),r.terminate())}(this),Promise.resolve()}}function Kue(t,e,n,r={}){var i;const s=(t=Vs(t,kw))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Th("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Dr.MOCK_USER;else{a=Ere(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Me(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Dr(c)}t._authCredentials=new loe(new _L(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ka(this.firestore,e,this._query)}}class Qr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qr(this.firestore,e,this._key)}}class Eu extends ka{constructor(e,n,r){super(e,n,_w(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qr(this.firestore,null,new Qe(e))}withConverter(e){return new Eu(this.firestore,e,this._path)}}function pbe(t,e,...n){if(t=ys(t),bB("collection","path",e),t instanceof kw){const r=ln.fromString(e,...n);return QT(r),new Eu(t,null,r)}{if(!(t instanceof Qr||t instanceof Eu))throw new Me(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ln.fromString(e,...n));return QT(r),new Eu(t.firestore,null,r)}}function Que(t,e,...n){if(t=ys(t),arguments.length===1&&(e=bL.newId()),bB("doc","path",e),t instanceof kw){const r=ln.fromString(e,...n);return KT(r),new Qr(t,null,new Qe(r))}{if(!(t instanceof Qr||t instanceof Eu))throw new Me(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ln.fromString(e,...n));return KT(r),new Qr(t.firestore,t instanceof Eu?t.converter:null,new Qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new rB(this,"async_queue_retry"),this.Vu=()=>{const r=C2();r&&je("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=C2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=C2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ca;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xg(e))throw e;je("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ea("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=P5.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ot()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function YT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class yl extends kw{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new JT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JT(e),this._firestoreClient=void 0,await e}}}function gbe(t,e){const n=typeof t=="object"?t:z9(),r=typeof t=="string"?t:"(default)",i=Cg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_re("firestore");s&&Kue(i,...s)}return i}function Pw(t){if(t._terminated)throw new Me(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Zue(t),t._firestoreClient}function Zue(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,l){return new Ioe(a,u,c,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,_B(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new jue(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nh(Ar.fromBase64String(e))}catch(n){throw new Me(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nh(Ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Me(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Me(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Me(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jue=/^__.*__$/;class Yue{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tg(e,this.data,n,this.fieldTransforms)}}class EB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class Ow{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ow(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return lv(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(AB(this.Cu)&&Jue.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Xue{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Iw(e)}Qu(e,n,r,i=!1){return new Ow({Cu:e,methodName:n,qu:r,path:yr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function j5(t){const e=t._freezeSettings(),n=Iw(t._databaseId);return new Xue(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ece(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);z5("Data must be an object, but it was:",o,r);const a=SB(r,o);let u,c;if(s.merge)u=new Ri(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const f of s.mergeFields){const h=LA(e,f,n);if(!o.contains(h))throw new Me(ge.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);IB(l,h)||l.push(h)}u=new Ri(l),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new Yue(new ci(a),u,c)}class Nw extends Dw{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nw}}function tce(t,e,n){return new Ow({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class V5 extends Dw{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=tce(this,e,!0),r=this.Ku.map(s=>cd(s,n)),i=new Mh(r);return new Joe(e.path,i)}isEqual(e){return e instanceof V5&&Np(this.Ku,e.Ku)}}function nce(t,e,n,r){const i=t.Qu(1,e,n);z5("Data must be an object, but it was:",i,r);const s=[],o=ci.empty();Cl(r,(u,c)=>{const l=H5(e,u,n);c=ys(c);const f=i.Nu(l);if(c instanceof Nw)s.push(l);else{const h=cd(c,f);h!=null&&(s.push(l),o.set(l,h))}});const a=new Ri(s);return new EB(o,a,i.fieldTransforms)}function rce(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[LA(e,r,n)],u=[i];if(s.length%2!=0)throw new Me(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(LA(e,s[h])),u.push(s[h+1]);const c=[],l=ci.empty();for(let h=a.length-1;h>=0;--h)if(!IB(c,a[h])){const m=a[h];let b=u[h];b=ys(b);const A=o.Nu(m);if(b instanceof Nw)c.push(m);else{const T=cd(b,A);T!=null&&(c.push(m),l.set(m,T))}}const f=new Ri(c);return new EB(l,f,o.fieldTransforms)}function ice(t,e,n,r=!1){return cd(n,t.Qu(r?4:3,e))}function cd(t,e){if(CB(t=ys(t)))return z5("Unsupported field value:",e,t),SB(t,e);if(t instanceof Dw)return function(r,i){if(!AB(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=cd(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ys(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Koe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Wn.fromDate(r);return{timestampValue:ov(i.serializer,s)}}if(r instanceof Wn){const s=new Wn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ov(i.serializer,s)}}if(r instanceof $5)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nh)return{bytesValue:KL(i.serializer,r._byteString)};if(r instanceof Qr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:A5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof U5)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return _5(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Rw(r)}`)}(t,e)}function SB(t,e){const n={};return EL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cl(t,(r,i)=>{const s=cd(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function CB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wn||t instanceof $5||t instanceof Nh||t instanceof Qr||t instanceof Dw||t instanceof U5)}function z5(t,e,n){if(!CB(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Rw(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function LA(t,e,n){if((e=ys(e))instanceof Mw)return e._internalPath;if(typeof e=="string")return H5(t,e);throw lv("Field path arguments must be of type string or ",t,!1,void 0,n)}const sce=new RegExp("[~\\*/\\[\\]]");function H5(t,e,n){if(e.search(sce)>=0)throw lv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mw(...e.split("."))._internalPath}catch{throw lv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lv(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Me(ge.INVALID_ARGUMENT,a+t+u)}function IB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oce(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oce extends xB{data(){return super.data()}}function Lw(t,e){return typeof e=="string"?H5(t,e):e instanceof Mw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Me(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q5{}class W5 extends q5{}function mbe(t,e,...n){let r=[];e instanceof q5&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof G5).length,a=s.filter(u=>u instanceof Bw).length;if(o>1||o>0&&a>0)throw new Me(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Bw extends W5{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bw(e,n,r)}_apply(e){const n=this._parse(e);return RB(e._query,n),new ka(e.firestore,e.converter,xA(e._query,n))}_parse(e){const n=j5(e.firestore);return function(s,o,a,u,c,l,f){let h;if(c.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new Me(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){e8(f,l);const m=[];for(const b of f)m.push(XT(u,s,b));h={arrayValue:{values:m}}}else h=XT(u,s,f)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||e8(f,l),h=ice(a,o,f,l==="in"||l==="not-in");return Fn.create(c,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ybe(t,e,n){const r=e,i=Lw("where",t);return Bw._create(i,r,n)}class G5 extends q5{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new G5(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ws.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)RB(o,u),o=xA(o,u)}(e._query,n),new ka(e.firestore,e.converter,xA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class K5 extends W5{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new K5(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Me(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Me(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jp(s,o)}(e._query,this._field,this._direction);return new ka(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new od(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function vbe(t,e="asc"){const n=e,r=Lw("orderBy",t);return K5._create(r,n)}class Q5 extends W5{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Q5(e,n,r)}_apply(e){return new ka(e.firestore,e.converter,rv(e._query,this._limit,this._limitType))}}function wbe(t){return Gue("limit",t),Q5._create("limit",t,"F")}function XT(t,e,n){if(typeof(n=ys(n))=="string"){if(n==="")throw new Me(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PL(e)&&n.indexOf("/")!==-1)throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ln.fromString(n));if(!Qe.isDocumentKey(r))throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _T(t,new Qe(r))}if(n instanceof Qr)return _T(t,n._key);throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rw(n)}.`)}function e8(t,e){if(!Array.isArray(t)||t.length===0)throw new Me(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RB(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Me(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ace{convertValue(e,n="none"){switch(ml(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ot()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>kn(o.doubleValue));return new U5(s)}convertGeoPoint(e){return new $5(kn(e.latitude),kn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=m5(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fp(e));default:return null}}convertTimestamp(e){const n=Ou(e);return new Wn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ln.fromString(e);Zt(eB(r));const i=new $p(r.get(1),r.get(3)),s=new Qe(r.popFirst(5));return i.isEqual(n)||Ea(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uce(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kB extends xB{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qy extends kB{data(e={}){return super.data(e)}}class PB{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new e0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qy(this._firestore,this._userDataWriter,r.key,r,new e0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Me(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Qy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new e0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Qy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new e0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:cce(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cce(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _be(t){t=Vs(t,Qr);const e=Vs(t.firestore,yl);return Hue(Pw(e),t._key).then(n=>DB(e,t,n))}class Z5 extends ace{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qr(this.firestore,null,n)}}function bbe(t){t=Vs(t,ka);const e=Vs(t.firestore,yl),n=Pw(e),r=new Z5(e);return TB(t._query),que(n,t._query).then(i=>new PB(e,r,t,i))}function Ebe(t,e,n,...r){t=Vs(t,Qr);const i=Vs(t.firestore,yl),s=j5(i);let o;return o=typeof(e=ys(e))=="string"||e instanceof Mw?rce(s,"updateDoc",t._key,e,n,r):nce(s,"updateDoc",t._key,e),MB(i,[o.toMutation(t._key,Po.exists(!0))])}function Abe(t,e){const n=Vs(t.firestore,yl),r=Que(t),i=uce(t.converter,e);return MB(n,[ece(j5(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Po.exists(!1))]).then(()=>r)}function Sbe(t,...e){var n,r,i;t=ys(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||YT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(YT(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,c,l;if(t instanceof Qr)c=Vs(t.firestore,yl),l=_w(t._key.path),u={next:f=>{e[o]&&e[o](DB(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Vs(t,ka);c=Vs(f.firestore,yl),l=f._query;const h=new Z5(c);u={next:m=>{e[o]&&e[o](new PB(c,h,f,m))},error:e[o+1],complete:e[o+2]},TB(t._query)}return function(h,m,b,A){const T=new F5(A),_=new L5(m,T,b);return h.asyncQueue.enqueueAndForget(async()=>D5(await cv(h),_)),()=>{T.Za(),h.asyncQueue.enqueueAndForget(async()=>O5(await cv(h),_))}}(Pw(c),l,a,u)}function MB(t,e){return function(r,i){const s=new ca;return r.asyncQueue.enqueueAndForget(async()=>Due(await zue(r),i,s)),s.promise}(Pw(t),e)}function DB(t,e,n){const r=n.docs.get(e._key),i=new Z5(t);return new kB(t,i,e._key,r,new e0(n.hasPendingWrites,n.fromCache),e.converter)}function Cbe(...t){return new V5("arrayUnion",t)}(function(e,n=!0){(function(i){sd=i})(Mie),Mu(new _a("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new yl(new foe(r.getProvider("auth-internal")),new goe(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Me(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $p(c.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ro(gT,"4.7.3",e),Ro(gT,"4.7.3","esm2017")})();var OB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},t8=cu.createContext&&cu.createContext(OB),lce=["attr","size","title"];function fce(t,e){if(t==null)return{};var n=hce(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fv.apply(this,arguments)}function n8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n8(Object(n),!0).forEach(function(r){dce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dce(t,e,n){return e=pce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pce(t){var e=gce(t,"string");return typeof e=="symbol"?e:e+""}function gce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NB(t){return t&&t.map((e,n)=>cu.createElement(e.tag,hv({key:n},e.attr),NB(e.child)))}function jo(t){return e=>cu.createElement(mce,fv({attr:hv({},t.attr)},e),NB(t.child))}function mce(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=fce(t,lce),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),cu.createElement("svg",fv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:hv(hv({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&cu.createElement("title",null,s),t.children)};return t8!==void 0?cu.createElement(t8.Consumer,null,n=>e(n)):e(OB)}function Ibe(t){return jo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M244 400 100 256l144-144M120 256h292"},child:[]}]})(t)}function xbe(t){return jo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 376a56 56 0 0 0 56 56h336a56 56 0 0 0 56-56V222H32zm66-76a30 30 0 0 1 30-30h48a30 30 0 0 1 30 30v20a30 30 0 0 1-30 30h-48a30 30 0 0 1-30-30zM424 80H88a56 56 0 0 0-56 56v26h448v-26a56 56 0 0 0-56-56z"},child:[]}]})(t)}function Tbe(t){return jo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M416 128 192 384l-96-96"},child:[]}]})(t)}function Rbe(t){return jo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}function kbe(t){return jo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}function Pbe(t){return jo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48zm96 240h-96a16 16 0 0 1-16-16V128a16 16 0 0 1 32 0v128h80a16 16 0 0 1 0 32z"},child:[]}]})(t)}function Mbe(t){return jo({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 0C229.232 0 0 229.232 0 512c0 282.784 229.232 512 512 512 282.784 0 512-229.216 512-512C1024 229.232 794.784 0 512 0zm0 961.008c-247.024 0-448-201.984-448-449.01 0-247.024 200.976-448 448-448s448 200.977 448 448-200.976 449.01-448 449.01zm181.008-630.016c-12.496-12.496-32.752-12.496-45.248 0L512 466.752l-135.76-135.76c-12.496-12.496-32.752-12.496-45.264 0-12.496 12.496-12.496 32.752 0 45.248L466.736 512l-135.76 135.76c-12.496 12.48-12.496 32.769 0 45.249 12.496 12.496 32.752 12.496 45.264 0L512 557.249l135.76 135.76c12.496 12.496 32.752 12.496 45.248 0 12.496-12.48 12.496-32.769 0-45.249L557.248 512l135.76-135.76c12.512-12.512 12.512-32.768 0-45.248z"},child:[]}]})(t)}function Dbe(t){return jo({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M532.528 661.408c-12.512 12.496-12.513 32.752-.001 45.248 6.256 6.256 14.432 9.376 22.624 9.376s16.368-3.12 22.624-9.376l189.008-194L577.775 318.64c-12.496-12.496-32.752-12.496-45.248 0-12.512 12.496-12.512 32.752 0 45.248l115.744 115.76H31.839c-17.68 0-32 14.336-32 32s14.32 32 32 32h618.448zM960.159 0h-576c-35.36 0-64.017 28.656-64.017 64v288h64.432V103.024c0-21.376 17.344-38.72 38.72-38.72h496.704c21.408 0 38.72 17.344 38.72 38.72l1.007 818.288c0 21.376-17.311 38.72-38.72 38.72H423.31c-21.376 0-38.72-17.344-38.72-38.72V670.944l-64.432.08V960c0 35.344 28.656 64 64.017 64h576c35.344 0 64-28.656 64-64V64c-.016-35.344-28.672-64-64.016-64z"},child:[]}]})(t)}function Obe(t){return jo({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 0C229.232 0 0 229.232 0 512c0 282.784 229.232 512 512 512 282.784 0 512-229.216 512-512C1024 229.232 794.784 0 512 0zm0 961.008c-247.024 0-448-201.984-448-449.01 0-247.024 200.976-448 448-448s448 200.977 448 448-200.976 449.01-448 449.01zM736 480H544V288c0-17.664-14.336-32-32-32s-32 14.336-32 32v192H288c-17.664 0-32 14.336-32 32s14.336 32 32 32h192v192c0 17.664 14.336 32 32 32s32-14.336 32-32V544h192c17.664 0 32-14.336 32-32s-14.336-32-32-32z"},child:[]}]})(t)}function Nbe(t){return jo({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"},child:[]},{tag:"path",attr:{d:"M8 12h8"},child:[]},{tag:"path",attr:{d:"M12 8v8"},child:[]}]})(t)}var LB={},zp={},Fw={};Object.defineProperty(Fw,"__esModule",{value:!0});Fw.walletLogo=void 0;const yce=(t,e)=>{let n;switch(t){case"standard":return n=e,`data:image/svg+xml,%3Csvg width='${e}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return n=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${n}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return n=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return n=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return n=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return n=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return n=e,`data:image/svg+xml,%3Csvg width='${e}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Fw.walletLogo=yce;var $w={};const BB=Ta(XJ);var Vo={},Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.errorValues=Sa.standardErrorCodes=void 0;Sa.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};Sa.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var Uw={},J5={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=t.getErrorCode=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Sa,n="Unspecified error message.";t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function r(h,m=n){if(h&&Number.isInteger(h)){const b=h.toString();if(l(e.errorValues,b))return e.errorValues[b].message;if(u(h))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return m}t.getMessageFromCode=r;function i(h){if(!Number.isInteger(h))return!1;const m=h.toString();return!!(e.errorValues[m]||u(h))}t.isValidCode=i;function s(h){var m;if(typeof h=="number")return h;if(o(h))return(m=h.code)!==null&&m!==void 0?m:h.errorCode}t.getErrorCode=s;function o(h){return typeof h=="object"&&h!==null&&(typeof h.code=="number"||typeof h.errorCode=="number")}function a(h,{shouldIncludeStack:m=!1}={}){const b={};if(h&&typeof h=="object"&&!Array.isArray(h)&&l(h,"code")&&i(h.code)){const A=h;b.code=A.code,A.message&&typeof A.message=="string"?(b.message=A.message,l(A,"data")&&(b.data=A.data)):(b.message=r(b.code),b.data={originalError:c(h)})}else b.code=e.standardErrorCodes.rpc.internal,b.message=f(h,"message")?h.message:n,b.data={originalError:c(h)};return m&&(b.stack=f(h,"stack")?h.stack:void 0),b}t.serialize=a;function u(h){return h>=-32099&&h<=-32e3}function c(h){return h&&typeof h=="object"&&!Array.isArray(h)?Object.assign({},h):h}function l(h,m){return Object.prototype.hasOwnProperty.call(h,m)}function f(h,m){return typeof h=="object"&&h!==null&&m in h&&typeof h[m]=="string"}})(J5);Object.defineProperty(Uw,"__esModule",{value:!0});Uw.standardErrors=void 0;const hr=Sa,FB=J5;Uw.standardErrors={rpc:{parse:t=>Qi(hr.standardErrorCodes.rpc.parse,t),invalidRequest:t=>Qi(hr.standardErrorCodes.rpc.invalidRequest,t),invalidParams:t=>Qi(hr.standardErrorCodes.rpc.invalidParams,t),methodNotFound:t=>Qi(hr.standardErrorCodes.rpc.methodNotFound,t),internal:t=>Qi(hr.standardErrorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Qi(e,t)},invalidInput:t=>Qi(hr.standardErrorCodes.rpc.invalidInput,t),resourceNotFound:t=>Qi(hr.standardErrorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Qi(hr.standardErrorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Qi(hr.standardErrorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Qi(hr.standardErrorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Qi(hr.standardErrorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Hl(hr.standardErrorCodes.provider.userRejectedRequest,t),unauthorized:t=>Hl(hr.standardErrorCodes.provider.unauthorized,t),unsupportedMethod:t=>Hl(hr.standardErrorCodes.provider.unsupportedMethod,t),disconnected:t=>Hl(hr.standardErrorCodes.provider.disconnected,t),chainDisconnected:t=>Hl(hr.standardErrorCodes.provider.chainDisconnected,t),unsupportedChain:t=>Hl(hr.standardErrorCodes.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new jB(e,n,r)}}};function Qi(t,e){const[n,r]=$B(e);return new UB(t,n||(0,FB.getMessageFromCode)(t),r)}function Hl(t,e){const[n,r]=$B(e);return new jB(t,n||(0,FB.getMessageFromCode)(t),r)}function $B(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}let UB=class extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}},jB=class extends UB{constructor(e,n,r){if(!vce(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}};function vce(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.standardErrors=t.standardErrorCodes=void 0;var e=Sa;Object.defineProperty(t,"standardErrorCodes",{enumerable:!0,get:function(){return e.standardErrorCodes}});var n=Uw;Object.defineProperty(t,"standardErrors",{enumerable:!0,get:function(){return n.standardErrors}})})(Vo);var jw={},ld={};Object.defineProperty(ld,"__esModule",{value:!0});ld.isErrorResponse=void 0;function wce(t){return t.errorMessage!==void 0}ld.isErrorResponse=wce;var xl={};Object.defineProperty(xl,"__esModule",{value:!0});xl.LIB_VERSION=void 0;xl.LIB_VERSION="4.0.4";Object.defineProperty(jw,"__esModule",{value:!0});jw.serializeError=void 0;const _ce=ld,bce=xl,Ece=Sa,Ace=J5;function Sce(t,e){const n=(0,Ace.serialize)(Cce(t),{shouldIncludeStack:!0}),r=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");r.searchParams.set("version",bce.LIB_VERSION),r.searchParams.set("code",n.code.toString());const i=Ice(n.data,e);return i&&r.searchParams.set("method",i),r.searchParams.set("message",n.message),Object.assign(Object.assign({},n),{docUrl:r.href})}jw.serializeError=Sce;function Cce(t){return typeof t=="string"?{message:t,code:Ece.standardErrorCodes.rpc.internal}:(0,_ce.isErrorResponse)(t)?Object.assign(Object.assign({},t),{message:t.errorMessage,code:t.errorCode,data:{method:t.method}}):t}function Ice(t,e){const n=t==null?void 0:t.method;if(n)return n;if(e!==void 0){if(typeof e=="string")return e;if(Array.isArray(e)){if(e.length>0)return e[0].method}else return e.method}}var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.RegExpString=Lr.IntNumber=Lr.BigIntString=Lr.AddressString=Lr.HexString=Lr.OpaqueType=void 0;function Mg(){return t=>t}Lr.OpaqueType=Mg;Lr.HexString=Mg();Lr.AddressString=Mg();Lr.BigIntString=Mg();function xce(t){return Math.floor(t)}Lr.IntNumber=xce;Lr.RegExpString=Mg();var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.areAddressArraysEqual=Ge.getFavicon=Ge.range=Ge.isBigNumber=Ge.ensureParsedJSONObject=Ge.ensureBigInt=Ge.ensureRegExpString=Ge.ensureIntNumber=Ge.ensureBuffer=Ge.ensureAddressString=Ge.ensureEvenLengthHexString=Ge.ensureHexString=Ge.isHexString=Ge.prepend0x=Ge.strip0x=Ge.has0xPrefix=Ge.hexStringFromIntNumber=Ge.intNumberFromHexString=Ge.bigIntStringFromBigInt=Ge.hexStringFromBuffer=Ge.hexStringToUint8Array=Ge.uint8ArrayToHex=Ge.randomBytesHex=void 0;const Tl=Vo,hs=Lr,VB=/^[0-9]*$/,zB=/^[a-f0-9]*$/;function Tce(t){return HB(crypto.getRandomValues(new Uint8Array(t)))}Ge.randomBytesHex=Tce;function HB(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}Ge.uint8ArrayToHex=HB;function Rce(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}Ge.hexStringToUint8Array=Rce;function kce(t,e=!1){const n=t.toString("hex");return(0,hs.HexString)(e?`0x${n}`:n)}Ge.hexStringFromBuffer=kce;function Pce(t){return(0,hs.BigIntString)(t.toString(10))}Ge.bigIntStringFromBigInt=Pce;function Mce(t){return(0,hs.IntNumber)(Number(BigInt(Og(t,!0))))}Ge.intNumberFromHexString=Mce;function Dce(t){return(0,hs.HexString)(`0x${BigInt(t).toString(16)}`)}Ge.hexStringFromIntNumber=Dce;function Y5(t){return t.startsWith("0x")||t.startsWith("0X")}Ge.has0xPrefix=Y5;function Vw(t){return Y5(t)?t.slice(2):t}Ge.strip0x=Vw;function qB(t){return Y5(t)?`0x${t.slice(2)}`:`0x${t}`}Ge.prepend0x=qB;function Dg(t){if(typeof t!="string")return!1;const e=Vw(t).toLowerCase();return zB.test(e)}Ge.isHexString=Dg;function WB(t,e=!1){if(typeof t=="string"){const n=Vw(t).toLowerCase();if(zB.test(n))return(0,hs.HexString)(e?`0x${n}`:n)}throw Tl.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}Ge.ensureHexString=WB;function Og(t,e=!1){let n=WB(t,!1);return n.length%2===1&&(n=(0,hs.HexString)(`0${n}`)),e?(0,hs.HexString)(`0x${n}`):n}Ge.ensureEvenLengthHexString=Og;function Oce(t){if(typeof t=="string"){const e=Vw(t).toLowerCase();if(Dg(e)&&e.length===40)return(0,hs.AddressString)(qB(e))}throw Tl.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}Ge.ensureAddressString=Oce;function Nce(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(Dg(t)){const e=Og(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw Tl.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}Ge.ensureBuffer=Nce;function GB(t){if(typeof t=="number"&&Number.isInteger(t))return(0,hs.IntNumber)(t);if(typeof t=="string"){if(VB.test(t))return(0,hs.IntNumber)(Number(t));if(Dg(t))return(0,hs.IntNumber)(Number(BigInt(Og(t,!0))))}throw Tl.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}Ge.ensureIntNumber=GB;function Lce(t){if(t instanceof RegExp)return(0,hs.RegExpString)(t.toString());throw Tl.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}Ge.ensureRegExpString=Lce;function Bce(t){if(t!==null&&(typeof t=="bigint"||KB(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(GB(t));if(typeof t=="string"){if(VB.test(t))return BigInt(t);if(Dg(t))return BigInt(Og(t,!0))}throw Tl.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}Ge.ensureBigInt=Bce;function Fce(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Tl.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}Ge.ensureParsedJSONObject=Fce;function KB(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}Ge.isBigNumber=KB;function $ce(t,e){return Array.from({length:e-t},(n,r)=>t+r)}Ge.range=$ce;function Uce(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:n}=document.location,r=t?t.getAttribute("href"):null;return!r||r.startsWith("javascript:")||r.startsWith("vbscript:")?null:r.startsWith("http://")||r.startsWith("https://")||r.startsWith("data:")?r:r.startsWith("//")?e+r:`${e}//${n}${r}`}Ge.getFavicon=Uce;function jce(t,e){return t.length===e.length&&t.every((n,r)=>n===e[r])}Ge.areAddressArraysEqual=jce;var bo={},zw={},Hw={},Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.decryptContent=Vn.encryptContent=Vn.importKeyFromHexString=Vn.exportKeyToHexString=Vn.decrypt=Vn.encrypt=Vn.deriveSharedSecret=Vn.generateKeyPair=void 0;const QB=Ge;async function Vce(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}Vn.generateKeyPair=Vce;async function zce(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}Vn.deriveSharedSecret=zce;async function ZB(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}Vn.encrypt=ZB;async function JB(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}Vn.decrypt=JB;function YB(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function Hce(t,e){const n=YB(t),r=await crypto.subtle.exportKey(n,e);return(0,QB.uint8ArrayToHex)(new Uint8Array(r))}Vn.exportKeyToHexString=Hce;async function qce(t,e){const n=YB(t),r=(0,QB.hexStringToUint8Array)(e).buffer;return await crypto.subtle.importKey(n,r,{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}Vn.importKeyFromHexString=qce;async function Wce(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return ZB(e,n)}Vn.encryptContent=Wce;async function Gce(t,e){return JSON.parse(await JB(e,t))}Vn.decryptContent=Gce;var zo={};Object.defineProperty(zo,"__esModule",{value:!0});zo.ScopedLocalStorage=void 0;let Kce=class BA{constructor(e,n){this.scope=e,this.module=n}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new BA("CBWSDK").clear(),new BA("walletlink").clear()}};zo.ScopedLocalStorage=Kce;Object.defineProperty(Hw,"__esModule",{value:!0});Hw.SCWKeyManager=void 0;const ry=Vn,Qce=zo,x2={storageKey:"ownPrivateKey",keyType:"private"},T2={storageKey:"ownPublicKey",keyType:"public"},R2={storageKey:"peerPublicKey",keyType:"public"};class Zce{constructor(){this.storage=new Qce.ScopedLocalStorage("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(R2,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(T2.storageKey),this.storage.removeItem(x2.storageKey),this.storage.removeItem(R2.storageKey)}async generateKeyPair(){const e=await(0,ry.generateKeyPair)();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(x2,e.privateKey),await this.storeKey(T2,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(x2)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(T2)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(R2)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await(0,ry.deriveSharedSecret)(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?(0,ry.importKeyFromHexString)(e.keyType,n):null}async storeKey(e,n){const r=await(0,ry.exportKeyToHexString)(e.keyType,n);this.storage.setItem(e.storageKey,r)}}Hw.SCWKeyManager=Zce;var qw={};Object.defineProperty(qw,"__esModule",{value:!0});qw.SCWStateManager=void 0;const Jce=zo,r8="accounts",i8="activeChain",s8="availableChains",o8="walletCapabilities";class Yce{get accounts(){return this._accounts}get activeChain(){return this._activeChain}get walletCapabilities(){return this._walletCapabilities}constructor(e){var n,r;this.storage=new Jce.ScopedLocalStorage("CBWSDK","SCWStateManager"),this.updateListener=e.updateListener,this.availableChains=this.loadItemFromStorage(s8),this._walletCapabilities=this.loadItemFromStorage(o8);const i=this.loadItemFromStorage(r8),s=this.loadItemFromStorage(i8);i&&this.updateListener.onAccountsUpdate({accounts:i,source:"storage"}),s&&this.updateListener.onChainUpdate({chain:s,source:"storage"}),this._accounts=i||[],this._activeChain=s||{id:(r=(n=e.appChainIds)===null||n===void 0?void 0:n[0])!==null&&r!==void 0?r:1}}updateAccounts(e){this._accounts=e,this.storeItemToStorage(r8,e),this.updateListener.onAccountsUpdate({accounts:e,source:"wallet"})}switchChain(e){var n;const r=(n=this.availableChains)===null||n===void 0?void 0:n.find(i=>i.id===e);return r?(r===this._activeChain||(this._activeChain=r,this.storeItemToStorage(i8,r),this.updateListener.onChainUpdate({chain:r,source:"wallet"})),!0):!1}updateAvailableChains(e){if(!e||Object.keys(e).length===0)return;const n=Object.entries(e).map(([r,i])=>({id:Number(r),rpcUrl:i}));this.availableChains=n,this.storeItemToStorage(s8,n),this.switchChain(this._activeChain.id)}updateWalletCapabilities(e){this._walletCapabilities=e,this.storeItemToStorage(o8,e)}storeItemToStorage(e,n){this.storage.setItem(e,JSON.stringify(n))}loadItemFromStorage(e){const n=this.storage.getItem(e);return n?JSON.parse(n):void 0}clear(){this.storage.clear()}}qw.SCWStateManager=Yce;Object.defineProperty(zw,"__esModule",{value:!0});zw.SCWSigner=void 0;const Xce=Hw,ele=qw,iy=Vo,a8=Ge,sy=Vn;class tle{constructor(e){this.metadata=e.metadata,this.communicator=e.communicator,this.keyManager=new Xce.SCWKeyManager,this.stateManager=new ele.SCWStateManager({appChainIds:this.metadata.appChainIds,updateListener:e.updateListener}),this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(){const e=await this.createRequestMessage({handshake:{method:"eth_requestAccounts",params:this.metadata}}),n=await this.communicator.postRequestAndWaitForResponse(e);if("failure"in n.content)throw n.content.failure;const r=await(0,sy.importKeyFromHexString)("public",n.sender);await this.keyManager.setPeerPublicKey(r);const i=await this.decryptResponseMessage(n);this.updateInternalState({method:"eth_requestAccounts"},i);const s=i.result;if("error"in s)throw s.error;return this.stateManager.accounts}async request(e){const n=this.tryLocalHandling(e);if(n!==void 0){if(n instanceof Error)throw n;return n}await this.communicator.waitForPopupLoaded();const r=await this.sendEncryptedRequest(e),i=await this.decryptResponseMessage(r);this.updateInternalState(e,i);const s=i.result;if("error"in s)throw s.error;return s.value}async disconnect(){this.stateManager.clear(),await this.keyManager.clear()}tryLocalHandling(e){var n;switch(e.method){case"wallet_switchEthereumChain":{const r=e.params;if(!r||!(!((n=r[0])===null||n===void 0)&&n.chainId))throw iy.standardErrors.rpc.invalidParams();const i=(0,a8.ensureIntNumber)(r[0].chainId);return this.stateManager.switchChain(i)?null:void 0}case"wallet_getCapabilities":{const r=this.stateManager.walletCapabilities;if(!r)throw iy.standardErrors.provider.unauthorized("No wallet capabilities found, please disconnect and reconnect");return r}default:return}}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw iy.standardErrors.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await(0,sy.encryptContent)({action:e,chainId:this.stateManager.activeChain.id},n),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const n=await(0,sy.exportKeyToHexString)("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){const n=e.content;if("failure"in n)throw n.failure;const r=await this.keyManager.getSharedSecret();if(!r)throw iy.standardErrors.provider.unauthorized("Invalid session");return(0,sy.decryptContent)(n.encrypted,r)}updateInternalState(e,n){var r,i;const s=(r=n.data)===null||r===void 0?void 0:r.chains;s&&this.stateManager.updateAvailableChains(s);const o=(i=n.data)===null||i===void 0?void 0:i.capabilities;o&&this.stateManager.updateWalletCapabilities(o);const a=n.result;if(!("error"in a))switch(e.method){case"eth_requestAccounts":{const u=a.value;this.stateManager.updateAccounts(u);break}case"wallet_switchEthereumChain":{if(a.value!==null)return;const u=e.params,c=(0,a8.ensureIntNumber)(u[0].chainId);this.stateManager.switchChain(c);break}}}}zw.SCWSigner=tle;var Ww={},FA={exports:{}},XB=sg.EventEmitter,k2,u8;function nle(){if(u8)return k2;u8=1;function t(b,A){var T=Object.keys(b);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(b);A&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(b,w).enumerable})),T.push.apply(T,_)}return T}function e(b){for(var A=1;A<arguments.length;A++){var T=arguments[A]!=null?arguments[A]:{};A%2?t(Object(T),!0).forEach(function(_){n(b,_,T[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(T)):t(Object(T)).forEach(function(_){Object.defineProperty(b,_,Object.getOwnPropertyDescriptor(T,_))})}return b}function n(b,A,T){return A=o(A),A in b?Object.defineProperty(b,A,{value:T,enumerable:!0,configurable:!0,writable:!0}):b[A]=T,b}function r(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}function i(b,A){for(var T=0;T<A.length;T++){var _=A[T];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,o(_.key),_)}}function s(b,A,T){return A&&i(b.prototype,A),Object.defineProperty(b,"prototype",{writable:!1}),b}function o(b){var A=a(b,"string");return typeof A=="symbol"?A:String(A)}function a(b,A){if(typeof b!="object"||b===null)return b;var T=b[Symbol.toPrimitive];if(T!==void 0){var _=T.call(b,A);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}var u=wg,c=u.Buffer,l=zv,f=l.inspect,h=f&&f.custom||"inspect";function m(b,A,T){c.prototype.copy.call(b,A,T)}return k2=function(){function b(){r(this,b),this.head=null,this.tail=null,this.length=0}return s(b,[{key:"push",value:function(T){var _={data:T,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(T){var _={data:T,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var T=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,T}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(T){if(this.length===0)return"";for(var _=this.head,w=""+_.data;_=_.next;)w+=T+_.data;return w}},{key:"concat",value:function(T){if(this.length===0)return c.alloc(0);for(var _=c.allocUnsafe(T>>>0),w=this.head,C=0;w;)m(w.data,_,C),C+=w.data.length,w=w.next;return _}},{key:"consume",value:function(T,_){var w;return T<this.head.data.length?(w=this.head.data.slice(0,T),this.head.data=this.head.data.slice(T)):T===this.head.data.length?w=this.shift():w=_?this._getString(T):this._getBuffer(T),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(T){var _=this.head,w=1,C=_.data;for(T-=C.length;_=_.next;){var M=_.data,N=T>M.length?M.length:T;if(N===M.length?C+=M:C+=M.slice(0,T),T-=N,T===0){N===M.length?(++w,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=M.slice(N));break}++w}return this.length-=w,C}},{key:"_getBuffer",value:function(T){var _=c.allocUnsafe(T),w=this.head,C=1;for(w.data.copy(_),T-=w.data.length;w=w.next;){var M=w.data,N=T>M.length?M.length:T;if(M.copy(_,_.length-T,0,N),T-=N,T===0){N===M.length?(++C,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=M.slice(N));break}++C}return this.length-=C,_}},{key:h,value:function(T,_){return f(this,e(e({},_),{},{depth:0,customInspect:!1}))}}]),b}(),k2}function rle(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick($A,this,t)):process.nextTick($A,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?n._writableState?n._writableState.errorEmitted?process.nextTick(Zy,n):(n._writableState.errorEmitted=!0,process.nextTick(c8,n,s)):process.nextTick(c8,n,s):e?(process.nextTick(Zy,n),e(s)):process.nextTick(Zy,n)}),this)}function c8(t,e){$A(t,e),Zy(t)}function Zy(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function ile(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function $A(t,e){t.emit("error",e)}function sle(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}var e7={destroy:rle,undestroy:ile,errorOrDestroy:sle},Rl={};function ole(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var t7={};function vs(t,e,n){n||(n=Error);function r(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){ole(o,s);function o(a,u,c){return s.call(this,r(a,u,c))||this}return o}(n);i.prototype.name=n.name,i.prototype.code=t,t7[t]=i}function l8(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map(function(r){return String(r)}),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:n===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function ale(t,e,n){return t.substr(0,e.length)===e}function ule(t,e,n){return(n===void 0||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}function cle(t,e,n){return typeof n!="number"&&(n=0),n+e.length>t.length?!1:t.indexOf(e,n)!==-1}vs("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);vs("ERR_INVALID_ARG_TYPE",function(t,e,n){var r;typeof e=="string"&&ale(e,"not ")?(r="must not be",e=e.replace(/^not /,"")):r="must be";var i;if(ule(t," argument"))i="The ".concat(t," ").concat(r," ").concat(l8(e,"type"));else{var s=cle(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(r," ").concat(l8(e,"type"))}return i+=". Received type ".concat(typeof n),i},TypeError);vs("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");vs("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});vs("ERR_STREAM_PREMATURE_CLOSE","Premature close");vs("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});vs("ERR_MULTIPLE_CALLBACK","Callback called multiple times");vs("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");vs("ERR_STREAM_WRITE_AFTER_END","write after end");vs("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);vs("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);vs("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Rl.codes=t7;var lle=Rl.codes.ERR_INVALID_OPT_VALUE;function fle(t,e,n){return t.highWaterMark!=null?t.highWaterMark:e?t[n]:null}function hle(t,e,n,r){var i=fle(e,r,n);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=r?n:"highWaterMark";throw new lle(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var n7={getHighWaterMark:hle},UA={exports:{}};typeof Object.create=="function"?UA.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:UA.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var Ks=UA.exports,dle=ple;function ple(t,e){if(P2("noDeprecation"))return t;var n=!1;function r(){if(!n){if(P2("throwDeprecation"))throw new Error(e);P2("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}return r}function P2(t){try{if(!Ce.localStorage)return!1}catch{return!1}var e=Ce.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var M2,f8;function r7(){if(f8)return M2;f8=1,M2=y;function t(X){var Q=this;this.next=null,this.entry=null,this.finish=function(){re(Q,X)}}var e;y.WritableState=U;var n={deprecate:dle},r=XB,i=wg.Buffer,s=(typeof Ce<"u"?Ce:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(X){return i.from(X)}function a(X){return i.isBuffer(X)||X instanceof s}var u=e7,c=n7,l=c.getHighWaterMark,f=Rl.codes,h=f.ERR_INVALID_ARG_TYPE,m=f.ERR_METHOD_NOT_IMPLEMENTED,b=f.ERR_MULTIPLE_CALLBACK,A=f.ERR_STREAM_CANNOT_PIPE,T=f.ERR_STREAM_DESTROYED,_=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,C=f.ERR_UNKNOWN_ENCODING,M=u.errorOrDestroy;Ks(y,r);function N(){}function U(X,Q,Y){e=e||Lh(),X=X||{},typeof Y!="boolean"&&(Y=Q instanceof e),this.objectMode=!!X.objectMode,Y&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=l(this,X,"writableHighWaterMark",Y),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ee=X.decodeStrings===!1;this.decodeStrings=!ee,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(B){E(Q,B)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}U.prototype.getBuffer=function(){for(var Q=this.bufferedRequest,Y=[];Q;)Y.push(Q),Q=Q.next;return Y},function(){try{Object.defineProperty(U.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var v;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(Q){return v.call(this,Q)?!0:this!==y?!1:Q&&Q._writableState instanceof U}})):v=function(Q){return Q instanceof this};function y(X){e=e||Lh();var Q=this instanceof e;if(!Q&&!v.call(y,this))return new y(X);this._writableState=new U(X,this,Q),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),r.call(this)}y.prototype.pipe=function(){M(this,new A)};function S(X,Q){var Y=new w;M(X,Y),process.nextTick(Q,Y)}function k(X,Q,Y,ee){var B;return Y===null?B=new _:typeof Y!="string"&&!Q.objectMode&&(B=new h("chunk",["string","Buffer"],Y)),B?(M(X,B),process.nextTick(ee,B),!1):!0}y.prototype.write=function(X,Q,Y){var ee=this._writableState,B=!1,j=!ee.objectMode&&a(X);return j&&!i.isBuffer(X)&&(X=o(X)),typeof Q=="function"&&(Y=Q,Q=null),j?Q="buffer":Q||(Q=ee.defaultEncoding),typeof Y!="function"&&(Y=N),ee.ending?S(this,Y):(j||k(this,ee,X,Y))&&(ee.pendingcb++,B=z(this,ee,j,X,Q,Y)),B},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&F(this,X))},y.prototype.setDefaultEncoding=function(Q){if(typeof Q=="string"&&(Q=Q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Q+"").toLowerCase())>-1))throw new C(Q);return this._writableState.defaultEncoding=Q,this},Object.defineProperty(y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function L(X,Q,Y){return!X.objectMode&&X.decodeStrings!==!1&&typeof Q=="string"&&(Q=i.from(Q,Y)),Q}Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function z(X,Q,Y,ee,B,j){if(!Y){var K=L(Q,ee,B);ee!==K&&(Y=!0,B="buffer",ee=K)}var ie=Q.objectMode?1:ee.length;Q.length+=ie;var fe=Q.length<Q.highWaterMark;if(fe||(Q.needDrain=!0),Q.writing||Q.corked){var pe=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:ee,encoding:B,isBuf:Y,callback:j,next:null},pe?pe.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else x(X,Q,!1,ie,ee,B,j);return fe}function x(X,Q,Y,ee,B,j,K){Q.writelen=ee,Q.writecb=K,Q.writing=!0,Q.sync=!0,Q.destroyed?Q.onwrite(new T("write")):Y?X._writev(B,Q.onwrite):X._write(B,j,Q.onwrite),Q.sync=!1}function g(X,Q,Y,ee,B){--Q.pendingcb,Y?(process.nextTick(B,ee),process.nextTick(W,X,Q),X._writableState.errorEmitted=!0,M(X,ee)):(B(ee),X._writableState.errorEmitted=!0,M(X,ee),W(X,Q))}function d(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function E(X,Q){var Y=X._writableState,ee=Y.sync,B=Y.writecb;if(typeof B!="function")throw new b;if(d(Y),Q)g(X,Y,ee,Q,B);else{var j=H(Y)||X.destroyed;!j&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&F(X,Y),ee?process.nextTick(P,X,Y,j,B):P(X,Y,j,B)}}function P(X,Q,Y,ee){Y||I(X,Q),Q.pendingcb--,ee(),W(X,Q)}function I(X,Q){Q.length===0&&Q.needDrain&&(Q.needDrain=!1,X.emit("drain"))}function F(X,Q){Q.bufferProcessing=!0;var Y=Q.bufferedRequest;if(X._writev&&Y&&Y.next){var ee=Q.bufferedRequestCount,B=new Array(ee),j=Q.corkedRequestsFree;j.entry=Y;for(var K=0,ie=!0;Y;)B[K]=Y,Y.isBuf||(ie=!1),Y=Y.next,K+=1;B.allBuffers=ie,x(X,Q,!0,Q.length,B,"",j.finish),Q.pendingcb++,Q.lastBufferedRequest=null,j.next?(Q.corkedRequestsFree=j.next,j.next=null):Q.corkedRequestsFree=new t(Q),Q.bufferedRequestCount=0}else{for(;Y;){var fe=Y.chunk,pe=Y.encoding,Ee=Y.callback,_e=Q.objectMode?1:fe.length;if(x(X,Q,!1,_e,fe,pe,Ee),Y=Y.next,Q.bufferedRequestCount--,Q.writing)break}Y===null&&(Q.lastBufferedRequest=null)}Q.bufferedRequest=Y,Q.bufferProcessing=!1}y.prototype._write=function(X,Q,Y){Y(new m("_write()"))},y.prototype._writev=null,y.prototype.end=function(X,Q,Y){var ee=this._writableState;return typeof X=="function"?(Y=X,X=null,Q=null):typeof Q=="function"&&(Y=Q,Q=null),X!=null&&this.write(X,Q),ee.corked&&(ee.corked=1,this.uncork()),ee.ending||ae(this,ee,Y),this},Object.defineProperty(y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function H(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function V(X,Q){X._final(function(Y){Q.pendingcb--,Y&&M(X,Y),Q.prefinished=!0,X.emit("prefinish"),W(X,Q)})}function R(X,Q){!Q.prefinished&&!Q.finalCalled&&(typeof X._final=="function"&&!Q.destroyed?(Q.pendingcb++,Q.finalCalled=!0,process.nextTick(V,X,Q)):(Q.prefinished=!0,X.emit("prefinish")))}function W(X,Q){var Y=H(Q);if(Y&&(R(X,Q),Q.pendingcb===0&&(Q.finished=!0,X.emit("finish"),Q.autoDestroy))){var ee=X._readableState;(!ee||ee.autoDestroy&&ee.endEmitted)&&X.destroy()}return Y}function ae(X,Q,Y){Q.ending=!0,W(X,Q),Y&&(Q.finished?process.nextTick(Y):X.once("finish",Y)),Q.ended=!0,X.writable=!1}function re(X,Q,Y){var ee=X.entry;for(X.entry=null;ee;){var B=ee.callback;Q.pendingcb--,B(Y),ee=ee.next}Q.corkedRequestsFree.next=X}return Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Q){this._writableState&&(this._writableState.destroyed=Q)}}),y.prototype.destroy=u.destroy,y.prototype._undestroy=u.undestroy,y.prototype._destroy=function(X,Q){Q(X)},M2}var D2,h8;function Lh(){if(h8)return D2;h8=1;var t=Object.keys||function(c){var l=[];for(var f in c)l.push(f);return l};D2=o;var e=s7(),n=r7();Ks(o,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var s=r[i];o.prototype[s]||(o.prototype[s]=n.prototype[s])}function o(c){if(!(this instanceof o))return new o(c);e.call(this,c),n.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(u,this)}function u(c){c.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),D2}var O2={},jA={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=wg,r=n.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,u){return r(o,a,u)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof u=="string"?c.fill(a,u):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(jA,jA.exports);var Ku=jA.exports,d8;function p8(){if(d8)return O2;d8=1;var t=Ku.Buffer,e=t.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(_){if(!_)return"utf8";for(var w;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(w)return;_=(""+_).toLowerCase(),w=!0}}function r(_){var w=n(_);if(typeof w!="string"&&(t.isEncoding===e||!e(_)))throw new Error("Unknown encoding: "+_);return w||_}O2.StringDecoder=i;function i(_){this.encoding=r(_);var w;switch(this.encoding){case"utf16le":this.text=f,this.end=h,w=4;break;case"utf8":this.fillLast=u,w=4;break;case"base64":this.text=m,this.end=b,w=3;break;default:this.write=A,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(w)}i.prototype.write=function(_){if(_.length===0)return"";var w,C;if(this.lastNeed){if(w=this.fillLast(_),w===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<_.length?w?w+this.text(_,C):this.text(_,C):w||""},i.prototype.end=l,i.prototype.text=c,i.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function s(_){return _<=127?0:_>>5===6?2:_>>4===14?3:_>>3===30?4:_>>6===2?-1:-2}function o(_,w,C){var M=w.length-1;if(M<C)return 0;var N=s(w[M]);return N>=0?(N>0&&(_.lastNeed=N-1),N):--M<C||N===-2?0:(N=s(w[M]),N>=0?(N>0&&(_.lastNeed=N-2),N):--M<C||N===-2?0:(N=s(w[M]),N>=0?(N>0&&(N===2?N=0:_.lastNeed=N-3),N):0))}function a(_,w,C){if((w[0]&192)!==128)return _.lastNeed=0,"";if(_.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return _.lastNeed=1,"";if(_.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return _.lastNeed=2,""}}function u(_){var w=this.lastTotal-this.lastNeed,C=a(this,_);if(C!==void 0)return C;if(this.lastNeed<=_.length)return _.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,w,0,_.length),this.lastNeed-=_.length}function c(_,w){var C=o(this,_,w);if(!this.lastNeed)return _.toString("utf8",w);this.lastTotal=C;var M=_.length-(C-this.lastNeed);return _.copy(this.lastChar,0,M),_.toString("utf8",w,M)}function l(_){var w=_&&_.length?this.write(_):"";return this.lastNeed?w+"":w}function f(_,w){if((_.length-w)%2===0){var C=_.toString("utf16le",w);if(C){var M=C.charCodeAt(C.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",w,_.length-1)}function h(_){var w=_&&_.length?this.write(_):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,C)}return w}function m(_,w){var C=(_.length-w)%3;return C===0?_.toString("base64",w):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",w,_.length-C))}function b(_){var w=_&&_.length?this.write(_):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function A(_){return _.toString(this.encoding)}function T(_){return _&&_.length?this.write(_):""}return O2}var g8=Rl.codes.ERR_STREAM_PREMATURE_CLOSE;function gle(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}function mle(){}function yle(t){return t.setHeader&&typeof t.abort=="function"}function i7(t,e,n){if(typeof e=="function")return i7(t,null,e);e||(e={}),n=gle(n||mle);var r=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,r||n.call(t)},u=t._readableState&&t._readableState.endEmitted,c=function(){r=!1,u=!0,i||n.call(t)},l=function(b){n.call(t,b)},f=function(){var b;if(r&&!u)return(!t._readableState||!t._readableState.ended)&&(b=new g8),n.call(t,b);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(b=new g8),n.call(t,b)},h=function(){t.req.on("finish",a)};return yle(t)?(t.on("complete",a),t.on("abort",f),t.req?h():t.on("request",h)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",f),function(){t.removeListener("complete",a),t.removeListener("abort",f),t.removeListener("request",h),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",l),t.removeListener("close",f)}}var X5=i7,N2,m8;function vle(){if(m8)return N2;m8=1;var t;function e(C,M,N){return M=n(M),M in C?Object.defineProperty(C,M,{value:N,enumerable:!0,configurable:!0,writable:!0}):C[M]=N,C}function n(C){var M=r(C,"string");return typeof M=="symbol"?M:String(M)}function r(C,M){if(typeof C!="object"||C===null)return C;var N=C[Symbol.toPrimitive];if(N!==void 0){var U=N.call(C,M);if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(C)}var i=X5,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),u=Symbol("ended"),c=Symbol("lastPromise"),l=Symbol("handlePromise"),f=Symbol("stream");function h(C,M){return{value:C,done:M}}function m(C){var M=C[s];if(M!==null){var N=C[f].read();N!==null&&(C[c]=null,C[s]=null,C[o]=null,M(h(N,!1)))}}function b(C){process.nextTick(m,C)}function A(C,M){return function(N,U){C.then(function(){if(M[u]){N(h(void 0,!0));return}M[l](N,U)},U)}}var T=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var M=this,N=this[a];if(N!==null)return Promise.reject(N);if(this[u])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(S,k){process.nextTick(function(){M[a]?k(M[a]):S(h(void 0,!0))})});var U=this[c],v;if(U)v=new Promise(A(U,this));else{var y=this[f].read();if(y!==null)return Promise.resolve(h(y,!1));v=new Promise(this[l])}return this[c]=v,v}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var M=this;return new Promise(function(N,U){M[f].destroy(null,function(v){if(v){U(v);return}N(h(void 0,!0))})})}),t),T),w=function(M){var N,U=Object.create(_,(N={},e(N,f,{value:M,writable:!0}),e(N,s,{value:null,writable:!0}),e(N,o,{value:null,writable:!0}),e(N,a,{value:null,writable:!0}),e(N,u,{value:M._readableState.endEmitted,writable:!0}),e(N,l,{value:function(y,S){var k=U[f].read();k?(U[c]=null,U[s]=null,U[o]=null,y(h(k,!1))):(U[s]=y,U[o]=S)},writable:!0}),N));return U[c]=null,i(M,function(v){if(v&&v.code!=="ERR_STREAM_PREMATURE_CLOSE"){var y=U[o];y!==null&&(U[c]=null,U[s]=null,U[o]=null,y(v)),U[a]=v;return}var S=U[s];S!==null&&(U[c]=null,U[s]=null,U[o]=null,S(h(void 0,!0))),U[u]=!0}),M.on("readable",b.bind(null,U)),U};return N2=w,N2}var L2,y8;function wle(){return y8||(y8=1,L2=function(){throw new Error("Readable.from is not available in the browser")}),L2}var B2,v8;function s7(){if(v8)return B2;v8=1,B2=S;var t;S.ReadableState=y,sg.EventEmitter;var e=function(K,ie){return K.listeners(ie).length},n=XB,r=wg.Buffer,i=(typeof Ce<"u"?Ce:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(j){return r.from(j)}function o(j){return r.isBuffer(j)||j instanceof i}var a=zv,u;a&&a.debuglog?u=a.debuglog("stream"):u=function(){};var c=nle(),l=e7,f=n7,h=f.getHighWaterMark,m=Rl.codes,b=m.ERR_INVALID_ARG_TYPE,A=m.ERR_STREAM_PUSH_AFTER_EOF,T=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w,C,M;Ks(S,n);var N=l.errorOrDestroy,U=["error","close","destroy","pause","resume"];function v(j,K,ie){if(typeof j.prependListener=="function")return j.prependListener(K,ie);!j._events||!j._events[K]?j.on(K,ie):Array.isArray(j._events[K])?j._events[K].unshift(ie):j._events[K]=[ie,j._events[K]]}function y(j,K,ie){t=t||Lh(),j=j||{},typeof ie!="boolean"&&(ie=K instanceof t),this.objectMode=!!j.objectMode,ie&&(this.objectMode=this.objectMode||!!j.readableObjectMode),this.highWaterMark=h(this,j,"readableHighWaterMark",ie),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(w||(w=p8().StringDecoder),this.decoder=new w(j.encoding),this.encoding=j.encoding)}function S(j){if(t=t||Lh(),!(this instanceof S))return new S(j);var K=this instanceof t;this._readableState=new y(j,this,K),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),n.call(this)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),S.prototype.destroy=l.destroy,S.prototype._undestroy=l.undestroy,S.prototype._destroy=function(j,K){K(j)},S.prototype.push=function(j,K){var ie=this._readableState,fe;return ie.objectMode?fe=!0:typeof j=="string"&&(K=K||ie.defaultEncoding,K!==ie.encoding&&(j=r.from(j,K),K=""),fe=!0),k(this,j,K,!1,fe)},S.prototype.unshift=function(j){return k(this,j,null,!0,!1)};function k(j,K,ie,fe,pe){u("readableAddChunk",K);var Ee=j._readableState;if(K===null)Ee.reading=!1,E(j,Ee);else{var _e;if(pe||(_e=z(Ee,K)),_e)N(j,_e);else if(Ee.objectMode||K&&K.length>0)if(typeof K!="string"&&!Ee.objectMode&&Object.getPrototypeOf(K)!==r.prototype&&(K=s(K)),fe)Ee.endEmitted?N(j,new _):L(j,Ee,K,!0);else if(Ee.ended)N(j,new A);else{if(Ee.destroyed)return!1;Ee.reading=!1,Ee.decoder&&!ie?(K=Ee.decoder.write(K),Ee.objectMode||K.length!==0?L(j,Ee,K,!1):F(j,Ee)):L(j,Ee,K,!1)}else fe||(Ee.reading=!1,F(j,Ee))}return!Ee.ended&&(Ee.length<Ee.highWaterMark||Ee.length===0)}function L(j,K,ie,fe){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,j.emit("data",ie)):(K.length+=K.objectMode?1:ie.length,fe?K.buffer.unshift(ie):K.buffer.push(ie),K.needReadable&&P(j)),F(j,K)}function z(j,K){var ie;return!o(K)&&typeof K!="string"&&K!==void 0&&!j.objectMode&&(ie=new b("chunk",["string","Buffer","Uint8Array"],K)),ie}S.prototype.isPaused=function(){return this._readableState.flowing===!1},S.prototype.setEncoding=function(j){w||(w=p8().StringDecoder);var K=new w(j);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var ie=this._readableState.buffer.head,fe="";ie!==null;)fe+=K.write(ie.data),ie=ie.next;return this._readableState.buffer.clear(),fe!==""&&this._readableState.buffer.push(fe),this._readableState.length=fe.length,this};var x=1073741824;function g(j){return j>=x?j=x:(j--,j|=j>>>1,j|=j>>>2,j|=j>>>4,j|=j>>>8,j|=j>>>16,j++),j}function d(j,K){return j<=0||K.length===0&&K.ended?0:K.objectMode?1:j!==j?K.flowing&&K.length?K.buffer.head.data.length:K.length:(j>K.highWaterMark&&(K.highWaterMark=g(j)),j<=K.length?j:K.ended?K.length:(K.needReadable=!0,0))}S.prototype.read=function(j){u("read",j),j=parseInt(j,10);var K=this._readableState,ie=j;if(j!==0&&(K.emittedReadable=!1),j===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return u("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?Y(this):P(this),null;if(j=d(j,K),j===0&&K.ended)return K.length===0&&Y(this),null;var fe=K.needReadable;u("need readable",fe),(K.length===0||K.length-j<K.highWaterMark)&&(fe=!0,u("length less than watermark",fe)),K.ended||K.reading?(fe=!1,u("reading or ended",fe)):fe&&(u("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(j=d(ie,K)));var pe;return j>0?pe=Q(j,K):pe=null,pe===null?(K.needReadable=K.length<=K.highWaterMark,j=0):(K.length-=j,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),ie!==j&&K.ended&&Y(this)),pe!==null&&this.emit("data",pe),pe};function E(j,K){if(u("onEofChunk"),!K.ended){if(K.decoder){var ie=K.decoder.end();ie&&ie.length&&(K.buffer.push(ie),K.length+=K.objectMode?1:ie.length)}K.ended=!0,K.sync?P(j):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,I(j)))}}function P(j){var K=j._readableState;u("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(u("emitReadable",K.flowing),K.emittedReadable=!0,process.nextTick(I,j))}function I(j){var K=j._readableState;u("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(j.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,X(j)}function F(j,K){K.readingMore||(K.readingMore=!0,process.nextTick(H,j,K))}function H(j,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var ie=K.length;if(u("maybeReadMore read 0"),j.read(0),ie===K.length)break}K.readingMore=!1}S.prototype._read=function(j){N(this,new T("_read()"))},S.prototype.pipe=function(j,K){var ie=this,fe=this._readableState;switch(fe.pipesCount){case 0:fe.pipes=j;break;case 1:fe.pipes=[fe.pipes,j];break;default:fe.pipes.push(j);break}fe.pipesCount+=1,u("pipe count=%d opts=%j",fe.pipesCount,K);var pe=(!K||K.end!==!1)&&j!==process.stdout&&j!==process.stderr,Ee=pe?qe:we;fe.endEmitted?process.nextTick(Ee):ie.once("end",Ee),j.on("unpipe",_e);function _e(G,D){u("onunpipe"),G===ie&&D&&D.hasUnpiped===!1&&(D.hasUnpiped=!0,ke())}function qe(){u("onend"),j.end()}var Et=V(ie);j.on("drain",Et);var De=!1;function ke(){u("cleanup"),j.removeListener("close",Re),j.removeListener("finish",Ve),j.removeListener("drain",Et),j.removeListener("error",Te),j.removeListener("unpipe",_e),ie.removeListener("end",qe),ie.removeListener("end",we),ie.removeListener("data",He),De=!0,fe.awaitDrain&&(!j._writableState||j._writableState.needDrain)&&Et()}ie.on("data",He);function He(G){u("ondata");var D=j.write(G);u("dest.write",D),D===!1&&((fe.pipesCount===1&&fe.pipes===j||fe.pipesCount>1&&B(fe.pipes,j)!==-1)&&!De&&(u("false write response, pause",fe.awaitDrain),fe.awaitDrain++),ie.pause())}function Te(G){u("onerror",G),we(),j.removeListener("error",Te),e(j,"error")===0&&N(j,G)}v(j,"error",Te);function Re(){j.removeListener("finish",Ve),we()}j.once("close",Re);function Ve(){u("onfinish"),j.removeListener("close",Re),we()}j.once("finish",Ve);function we(){u("unpipe"),ie.unpipe(j)}return j.emit("pipe",ie),fe.flowing||(u("pipe resume"),ie.resume()),j};function V(j){return function(){var ie=j._readableState;u("pipeOnDrain",ie.awaitDrain),ie.awaitDrain&&ie.awaitDrain--,ie.awaitDrain===0&&e(j,"data")&&(ie.flowing=!0,X(j))}}S.prototype.unpipe=function(j){var K=this._readableState,ie={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return j&&j!==K.pipes?this:(j||(j=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,j&&j.emit("unpipe",this,ie),this);if(!j){var fe=K.pipes,pe=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var Ee=0;Ee<pe;Ee++)fe[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}var _e=B(K.pipes,j);return _e===-1?this:(K.pipes.splice(_e,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),j.emit("unpipe",this,ie),this)},S.prototype.on=function(j,K){var ie=n.prototype.on.call(this,j,K),fe=this._readableState;return j==="data"?(fe.readableListening=this.listenerCount("readable")>0,fe.flowing!==!1&&this.resume()):j==="readable"&&!fe.endEmitted&&!fe.readableListening&&(fe.readableListening=fe.needReadable=!0,fe.flowing=!1,fe.emittedReadable=!1,u("on readable",fe.length,fe.reading),fe.length?P(this):fe.reading||process.nextTick(W,this)),ie},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(j,K){var ie=n.prototype.removeListener.call(this,j,K);return j==="readable"&&process.nextTick(R,this),ie},S.prototype.removeAllListeners=function(j){var K=n.prototype.removeAllListeners.apply(this,arguments);return(j==="readable"||j===void 0)&&process.nextTick(R,this),K};function R(j){var K=j._readableState;K.readableListening=j.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:j.listenerCount("data")>0&&j.resume()}function W(j){u("readable nexttick read 0"),j.read(0)}S.prototype.resume=function(){var j=this._readableState;return j.flowing||(u("resume"),j.flowing=!j.readableListening,ae(this,j)),j.paused=!1,this};function ae(j,K){K.resumeScheduled||(K.resumeScheduled=!0,process.nextTick(re,j,K))}function re(j,K){u("resume",K.reading),K.reading||j.read(0),K.resumeScheduled=!1,j.emit("resume"),X(j),K.flowing&&!K.reading&&j.read(0)}S.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(j){var K=j._readableState;for(u("flow",K.flowing);K.flowing&&j.read()!==null;);}S.prototype.wrap=function(j){var K=this,ie=this._readableState,fe=!1;j.on("end",function(){if(u("wrapped end"),ie.decoder&&!ie.ended){var _e=ie.decoder.end();_e&&_e.length&&K.push(_e)}K.push(null)}),j.on("data",function(_e){if(u("wrapped data"),ie.decoder&&(_e=ie.decoder.write(_e)),!(ie.objectMode&&_e==null)&&!(!ie.objectMode&&(!_e||!_e.length))){var qe=K.push(_e);qe||(fe=!0,j.pause())}});for(var pe in j)this[pe]===void 0&&typeof j[pe]=="function"&&(this[pe]=function(qe){return function(){return j[qe].apply(j,arguments)}}(pe));for(var Ee=0;Ee<U.length;Ee++)j.on(U[Ee],this.emit.bind(this,U[Ee]));return this._read=function(_e){u("wrapped _read",_e),fe&&(fe=!1,j.resume())},this},typeof Symbol=="function"&&(S.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=vle()),C(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(K){this._readableState&&(this._readableState.flowing=K)}}),S._fromList=Q,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Q(j,K){if(K.length===0)return null;var ie;return K.objectMode?ie=K.buffer.shift():!j||j>=K.length?(K.decoder?ie=K.buffer.join(""):K.buffer.length===1?ie=K.buffer.first():ie=K.buffer.concat(K.length),K.buffer.clear()):ie=K.buffer.consume(j,K.decoder),ie}function Y(j){var K=j._readableState;u("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,process.nextTick(ee,K,j))}function ee(j,K){if(u("endReadableNT",j.endEmitted,j.length),!j.endEmitted&&j.length===0&&(j.endEmitted=!0,K.readable=!1,K.emit("end"),j.autoDestroy)){var ie=K._writableState;(!ie||ie.autoDestroy&&ie.finished)&&K.destroy()}}typeof Symbol=="function"&&(S.from=function(j,K){return M===void 0&&(M=wle()),M(S,j,K)});function B(j,K){for(var ie=0,fe=j.length;ie<fe;ie++)if(j[ie]===K)return ie;return-1}return B2}var o7=Ca,Gw=Rl.codes,_le=Gw.ERR_METHOD_NOT_IMPLEMENTED,ble=Gw.ERR_MULTIPLE_CALLBACK,Ele=Gw.ERR_TRANSFORM_ALREADY_TRANSFORMING,Ale=Gw.ERR_TRANSFORM_WITH_LENGTH_0,Kw=Lh();Ks(Ca,Kw);function Sle(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit("error",new ble);n.writechunk=null,n.writecb=null,e!=null&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ca(t){if(!(this instanceof Ca))return new Ca(t);Kw.call(this,t),this._transformState={afterTransform:Sle.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Cle)}function Cle(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,n){w8(t,e,n)}):w8(this,null,null)}Ca.prototype.push=function(t,e){return this._transformState.needTransform=!1,Kw.prototype.push.call(this,t,e)};Ca.prototype._transform=function(t,e,n){n(new _le("_transform()"))};Ca.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ca.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ca.prototype._destroy=function(t,e){Kw.prototype._destroy.call(this,t,function(n){e(n)})};function w8(t,e,n){if(e)return t.emit("error",e);if(n!=null&&t.push(n),t._writableState.length)throw new Ale;if(t._transformState.transforming)throw new Ele;return t.push(null)}var Ile=Hp,a7=o7;Ks(Hp,a7);function Hp(t){if(!(this instanceof Hp))return new Hp(t);a7.call(this,t)}Hp.prototype._transform=function(t,e,n){n(null,t)};var F2;function xle(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var u7=Rl.codes,Tle=u7.ERR_MISSING_ARGS,Rle=u7.ERR_STREAM_DESTROYED;function _8(t){if(t)throw t}function kle(t){return t.setHeader&&typeof t.abort=="function"}function Ple(t,e,n,r){r=xle(r);var i=!1;t.on("close",function(){i=!0}),F2===void 0&&(F2=X5),F2(t,{readable:e,writable:n},function(o){if(o)return r(o);i=!0,r()});var s=!1;return function(o){if(!i&&!s){if(s=!0,kle(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();r(o||new Rle("pipe"))}}}function b8(t){t()}function Mle(t,e){return t.pipe(e)}function Dle(t){return!t.length||typeof t[t.length-1]!="function"?_8:t.pop()}function Ole(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Dle(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Tle("streams");var i,s=e.map(function(o,a){var u=a<e.length-1,c=a>0;return Ple(o,u,c,function(l){i||(i=l),l&&s.forEach(b8),!u&&(s.forEach(b8),r(i))})});return e.reduce(Mle)}var Nle=Ole;(function(t,e){e=t.exports=s7(),e.Stream=e,e.Readable=e,e.Writable=r7(),e.Duplex=Lh(),e.Transform=o7,e.PassThrough=Ile,e.finished=X5,e.pipeline=Nle})(FA,FA.exports);var c7=FA.exports;const{Transform:Lle}=c7;var Ble=t=>class l7 extends Lle{constructor(n,r,i,s,o){super(o),this._rate=n,this._capacity=r,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(n,r),this._finalized=!1}_transform(n,r,i){let s=null;try{this.update(n,r)}catch(o){s=o}i(s)}_flush(n){let r=null;try{this.push(this.digest())}catch(i){r=i}n(r)}update(n,r){if(!Buffer.isBuffer(n)&&typeof n!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(n)||(n=Buffer.from(n,r)),this._state.absorb(n),this}digest(n){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let r=this._state.squeeze(this._hashBitLength/8);return n!==void 0&&(r=r.toString(n)),this._resetState(),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const n=new l7(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(n._state),n._finalized=this._finalized,n}};const{Transform:Fle}=c7;var $le=t=>class f7 extends Fle{constructor(n,r,i,s){super(s),this._rate=n,this._capacity=r,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(n,r),this._finalized=!1}_transform(n,r,i){let s=null;try{this.update(n,r)}catch(o){s=o}i(s)}_flush(){}_read(n){this.push(this.squeeze(n))}update(n,r){if(!Buffer.isBuffer(n)&&typeof n!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(n)||(n=Buffer.from(n,r)),this._state.absorb(n),this}squeeze(n,r){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(n);return r!==void 0&&(i=i.toString(r)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const n=new f7(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(n._state),n._finalized=this._finalized,n}};const Ule=Ble,jle=$le;var Vle=function(t){const e=Ule(t),n=jle(t);return function(r,i){switch(typeof r=="string"?r.toLowerCase():r){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new n(1344,256,31,i);case"shake256":return new n(1088,512,31,i);default:throw new Error("Invald algorithm: "+r)}}},h7={};const E8=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];h7.p1600=function(t){for(let e=0;e<24;++e){const n=t[0]^t[10]^t[20]^t[30]^t[40],r=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],f=t[9]^t[19]^t[29]^t[39]^t[49];let h=l^(i<<1|s>>>31),m=f^(s<<1|i>>>31);const b=t[0]^h,A=t[1]^m,T=t[10]^h,_=t[11]^m,w=t[20]^h,C=t[21]^m,M=t[30]^h,N=t[31]^m,U=t[40]^h,v=t[41]^m;h=n^(o<<1|a>>>31),m=r^(a<<1|o>>>31);const y=t[2]^h,S=t[3]^m,k=t[12]^h,L=t[13]^m,z=t[22]^h,x=t[23]^m,g=t[32]^h,d=t[33]^m,E=t[42]^h,P=t[43]^m;h=i^(u<<1|c>>>31),m=s^(c<<1|u>>>31);const I=t[4]^h,F=t[5]^m,H=t[14]^h,V=t[15]^m,R=t[24]^h,W=t[25]^m,ae=t[34]^h,re=t[35]^m,X=t[44]^h,Q=t[45]^m;h=o^(l<<1|f>>>31),m=a^(f<<1|l>>>31);const Y=t[6]^h,ee=t[7]^m,B=t[16]^h,j=t[17]^m,K=t[26]^h,ie=t[27]^m,fe=t[36]^h,pe=t[37]^m,Ee=t[46]^h,_e=t[47]^m;h=u^(n<<1|r>>>31),m=c^(r<<1|n>>>31);const qe=t[8]^h,Et=t[9]^m,De=t[18]^h,ke=t[19]^m,He=t[28]^h,Te=t[29]^m,Re=t[38]^h,Ve=t[39]^m,we=t[48]^h,G=t[49]^m,D=b,$=A,Z=_<<4|T>>>28,ne=T<<4|_>>>28,se=w<<3|C>>>29,ce=C<<3|w>>>29,Ie=N<<9|M>>>23,Ae=M<<9|N>>>23,$e=U<<18|v>>>14,pt=v<<18|U>>>14,Fe=y<<1|S>>>31,yt=S<<1|y>>>31,cr=L<<12|k>>>20,xt=k<<12|L>>>20,Dt=z<<10|x>>>22,zt=x<<10|z>>>22,Ke=d<<13|g>>>19,nt=g<<13|d>>>19,$t=E<<2|P>>>30,rt=P<<2|E>>>30,Ze=F<<30|I>>>2,Jt=I<<30|F>>>2,ze=H<<6|V>>>26,it=V<<6|H>>>26,Ht=W<<11|R>>>21,Xe=R<<11|W>>>21,st=ae<<15|re>>>17,Gt=re<<15|ae>>>17,We=Q<<29|X>>>3,at=X<<29|Q>>>3,Xt=Y<<28|ee>>>4,qt=ee<<28|Y>>>4,Kt=j<<23|B>>>9,Ui=B<<23|j>>>9,bt=K<<25|ie>>>7,Rt=ie<<25|K>>>7,ji=fe<<21|pe>>>11,Vi=pe<<21|fe>>>11,wi=_e<<24|Ee>>>8,_i=Ee<<24|_e>>>8,Kn=qe<<27|Et>>>5,zi=Et<<27|qe>>>5,ws=De<<20|ke>>>12,ei=ke<<20|De>>>12,Hi=Te<<7|He>>>25,bi=He<<7|Te>>>25,Qn=Re<<8|Ve>>>24,lr=Ve<<8|Re>>>24,Ei=we<<14|G>>>18,Zn=G<<14|we>>>18;t[0]=D^~cr&Ht,t[1]=$^~xt&Xe,t[10]=Xt^~ws&se,t[11]=qt^~ei&ce,t[20]=Fe^~ze&bt,t[21]=yt^~it&Rt,t[30]=Kn^~Z&Dt,t[31]=zi^~ne&zt,t[40]=Ze^~Kt&Hi,t[41]=Jt^~Ui&bi,t[2]=cr^~Ht&ji,t[3]=xt^~Xe&Vi,t[12]=ws^~se&Ke,t[13]=ei^~ce&nt,t[22]=ze^~bt&Qn,t[23]=it^~Rt&lr,t[32]=Z^~Dt&st,t[33]=ne^~zt&Gt,t[42]=Kt^~Hi&Ie,t[43]=Ui^~bi&Ae,t[4]=Ht^~ji&Ei,t[5]=Xe^~Vi&Zn,t[14]=se^~Ke&We,t[15]=ce^~nt&at,t[24]=bt^~Qn&$e,t[25]=Rt^~lr&pt,t[34]=Dt^~st&wi,t[35]=zt^~Gt&_i,t[44]=Hi^~Ie&$t,t[45]=bi^~Ae&rt,t[6]=ji^~Ei&D,t[7]=Vi^~Zn&$,t[16]=Ke^~We&Xt,t[17]=nt^~at&qt,t[26]=Qn^~$e&Fe,t[27]=lr^~pt&yt,t[36]=st^~wi&Kn,t[37]=Gt^~_i&zi,t[46]=Ie^~$t&Ze,t[47]=Ae^~rt&Jt,t[8]=Ei^~D&cr,t[9]=Zn^~$&xt,t[18]=We^~Xt&ws,t[19]=at^~qt&ei,t[28]=$e^~Fe&ze,t[29]=pt^~yt&it,t[38]=wi^~Kn&Z,t[39]=_i^~zi&ne,t[48]=$t^~Ze&Kt,t[49]=rt^~Jt&Ui,t[0]^=E8[e*2],t[1]^=E8[e*2+1]}};const dv=h7;function fd(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}fd.prototype.initialize=function(t,e){for(let n=0;n<50;++n)this.state[n]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};fd.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(dv.p1600(this.state),this.count=0)};fd.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&dv.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),dv.p1600(this.state),this.count=0,this.squeezing=!0};fd.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let n=0;n<t;++n)e[n]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(dv.p1600(this.state),this.count=0);return e};fd.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var zle=fd,d7=Vle(zle);const Hle=d7;function p7(t){return Buffer.allocUnsafe(t).fill(0)}function qle(t){return t.toString(2).length}function g7(t,e){let n=t.toString(16);n.length%2!==0&&(n="0"+n);const r=n.match(/.{1,2}/g).map(i=>parseInt(i,16));for(;r.length<e;)r.unshift(0);return Buffer.from(r)}function Wle(t,e){const n=t<0n;let r;if(n){const i=(1n<<BigInt(e))-1n;r=(~t&i)+1n}else r=t;return r&=(1n<<BigInt(e))-1n,r}function m7(t,e,n){const r=p7(e);return t=Qw(t),n?t.length<e?(t.copy(r),r):t.slice(0,e):t.length<e?(t.copy(r,e-t.length),r):t.slice(-e)}function Gle(t,e){return m7(t,e,!0)}function Qw(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")y7(t)?t=Buffer.from(Zle(v7(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(typeof t=="bigint")t=g7(t);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Kle(t){return t=Qw(t),"0x"+t.toString("hex")}function Qle(t,e){return t=Qw(t),e||(e=256),Hle("keccak"+e).update(t).digest()}function Zle(t){return t.length%2?"0"+t:t}function y7(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function v7(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var w7={zeros:p7,setLength:m7,setLengthRight:Gle,isHexString:y7,stripHexPrefix:v7,toBuffer:Qw,bufferToHex:Kle,keccak:Qle,bitLengthFromBigInt:qle,bufferBEFromBigInt:g7,twosFromBigInt:Wle};const Wr=w7;function _7(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Ff(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function A8(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function b7(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function vc(t){var e=typeof t;if(e==="string"||e==="number")return BigInt(t);if(e==="bigint")return t;throw new Error("Argument is not a number")}function co(t,e){var n,r,i,s;if(t==="address")return co("uint160",vc(e));if(t==="bool")return co("uint8",e?1:0);if(t==="string")return co("bytes",new Buffer(e,"utf8"));if(Yle(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(n=b7(t),n!=="dynamic"&&n!==0&&e.length>n)throw new Error("Elements exceed array size: "+n);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(co(t,e[s]));if(n==="dynamic"){var o=co("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([co("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Wr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(n=Ff(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return Wr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(n=Ff(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=vc(e);const a=Wr.bitLengthFromBigInt(r);if(a>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a);if(r<0)throw new Error("Supplied uint is negative");return Wr.bufferBEFromBigInt(r,32)}else if(t.startsWith("int")){if(n=Ff(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=vc(e);const a=Wr.bitLengthFromBigInt(r);if(a>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a);const u=Wr.twosFromBigInt(r,256);return Wr.bufferBEFromBigInt(u,32)}else if(t.startsWith("ufixed")){if(n=A8(t),r=vc(e),r<0)throw new Error("Supplied ufixed is negative");return co("uint256",r*BigInt(2)**BigInt(n[1]))}else if(t.startsWith("fixed"))return n=A8(t),co("int256",vc(e)*BigInt(2)**BigInt(n[1]))}throw new Error("Unsupported or invalid type: "+t)}function Jle(t){return t==="string"||t==="bytes"||b7(t)==="dynamic"}function Yle(t){return t.lastIndexOf("]")===t.length-1}function Xle(t,e){var n=[],r=[],i=32*t.length;for(var s in t){var o=_7(t[s]),a=e[s],u=co(o,a);Jle(o)?(n.push(co("uint256",i)),r.push(u),i+=u.length):n.push(u)}return Buffer.concat(n.concat(r))}function E7(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var n,r,i=[],s=0;s<t.length;s++){var o=_7(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Wr.setLength(a,20));else if(o.startsWith("bytes")){if(n=Ff(o),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(Wr.setLengthRight(a,n))}else if(o.startsWith("uint")){if(n=Ff(o),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=vc(a);const u=Wr.bitLengthFromBigInt(r);if(u>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+u);i.push(Wr.bufferBEFromBigInt(r,n/8))}else if(o.startsWith("int")){if(n=Ff(o),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=vc(a);const u=Wr.bitLengthFromBigInt(r);if(u>n)throw new Error("Supplied int exceeds width: "+n+" vs "+u);const c=Wr.twosFromBigInt(r,n);i.push(Wr.bufferBEFromBigInt(c,n/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function efe(t,e){return Wr.keccak(E7(t,e))}var tfe={rawEncode:Xle,solidityPack:E7,soliditySHA3:efe};const xs=w7,b0=tfe,A7={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},$2={encodeData(t,e,n,r=!0){const i=["bytes32"],s=[this.hashType(t,n)];if(r){const o=(a,u,c)=>{if(n[u]!==void 0)return["bytes32",c==null?"0x0000000000000000000000000000000000000000000000000000000000000000":xs.keccak(this.encodeData(u,c,n,r))];if(c===void 0)throw new Error(`missing value for field ${a} of type ${u}`);if(u==="bytes")return["bytes32",xs.keccak(c)];if(u==="string")return typeof c=="string"&&(c=Buffer.from(c,"utf8")),["bytes32",xs.keccak(c)];if(u.lastIndexOf("]")===u.length-1){const l=u.slice(0,u.lastIndexOf("[")),f=c.map(h=>o(a,l,h));return["bytes32",xs.keccak(b0.rawEncode(f.map(([h])=>h),f.map(([,h])=>h)))]}return[u,c]};for(const a of n[t]){const[u,c]=o(a.name,a.type,e[a.name]);i.push(u),s.push(c)}}else for(const o of n[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=xs.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=xs.keccak(a),s.push(a);else if(n[o.type]!==void 0)i.push("bytes32"),a=xs.keccak(this.encodeData(o.type,a,n,r)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return b0.rawEncode(i,s)},encodeType(t,e){let n="",r=this.findTypeDependencies(t,e).filter(i=>i!==t);r=[t].concat(r.sort());for(const i of r){if(!e[i])throw new Error("No type definition specified: "+i);n+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return n},findTypeDependencies(t,e,n=[]){if(t=t.match(/^\w*/)[0],n.includes(t)||e[t]===void 0)return n;n.push(t);for(const r of e[t])for(const i of this.findTypeDependencies(r.type,e,n))!n.includes(i)&&n.push(i);return n},hashStruct(t,e,n,r=!0){return xs.keccak(this.encodeData(t,e,n,r))},hashType(t,e){return xs.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const n in A7.properties)t[n]&&(e[n]=t[n]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const n=this.sanitizeData(t),r=[Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",n.domain,n.types,e)),n.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(n.primaryType,n.message,n.types,e)),xs.keccak(Buffer.concat(r))}};var nfe={TYPED_MESSAGE_SCHEMA:A7,TypedDataUtils:$2,hashForSignTypedDataLegacy:function(t){return rfe(t.data)},hashForSignTypedData_v3:function(t){return $2.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return $2.hash(t.data)}};function rfe(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const n=t.map(function(s){return s.type==="bytes"?xs.toBuffer(s.value):s.value}),r=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return b0.soliditySHA3(["bytes32","bytes32"],[b0.soliditySHA3(new Array(t.length).fill("string"),i),b0.soliditySHA3(r,n)])}var Do={};Object.defineProperty(Do,"__esModule",{value:!0});Do.APP_VERSION_KEY=Do.LOCAL_STORAGE_ADDRESSES_KEY=Do.WALLET_USER_NAME_KEY=void 0;Do.WALLET_USER_NAME_KEY="walletUsername";Do.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Do.APP_VERSION_KEY="AppVersion";var Ng={};Object.defineProperty(Ng,"__esModule",{value:!0});Ng.RelayEventManager=void 0;const ife=Ge;let sfe=class{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=(0,ife.prepend0x)(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}};Ng.RelayEventManager=sfe;var Zw={},Jw={},Yw={};Object.defineProperty(Yw,"__esModule",{value:!0});Yw.WalletLinkCipher=void 0;const oy=Ge;class ofe{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",(0,oy.hexStringToUint8Array)(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),a=16,u=o.slice(o.byteLength-a),c=o.slice(0,o.byteLength-a),l=new Uint8Array(u),f=new Uint8Array(c),h=new Uint8Array([...r,...l,...f]);return(0,oy.uint8ArrayToHex)(h)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",(0,oy.hexStringToUint8Array)(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=(0,oy.hexStringToUint8Array)(e),a=o.slice(0,12),u=o.slice(12,28),c=o.slice(28),l=new Uint8Array([...c,...u]),f={name:"AES-GCM",iv:new Uint8Array(a)};try{const h=await window.crypto.subtle.decrypt(f,s,l),m=new TextDecoder;r(m.decode(h))}catch(h){i(h)}})()})}}Yw.WalletLinkCipher=ofe;var Xw={};Object.defineProperty(Xw,"__esModule",{value:!0});Xw.WalletLinkHTTP=void 0;let afe=class{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r==null?void 0:r.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}};Xw.WalletLinkHTTP=afe;var Bh={};Object.defineProperty(Bh,"__esModule",{value:!0});Bh.WalletLinkWebSocket=Bh.ConnectionState=void 0;var Ef;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(Ef||(Bh.ConnectionState=Ef={}));let ufe=class{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,Ef.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),n(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Ef.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Ef.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(u=>this.sendData(u)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const u=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,u)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,Ef.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}};Bh.WalletLinkWebSocket=ufe;Object.defineProperty(Jw,"__esModule",{value:!0});Jw.WalletLinkConnection=void 0;const S8=Do,cfe=Yw,lfe=Xw,ay=Bh,ql=Lr,C8=1e4,ffe=6e4;let hfe=class{constructor({session:e,linkAPIUrl:n,listener:r,WebSocketClass:i=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,ql.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=o=>{if(!o)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",u=>o.JsonRpcUrl&&this.handleChainUpdated(u,o.JsonRpcUrl)]]).forEach((u,c)=>{const l=o[c];l!==void 0&&u(l)})},this.handleDestroyed=o=>{var a;o==="1"&&((a=this.listener)===null||a===void 0||a.resetAndReload())},this.handleAccountUpdated=async o=>{var a;{const u=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.accountUpdated(u)}},this.handleMetadataUpdated=async(o,a)=>{var u;{const c=await this.cipher.decrypt(a);(u=this.listener)===null||u===void 0||u.metadataUpdated(o,c)}},this.handleWalletUsernameUpdated=async o=>{this.handleMetadataUpdated(S8.WALLET_USER_NAME_KEY,o)},this.handleAppVersionUpdated=async o=>{this.handleMetadataUpdated(S8.APP_VERSION_KEY,o)},this.handleChainUpdated=async(o,a)=>{var u;{const c=await this.cipher.decrypt(o),l=await this.cipher.decrypt(a);(u=this.listener)===null||u===void 0||u.chainUpdated(c,l)}},this.session=e,this.cipher=new cfe.WalletLinkCipher(e.secret),this.listener=r;const s=new ay.WalletLinkWebSocket(`${n}/rpc`,i);s.setConnectionStateListener(async o=>{let a=!1;switch(o){case ay.ConnectionState.DISCONNECTED:if(!this.destroyed){const u=async()=>{await new Promise(c=>setTimeout(c,5e3)),this.destroyed||s.connect().catch(()=>{u()})};u()}break;case ay.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),a=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},C8),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case ay.ConnectionState.CONNECTING:break}this.connected!==a&&(this.connected=a)}),s.setIncomingDataListener(o=>{var a;switch(o.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const u=o.type==="IsLinkedOK"?o.linked:void 0;this.linked=u||o.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(o.metadata);break}case"Event":{this.handleIncomingEvent(o);break}}o.id!==void 0&&((a=this.requestResolutions.get(o.id))===null||a===void 0||a(o))}),this.ws=s,this.http=new lfe.WalletLinkHTTP(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}destroy(){this.destroyed=!0,this.ws.disconnect(),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(e){var n;this._connected=e,e&&((n=this.onceConnected)===null||n===void 0||n.call(this))}setOnceConnected(e){return new Promise(n=>{this.connected?e().then(n):this.onceConnected=()=>{e().then(n),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(!(e.type!=="Event"||e.event!=="Web3Response")){const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(i)}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async setSessionMetadata(e,n){const r={type:"SetSessionConfig",id:(0,ql.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[e]:n}};return this.setOnceConnected(async()=>{const i=await this.makeRequest(r);if(i.type==="Fail")throw new Error(i.error||"failed to set session metadata")})}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:(0,ql.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>C8*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n=ffe){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${r} timed out`))},n)}),new Promise(s=>{this.requestResolutions.set(r,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(r)})})])}async authenticate(){const e={type:"HostSession",id:(0,ql.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},n=await this.makeRequest(e);if(n.type==="Fail")throw new Error(n.error||"failed to authenticate")}sendIsLinked(){const e={type:"IsLinked",id:(0,ql.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}sendGetSessionConfig(){const e={type:"GetSessionConfig",id:(0,ql.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}};Jw.WalletLinkConnection=hfe;var e_={},S7={exports:{}},C7=Ku.Buffer;function t_(t,e){this._block=C7.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}t_.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=C7.from(t,e));for(var n=this._block,r=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%r,u=Math.min(i-o,r-a),c=0;c<u;c++)n[a+c]=t[o+c];s+=u,o+=u,s%r===0&&this._update(n)}return this._len+=i,this};t_.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=this._len*8;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(n&4294967295)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};t_.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hd=t_,dfe=Ks,I7=hd,pfe=Ku.Buffer,gfe=[1518500249,1859775393,-1894007588,-899497514],mfe=new Array(80);function Lg(){this.init(),this._w=mfe,I7.call(this,64,56)}dfe(Lg,I7);Lg.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function yfe(t){return t<<5|t>>>27}function vfe(t){return t<<30|t>>>2}function wfe(t,e,n,r){return t===0?e&n|~e&r:t===2?e&n|e&r|n&r:e^n^r}Lg.prototype._update=function(t){for(var e=this._w,n=this._a|0,r=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var u=0;u<80;++u){var c=~~(u/20),l=yfe(n)+wfe(c,r,i,s)+o+e[u]+gfe[c]|0;o=s,s=i,i=vfe(r),r=n,n=l}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Lg.prototype._hash=function(){var t=pfe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var _fe=Lg,bfe=Ks,x7=hd,Efe=Ku.Buffer,Afe=[1518500249,1859775393,-1894007588,-899497514],Sfe=new Array(80);function Bg(){this.init(),this._w=Sfe,x7.call(this,64,56)}bfe(Bg,x7);Bg.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Cfe(t){return t<<1|t>>>31}function Ife(t){return t<<5|t>>>27}function xfe(t){return t<<30|t>>>2}function Tfe(t,e,n,r){return t===0?e&n|~e&r:t===2?e&n|e&r|n&r:e^n^r}Bg.prototype._update=function(t){for(var e=this._w,n=this._a|0,r=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=Cfe(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var u=0;u<80;++u){var c=~~(u/20),l=Ife(n)+Tfe(c,r,i,s)+o+e[u]+Afe[c]|0;o=s,s=i,i=xfe(r),r=n,n=l}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Bg.prototype._hash=function(){var t=Efe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Rfe=Bg,kfe=Ks,T7=hd,Pfe=Ku.Buffer,Mfe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Dfe=new Array(64);function Fg(){this.init(),this._w=Dfe,T7.call(this,64,56)}kfe(Fg,T7);Fg.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Ofe(t,e,n){return n^t&(e^n)}function Nfe(t,e,n){return t&e|n&(t|e)}function Lfe(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Bfe(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Ffe(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function $fe(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Fg.prototype._update=function(t){for(var e=this._w,n=this._a|0,r=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,u=this._g|0,c=this._h|0,l=0;l<16;++l)e[l]=t.readInt32BE(l*4);for(;l<64;++l)e[l]=$fe(e[l-2])+e[l-7]+Ffe(e[l-15])+e[l-16]|0;for(var f=0;f<64;++f){var h=c+Bfe(o)+Ofe(o,a,u)+Mfe[f]+e[f]|0,m=Lfe(n)+Nfe(n,r,i)|0;c=u,u=a,a=o,o=s+h|0,s=i,i=r,r=n,n=h+m|0}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=u+this._g|0,this._h=c+this._h|0};Fg.prototype._hash=function(){var t=Pfe.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var R7=Fg,Ufe=Ks,jfe=R7,Vfe=hd,zfe=Ku.Buffer,Hfe=new Array(64);function n_(){this.init(),this._w=Hfe,Vfe.call(this,64,56)}Ufe(n_,jfe);n_.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};n_.prototype._hash=function(){var t=zfe.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var qfe=n_,Wfe=Ks,k7=hd,Gfe=Ku.Buffer,I8=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Kfe=new Array(160);function $g(){this.init(),this._w=Kfe,k7.call(this,128,112)}Wfe($g,k7);$g.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function x8(t,e,n){return n^t&(e^n)}function T8(t,e,n){return t&e|n&(t|e)}function R8(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function k8(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Qfe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Zfe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Jfe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Yfe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function er(t,e){return t>>>0<e>>>0?1:0}$g.prototype._update=function(t){for(var e=this._w,n=this._ah|0,r=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,u=this._gh|0,c=this._hh|0,l=this._al|0,f=this._bl|0,h=this._cl|0,m=this._dl|0,b=this._el|0,A=this._fl|0,T=this._gl|0,_=this._hl|0,w=0;w<32;w+=2)e[w]=t.readInt32BE(w*4),e[w+1]=t.readInt32BE(w*4+4);for(;w<160;w+=2){var C=e[w-30],M=e[w-15*2+1],N=Qfe(C,M),U=Zfe(M,C);C=e[w-2*2],M=e[w-2*2+1];var v=Jfe(C,M),y=Yfe(M,C),S=e[w-7*2],k=e[w-7*2+1],L=e[w-16*2],z=e[w-16*2+1],x=U+k|0,g=N+S+er(x,U)|0;x=x+y|0,g=g+v+er(x,y)|0,x=x+z|0,g=g+L+er(x,z)|0,e[w]=g,e[w+1]=x}for(var d=0;d<160;d+=2){g=e[d],x=e[d+1];var E=T8(n,r,i),P=T8(l,f,h),I=R8(n,l),F=R8(l,n),H=k8(o,b),V=k8(b,o),R=I8[d],W=I8[d+1],ae=x8(o,a,u),re=x8(b,A,T),X=_+V|0,Q=c+H+er(X,_)|0;X=X+re|0,Q=Q+ae+er(X,re)|0,X=X+W|0,Q=Q+R+er(X,W)|0,X=X+x|0,Q=Q+g+er(X,x)|0;var Y=F+P|0,ee=I+E+er(Y,F)|0;c=u,_=T,u=a,T=A,a=o,A=b,b=m+X|0,o=s+Q+er(b,m)|0,s=i,m=h,i=r,h=f,r=n,f=l,l=X+Y|0,n=Q+ee+er(l,X)|0}this._al=this._al+l|0,this._bl=this._bl+f|0,this._cl=this._cl+h|0,this._dl=this._dl+m|0,this._el=this._el+b|0,this._fl=this._fl+A|0,this._gl=this._gl+T|0,this._hl=this._hl+_|0,this._ah=this._ah+n+er(this._al,l)|0,this._bh=this._bh+r+er(this._bl,f)|0,this._ch=this._ch+i+er(this._cl,h)|0,this._dh=this._dh+s+er(this._dl,m)|0,this._eh=this._eh+o+er(this._el,b)|0,this._fh=this._fh+a+er(this._fl,A)|0,this._gh=this._gh+u+er(this._gl,T)|0,this._hh=this._hh+c+er(this._hl,_)|0};$g.prototype._hash=function(){var t=Gfe.allocUnsafe(64);function e(n,r,i){t.writeInt32BE(n,i),t.writeInt32BE(r,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var P7=$g,Xfe=Ks,ehe=P7,the=hd,nhe=Ku.Buffer,rhe=new Array(160);function r_(){this.init(),this._w=rhe,the.call(this,128,112)}Xfe(r_,ehe);r_.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};r_.prototype._hash=function(){var t=nhe.allocUnsafe(48);function e(n,r,i){t.writeInt32BE(n,i),t.writeInt32BE(r,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var ihe=r_,kl=S7.exports=function(e){e=e.toLowerCase();var n=kl[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n};kl.sha=_fe;kl.sha1=Rfe;kl.sha224=qfe;kl.sha256=R7;kl.sha384=ihe;kl.sha512=P7;var M7=S7.exports;Object.defineProperty(e_,"__esModule",{value:!0});e_.WalletLinkSession=void 0;const she=M7,P8=Ge,M8="session:id",D8="session:secret",O8="session:linked";class e4{constructor(e,n,r,i){this._storage=e,this._id=n||(0,P8.randomBytesHex)(16),this._secret=r||(0,P8.randomBytesHex)(32),this._key=new she.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const n=e.getItem(M8),r=e.getItem(O8),i=e.getItem(D8);return n&&i?new e4(e,n,i,r==="1"):null}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(M8,this._id),this._storage.setItem(D8,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(O8,this._linked?"1":"0")}}e_.WalletLinkSession=e4;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});ki.isDarkMode=ki.isMobileWeb=ki.getLocation=ki.createQrUrl=void 0;function ohe(t,e,n,r,i,s){const o=r?"parent-id":"id",a=new URLSearchParams({[o]:t,secret:e,server:n,v:i,chainId:s.toString()}).toString();return`${n}/#/link?${a}`}ki.createQrUrl=ohe;function ahe(){try{return window.frameElement!==null}catch{return!1}}function uhe(){try{return ahe()&&window.top?window.top.location:window.location}catch{return window.location}}ki.getLocation=uhe;function che(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)}ki.isMobileWeb=che;function lhe(){var t,e;return(e=(t=window==null?void 0:window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}ki.isDarkMode=lhe;var i_={},Ug={},t4={};Object.defineProperty(t4,"__esModule",{value:!0});t4.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var fhe=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ug,"__esModule",{value:!0});Ug.injectCssReset=void 0;const hhe=fhe(t4);function dhe(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(hhe.default)),document.documentElement.appendChild(t)}Ug.injectCssReset=dhe;var n4={};function D7(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=D7(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function N8(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=D7(t))&&(r&&(r+=" "),r+=e);return r}const phe=Object.freeze(Object.defineProperty({__proto__:null,clsx:N8,default:N8},Symbol.toStringTag,{value:"Module"})),Pl=Ta(phe);var jg,an,O7,N7,wc,L8,L7,B7,F7,r4,VA,zA,$7,qp={},U7=[],ghe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Vg=Array.isArray;function Eo(t,e){for(var n in e)t[n]=e[n];return t}function i4(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function HA(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?jg.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return E0(t,o,r,i,null)}function E0(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++O7,__i:-1,__u:0};return i==null&&an.vnode!=null&&an.vnode(s),s}function mhe(){return{current:null}}function zg(t){return t.children}function A0(t,e){this.props=t,this.context=e}function Fh(t,e){if(e==null)return t.__?Fh(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Fh(t):null}function j7(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return j7(t)}}function qA(t){(!t.__d&&(t.__d=!0)&&wc.push(t)&&!pv.__r++||L8!=an.debounceRendering)&&((L8=an.debounceRendering)||L7)(pv)}function pv(){for(var t,e,n,r,i,s,o,a=1;wc.length;)wc.length>a&&wc.sort(B7),t=wc.shift(),a=wc.length,t.__d&&(n=void 0,i=(r=(e=t).__v).__e,s=[],o=[],e.__P&&((n=Eo({},r)).__v=r.__v+1,an.vnode&&an.vnode(n),s4(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,s,i??Fh(r),!!(32&r.__u),o),n.__v=r.__v,n.__.__k[n.__i]=n,q7(s,n,o),n.__e!=i&&j7(n)));pv.__r=0}function V7(t,e,n,r,i,s,o,a,u,c,l){var f,h,m,b,A,T,_=r&&r.__k||U7,w=e.length;for(u=yhe(n,e,_,u,w),f=0;f<w;f++)(m=n.__k[f])!=null&&(h=m.__i==-1?qp:_[m.__i]||qp,m.__i=f,T=s4(t,m,h,i,s,o,a,u,c,l),b=m.__e,m.ref&&h.ref!=m.ref&&(h.ref&&o4(h.ref,null,m),l.push(m.ref,m.__c||b,m)),A==null&&b!=null&&(A=b),4&m.__u||h.__k===m.__k?u=z7(m,u,t):typeof m.type=="function"&&T!==void 0?u=T:b&&(u=b.nextSibling),m.__u&=-7);return n.__e=A,u}function yhe(t,e,n,r,i){var s,o,a,u,c,l=n.length,f=l,h=0;for(t.__k=new Array(i),s=0;s<i;s++)(o=e[s])!=null&&typeof o!="boolean"&&typeof o!="function"?(u=s+h,(o=t.__k[s]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?E0(null,o,null,null,null):Vg(o)?E0(zg,{children:o},null,null,null):o.constructor==null&&o.__b>0?E0(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=t,o.__b=t.__b+1,a=null,(c=o.__i=vhe(o,n,u,f))!=-1&&(f--,(a=n[c])&&(a.__u|=2)),a==null||a.__v==null?(c==-1&&(i>l?h--:i<l&&h++),typeof o.type!="function"&&(o.__u|=4)):c!=u&&(c==u-1?h--:c==u+1?h++:(c>u?h--:h++,o.__u|=4))):t.__k[s]=null;if(f)for(s=0;s<l;s++)(a=n[s])!=null&&!(2&a.__u)&&(a.__e==r&&(r=Fh(a)),G7(a,a));return r}function z7(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=z7(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=Fh(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function H7(t,e){return e=e||[],t==null||typeof t=="boolean"||(Vg(t)?t.some(function(n){H7(n,e)}):e.push(t)),e}function vhe(t,e,n,r){var i,s,o=t.key,a=t.type,u=e[n];if(u===null&&t.key==null||u&&o==u.key&&a==u.type&&!(2&u.__u))return n;if(r>(u!=null&&!(2&u.__u)?1:0))for(i=n-1,s=n+1;i>=0||s<e.length;){if(i>=0){if((u=e[i])&&!(2&u.__u)&&o==u.key&&a==u.type)return i;i--}if(s<e.length){if((u=e[s])&&!(2&u.__u)&&o==u.key&&a==u.type)return s;s++}}return-1}function B8(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||ghe.test(e)?n:n+"px"}function uy(t,e,n,r,i){var s,o;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||B8(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||B8(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(F7,"$1")),o=e.toLowerCase(),e=o in t||e=="onFocusOut"||e=="onFocusIn"?o.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=r4,t.addEventListener(e,s?zA:VA,s)):t.removeEventListener(e,s?zA:VA,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function F8(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=r4++;else if(e.t<n.u)return;return n(an.event?an.event(e):e)}}}function s4(t,e,n,r,i,s,o,a,u,c){var l,f,h,m,b,A,T,_,w,C,M,N,U,v,y,S,k,L=e.type;if(e.constructor!=null)return null;128&n.__u&&(u=!!(32&n.__u),s=[a=e.__e=n.__e]),(l=an.__b)&&l(e);e:if(typeof L=="function")try{if(_=e.props,w="prototype"in L&&L.prototype.render,C=(l=L.contextType)&&r[l.__c],M=l?C?C.props.value:l.__:r,n.__c?T=(f=e.__c=n.__c).__=f.__E:(w?e.__c=f=new L(_,M):(e.__c=f=new A0(_,M),f.constructor=L,f.render=_he),C&&C.sub(f),f.props=_,f.state||(f.state={}),f.context=M,f.__n=r,h=f.__d=!0,f.__h=[],f._sb=[]),w&&f.__s==null&&(f.__s=f.state),w&&L.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Eo({},f.__s)),Eo(f.__s,L.getDerivedStateFromProps(_,f.__s))),m=f.props,b=f.state,f.__v=e,h)w&&L.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),w&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(w&&L.getDerivedStateFromProps==null&&_!==m&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(_,M),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(_,f.__s,M)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(f.props=_,f.state=f.__s,f.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(z){z&&(z.__=e)}),N=0;N<f._sb.length;N++)f.__h.push(f._sb[N]);f._sb=[],f.__h.length&&o.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(_,f.__s,M),w&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(m,b,A)})}if(f.context=M,f.props=_,f.__P=t,f.__e=!1,U=an.__r,v=0,w){for(f.state=f.__s,f.__d=!1,U&&U(e),l=f.render(f.props,f.state,f.context),y=0;y<f._sb.length;y++)f.__h.push(f._sb[y]);f._sb=[]}else do f.__d=!1,U&&U(e),l=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++v<25);f.state=f.__s,f.getChildContext!=null&&(r=Eo(Eo({},r),f.getChildContext())),w&&!h&&f.getSnapshotBeforeUpdate!=null&&(A=f.getSnapshotBeforeUpdate(m,b)),S=l,l!=null&&l.type===zg&&l.key==null&&(S=W7(l.props.children)),a=V7(t,Vg(S)?S:[S],e,n,r,i,s,o,a,u,c),f.base=e.__e,e.__u&=-161,f.__h.length&&o.push(f),T&&(f.__E=f.__=null)}catch(z){if(e.__v=null,u||s!=null)if(z.then){for(e.__u|=u?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else for(k=s.length;k--;)i4(s[k]);else e.__e=n.__e,e.__k=n.__k;an.__e(z,e,n)}else s==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):a=e.__e=whe(n.__e,e,n,r,i,s,o,u,c);return(l=an.diffed)&&l(e),128&e.__u?void 0:a}function q7(t,e,n){for(var r=0;r<n.length;r++)o4(n[r],n[++r],n[++r]);an.__c&&an.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){an.__e(s,i.__v)}})}function W7(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Vg(t)?t.map(W7):Eo({},t)}function whe(t,e,n,r,i,s,o,a,u){var c,l,f,h,m,b,A,T=n.props,_=e.props,w=e.type;if(w=="svg"?i="http://www.w3.org/2000/svg":w=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((m=s[c])&&"setAttribute"in m==!!w&&(w?m.localName==w:m.nodeType==3)){t=m,s[c]=null;break}}if(t==null){if(w==null)return document.createTextNode(_);t=document.createElementNS(i,w,_.is&&_),a&&(an.__m&&an.__m(e,s),a=!1),s=null}if(w==null)T===_||a&&t.data==_||(t.data=_);else{if(s=s&&jg.call(t.childNodes),T=n.props||qp,!a&&s!=null)for(T={},c=0;c<t.attributes.length;c++)T[(m=t.attributes[c]).name]=m.value;for(c in T)if(m=T[c],c!="children"){if(c=="dangerouslySetInnerHTML")f=m;else if(!(c in _)){if(c=="value"&&"defaultValue"in _||c=="checked"&&"defaultChecked"in _)continue;uy(t,c,null,m,i)}}for(c in _)m=_[c],c=="children"?h=m:c=="dangerouslySetInnerHTML"?l=m:c=="value"?b=m:c=="checked"?A=m:a&&typeof m!="function"||T[c]===m||uy(t,c,m,T[c],i);if(l)a||f&&(l.__html==f.__html||l.__html==t.innerHTML)||(t.innerHTML=l.__html),e.__k=[];else if(f&&(t.innerHTML=""),V7(e.type=="template"?t.content:t,Vg(h)?h:[h],e,n,r,w=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:n.__k&&Fh(n,0),a,u),s!=null)for(c=s.length;c--;)i4(s[c]);a||(c="value",w=="progress"&&b==null?t.removeAttribute("value"):b!=null&&(b!==t[c]||w=="progress"&&!b||w=="option"&&b!=T[c])&&uy(t,c,b,T[c],i),c="checked",A!=null&&A!=t[c]&&uy(t,c,A,T[c],i))}return t}function o4(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){an.__e(i,n)}}function G7(t,e,n){var r,i;if(an.unmount&&an.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||o4(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){an.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&G7(r[i],e,n||typeof t.type!="function");n||i4(t.__e),t.__c=t.__=t.__e=void 0}function _he(t,e,n){return this.constructor(t,n)}function K7(t,e,n){var r,i,s,o;e==document&&(e=document.documentElement),an.__&&an.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],o=[],s4(e,t=(!r&&n||e).__k=HA(zg,null,[t]),i||qp,qp,e.namespaceURI,!r&&n?[n]:i?null:e.firstChild?jg.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r,o),q7(s,t,o)}function Q7(t,e){K7(t,e,Q7)}function bhe(t,e,n){var r,i,s,o,a=Eo({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!=null?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?jg.call(arguments,2):n),E0(t.type,a,r||t.key,i||t.ref,null)}function Ehe(t){function e(n){var r,i;return this.getChildContext||(r=new Set,(i={})[e.__c]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(s){this.props.value!=s.value&&r.forEach(function(o){o.__e=!0,qA(o)})},this.sub=function(s){r.add(s);var o=s.componentWillUnmount;s.componentWillUnmount=function(){r&&r.delete(s),o&&o.call(s)}}),n.children}return e.__c="__cC"+$7++,e.__=t,e.Provider=e.__l=(e.Consumer=function(n,r){return n.children(r)}).contextType=e,e}jg=U7.slice,an={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},O7=0,N7=function(t){return t!=null&&t.constructor==null},A0.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Eo({},this.state),typeof t=="function"&&(t=t(Eo({},n),this.props)),t&&Eo(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),qA(this))},A0.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),qA(this))},A0.prototype.render=zg,wc=[],L7=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,B7=function(t,e){return t.__v.__b-e.__v.__b},pv.__r=0,F7=/(PointerCapture)$|Capture$/i,r4=0,VA=F8(!1),zA=F8(!0),$7=0;const Ahe=Object.freeze(Object.defineProperty({__proto__:null,Component:A0,Fragment:zg,cloneElement:bhe,createContext:Ehe,createElement:HA,createRef:mhe,h:HA,hydrate:Q7,get isValidElement(){return N7},get options(){return an},render:K7,toChildArray:H7},Symbol.toStringTag,{value:"Module"})),$r=Ta(Ahe);var Ia,rn,U2,$8,$h=0,Z7=[],vn=an,U8=vn.__b,j8=vn.__r,V8=vn.diffed,z8=vn.__c,H8=vn.unmount,q8=vn.__;function Ml(t,e){vn.__h&&vn.__h(rn,t,$h||e),$h=0;var n=rn.__H||(rn.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function J7(t){return $h=1,Y7(eF,t)}function Y7(t,e,n){var r=Ml(Ia++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):eF(void 0,e),function(a){var u=r.__N?r.__N[0]:r.__[0],c=r.t(u,a);u!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=rn,!rn.__f)){var i=function(a,u,c){if(!r.__c.__H)return!0;var l=r.__c.__H.__.filter(function(h){return!!h.__c});if(l.every(function(h){return!h.__N}))return!s||s.call(this,a,u,c);var f=r.__c.props!==a;return l.forEach(function(h){if(h.__N){var m=h.__[0];h.__=h.__N,h.__N=void 0,m!==h.__[0]&&(f=!0)}}),s&&s.call(this,a,u,c)||f};rn.__f=!0;var s=rn.shouldComponentUpdate,o=rn.componentWillUpdate;rn.componentWillUpdate=function(a,u,c){if(this.__e){var l=s;s=void 0,i(a,u,c),s=l}o&&o.call(this,a,u,c)},rn.shouldComponentUpdate=i}return r.__N||r.__}function She(t,e){var n=Ml(Ia++,3);!vn.__s&&u4(n.__H,e)&&(n.__=t,n.u=e,rn.__H.__h.push(n))}function X7(t,e){var n=Ml(Ia++,4);!vn.__s&&u4(n.__H,e)&&(n.__=t,n.u=e,rn.__h.push(n))}function Che(t){return $h=5,a4(function(){return{current:t}},[])}function Ihe(t,e,n){$h=6,X7(function(){if(typeof t=="function"){var r=t(e());return function(){t(null),r&&typeof r=="function"&&r()}}if(t)return t.current=e(),function(){return t.current=null}},n==null?n:n.concat(t))}function a4(t,e){var n=Ml(Ia++,7);return u4(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function xhe(t,e){return $h=8,a4(function(){return t},e)}function The(t){var e=rn.context[t.__c],n=Ml(Ia++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(rn)),e.props.value):t.__}function Rhe(t,e){vn.useDebugValue&&vn.useDebugValue(e?e(t):t)}function khe(t){var e=Ml(Ia++,10),n=J7();return e.__=t,rn.componentDidCatch||(rn.componentDidCatch=function(r,i){e.__&&e.__(r,i),n[1](r)}),[n[0],function(){n[1](void 0)}]}function Phe(){var t=Ml(Ia++,11);if(!t.__){for(var e=rn.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function Mhe(){for(var t;t=Z7.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Jy),t.__H.__h.forEach(WA),t.__H.__h=[]}catch(e){t.__H.__h=[],vn.__e(e,t.__v)}}vn.__b=function(t){rn=null,U8&&U8(t)},vn.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),q8&&q8(t,e)},vn.__r=function(t){j8&&j8(t),Ia=0;var e=(rn=t.__c).__H;e&&(U2===rn?(e.__h=[],rn.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(Jy),e.__h.forEach(WA),e.__h=[],Ia=0)),U2=rn},vn.diffed=function(t){V8&&V8(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Z7.push(e)!==1&&$8===vn.requestAnimationFrame||(($8=vn.requestAnimationFrame)||Dhe)(Mhe)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),U2=rn=null},vn.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Jy),n.__h=n.__h.filter(function(r){return!r.__||WA(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],vn.__e(r,n.__v)}}),z8&&z8(t,e)},vn.unmount=function(t){H8&&H8(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Jy(r)}catch(i){e=i}}),n.__H=void 0,e&&vn.__e(e,n.__v))};var W8=typeof requestAnimationFrame=="function";function Dhe(t){var e,n=function(){clearTimeout(r),W8&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,35);W8&&(e=requestAnimationFrame(n))}function Jy(t){var e=rn,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),rn=e}function WA(t){var e=rn;t.__c=t.__(),rn=e}function u4(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function eF(t,e){return typeof e=="function"?e(t):e}const Ohe=Object.freeze(Object.defineProperty({__proto__:null,useCallback:xhe,useContext:The,useDebugValue:Rhe,useEffect:She,useErrorBoundary:khe,useId:Phe,useImperativeHandle:Ihe,useLayoutEffect:X7,useMemo:a4,useReducer:Y7,useRef:Che,useState:J7},Symbol.toStringTag,{value:"Module"})),Hg=Ta(Ohe);var c4={};Object.defineProperty(c4,"__esModule",{value:!0});c4.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=Ce&&Ce.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const n=e(Pl),r=$r,i=Hg,s=ki,o=e(c4),a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",u="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class c{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=(0,s.isDarkMode)()}attach(m){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",m.appendChild(this.root),this.render()}presentItem(m){const b=this.nextItemKey++;return this.items.set(b,m),this.render(),()=>{this.items.delete(b),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,r.render)((0,r.h)("div",null,(0,r.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([m,b])=>(0,r.h)(t.SnackbarInstance,Object.assign({},b,{key:m}))))),this.root)}}t.Snackbar=c;const l=h=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-container")},(0,r.h)("style",null,o.default),(0,r.h)("div",{class:"-cbwsdk-snackbar"},h.children));t.SnackbarContainer=l;const f=({autoExpand:h,message:m,menuItems:b})=>{const[A,T]=(0,i.useState)(!0),[_,w]=(0,i.useState)(h??!1);(0,i.useEffect)(()=>{const M=[window.setTimeout(()=>{T(!1)},1),window.setTimeout(()=>{w(!0)},1e4)];return()=>{M.forEach(window.clearTimeout)}});const C=()=>{w(!_)};return(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance",A&&"-cbwsdk-snackbar-instance-hidden",_&&"-cbwsdk-snackbar-instance-expanded")},(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:C},(0,r.h)("img",{src:a,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},m),(0,r.h)("div",{class:"-gear-container"},!_&&(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,r.h)("img",{src:u,class:"-gear-icon",title:"Expand"}))),b&&b.length>0&&(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},b.map((M,N)=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item",M.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:M.onClick,key:N},(0,r.h)("svg",{width:M.svgWidth,height:M.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":M.defaultFillRule,"clip-rule":M.defaultClipRule,d:M.path,fill:"#AAAAAA"})),(0,r.h)("span",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item-info",M.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},M.info)))))};t.SnackbarInstance=f})(n4);Object.defineProperty(i_,"__esModule",{value:!0});i_.WalletLinkRelayUI=void 0;const Nhe=Ug,Lhe=n4;let Bhe=class{constructor(){this.attached=!1,this.snackbar=new Lhe.Snackbar}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,(0,Nhe.injectCssReset)()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}};i_.WalletLinkRelayUI=Bhe;var s_={},o_={},l4={};Object.defineProperty(l4,"__esModule",{value:!0});l4.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";var tF=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o_,"__esModule",{value:!0});o_.RedirectDialog=void 0;const Fhe=tF(Pl),fo=$r,$he=Ug,Uhe=n4,jhe=ki,Vhe=tF(l4);let zhe=class{constructor(){this.root=null,this.darkMode=(0,jhe.isDarkMode)()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),(0,$he.injectCssReset)()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&((0,fo.render)(null,this.root),e&&(0,fo.render)((0,fo.h)(Hhe,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}};o_.RedirectDialog=zhe;const Hhe=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return(0,fo.h)(Uhe.SnackbarContainer,{darkMode:n},(0,fo.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,fo.h)("style",null,Vhe.default),(0,fo.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),(0,fo.h)("div",{class:(0,Fhe.default)("-cbwsdk-redirect-dialog-box",s)},(0,fo.h)("p",null,t),(0,fo.h)("button",{onClick:r},e))))};var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.CBW_MOBILE_DEEPLINK_URL=Oo.WALLETLINK_URL=Oo.CB_KEYS_URL=void 0;Oo.CB_KEYS_URL="https://keys.coinbase.com/connect";Oo.WALLETLINK_URL="https://www.walletlink.org";Oo.CBW_MOBILE_DEEPLINK_URL="https://go.cb-w.com/walletlink";Object.defineProperty(s_,"__esModule",{value:!0});s_.WLMobileRelayUI=void 0;const qhe=o_,Whe=ki,Ghe=Oo;class Khe{constructor(){this.attached=!1,this.redirectDialog=new qhe.RedirectDialog}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(Ghe.CBW_MOBILE_DEEPLINK_URL);n.searchParams.append("redirect_url",(0,Whe.getLocation)().href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}s_.WLMobileRelayUI=Khe;Object.defineProperty(Zw,"__esModule",{value:!0});Zw.WalletLinkRelay=void 0;const Qhe=Jw,Zhe=Do,Jhe=Ng,j2=e_,Wl=ld,Yhe=ki,Xhe=i_,G8=s_,ede=Vo,Rn=Ge,tde=zo;let nF=class gc{constructor(e){this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.isMobileWeb=(0,Yhe.isMobileWeb)(),this.appName="",this.appLogoUrl=null,this.linkedUpdated=s=>{this.isLinked=s;const o=this.storage.getItem(Zhe.LOCAL_STORAGE_ADDRESSES_KEY);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),u=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!s&&this._session.linked&&!u&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,o)=>{this.storage.setItem(s,o)},this.chainUpdated=(s,o)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:s,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(s,o))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),gc.accountRequestCallbackIds.size>0&&(Array.from(gc.accountRequestCallbackIds.values()).forEach(o=>{const a={type:"WEB3_RESPONSE",id:o,response:{method:"requestEthereumAccounts",result:[s]}};this.invokeCallback(Object.assign(Object.assign({},a),{id:o}))}),gc.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new Jhe.RelayEventManager,this.ui=r}subscribe(){const e=j2.WalletLinkSession.load(this.storage)||new j2.WalletLinkSession(this.storage).save(),{linkAPIUrl:n}=this,r=new Qhe.WalletLinkConnection({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new G8.WLMobileRelayUI:new Xhe.WalletLinkRelayUI;return r.connect(),{session:e,ui:i,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(e=>setTimeout(()=>e(null),1e3))]).then(()=>{this.connection.destroy();const e=j2.WalletLinkSession.load(this.storage);(e==null?void 0:e.id)===this._session.id&&tde.ScopedLocalStorage.clearAll(),document.location.reload()}).catch(e=>{})}setAppInfo(e,n){this.appName=e,this.appLogoUrl=n}getStorageItem(e){return this.storage.getItem(e)}setStorageItem(e,n){this.storage.setItem(e,n)}signEthereumMessage(e,n,r,i){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,Rn.hexStringFromBuffer)(e,!0),address:n,addPrefix:r,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,n,r){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,Rn.hexStringFromBuffer)(e,!0),signature:(0,Rn.hexStringFromBuffer)(n,!0),addPrefix:r}})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Rn.bigIntStringFromBigInt)(e.weiValue),data:(0,Rn.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Rn.bigIntStringFromBigInt)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,Rn.bigIntStringFromBigInt)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,Rn.bigIntStringFromBigInt)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,Rn.bigIntStringFromBigInt)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Rn.bigIntStringFromBigInt)(e.weiValue),data:(0,Rn.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Rn.bigIntStringFromBigInt)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,Rn.bigIntStringFromBigInt)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,Rn.bigIntStringFromBigInt)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,Rn.bigIntStringFromBigInt)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,Rn.hexStringFromBuffer)(e,!0),chainId:n}})}scanQRCode(e){return this.sendRequest({method:"scanQRCode",params:{regExp:e}})}getWalletLinkSession(){return this._session}genericRequest(e,n){return this.sendRequest({method:"generic",params:{action:n,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let n=null;const r=(0,Rn.randomBytesHex)(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s),n==null||n()};return new Promise((s,o)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,a=>{if(n==null||n(),(0,Wl.isErrorResponse)(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(r,e)})}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChain=e}publishWeb3RequestEvent(e,n){const r={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:r.id,response:{method:n.method,errorMessage:i.message}})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof G8.WLMobileRelayUI)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e){const{response:n}=e;if(n.method==="requestEthereumAccounts"){gc.accountRequestCallbackIds.forEach(r=>this.invokeCallback(Object.assign(Object.assign({},e),{id:r}))),gc.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,n,r){var i;const s=(i=r==null?void 0:r.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:{method:n,errorMessage:s}})}invokeCallback(e){const n=this.relayEventManager.callbacks.get(e.id);n&&(n(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},n=(0,Rn.randomBytesHex)(8);return new Promise((r,i)=>{this.relayEventManager.callbacks.set(n,s=>{if((0,Wl.isErrorResponse)(s))return i(new Error(s.errorMessage));r(s)}),gc.accountRequestCallbackIds.add(n),this.publishWeb3RequestEvent(n,e)})}watchAsset(e,n,r,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:o}};let u=null;const c=(0,Rn.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,f),u==null||u()};return u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}),new Promise((f,h)=>{this.relayEventManager.callbacks.set(c,m=>{if(u==null||u(),(0,Wl.isErrorResponse)(m))return h(new Error(m.errorMessage));f(m)}),this.publishWeb3RequestEvent(c,a)})}addEthereumChain(e,n,r,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:o}};let u=null;const c=(0,Rn.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,f),u==null||u()};return u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}),new Promise((f,h)=>{this.relayEventManager.callbacks.set(c,m=>{if(u==null||u(),(0,Wl.isErrorResponse)(m))return h(new Error(m.errorMessage));f(m)}),this.publishWeb3RequestEvent(c,a)})}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})},i=(0,Rn.randomBytesHex)(8);return new Promise((s,o)=>{this.relayEventManager.callbacks.set(i,a=>{if((0,Wl.isErrorResponse)(a)&&a.errorCode)return o(ede.standardErrors.provider.custom({code:a.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,Wl.isErrorResponse)(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(i,r)})}};Zw.WalletLinkRelay=nF;nF.accountRequestCallbackIds=new Set;var nde=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ww,"__esModule",{value:!0});Ww.WalletLinkSigner=void 0;const V2=nde(nfe),K8=Do,rde=Ng,Zo=ld,ide=Zw,Q8=Oo,tr=Vo,Mt=Ge,sde=zo,z2="DefaultChainId",Z8="DefaultJsonRpcUrl";class ode{constructor(e){var n,r;this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1;const{appName:i,appLogoUrl:s}=e.metadata;this._appName=i,this._appLogoUrl=s,this._storage=new sde.ScopedLocalStorage("walletlink",Q8.WALLETLINK_URL),this.updateListener=e.updateListener,this._relayEventManager=new rde.RelayEventManager,this._jsonRpcUrlFromOpts="";const o=this._storage.getItem(K8.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const u=o.split(" ");u[0]!==""&&(this._addresses=u.map(c=>(0,Mt.ensureAddressString)(c)),(n=this.updateListener)===null||n===void 0||n.onAccountsUpdate({accounts:this._addresses,source:"storage"}))}this._storage.getItem(z2)&&((r=this.updateListener)===null||r===void 0||r.onChainUpdate({chain:{id:this.getChainId(),rpcUrl:this.jsonRpcUrl},source:"storage"}),this.hasMadeFirstChainChangedEmission=!0),this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:r}=e.getWalletLinkSession();return{id:n,secret:r}}async handshake(){return await this.request({method:"eth_requestAccounts"})}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Z8))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Z8,e)}updateProviderInfo(e,n){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(z2,n.toString(10)),((0,Mt.ensureIntNumber)(n)!==i||!this.hasMadeFirstChainChangedEmission)&&((r=this.updateListener)===null||r===void 0||r.onChainUpdate({chain:{id:n,rpcUrl:e},source:"wallet"}),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,n,r,i,s,o){const u=await this.initializeRelay().watchAsset(e,n,r,i,s,o==null?void 0:o.toString());return(0,Zo.isErrorResponse)(u)?!1:!!u.result}async addEthereumChain(e,n,r,i,s,o){var a,u;if((0,Mt.ensureIntNumber)(e)===this.getChainId())return!1;const c=this.initializeRelay();this._isAuthorized()||await c.requestEthereumAccounts();const l=await c.addEthereumChain(e.toString(),n,s,r,i,o);return(0,Zo.isErrorResponse)(l)?!1:(((a=l.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(n[0],e),((u=l.result)===null||u===void 0?void 0:u.isApproved)===!0)}async switchEthereumChain(e){const r=await this.initializeRelay().switchEthereumChain(e.toString(10),this.selectedAddress||void 0);if((0,Zo.isErrorResponse)(r)){if(!r.errorCode)return;throw r.errorCode===tr.standardErrorCodes.provider.unsupportedChain?tr.standardErrors.provider.unsupportedChain():tr.standardErrors.provider.custom({message:r.errorMessage,code:r.errorCode})}const i=r.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}async disconnect(){this._relay&&this._relay.resetAndReload(),this._storage.clear()}async request(e){try{return this._request(e).catch(n=>{throw n})}catch(n){return Promise.reject(n)}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw tr.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:n,params:r}=e;if(typeof n!="string"||n.length===0)throw tr.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw tr.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=r===void 0?[]:r,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:n,params:i,jsonrpc:"2.0",id:s})).result}_setAddresses(e,n){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>(0,Mt.ensureAddressString)(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.updateListener)===null||r===void 0||r.onAccountsUpdate({accounts:i,source:"wallet"}),this._storage.setItem(K8.LOCAL_STORAGE_ADDRESSES_KEY,i.join(" ")))}_sendRequestAsync(e){return new Promise((n,r)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return n({jsonrpc:"2.0",id:e.id,result:i})}catch(i){return r(i)}this._handleAsynchronousMethods(e).then(i=>i&&n(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>r(i))})}_handleSynchronousMethods(e){const{method:n}=e;switch(n){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:n}=e,r=e.params||[];switch(n){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(r);case"eth_ecRecover":return this._eth_ecRecover(r);case"personal_sign":return this._personal_sign(r);case"personal_ecRecover":return this._personal_ecRecover(r);case"eth_signTransaction":return this._eth_signTransaction(r);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(r);case"eth_sendTransaction":return this._eth_sendTransaction(r);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(r);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(r);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(r);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(r);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(r);case"wallet_watchAsset":return this._wallet_watchAsset(r);default:return this._throwUnsupportedMethodError()}}_isKnownAddress(e){try{const n=(0,Mt.ensureAddressString)(e);return this._addresses.map(i=>(0,Mt.ensureAddressString)(i)).includes(n)}catch{}return!1}_ensureKnownAddress(e){if(!this._isKnownAddress(e))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?(0,Mt.ensureAddressString)(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?(0,Mt.ensureAddressString)(e.to):null,i=e.value!=null?(0,Mt.ensureBigInt)(e.value):BigInt(0),s=e.data?(0,Mt.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,Mt.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,Mt.ensureBigInt)(e.gasPrice):null,u=e.maxFeePerGas!=null?(0,Mt.ensureBigInt)(e.maxFeePerGas):null,c=e.maxPriorityFeePerGas!=null?(0,Mt.ensureBigInt)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,Mt.ensureBigInt)(e.gas):null,f=e.chainId?(0,Mt.ensureIntNumber)(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:u,maxPriorityFeePerGas:c,gasLimit:l,chainId:f}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw tr.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw tr.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,n,r,i){this._ensureKnownAddress(n);try{const o=await this.initializeRelay().signEthereumMessage(e,n,r,i);if((0,Zo.isErrorResponse)(o))throw new Error(o.errorMessage);return{jsonrpc:"2.0",id:0,result:o.result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?tr.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,n,r){const s=await this.initializeRelay().ethereumAddressFromSignedMessage(e,n,r);if((0,Zo.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,Mt.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(z2);if(!e)return(0,Mt.ensureIntNumber)(1);const n=parseInt(e,10);return(0,Mt.ensureIntNumber)(n)}async _eth_requestAccounts(){if(this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let e;try{if(e=await this.initializeRelay().requestEthereumAccounts(),(0,Zo.isErrorResponse)(e))throw new Error(e.errorMessage)}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?tr.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!e.result)throw new Error("accounts received is empty");return this._setAddresses(e.result),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const n=(0,Mt.ensureAddressString)(e[0]),r=(0,Mt.ensureBuffer)(e[1]);return this._signEthereumMessage(r,n,!1)}_eth_ecRecover(e){const n=(0,Mt.ensureBuffer)(e[0]),r=(0,Mt.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(n,r,!1)}_personal_sign(e){this._requireAuthorization();const n=(0,Mt.ensureBuffer)(e[0]),r=(0,Mt.ensureAddressString)(e[1]);return this._signEthereumMessage(n,r,!0)}_personal_ecRecover(e){const n=(0,Mt.ensureBuffer)(e[0]),r=(0,Mt.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(n,r,!0)}async _eth_signTransaction(e){this._requireAuthorization();const n=this._prepareTransactionParams(e[0]||{});try{const i=await this.initializeRelay().signEthereumTransaction(n);if((0,Zo.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?tr.standardErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_sendRawTransaction(e){const n=(0,Mt.ensureBuffer)(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if((0,Zo.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(e){this._requireAuthorization();const n=this._prepareTransactionParams(e[0]||{});try{const i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if((0,Zo.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?tr.standardErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_signTypedData_v1(e){this._requireAuthorization();const n=(0,Mt.ensureParsedJSONObject)(e[0]),r=(0,Mt.ensureAddressString)(e[1]);this._ensureKnownAddress(r);const i=V2.default.hashForSignTypedDataLegacy({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const n=(0,Mt.ensureAddressString)(e[0]),r=(0,Mt.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(n);const i=V2.default.hashForSignTypedData_v3({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const n=(0,Mt.ensureAddressString)(e[0]),r=(0,Mt.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(n);const i=V2.default.hashForSignTypedData_v4({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _wallet_addEthereumChain(e){var n,r,i,s;const o=e[0];if(((n=o.rpcUrls)===null||n===void 0?void 0:n.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw tr.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw tr.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(r=o.rpcUrls)!==null&&r!==void 0?r:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const n=e[0];return await this.switchEthereumChain(parseInt(n.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw tr.standardErrors.rpc.invalidParams("Type is required");if((n==null?void 0:n.type)!=="ERC20")throw tr.standardErrors.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!(n!=null&&n.options))throw tr.standardErrors.rpc.invalidParams("Options are required");if(!(n!=null&&n.options.address))throw tr.standardErrors.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=n.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(n.type,i,s,a,o,r)}}initializeRelay(){if(!this._relay){const e=new ide.WalletLinkRelay({linkAPIUrl:Q8.WALLETLINK_URL,storage:this._storage});e.setAppInfo(this._appName,this._appLogoUrl),e.attachUI(),e.setAccountsCallback((n,r)=>this._setAddresses(n,r)),e.setChainCallback((n,r)=>{this.updateProviderInfo(r,parseInt(n,10))}),this._relay=e}return this._relay}}Ww.WalletLinkSigner=ode;var cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.checkErrorForInvalidRequestArgs=cs.getCoinbaseInjectedProvider=cs.getCoinbaseInjectedSigner=cs.fetchRPCRequest=void 0;const ade=xl,Yy=Vo;async function ude(t,e){if(!e.rpcUrl)throw Yy.standardErrors.rpc.internal("No RPC URL set for chain");const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()});return(await(await window.fetch(e.rpcUrl,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":ade.LIB_VERSION}})).json()).result}cs.fetchRPCRequest=ude;function rF(){return globalThis.coinbaseWalletSigner}cs.getCoinbaseInjectedSigner=rF;function cde(){return globalThis.coinbaseWalletExtension}function lde(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function fde({metadata:t,preference:e}){var n;if(e.options!=="smartWalletOnly"){if(rF())return;const s=cde();if(s){const{appName:o,appLogoUrl:a,appChainIds:u}=t;return(n=s.setAppInfo)===null||n===void 0||n.call(s,o,a,u),s}}const r=lde();if(r!=null&&r.isCoinbaseBrowser)return r}cs.getCoinbaseInjectedProvider=fde;function hde(t){if(!t||typeof t!="object"||Array.isArray(t))return Yy.standardErrors.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)return Yy.standardErrors.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))return Yy.standardErrors.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t})}cs.checkErrorForInvalidRequestArgs=hde;Object.defineProperty(bo,"__esModule",{value:!0});bo.createSigner=bo.fetchSignerType=bo.storeSignerType=bo.loadSignerType=void 0;const dde=zw,iF=Ww,pde=Vo,gde=cs,mde=zo,sF="SignerType",oF=new mde.ScopedLocalStorage("CBWSDK","SignerConfigurator");function yde(){return oF.getItem(sF)}bo.loadSignerType=yde;function vde(t){oF.setItem(sF,t)}bo.storeSignerType=vde;async function wde(t){const{communicator:e,metadata:n}=t;bde(e,n).catch(()=>{});const r={id:crypto.randomUUID(),event:"selectSignerType",data:t.preference},{data:i}=await e.postRequestAndWaitForResponse(r);return i}bo.fetchSignerType=wde;function _de(t){const{signerType:e,metadata:n,communicator:r,updateListener:i}=t;switch(e){case"scw":return new dde.SCWSigner({metadata:n,updateListener:i,communicator:r});case"walletlink":return new iF.WalletLinkSigner({metadata:n,updateListener:i});case"extension":{const s=(0,gde.getCoinbaseInjectedSigner)();if(!s)throw pde.standardErrors.rpc.internal("injected signer not found");return s}}}bo.createSigner=_de;async function bde(t,e){await t.onMessage(({event:r})=>r==="WalletLinkSessionRequest");const n=new iF.WalletLinkSigner({metadata:e});t.postMessage({event:"WalletLinkUpdate",data:{session:n.getSession()}}),await n.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}var a_={},Uh={};Object.defineProperty(Uh,"__esModule",{value:!0});Uh.closePopup=Uh.openPopup=void 0;const Ede=Vo,J8=420,Y8=540;function Ade(t){const e=(window.innerWidth-J8)/2+window.screenX,n=(window.innerHeight-Y8)/2+window.screenY,r=window.open(t,"Smart Wallet",`width=${J8}, height=${Y8}, left=${e}, top=${n}`);if(r==null||r.focus(),!r)throw Ede.standardErrors.rpc.internal("Pop up window failed to open");return r}Uh.openPopup=Ade;function Sde(t){t&&!t.closed&&t.close()}Uh.closePopup=Sde;Object.defineProperty(a_,"__esModule",{value:!0});a_.Communicator=void 0;const Cde=xl,X8=Uh,Ide=Oo,eR=Vo;class xde{constructor(e=Ide.CB_KEYS_URL){this.popup=null,this.listeners=new Map,this.postMessage=async n=>{(await this.waitForPopupLoaded()).postMessage(n,this.url.origin)},this.postRequestAndWaitForResponse=async n=>{const r=this.onMessage(({requestId:i})=>i===n.id);return this.postMessage(n),await r},this.onMessage=async n=>new Promise((r,i)=>{const s=o=>{if(o.origin!==this.url.origin)return;const a=o.data;n(a)&&(r(a),window.removeEventListener("message",s),this.listeners.delete(s))};window.addEventListener("message",s),this.listeners.set(s,{reject:i})}),this.disconnect=()=>{(0,X8.closePopup)(this.popup),this.popup=null,this.listeners.forEach(({reject:n},r)=>{n(eR.standardErrors.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",r)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=(0,X8.openPopup)(this.url),this.onMessage(({event:n})=>n==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:n})=>n==="PopupLoaded").then(n=>{this.postMessage({requestId:n.id,data:{version:Cde.LIB_VERSION}})}).then(()=>{if(!this.popup)throw eR.standardErrors.rpc.internal();return this.popup})),this.url=new URL(e)}}a_.Communicator=xde;var u_={};Object.defineProperty(u_,"__esModule",{value:!0});u_.determineMethodCategory=void 0;const tR={handshake:["eth_requestAccounts"],sign:["eth_ecRecover","personal_sign","personal_ecRecover","eth_signTransaction","eth_sendTransaction","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4","eth_signTypedData","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_watchAsset","wallet_getCapabilities","wallet_sendCalls","wallet_showCallsStatus"],state:["eth_chainId","eth_accounts","eth_coinbase","net_version"],deprecated:["eth_sign","eth_signTypedData_v2"],unsupported:["eth_subscribe","eth_unsubscribe"],fetch:[]};function Tde(t){for(const e in tR){const n=e;if(tR[n].includes(t))return n}}u_.determineMethodCategory=Tde;var Rde=Ce&&Ce.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},kde=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($w,"__esModule",{value:!0});$w.CoinbaseWalletProvider=void 0;const Pde=kde(BB),Gl=Vo,Mde=jw,cy=Lr,$d=Ge,ly=bo,nR=cs,Dde=a_,Ode=u_,Nde=zo;let Lde=class extends Pde.default{constructor(e){var n,r,{metadata:i}=e,s=e.preference,{keysUrl:o}=s,a=Rde(s,["keysUrl"]);super(),this.accounts=[],this.handlers={handshake:async c=>{try{if(this.connected)return this.emit("connect",{chainId:(0,$d.hexStringFromIntNumber)((0,cy.IntNumber)(this.chain.id))}),this.accounts;const l=await this.requestSignerSelection(),f=this.initSigner(l),h=await f.handshake();return this.signer=f,(0,ly.storeSignerType)(l),this.emit("connect",{chainId:(0,$d.hexStringFromIntNumber)((0,cy.IntNumber)(this.chain.id))}),h}catch(l){throw this.handleUnauthorizedError(l),l}},sign:async c=>{if(!this.connected||!this.signer)throw Gl.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods");try{return await this.signer.request(c)}catch(l){throw this.handleUnauthorizedError(l),l}},fetch:c=>(0,nR.fetchRPCRequest)(c,this.chain),state:c=>{const l=()=>{if(this.connected)return this.accounts;throw Gl.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")};switch(c.method){case"eth_chainId":return(0,$d.hexStringFromIntNumber)((0,cy.IntNumber)(this.chain.id));case"net_version":return this.chain.id;case"eth_accounts":return l();case"eth_coinbase":return l()[0];default:return this.handlers.unsupported(c)}},deprecated:({method:c})=>{throw Gl.standardErrors.rpc.methodNotSupported(`Method ${c} is deprecated.`)},unsupported:({method:c})=>{throw Gl.standardErrors.rpc.methodNotSupported(`Method ${c} is not supported.`)}},this.isCoinbaseWallet=!0,this.updateListener={onAccountsUpdate:({accounts:c,source:l})=>{(0,$d.areAddressArraysEqual)(this.accounts,c)||(this.accounts=c,l!=="storage"&&this.emit("accountsChanged",this.accounts))},onChainUpdate:({chain:c,source:l})=>{c.id===this.chain.id&&c.rpcUrl===this.chain.rpcUrl||(this.chain=c,l!=="storage"&&this.emit("chainChanged",(0,$d.hexStringFromIntNumber)((0,cy.IntNumber)(c.id))))}},this.metadata=i,this.preference=a,this.communicator=new Dde.Communicator(o),this.chain={id:(r=(n=i.appChainIds)===null||n===void 0?void 0:n[0])!==null&&r!==void 0?r:1};const u=(0,ly.loadSignerType)();this.signer=u?this.initSigner(u):null}get connected(){return this.accounts.length>0}async request(e){var n;try{const r=(0,nR.checkErrorForInvalidRequestArgs)(e);if(r)throw r;const i=(n=(0,Ode.determineMethodCategory)(e.method))!==null&&n!==void 0?n:"fetch";return this.handlers[i](e)}catch(r){return Promise.reject((0,Mde.serializeError)(r,e.method))}}handleUnauthorizedError(e){e.code===Gl.standardErrorCodes.provider.unauthorized&&this.disconnect()}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){this.accounts=[],this.chain={id:1},Nde.ScopedLocalStorage.clearAll(),this.emit("disconnect",Gl.standardErrors.provider.disconnected("User initiated disconnection"))}requestSignerSelection(){return(0,ly.fetchSignerType)({communicator:this.communicator,preference:this.preference,metadata:this.metadata})}initSigner(e){return(0,ly.createSigner)({signerType:e,metadata:this.metadata,communicator:this.communicator,updateListener:this.updateListener})}};$w.CoinbaseWalletProvider=Lde;Object.defineProperty(zp,"__esModule",{value:!0});zp.CoinbaseWalletSDK=void 0;const Bde=Fw,Fde=$w,$de=zo,Ude=xl,jde=Ge,Vde=cs;let zde=class{constructor(e){this.metadata={appName:e.appName||"Dapp",appLogoUrl:e.appLogoUrl||(0,jde.getFavicon)(),appChainIds:e.appChainIds||[]},this.storeLatestVersion()}makeWeb3Provider(e={options:"all"}){var n;const r={metadata:this.metadata,preference:e};return(n=(0,Vde.getCoinbaseInjectedProvider)(r))!==null&&n!==void 0?n:new Fde.CoinbaseWalletProvider(r)}getCoinbaseWalletLogo(e,n=240){return(0,Bde.walletLogo)(e,n)}storeLatestVersion(){new $de.ScopedLocalStorage("CBWSDK").setItem("VERSION",Ude.LIB_VERSION)}};zp.CoinbaseWalletSDK=zde;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletSDK=void 0;const e=zp;t.default=e.CoinbaseWalletSDK;var n=zp;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}})})(LB);const Hde=Ni(LB),Wbe=Object.freeze(Object.defineProperty({__proto__:null,default:Hde},Symbol.toStringTag,{value:"Module"}));var aF={},Wp={},c_={};Object.defineProperty(c_,"__esModule",{value:!0});c_.walletLogo=void 0;const qde=(t,e)=>{let n;switch(t){case"standard":return n=e,`data:image/svg+xml,%3Csvg width='${e}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return n=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${n}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return n=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return n=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return n=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return n=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return n=e,`data:image/svg+xml,%3Csvg width='${e}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};c_.walletLogo=qde;var l_={};Object.defineProperty(l_,"__esModule",{value:!0});l_.LINK_API_URL=void 0;l_.LINK_API_URL="https://www.walletlink.org";var Ue={},f4={exports:{}};f4.exports;(function(t){(function(e,n){function r(x,g){if(!x)throw new Error(g||"Assertion failed")}function i(x,g){x.super_=g;var d=function(){};d.prototype=g.prototype,x.prototype=new d,x.prototype.constructor=x}function s(x,g,d){if(s.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((g==="le"||g==="be")&&(d=g,g=10),this._init(x||0,g||10,d||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=zv.Buffer}catch{}s.isBN=function(g){return g instanceof s?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===s.wordSize&&Array.isArray(g.words)},s.max=function(g,d){return g.cmp(d)>0?g:d},s.min=function(g,d){return g.cmp(d)<0?g:d},s.prototype._init=function(g,d,E){if(typeof g=="number")return this._initNumber(g,d,E);if(typeof g=="object")return this._initArray(g,d,E);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),g=g.toString().replace(/\s+/g,"");var P=0;g[0]==="-"&&(P++,this.negative=1),P<g.length&&(d===16?this._parseHex(g,P,E):(this._parseBase(g,d,P),E==="le"&&this._initArray(this.toArray(),d,E)))},s.prototype._initNumber=function(g,d,E){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(r(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),d,E)},s.prototype._initArray=function(g,d,E){if(r(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var I,F,H=0;if(E==="be")for(P=g.length-1,I=0;P>=0;P-=3)F=g[P]|g[P-1]<<8|g[P-2]<<16,this.words[I]|=F<<H&67108863,this.words[I+1]=F>>>26-H&67108863,H+=24,H>=26&&(H-=26,I++);else if(E==="le")for(P=0,I=0;P<g.length;P+=3)F=g[P]|g[P+1]<<8|g[P+2]<<16,this.words[I]|=F<<H&67108863,this.words[I+1]=F>>>26-H&67108863,H+=24,H>=26&&(H-=26,I++);return this._strip()};function a(x,g){var d=x.charCodeAt(g);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;r(!1,"Invalid character in "+x)}function u(x,g,d){var E=a(x,d);return d-1>=g&&(E|=a(x,d-1)<<4),E}s.prototype._parseHex=function(g,d,E){this.length=Math.ceil((g.length-d)/6),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var I=0,F=0,H;if(E==="be")for(P=g.length-1;P>=d;P-=2)H=u(g,d,P)<<I,this.words[F]|=H&67108863,I>=18?(I-=18,F+=1,this.words[F]|=H>>>26):I+=8;else{var V=g.length-d;for(P=V%2===0?d+1:d;P<g.length;P+=2)H=u(g,d,P)<<I,this.words[F]|=H&67108863,I>=18?(I-=18,F+=1,this.words[F]|=H>>>26):I+=8}this._strip()};function c(x,g,d,E){for(var P=0,I=0,F=Math.min(x.length,d),H=g;H<F;H++){var V=x.charCodeAt(H)-48;P*=E,V>=49?I=V-49+10:V>=17?I=V-17+10:I=V,r(V>=0&&I<E,"Invalid character"),P+=I}return P}s.prototype._parseBase=function(g,d,E){this.words=[0],this.length=1;for(var P=0,I=1;I<=67108863;I*=d)P++;P--,I=I/d|0;for(var F=g.length-E,H=F%P,V=Math.min(F,F-H)+E,R=0,W=E;W<V;W+=P)R=c(g,W,W+P,d),this.imuln(I),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R);if(H!==0){var ae=1;for(R=c(g,W,g.length,d),W=0;W<H;W++)ae*=d;this.imuln(ae),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R)}this._strip()},s.prototype.copy=function(g){g.words=new Array(this.length);for(var d=0;d<this.length;d++)g.words[d]=this.words[d];g.length=this.length,g.negative=this.negative,g.red=this.red};function l(x,g){x.words=g.words,x.length=g.length,x.negative=g.negative,x.red=g.red}if(s.prototype._move=function(g){l(g,this)},s.prototype.clone=function(){var g=new s(null);return this.copy(g),g},s.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(g,d){g=g||10,d=d|0||1;var E;if(g===16||g==="hex"){E="";for(var P=0,I=0,F=0;F<this.length;F++){var H=this.words[F],V=((H<<P|I)&16777215).toString(16);I=H>>>24-P&16777215,P+=2,P>=26&&(P-=26,F--),I!==0||F!==this.length-1?E=h[6-V.length]+V+E:E=V+E}for(I!==0&&(E=I.toString(16)+E);E.length%d!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(g===(g|0)&&g>=2&&g<=36){var R=m[g],W=b[g];E="";var ae=this.clone();for(ae.negative=0;!ae.isZero();){var re=ae.modrn(W).toString(g);ae=ae.idivn(W),ae.isZero()?E=re+E:E=h[R-re.length]+re+E}for(this.isZero()&&(E="0"+E);E.length%d!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(g,d){return this.toArrayLike(o,g,d)}),s.prototype.toArray=function(g,d){return this.toArrayLike(Array,g,d)};var A=function(g,d){return g.allocUnsafe?g.allocUnsafe(d):new g(d)};s.prototype.toArrayLike=function(g,d,E){this._strip();var P=this.byteLength(),I=E||Math.max(1,P);r(P<=I,"byte array longer than desired length"),r(I>0,"Requested array length <= 0");var F=A(g,I),H=d==="le"?"LE":"BE";return this["_toArrayLike"+H](F,P),F},s.prototype._toArrayLikeLE=function(g,d){for(var E=0,P=0,I=0,F=0;I<this.length;I++){var H=this.words[I]<<F|P;g[E++]=H&255,E<g.length&&(g[E++]=H>>8&255),E<g.length&&(g[E++]=H>>16&255),F===6?(E<g.length&&(g[E++]=H>>24&255),P=0,F=0):(P=H>>>24,F+=2)}if(E<g.length)for(g[E++]=P;E<g.length;)g[E++]=0},s.prototype._toArrayLikeBE=function(g,d){for(var E=g.length-1,P=0,I=0,F=0;I<this.length;I++){var H=this.words[I]<<F|P;g[E--]=H&255,E>=0&&(g[E--]=H>>8&255),E>=0&&(g[E--]=H>>16&255),F===6?(E>=0&&(g[E--]=H>>24&255),P=0,F=0):(P=H>>>24,F+=2)}if(E>=0)for(g[E--]=P;E>=0;)g[E--]=0},Math.clz32?s.prototype._countBits=function(g){return 32-Math.clz32(g)}:s.prototype._countBits=function(g){var d=g,E=0;return d>=4096&&(E+=13,d>>>=13),d>=64&&(E+=7,d>>>=7),d>=8&&(E+=4,d>>>=4),d>=2&&(E+=2,d>>>=2),E+d},s.prototype._zeroBits=function(g){if(g===0)return 26;var d=g,E=0;return d&8191||(E+=13,d>>>=13),d&127||(E+=7,d>>>=7),d&15||(E+=4,d>>>=4),d&3||(E+=2,d>>>=2),d&1||E++,E},s.prototype.bitLength=function(){var g=this.words[this.length-1],d=this._countBits(g);return(this.length-1)*26+d};function T(x){for(var g=new Array(x.bitLength()),d=0;d<g.length;d++){var E=d/26|0,P=d%26;g[d]=x.words[E]>>>P&1}return g}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,d=0;d<this.length;d++){var E=this._zeroBits(this.words[d]);if(g+=E,E!==26)break}return g},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},s.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var d=0;d<g.length;d++)this.words[d]=this.words[d]|g.words[d];return this._strip()},s.prototype.ior=function(g){return r((this.negative|g.negative)===0),this.iuor(g)},s.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},s.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},s.prototype.iuand=function(g){var d;this.length>g.length?d=g:d=this;for(var E=0;E<d.length;E++)this.words[E]=this.words[E]&g.words[E];return this.length=d.length,this._strip()},s.prototype.iand=function(g){return r((this.negative|g.negative)===0),this.iuand(g)},s.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},s.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},s.prototype.iuxor=function(g){var d,E;this.length>g.length?(d=this,E=g):(d=g,E=this);for(var P=0;P<E.length;P++)this.words[P]=d.words[P]^E.words[P];if(this!==d)for(;P<d.length;P++)this.words[P]=d.words[P];return this.length=d.length,this._strip()},s.prototype.ixor=function(g){return r((this.negative|g.negative)===0),this.iuxor(g)},s.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},s.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},s.prototype.inotn=function(g){r(typeof g=="number"&&g>=0);var d=Math.ceil(g/26)|0,E=g%26;this._expand(d),E>0&&d--;for(var P=0;P<d;P++)this.words[P]=~this.words[P]&67108863;return E>0&&(this.words[P]=~this.words[P]&67108863>>26-E),this._strip()},s.prototype.notn=function(g){return this.clone().inotn(g)},s.prototype.setn=function(g,d){r(typeof g=="number"&&g>=0);var E=g/26|0,P=g%26;return this._expand(E+1),d?this.words[E]=this.words[E]|1<<P:this.words[E]=this.words[E]&~(1<<P),this._strip()},s.prototype.iadd=function(g){var d;if(this.negative!==0&&g.negative===0)return this.negative=0,d=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,d=this.isub(g),g.negative=1,d._normSign();var E,P;this.length>g.length?(E=this,P=g):(E=g,P=this);for(var I=0,F=0;F<P.length;F++)d=(E.words[F]|0)+(P.words[F]|0)+I,this.words[F]=d&67108863,I=d>>>26;for(;I!==0&&F<E.length;F++)d=(E.words[F]|0)+I,this.words[F]=d&67108863,I=d>>>26;if(this.length=E.length,I!==0)this.words[this.length]=I,this.length++;else if(E!==this)for(;F<E.length;F++)this.words[F]=E.words[F];return this},s.prototype.add=function(g){var d;return g.negative!==0&&this.negative===0?(g.negative=0,d=this.sub(g),g.negative^=1,d):g.negative===0&&this.negative!==0?(this.negative=0,d=g.sub(this),this.negative=1,d):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},s.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var d=this.iadd(g);return g.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var E=this.cmp(g);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;var P,I;E>0?(P=this,I=g):(P=g,I=this);for(var F=0,H=0;H<I.length;H++)d=(P.words[H]|0)-(I.words[H]|0)+F,F=d>>26,this.words[H]=d&67108863;for(;F!==0&&H<P.length;H++)d=(P.words[H]|0)+F,F=d>>26,this.words[H]=d&67108863;if(F===0&&H<P.length&&P!==this)for(;H<P.length;H++)this.words[H]=P.words[H];return this.length=Math.max(this.length,H),P!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(g){return this.clone().isub(g)};function _(x,g,d){d.negative=g.negative^x.negative;var E=x.length+g.length|0;d.length=E,E=E-1|0;var P=x.words[0]|0,I=g.words[0]|0,F=P*I,H=F&67108863,V=F/67108864|0;d.words[0]=H;for(var R=1;R<E;R++){for(var W=V>>>26,ae=V&67108863,re=Math.min(R,g.length-1),X=Math.max(0,R-x.length+1);X<=re;X++){var Q=R-X|0;P=x.words[Q]|0,I=g.words[X]|0,F=P*I+ae,W+=F/67108864|0,ae=F&67108863}d.words[R]=ae|0,V=W|0}return V!==0?d.words[R]=V|0:d.length--,d._strip()}var w=function(g,d,E){var P=g.words,I=d.words,F=E.words,H=0,V,R,W,ae=P[0]|0,re=ae&8191,X=ae>>>13,Q=P[1]|0,Y=Q&8191,ee=Q>>>13,B=P[2]|0,j=B&8191,K=B>>>13,ie=P[3]|0,fe=ie&8191,pe=ie>>>13,Ee=P[4]|0,_e=Ee&8191,qe=Ee>>>13,Et=P[5]|0,De=Et&8191,ke=Et>>>13,He=P[6]|0,Te=He&8191,Re=He>>>13,Ve=P[7]|0,we=Ve&8191,G=Ve>>>13,D=P[8]|0,$=D&8191,Z=D>>>13,ne=P[9]|0,se=ne&8191,ce=ne>>>13,Ie=I[0]|0,Ae=Ie&8191,$e=Ie>>>13,pt=I[1]|0,Fe=pt&8191,yt=pt>>>13,cr=I[2]|0,xt=cr&8191,Dt=cr>>>13,zt=I[3]|0,Ke=zt&8191,nt=zt>>>13,$t=I[4]|0,rt=$t&8191,Ze=$t>>>13,Jt=I[5]|0,ze=Jt&8191,it=Jt>>>13,Ht=I[6]|0,Xe=Ht&8191,st=Ht>>>13,Gt=I[7]|0,We=Gt&8191,at=Gt>>>13,Xt=I[8]|0,qt=Xt&8191,Kt=Xt>>>13,Ui=I[9]|0,bt=Ui&8191,Rt=Ui>>>13;E.negative=g.negative^d.negative,E.length=19,V=Math.imul(re,Ae),R=Math.imul(re,$e),R=R+Math.imul(X,Ae)|0,W=Math.imul(X,$e);var ji=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(ji>>>26)|0,ji&=67108863,V=Math.imul(Y,Ae),R=Math.imul(Y,$e),R=R+Math.imul(ee,Ae)|0,W=Math.imul(ee,$e),V=V+Math.imul(re,Fe)|0,R=R+Math.imul(re,yt)|0,R=R+Math.imul(X,Fe)|0,W=W+Math.imul(X,yt)|0;var Vi=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,V=Math.imul(j,Ae),R=Math.imul(j,$e),R=R+Math.imul(K,Ae)|0,W=Math.imul(K,$e),V=V+Math.imul(Y,Fe)|0,R=R+Math.imul(Y,yt)|0,R=R+Math.imul(ee,Fe)|0,W=W+Math.imul(ee,yt)|0,V=V+Math.imul(re,xt)|0,R=R+Math.imul(re,Dt)|0,R=R+Math.imul(X,xt)|0,W=W+Math.imul(X,Dt)|0;var wi=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(wi>>>26)|0,wi&=67108863,V=Math.imul(fe,Ae),R=Math.imul(fe,$e),R=R+Math.imul(pe,Ae)|0,W=Math.imul(pe,$e),V=V+Math.imul(j,Fe)|0,R=R+Math.imul(j,yt)|0,R=R+Math.imul(K,Fe)|0,W=W+Math.imul(K,yt)|0,V=V+Math.imul(Y,xt)|0,R=R+Math.imul(Y,Dt)|0,R=R+Math.imul(ee,xt)|0,W=W+Math.imul(ee,Dt)|0,V=V+Math.imul(re,Ke)|0,R=R+Math.imul(re,nt)|0,R=R+Math.imul(X,Ke)|0,W=W+Math.imul(X,nt)|0;var _i=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(_i>>>26)|0,_i&=67108863,V=Math.imul(_e,Ae),R=Math.imul(_e,$e),R=R+Math.imul(qe,Ae)|0,W=Math.imul(qe,$e),V=V+Math.imul(fe,Fe)|0,R=R+Math.imul(fe,yt)|0,R=R+Math.imul(pe,Fe)|0,W=W+Math.imul(pe,yt)|0,V=V+Math.imul(j,xt)|0,R=R+Math.imul(j,Dt)|0,R=R+Math.imul(K,xt)|0,W=W+Math.imul(K,Dt)|0,V=V+Math.imul(Y,Ke)|0,R=R+Math.imul(Y,nt)|0,R=R+Math.imul(ee,Ke)|0,W=W+Math.imul(ee,nt)|0,V=V+Math.imul(re,rt)|0,R=R+Math.imul(re,Ze)|0,R=R+Math.imul(X,rt)|0,W=W+Math.imul(X,Ze)|0;var Kn=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,V=Math.imul(De,Ae),R=Math.imul(De,$e),R=R+Math.imul(ke,Ae)|0,W=Math.imul(ke,$e),V=V+Math.imul(_e,Fe)|0,R=R+Math.imul(_e,yt)|0,R=R+Math.imul(qe,Fe)|0,W=W+Math.imul(qe,yt)|0,V=V+Math.imul(fe,xt)|0,R=R+Math.imul(fe,Dt)|0,R=R+Math.imul(pe,xt)|0,W=W+Math.imul(pe,Dt)|0,V=V+Math.imul(j,Ke)|0,R=R+Math.imul(j,nt)|0,R=R+Math.imul(K,Ke)|0,W=W+Math.imul(K,nt)|0,V=V+Math.imul(Y,rt)|0,R=R+Math.imul(Y,Ze)|0,R=R+Math.imul(ee,rt)|0,W=W+Math.imul(ee,Ze)|0,V=V+Math.imul(re,ze)|0,R=R+Math.imul(re,it)|0,R=R+Math.imul(X,ze)|0,W=W+Math.imul(X,it)|0;var zi=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(zi>>>26)|0,zi&=67108863,V=Math.imul(Te,Ae),R=Math.imul(Te,$e),R=R+Math.imul(Re,Ae)|0,W=Math.imul(Re,$e),V=V+Math.imul(De,Fe)|0,R=R+Math.imul(De,yt)|0,R=R+Math.imul(ke,Fe)|0,W=W+Math.imul(ke,yt)|0,V=V+Math.imul(_e,xt)|0,R=R+Math.imul(_e,Dt)|0,R=R+Math.imul(qe,xt)|0,W=W+Math.imul(qe,Dt)|0,V=V+Math.imul(fe,Ke)|0,R=R+Math.imul(fe,nt)|0,R=R+Math.imul(pe,Ke)|0,W=W+Math.imul(pe,nt)|0,V=V+Math.imul(j,rt)|0,R=R+Math.imul(j,Ze)|0,R=R+Math.imul(K,rt)|0,W=W+Math.imul(K,Ze)|0,V=V+Math.imul(Y,ze)|0,R=R+Math.imul(Y,it)|0,R=R+Math.imul(ee,ze)|0,W=W+Math.imul(ee,it)|0,V=V+Math.imul(re,Xe)|0,R=R+Math.imul(re,st)|0,R=R+Math.imul(X,Xe)|0,W=W+Math.imul(X,st)|0;var ws=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(ws>>>26)|0,ws&=67108863,V=Math.imul(we,Ae),R=Math.imul(we,$e),R=R+Math.imul(G,Ae)|0,W=Math.imul(G,$e),V=V+Math.imul(Te,Fe)|0,R=R+Math.imul(Te,yt)|0,R=R+Math.imul(Re,Fe)|0,W=W+Math.imul(Re,yt)|0,V=V+Math.imul(De,xt)|0,R=R+Math.imul(De,Dt)|0,R=R+Math.imul(ke,xt)|0,W=W+Math.imul(ke,Dt)|0,V=V+Math.imul(_e,Ke)|0,R=R+Math.imul(_e,nt)|0,R=R+Math.imul(qe,Ke)|0,W=W+Math.imul(qe,nt)|0,V=V+Math.imul(fe,rt)|0,R=R+Math.imul(fe,Ze)|0,R=R+Math.imul(pe,rt)|0,W=W+Math.imul(pe,Ze)|0,V=V+Math.imul(j,ze)|0,R=R+Math.imul(j,it)|0,R=R+Math.imul(K,ze)|0,W=W+Math.imul(K,it)|0,V=V+Math.imul(Y,Xe)|0,R=R+Math.imul(Y,st)|0,R=R+Math.imul(ee,Xe)|0,W=W+Math.imul(ee,st)|0,V=V+Math.imul(re,We)|0,R=R+Math.imul(re,at)|0,R=R+Math.imul(X,We)|0,W=W+Math.imul(X,at)|0;var ei=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(ei>>>26)|0,ei&=67108863,V=Math.imul($,Ae),R=Math.imul($,$e),R=R+Math.imul(Z,Ae)|0,W=Math.imul(Z,$e),V=V+Math.imul(we,Fe)|0,R=R+Math.imul(we,yt)|0,R=R+Math.imul(G,Fe)|0,W=W+Math.imul(G,yt)|0,V=V+Math.imul(Te,xt)|0,R=R+Math.imul(Te,Dt)|0,R=R+Math.imul(Re,xt)|0,W=W+Math.imul(Re,Dt)|0,V=V+Math.imul(De,Ke)|0,R=R+Math.imul(De,nt)|0,R=R+Math.imul(ke,Ke)|0,W=W+Math.imul(ke,nt)|0,V=V+Math.imul(_e,rt)|0,R=R+Math.imul(_e,Ze)|0,R=R+Math.imul(qe,rt)|0,W=W+Math.imul(qe,Ze)|0,V=V+Math.imul(fe,ze)|0,R=R+Math.imul(fe,it)|0,R=R+Math.imul(pe,ze)|0,W=W+Math.imul(pe,it)|0,V=V+Math.imul(j,Xe)|0,R=R+Math.imul(j,st)|0,R=R+Math.imul(K,Xe)|0,W=W+Math.imul(K,st)|0,V=V+Math.imul(Y,We)|0,R=R+Math.imul(Y,at)|0,R=R+Math.imul(ee,We)|0,W=W+Math.imul(ee,at)|0,V=V+Math.imul(re,qt)|0,R=R+Math.imul(re,Kt)|0,R=R+Math.imul(X,qt)|0,W=W+Math.imul(X,Kt)|0;var Hi=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,V=Math.imul(se,Ae),R=Math.imul(se,$e),R=R+Math.imul(ce,Ae)|0,W=Math.imul(ce,$e),V=V+Math.imul($,Fe)|0,R=R+Math.imul($,yt)|0,R=R+Math.imul(Z,Fe)|0,W=W+Math.imul(Z,yt)|0,V=V+Math.imul(we,xt)|0,R=R+Math.imul(we,Dt)|0,R=R+Math.imul(G,xt)|0,W=W+Math.imul(G,Dt)|0,V=V+Math.imul(Te,Ke)|0,R=R+Math.imul(Te,nt)|0,R=R+Math.imul(Re,Ke)|0,W=W+Math.imul(Re,nt)|0,V=V+Math.imul(De,rt)|0,R=R+Math.imul(De,Ze)|0,R=R+Math.imul(ke,rt)|0,W=W+Math.imul(ke,Ze)|0,V=V+Math.imul(_e,ze)|0,R=R+Math.imul(_e,it)|0,R=R+Math.imul(qe,ze)|0,W=W+Math.imul(qe,it)|0,V=V+Math.imul(fe,Xe)|0,R=R+Math.imul(fe,st)|0,R=R+Math.imul(pe,Xe)|0,W=W+Math.imul(pe,st)|0,V=V+Math.imul(j,We)|0,R=R+Math.imul(j,at)|0,R=R+Math.imul(K,We)|0,W=W+Math.imul(K,at)|0,V=V+Math.imul(Y,qt)|0,R=R+Math.imul(Y,Kt)|0,R=R+Math.imul(ee,qt)|0,W=W+Math.imul(ee,Kt)|0,V=V+Math.imul(re,bt)|0,R=R+Math.imul(re,Rt)|0,R=R+Math.imul(X,bt)|0,W=W+Math.imul(X,Rt)|0;var bi=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(bi>>>26)|0,bi&=67108863,V=Math.imul(se,Fe),R=Math.imul(se,yt),R=R+Math.imul(ce,Fe)|0,W=Math.imul(ce,yt),V=V+Math.imul($,xt)|0,R=R+Math.imul($,Dt)|0,R=R+Math.imul(Z,xt)|0,W=W+Math.imul(Z,Dt)|0,V=V+Math.imul(we,Ke)|0,R=R+Math.imul(we,nt)|0,R=R+Math.imul(G,Ke)|0,W=W+Math.imul(G,nt)|0,V=V+Math.imul(Te,rt)|0,R=R+Math.imul(Te,Ze)|0,R=R+Math.imul(Re,rt)|0,W=W+Math.imul(Re,Ze)|0,V=V+Math.imul(De,ze)|0,R=R+Math.imul(De,it)|0,R=R+Math.imul(ke,ze)|0,W=W+Math.imul(ke,it)|0,V=V+Math.imul(_e,Xe)|0,R=R+Math.imul(_e,st)|0,R=R+Math.imul(qe,Xe)|0,W=W+Math.imul(qe,st)|0,V=V+Math.imul(fe,We)|0,R=R+Math.imul(fe,at)|0,R=R+Math.imul(pe,We)|0,W=W+Math.imul(pe,at)|0,V=V+Math.imul(j,qt)|0,R=R+Math.imul(j,Kt)|0,R=R+Math.imul(K,qt)|0,W=W+Math.imul(K,Kt)|0,V=V+Math.imul(Y,bt)|0,R=R+Math.imul(Y,Rt)|0,R=R+Math.imul(ee,bt)|0,W=W+Math.imul(ee,Rt)|0;var Qn=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,V=Math.imul(se,xt),R=Math.imul(se,Dt),R=R+Math.imul(ce,xt)|0,W=Math.imul(ce,Dt),V=V+Math.imul($,Ke)|0,R=R+Math.imul($,nt)|0,R=R+Math.imul(Z,Ke)|0,W=W+Math.imul(Z,nt)|0,V=V+Math.imul(we,rt)|0,R=R+Math.imul(we,Ze)|0,R=R+Math.imul(G,rt)|0,W=W+Math.imul(G,Ze)|0,V=V+Math.imul(Te,ze)|0,R=R+Math.imul(Te,it)|0,R=R+Math.imul(Re,ze)|0,W=W+Math.imul(Re,it)|0,V=V+Math.imul(De,Xe)|0,R=R+Math.imul(De,st)|0,R=R+Math.imul(ke,Xe)|0,W=W+Math.imul(ke,st)|0,V=V+Math.imul(_e,We)|0,R=R+Math.imul(_e,at)|0,R=R+Math.imul(qe,We)|0,W=W+Math.imul(qe,at)|0,V=V+Math.imul(fe,qt)|0,R=R+Math.imul(fe,Kt)|0,R=R+Math.imul(pe,qt)|0,W=W+Math.imul(pe,Kt)|0,V=V+Math.imul(j,bt)|0,R=R+Math.imul(j,Rt)|0,R=R+Math.imul(K,bt)|0,W=W+Math.imul(K,Rt)|0;var lr=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(lr>>>26)|0,lr&=67108863,V=Math.imul(se,Ke),R=Math.imul(se,nt),R=R+Math.imul(ce,Ke)|0,W=Math.imul(ce,nt),V=V+Math.imul($,rt)|0,R=R+Math.imul($,Ze)|0,R=R+Math.imul(Z,rt)|0,W=W+Math.imul(Z,Ze)|0,V=V+Math.imul(we,ze)|0,R=R+Math.imul(we,it)|0,R=R+Math.imul(G,ze)|0,W=W+Math.imul(G,it)|0,V=V+Math.imul(Te,Xe)|0,R=R+Math.imul(Te,st)|0,R=R+Math.imul(Re,Xe)|0,W=W+Math.imul(Re,st)|0,V=V+Math.imul(De,We)|0,R=R+Math.imul(De,at)|0,R=R+Math.imul(ke,We)|0,W=W+Math.imul(ke,at)|0,V=V+Math.imul(_e,qt)|0,R=R+Math.imul(_e,Kt)|0,R=R+Math.imul(qe,qt)|0,W=W+Math.imul(qe,Kt)|0,V=V+Math.imul(fe,bt)|0,R=R+Math.imul(fe,Rt)|0,R=R+Math.imul(pe,bt)|0,W=W+Math.imul(pe,Rt)|0;var Ei=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,V=Math.imul(se,rt),R=Math.imul(se,Ze),R=R+Math.imul(ce,rt)|0,W=Math.imul(ce,Ze),V=V+Math.imul($,ze)|0,R=R+Math.imul($,it)|0,R=R+Math.imul(Z,ze)|0,W=W+Math.imul(Z,it)|0,V=V+Math.imul(we,Xe)|0,R=R+Math.imul(we,st)|0,R=R+Math.imul(G,Xe)|0,W=W+Math.imul(G,st)|0,V=V+Math.imul(Te,We)|0,R=R+Math.imul(Te,at)|0,R=R+Math.imul(Re,We)|0,W=W+Math.imul(Re,at)|0,V=V+Math.imul(De,qt)|0,R=R+Math.imul(De,Kt)|0,R=R+Math.imul(ke,qt)|0,W=W+Math.imul(ke,Kt)|0,V=V+Math.imul(_e,bt)|0,R=R+Math.imul(_e,Rt)|0,R=R+Math.imul(qe,bt)|0,W=W+Math.imul(qe,Rt)|0;var Zn=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,V=Math.imul(se,ze),R=Math.imul(se,it),R=R+Math.imul(ce,ze)|0,W=Math.imul(ce,it),V=V+Math.imul($,Xe)|0,R=R+Math.imul($,st)|0,R=R+Math.imul(Z,Xe)|0,W=W+Math.imul(Z,st)|0,V=V+Math.imul(we,We)|0,R=R+Math.imul(we,at)|0,R=R+Math.imul(G,We)|0,W=W+Math.imul(G,at)|0,V=V+Math.imul(Te,qt)|0,R=R+Math.imul(Te,Kt)|0,R=R+Math.imul(Re,qt)|0,W=W+Math.imul(Re,Kt)|0,V=V+Math.imul(De,bt)|0,R=R+Math.imul(De,Rt)|0,R=R+Math.imul(ke,bt)|0,W=W+Math.imul(ke,Rt)|0;var Pa=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(Pa>>>26)|0,Pa&=67108863,V=Math.imul(se,Xe),R=Math.imul(se,st),R=R+Math.imul(ce,Xe)|0,W=Math.imul(ce,st),V=V+Math.imul($,We)|0,R=R+Math.imul($,at)|0,R=R+Math.imul(Z,We)|0,W=W+Math.imul(Z,at)|0,V=V+Math.imul(we,qt)|0,R=R+Math.imul(we,Kt)|0,R=R+Math.imul(G,qt)|0,W=W+Math.imul(G,Kt)|0,V=V+Math.imul(Te,bt)|0,R=R+Math.imul(Te,Rt)|0,R=R+Math.imul(Re,bt)|0,W=W+Math.imul(Re,Rt)|0;var Ma=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(Ma>>>26)|0,Ma&=67108863,V=Math.imul(se,We),R=Math.imul(se,at),R=R+Math.imul(ce,We)|0,W=Math.imul(ce,at),V=V+Math.imul($,qt)|0,R=R+Math.imul($,Kt)|0,R=R+Math.imul(Z,qt)|0,W=W+Math.imul(Z,Kt)|0,V=V+Math.imul(we,bt)|0,R=R+Math.imul(we,Rt)|0,R=R+Math.imul(G,bt)|0,W=W+Math.imul(G,Rt)|0;var Da=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(Da>>>26)|0,Da&=67108863,V=Math.imul(se,qt),R=Math.imul(se,Kt),R=R+Math.imul(ce,qt)|0,W=Math.imul(ce,Kt),V=V+Math.imul($,bt)|0,R=R+Math.imul($,Rt)|0,R=R+Math.imul(Z,bt)|0,W=W+Math.imul(Z,Rt)|0;var Ho=(H+V|0)+((R&8191)<<13)|0;H=(W+(R>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,V=Math.imul(se,bt),R=Math.imul(se,Rt),R=R+Math.imul(ce,bt)|0,W=Math.imul(ce,Rt);var qo=(H+V|0)+((R&8191)<<13)|0;return H=(W+(R>>>13)|0)+(qo>>>26)|0,qo&=67108863,F[0]=ji,F[1]=Vi,F[2]=wi,F[3]=_i,F[4]=Kn,F[5]=zi,F[6]=ws,F[7]=ei,F[8]=Hi,F[9]=bi,F[10]=Qn,F[11]=lr,F[12]=Ei,F[13]=Zn,F[14]=Pa,F[15]=Ma,F[16]=Da,F[17]=Ho,F[18]=qo,H!==0&&(F[19]=H,E.length++),E};Math.imul||(w=_);function C(x,g,d){d.negative=g.negative^x.negative,d.length=x.length+g.length;for(var E=0,P=0,I=0;I<d.length-1;I++){var F=P;P=0;for(var H=E&67108863,V=Math.min(I,g.length-1),R=Math.max(0,I-x.length+1);R<=V;R++){var W=I-R,ae=x.words[W]|0,re=g.words[R]|0,X=ae*re,Q=X&67108863;F=F+(X/67108864|0)|0,Q=Q+H|0,H=Q&67108863,F=F+(Q>>>26)|0,P+=F>>>26,F&=67108863}d.words[I]=H,E=F,F=P}return E!==0?d.words[I]=E:d.length--,d._strip()}function M(x,g,d){return C(x,g,d)}s.prototype.mulTo=function(g,d){var E,P=this.length+g.length;return this.length===10&&g.length===10?E=w(this,g,d):P<63?E=_(this,g,d):P<1024?E=C(this,g,d):E=M(this,g,d),E},s.prototype.mul=function(g){var d=new s(null);return d.words=new Array(this.length+g.length),this.mulTo(g,d)},s.prototype.mulf=function(g){var d=new s(null);return d.words=new Array(this.length+g.length),M(this,g,d)},s.prototype.imul=function(g){return this.clone().mulTo(g,this)},s.prototype.imuln=function(g){var d=g<0;d&&(g=-g),r(typeof g=="number"),r(g<67108864);for(var E=0,P=0;P<this.length;P++){var I=(this.words[P]|0)*g,F=(I&67108863)+(E&67108863);E>>=26,E+=I/67108864|0,E+=F>>>26,this.words[P]=F&67108863}return E!==0&&(this.words[P]=E,this.length++),this.length=g===0?1:this.length,d?this.ineg():this},s.prototype.muln=function(g){return this.clone().imuln(g)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(g){var d=T(g);if(d.length===0)return new s(1);for(var E=this,P=0;P<d.length&&d[P]===0;P++,E=E.sqr());if(++P<d.length)for(var I=E.sqr();P<d.length;P++,I=I.sqr())d[P]!==0&&(E=E.mul(I));return E},s.prototype.iushln=function(g){r(typeof g=="number"&&g>=0);var d=g%26,E=(g-d)/26,P=67108863>>>26-d<<26-d,I;if(d!==0){var F=0;for(I=0;I<this.length;I++){var H=this.words[I]&P,V=(this.words[I]|0)-H<<d;this.words[I]=V|F,F=H>>>26-d}F&&(this.words[I]=F,this.length++)}if(E!==0){for(I=this.length-1;I>=0;I--)this.words[I+E]=this.words[I];for(I=0;I<E;I++)this.words[I]=0;this.length+=E}return this._strip()},s.prototype.ishln=function(g){return r(this.negative===0),this.iushln(g)},s.prototype.iushrn=function(g,d,E){r(typeof g=="number"&&g>=0);var P;d?P=(d-d%26)/26:P=0;var I=g%26,F=Math.min((g-I)/26,this.length),H=67108863^67108863>>>I<<I,V=E;if(P-=F,P=Math.max(0,P),V){for(var R=0;R<F;R++)V.words[R]=this.words[R];V.length=F}if(F!==0)if(this.length>F)for(this.length-=F,R=0;R<this.length;R++)this.words[R]=this.words[R+F];else this.words[0]=0,this.length=1;var W=0;for(R=this.length-1;R>=0&&(W!==0||R>=P);R--){var ae=this.words[R]|0;this.words[R]=W<<26-I|ae>>>I,W=ae&H}return V&&W!==0&&(V.words[V.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(g,d,E){return r(this.negative===0),this.iushrn(g,d,E)},s.prototype.shln=function(g){return this.clone().ishln(g)},s.prototype.ushln=function(g){return this.clone().iushln(g)},s.prototype.shrn=function(g){return this.clone().ishrn(g)},s.prototype.ushrn=function(g){return this.clone().iushrn(g)},s.prototype.testn=function(g){r(typeof g=="number"&&g>=0);var d=g%26,E=(g-d)/26,P=1<<d;if(this.length<=E)return!1;var I=this.words[E];return!!(I&P)},s.prototype.imaskn=function(g){r(typeof g=="number"&&g>=0);var d=g%26,E=(g-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(d!==0&&E++,this.length=Math.min(E,this.length),d!==0){var P=67108863^67108863>>>d<<d;this.words[this.length-1]&=P}return this._strip()},s.prototype.maskn=function(g){return this.clone().imaskn(g)},s.prototype.iaddn=function(g){return r(typeof g=="number"),r(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<=g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},s.prototype._iaddn=function(g){this.words[0]+=g;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(g){if(r(typeof g=="number"),r(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},s.prototype.addn=function(g){return this.clone().iaddn(g)},s.prototype.subn=function(g){return this.clone().isubn(g)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(g,d,E){var P=g.length+E,I;this._expand(P);var F,H=0;for(I=0;I<g.length;I++){F=(this.words[I+E]|0)+H;var V=(g.words[I]|0)*d;F-=V&67108863,H=(F>>26)-(V/67108864|0),this.words[I+E]=F&67108863}for(;I<this.length-E;I++)F=(this.words[I+E]|0)+H,H=F>>26,this.words[I+E]=F&67108863;if(H===0)return this._strip();for(r(H===-1),H=0,I=0;I<this.length;I++)F=-(this.words[I]|0)+H,H=F>>26,this.words[I]=F&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(g,d){var E=this.length-g.length,P=this.clone(),I=g,F=I.words[I.length-1]|0,H=this._countBits(F);E=26-H,E!==0&&(I=I.ushln(E),P.iushln(E),F=I.words[I.length-1]|0);var V=P.length-I.length,R;if(d!=="mod"){R=new s(null),R.length=V+1,R.words=new Array(R.length);for(var W=0;W<R.length;W++)R.words[W]=0}var ae=P.clone()._ishlnsubmul(I,1,V);ae.negative===0&&(P=ae,R&&(R.words[V]=1));for(var re=V-1;re>=0;re--){var X=(P.words[I.length+re]|0)*67108864+(P.words[I.length+re-1]|0);for(X=Math.min(X/F|0,67108863),P._ishlnsubmul(I,X,re);P.negative!==0;)X--,P.negative=0,P._ishlnsubmul(I,1,re),P.isZero()||(P.negative^=1);R&&(R.words[re]=X)}return R&&R._strip(),P._strip(),d!=="div"&&E!==0&&P.iushrn(E),{div:R||null,mod:P}},s.prototype.divmod=function(g,d,E){if(r(!g.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var P,I,F;return this.negative!==0&&g.negative===0?(F=this.neg().divmod(g,d),d!=="mod"&&(P=F.div.neg()),d!=="div"&&(I=F.mod.neg(),E&&I.negative!==0&&I.iadd(g)),{div:P,mod:I}):this.negative===0&&g.negative!==0?(F=this.divmod(g.neg(),d),d!=="mod"&&(P=F.div.neg()),{div:P,mod:F.mod}):this.negative&g.negative?(F=this.neg().divmod(g.neg(),d),d!=="div"&&(I=F.mod.neg(),E&&I.negative!==0&&I.isub(g)),{div:F.div,mod:I}):g.length>this.length||this.cmp(g)<0?{div:new s(0),mod:this}:g.length===1?d==="div"?{div:this.divn(g.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modrn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new s(this.modrn(g.words[0]))}:this._wordDiv(g,d)},s.prototype.div=function(g){return this.divmod(g,"div",!1).div},s.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},s.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},s.prototype.divRound=function(g){var d=this.divmod(g);if(d.mod.isZero())return d.div;var E=d.div.negative!==0?d.mod.isub(g):d.mod,P=g.ushrn(1),I=g.andln(1),F=E.cmp(P);return F<0||I===1&&F===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modrn=function(g){var d=g<0;d&&(g=-g),r(g<=67108863);for(var E=(1<<26)%g,P=0,I=this.length-1;I>=0;I--)P=(E*P+(this.words[I]|0))%g;return d?-P:P},s.prototype.modn=function(g){return this.modrn(g)},s.prototype.idivn=function(g){var d=g<0;d&&(g=-g),r(g<=67108863);for(var E=0,P=this.length-1;P>=0;P--){var I=(this.words[P]|0)+E*67108864;this.words[P]=I/g|0,E=I%g}return this._strip(),d?this.ineg():this},s.prototype.divn=function(g){return this.clone().idivn(g)},s.prototype.egcd=function(g){r(g.negative===0),r(!g.isZero());var d=this,E=g.clone();d.negative!==0?d=d.umod(g):d=d.clone();for(var P=new s(1),I=new s(0),F=new s(0),H=new s(1),V=0;d.isEven()&&E.isEven();)d.iushrn(1),E.iushrn(1),++V;for(var R=E.clone(),W=d.clone();!d.isZero();){for(var ae=0,re=1;!(d.words[0]&re)&&ae<26;++ae,re<<=1);if(ae>0)for(d.iushrn(ae);ae-- >0;)(P.isOdd()||I.isOdd())&&(P.iadd(R),I.isub(W)),P.iushrn(1),I.iushrn(1);for(var X=0,Q=1;!(E.words[0]&Q)&&X<26;++X,Q<<=1);if(X>0)for(E.iushrn(X);X-- >0;)(F.isOdd()||H.isOdd())&&(F.iadd(R),H.isub(W)),F.iushrn(1),H.iushrn(1);d.cmp(E)>=0?(d.isub(E),P.isub(F),I.isub(H)):(E.isub(d),F.isub(P),H.isub(I))}return{a:F,b:H,gcd:E.iushln(V)}},s.prototype._invmp=function(g){r(g.negative===0),r(!g.isZero());var d=this,E=g.clone();d.negative!==0?d=d.umod(g):d=d.clone();for(var P=new s(1),I=new s(0),F=E.clone();d.cmpn(1)>0&&E.cmpn(1)>0;){for(var H=0,V=1;!(d.words[0]&V)&&H<26;++H,V<<=1);if(H>0)for(d.iushrn(H);H-- >0;)P.isOdd()&&P.iadd(F),P.iushrn(1);for(var R=0,W=1;!(E.words[0]&W)&&R<26;++R,W<<=1);if(R>0)for(E.iushrn(R);R-- >0;)I.isOdd()&&I.iadd(F),I.iushrn(1);d.cmp(E)>=0?(d.isub(E),P.isub(I)):(E.isub(d),I.isub(P))}var ae;return d.cmpn(1)===0?ae=P:ae=I,ae.cmpn(0)<0&&ae.iadd(g),ae},s.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var d=this.clone(),E=g.clone();d.negative=0,E.negative=0;for(var P=0;d.isEven()&&E.isEven();P++)d.iushrn(1),E.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;E.isEven();)E.iushrn(1);var I=d.cmp(E);if(I<0){var F=d;d=E,E=F}else if(I===0||E.cmpn(1)===0)break;d.isub(E)}while(!0);return E.iushln(P)},s.prototype.invm=function(g){return this.egcd(g).a.umod(g)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(g){return this.words[0]&g},s.prototype.bincn=function(g){r(typeof g=="number");var d=g%26,E=(g-d)/26,P=1<<d;if(this.length<=E)return this._expand(E+1),this.words[E]|=P,this;for(var I=P,F=E;I!==0&&F<this.length;F++){var H=this.words[F]|0;H+=I,I=H>>>26,H&=67108863,this.words[F]=H}return I!==0&&(this.words[F]=I,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(g){var d=g<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var E;if(this.length>1)E=1;else{d&&(g=-g),r(g<=67108863,"Number is too big");var P=this.words[0]|0;E=P===g?0:P<g?-1:1}return this.negative!==0?-E|0:E},s.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var d=this.ucmp(g);return this.negative!==0?-d|0:d},s.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var d=0,E=this.length-1;E>=0;E--){var P=this.words[E]|0,I=g.words[E]|0;if(P!==I){P<I?d=-1:P>I&&(d=1);break}}return d},s.prototype.gtn=function(g){return this.cmpn(g)===1},s.prototype.gt=function(g){return this.cmp(g)===1},s.prototype.gten=function(g){return this.cmpn(g)>=0},s.prototype.gte=function(g){return this.cmp(g)>=0},s.prototype.ltn=function(g){return this.cmpn(g)===-1},s.prototype.lt=function(g){return this.cmp(g)===-1},s.prototype.lten=function(g){return this.cmpn(g)<=0},s.prototype.lte=function(g){return this.cmp(g)<=0},s.prototype.eqn=function(g){return this.cmpn(g)===0},s.prototype.eq=function(g){return this.cmp(g)===0},s.red=function(g){return new L(g)},s.prototype.toRed=function(g){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(g){return this.red=g,this},s.prototype.forceRed=function(g){return r(!this.red,"Already a number in reduction context"),this._forceRed(g)},s.prototype.redAdd=function(g){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},s.prototype.redIAdd=function(g){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},s.prototype.redSub=function(g){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},s.prototype.redISub=function(g){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},s.prototype.redShl=function(g){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},s.prototype.redMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},s.prototype.redIMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(g){return r(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var N={k256:null,p224:null,p192:null,p25519:null};function U(x,g){this.name=x,this.p=new s(g,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var g=new s(null);return g.words=new Array(Math.ceil(this.n/13)),g},U.prototype.ireduce=function(g){var d=g,E;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),E=d.bitLength();while(E>this.n);var P=E<this.n?-1:d.ucmp(this.p);return P===0?(d.words[0]=0,d.length=1):P>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},U.prototype.split=function(g,d){g.iushrn(this.n,0,d)},U.prototype.imulK=function(g){return g.imul(this.k)};function v(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(v,U),v.prototype.split=function(g,d){for(var E=4194303,P=Math.min(g.length,9),I=0;I<P;I++)d.words[I]=g.words[I];if(d.length=P,g.length<=9){g.words[0]=0,g.length=1;return}var F=g.words[9];for(d.words[d.length++]=F&E,I=10;I<g.length;I++){var H=g.words[I]|0;g.words[I-10]=(H&E)<<4|F>>>22,F=H}F>>>=22,g.words[I-10]=F,F===0&&g.length>10?g.length-=10:g.length-=9},v.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var d=0,E=0;E<g.length;E++){var P=g.words[E]|0;d+=P*977,g.words[E]=d&67108863,d=P*64+(d/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function y(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(y,U);function S(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(S,U);function k(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(k,U),k.prototype.imulK=function(g){for(var d=0,E=0;E<g.length;E++){var P=(g.words[E]|0)*19+d,I=P&67108863;P>>>=26,g.words[E]=I,d=P}return d!==0&&(g.words[g.length++]=d),g},s._prime=function(g){if(N[g])return N[g];var d;if(g==="k256")d=new v;else if(g==="p224")d=new y;else if(g==="p192")d=new S;else if(g==="p25519")d=new k;else throw new Error("Unknown prime "+g);return N[g]=d,d};function L(x){if(typeof x=="string"){var g=s._prime(x);this.m=g.p,this.prime=g}else r(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}L.prototype._verify1=function(g){r(g.negative===0,"red works only with positives"),r(g.red,"red works only with red numbers")},L.prototype._verify2=function(g,d){r((g.negative|d.negative)===0,"red works only with positives"),r(g.red&&g.red===d.red,"red works only with red numbers")},L.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):(l(g,g.umod(this.m)._forceRed(this)),g)},L.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},L.prototype.add=function(g,d){this._verify2(g,d);var E=g.add(d);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},L.prototype.iadd=function(g,d){this._verify2(g,d);var E=g.iadd(d);return E.cmp(this.m)>=0&&E.isub(this.m),E},L.prototype.sub=function(g,d){this._verify2(g,d);var E=g.sub(d);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},L.prototype.isub=function(g,d){this._verify2(g,d);var E=g.isub(d);return E.cmpn(0)<0&&E.iadd(this.m),E},L.prototype.shl=function(g,d){return this._verify1(g),this.imod(g.ushln(d))},L.prototype.imul=function(g,d){return this._verify2(g,d),this.imod(g.imul(d))},L.prototype.mul=function(g,d){return this._verify2(g,d),this.imod(g.mul(d))},L.prototype.isqr=function(g){return this.imul(g,g.clone())},L.prototype.sqr=function(g){return this.mul(g,g)},L.prototype.sqrt=function(g){if(g.isZero())return g.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var E=this.m.add(new s(1)).iushrn(2);return this.pow(g,E)}for(var P=this.m.subn(1),I=0;!P.isZero()&&P.andln(1)===0;)I++,P.iushrn(1);r(!P.isZero());var F=new s(1).toRed(this),H=F.redNeg(),V=this.m.subn(1).iushrn(1),R=this.m.bitLength();for(R=new s(2*R*R).toRed(this);this.pow(R,V).cmp(H)!==0;)R.redIAdd(H);for(var W=this.pow(R,P),ae=this.pow(g,P.addn(1).iushrn(1)),re=this.pow(g,P),X=I;re.cmp(F)!==0;){for(var Q=re,Y=0;Q.cmp(F)!==0;Y++)Q=Q.redSqr();r(Y<X);var ee=this.pow(W,new s(1).iushln(X-Y-1));ae=ae.redMul(ee),W=ee.redSqr(),re=re.redMul(W),X=Y}return ae},L.prototype.invm=function(g){var d=g._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},L.prototype.pow=function(g,d){if(d.isZero())return new s(1).toRed(this);if(d.cmpn(1)===0)return g.clone();var E=4,P=new Array(1<<E);P[0]=new s(1).toRed(this),P[1]=g;for(var I=2;I<P.length;I++)P[I]=this.mul(P[I-1],g);var F=P[0],H=0,V=0,R=d.bitLength()%26;for(R===0&&(R=26),I=d.length-1;I>=0;I--){for(var W=d.words[I],ae=R-1;ae>=0;ae--){var re=W>>ae&1;if(F!==P[0]&&(F=this.sqr(F)),re===0&&H===0){V=0;continue}H<<=1,H|=re,V++,!(V!==E&&(I!==0||ae!==0))&&(F=this.mul(F,P[H]),V=0,H=0)}R=26}return F},L.prototype.convertTo=function(g){var d=g.umod(this.m);return d===g?d.clone():d},L.prototype.convertFrom=function(g){var d=g.clone();return d.red=null,d},s.mont=function(g){return new z(g)};function z(x){L.call(this,x),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(z,L),z.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},z.prototype.convertFrom=function(g){var d=this.imod(g.mul(this.rinv));return d.red=null,d},z.prototype.imul=function(g,d){if(g.isZero()||d.isZero())return g.words[0]=0,g.length=1,g;var E=g.imul(d),P=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=E.isub(P).iushrn(this.shift),F=I;return I.cmp(this.m)>=0?F=I.isub(this.m):I.cmpn(0)<0&&(F=I.iadd(this.m)),F._forceRed(this)},z.prototype.mul=function(g,d){if(g.isZero()||d.isZero())return new s(0)._forceRed(this);var E=g.mul(d),P=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=E.isub(P).iushrn(this.shift),F=I;return I.cmp(this.m)>=0?F=I.isub(this.m):I.cmpn(0)<0&&(F=I.iadd(this.m)),F._forceRed(this)},z.prototype.invm=function(g){var d=this.imod(g._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,Ce)})(f4);var f_=f4.exports,qg={},xa={};Object.defineProperty(xa,"__esModule",{value:!0});xa.errorValues=xa.standardErrorCodes=void 0;xa.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};xa.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var h_={},d_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=t.getErrorCode=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=xa,n="Unspecified error message.";t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function r(h,m=n){if(h&&Number.isInteger(h)){const b=h.toString();if(l(e.errorValues,b))return e.errorValues[b].message;if(u(h))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return m}t.getMessageFromCode=r;function i(h){if(!Number.isInteger(h))return!1;const m=h.toString();return!!(e.errorValues[m]||u(h))}t.isValidCode=i;function s(h){var m;if(typeof h=="number")return h;if(o(h))return(m=h.code)!==null&&m!==void 0?m:h.errorCode}t.getErrorCode=s;function o(h){return typeof h=="object"&&h!==null&&(typeof h.code=="number"||typeof h.errorCode=="number")}function a(h,{shouldIncludeStack:m=!1}={}){const b={};if(h&&typeof h=="object"&&!Array.isArray(h)&&l(h,"code")&&i(h.code)){const A=h;b.code=A.code,A.message&&typeof A.message=="string"?(b.message=A.message,l(A,"data")&&(b.data=A.data)):(b.message=r(b.code),b.data={originalError:c(h)})}else b.code=e.standardErrorCodes.rpc.internal,b.message=f(h,"message")?h.message:n,b.data={originalError:c(h)};return m&&(b.stack=f(h,"stack")?h.stack:void 0),b}t.serialize=a;function u(h){return h>=-32099&&h<=-32e3}function c(h){return h&&typeof h=="object"&&!Array.isArray(h)?Object.assign({},h):h}function l(h,m){return Object.prototype.hasOwnProperty.call(h,m)}function f(h,m){return typeof h=="object"&&h!==null&&m in h&&typeof h[m]=="string"}})(d_);Object.defineProperty(h_,"__esModule",{value:!0});h_.standardErrors=void 0;const dr=xa,uF=d_;h_.standardErrors={rpc:{parse:t=>Zi(dr.standardErrorCodes.rpc.parse,t),invalidRequest:t=>Zi(dr.standardErrorCodes.rpc.invalidRequest,t),invalidParams:t=>Zi(dr.standardErrorCodes.rpc.invalidParams,t),methodNotFound:t=>Zi(dr.standardErrorCodes.rpc.methodNotFound,t),internal:t=>Zi(dr.standardErrorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Zi(e,t)},invalidInput:t=>Zi(dr.standardErrorCodes.rpc.invalidInput,t),resourceNotFound:t=>Zi(dr.standardErrorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Zi(dr.standardErrorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Zi(dr.standardErrorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Zi(dr.standardErrorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Zi(dr.standardErrorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Kl(dr.standardErrorCodes.provider.userRejectedRequest,t),unauthorized:t=>Kl(dr.standardErrorCodes.provider.unauthorized,t),unsupportedMethod:t=>Kl(dr.standardErrorCodes.provider.unsupportedMethod,t),disconnected:t=>Kl(dr.standardErrorCodes.provider.disconnected,t),chainDisconnected:t=>Kl(dr.standardErrorCodes.provider.chainDisconnected,t),unsupportedChain:t=>Kl(dr.standardErrorCodes.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new fF(e,n,r)}}};function Zi(t,e){const[n,r]=cF(e);return new lF(t,n||(0,uF.getMessageFromCode)(t),r)}function Kl(t,e){const[n,r]=cF(e);return new fF(t,n||(0,uF.getMessageFromCode)(t),r)}function cF(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}let lF=class extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}},fF=class extends lF{constructor(e,n,r){if(!Wde(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}};function Wde(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}var p_={},dd={};Object.defineProperty(dd,"__esModule",{value:!0});dd.isErrorResponse=void 0;function Gde(t){return t.errorMessage!==void 0}dd.isErrorResponse=Gde;var pd={};Object.defineProperty(pd,"__esModule",{value:!0});pd.LIB_VERSION=void 0;pd.LIB_VERSION="3.9.3";Object.defineProperty(p_,"__esModule",{value:!0});p_.serializeError=void 0;const Kde=dd,Qde=pd,Zde=xa,Jde=d_;function Yde(t,e){const n=(0,Jde.serialize)(Xde(t),{shouldIncludeStack:!0}),r=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");r.searchParams.set("version",Qde.LIB_VERSION),r.searchParams.set("code",n.code.toString());const i=e0e(n.data,e);return i&&r.searchParams.set("method",i),r.searchParams.set("message",n.message),Object.assign(Object.assign({},n),{docUrl:r.href})}p_.serializeError=Yde;function Xde(t){return typeof t=="string"?{message:t,code:Zde.standardErrorCodes.rpc.internal}:(0,Kde.isErrorResponse)(t)?Object.assign(Object.assign({},t),{message:t.errorMessage,code:t.errorCode,data:{method:t.method}}):t}function e0e(t,e){const n=t==null?void 0:t.method;if(n)return n;if(e!==void 0){if(typeof e=="string")return e;if(Array.isArray(e)){if(e.length>0)return e[0].method}else return e.method}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.standardErrors=t.standardErrorCodes=t.serializeError=t.getMessageFromCode=t.getErrorCode=void 0;const e=xa;Object.defineProperty(t,"standardErrorCodes",{enumerable:!0,get:function(){return e.standardErrorCodes}});const n=h_;Object.defineProperty(t,"standardErrors",{enumerable:!0,get:function(){return n.standardErrors}});const r=p_;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}});const i=d_;Object.defineProperty(t,"getErrorCode",{enumerable:!0,get:function(){return i.getErrorCode}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}})})(qg);var zn={};Object.defineProperty(zn,"__esModule",{value:!0});zn.ProviderType=zn.RegExpString=zn.IntNumber=zn.BigIntString=zn.AddressString=zn.HexString=zn.OpaqueType=void 0;function Wg(){return t=>t}zn.OpaqueType=Wg;zn.HexString=Wg();zn.AddressString=Wg();zn.BigIntString=Wg();function t0e(t){return Math.floor(t)}zn.IntNumber=t0e;zn.RegExpString=Wg();var rR;(function(t){t.CoinbaseWallet="CoinbaseWallet",t.MetaMask="MetaMask",t.Unselected=""})(rR||(zn.ProviderType=rR={}));var n0e=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.isMobileWeb=Ue.getLocation=Ue.isInIFrame=Ue.createQrUrl=Ue.getFavicon=Ue.range=Ue.isBigNumber=Ue.ensureParsedJSONObject=Ue.ensureBN=Ue.ensureRegExpString=Ue.ensureIntNumber=Ue.ensureBuffer=Ue.ensureAddressString=Ue.ensureEvenLengthHexString=Ue.ensureHexString=Ue.isHexString=Ue.prepend0x=Ue.strip0x=Ue.has0xPrefix=Ue.hexStringFromIntNumber=Ue.intNumberFromHexString=Ue.bigIntStringFromBN=Ue.hexStringFromBuffer=Ue.hexStringToUint8Array=Ue.uint8ArrayToHex=Ue.randomBytesHex=void 0;const Ka=n0e(f_),Dl=qg,ds=zn,hF=/^[0-9]*$/,dF=/^[a-f0-9]*$/;function r0e(t){return pF(crypto.getRandomValues(new Uint8Array(t)))}Ue.randomBytesHex=r0e;function pF(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}Ue.uint8ArrayToHex=pF;function i0e(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}Ue.hexStringToUint8Array=i0e;function s0e(t,e=!1){const n=t.toString("hex");return(0,ds.HexString)(e?`0x${n}`:n)}Ue.hexStringFromBuffer=s0e;function o0e(t){return(0,ds.BigIntString)(t.toString(10))}Ue.bigIntStringFromBN=o0e;function a0e(t){return(0,ds.IntNumber)(new Ka.default(Kg(t,!1),16).toNumber())}Ue.intNumberFromHexString=a0e;function u0e(t){return(0,ds.HexString)(`0x${new Ka.default(t).toString(16)}`)}Ue.hexStringFromIntNumber=u0e;function h4(t){return t.startsWith("0x")||t.startsWith("0X")}Ue.has0xPrefix=h4;function g_(t){return h4(t)?t.slice(2):t}Ue.strip0x=g_;function gF(t){return h4(t)?`0x${t.slice(2)}`:`0x${t}`}Ue.prepend0x=gF;function Gg(t){if(typeof t!="string")return!1;const e=g_(t).toLowerCase();return dF.test(e)}Ue.isHexString=Gg;function mF(t,e=!1){if(typeof t=="string"){const n=g_(t).toLowerCase();if(dF.test(n))return(0,ds.HexString)(e?`0x${n}`:n)}throw Dl.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}Ue.ensureHexString=mF;function Kg(t,e=!1){let n=mF(t,!1);return n.length%2===1&&(n=(0,ds.HexString)(`0${n}`)),e?(0,ds.HexString)(`0x${n}`):n}Ue.ensureEvenLengthHexString=Kg;function c0e(t){if(typeof t=="string"){const e=g_(t).toLowerCase();if(Gg(e)&&e.length===40)return(0,ds.AddressString)(gF(e))}throw Dl.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}Ue.ensureAddressString=c0e;function l0e(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(Gg(t)){const e=Kg(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw Dl.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}Ue.ensureBuffer=l0e;function yF(t){if(typeof t=="number"&&Number.isInteger(t))return(0,ds.IntNumber)(t);if(typeof t=="string"){if(hF.test(t))return(0,ds.IntNumber)(Number(t));if(Gg(t))return(0,ds.IntNumber)(new Ka.default(Kg(t,!1),16).toNumber())}throw Dl.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}Ue.ensureIntNumber=yF;function f0e(t){if(t instanceof RegExp)return(0,ds.RegExpString)(t.toString());throw Dl.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}Ue.ensureRegExpString=f0e;function h0e(t){if(t!==null&&(Ka.default.isBN(t)||vF(t)))return new Ka.default(t.toString(10),10);if(typeof t=="number")return new Ka.default(yF(t));if(typeof t=="string"){if(hF.test(t))return new Ka.default(t,10);if(Gg(t))return new Ka.default(Kg(t,!1),16)}throw Dl.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}Ue.ensureBN=h0e;function d0e(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Dl.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}Ue.ensureParsedJSONObject=d0e;function vF(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}Ue.isBigNumber=vF;function p0e(t,e){return Array.from({length:e-t},(n,r)=>t+r)}Ue.range=p0e;function g0e(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:n}=document.location,r=t?t.getAttribute("href"):null;return!r||r.startsWith("javascript:")||r.startsWith("vbscript:")?null:r.startsWith("http://")||r.startsWith("https://")||r.startsWith("data:")?r:r.startsWith("//")?e+r:`${e}//${n}${r}`}Ue.getFavicon=g0e;function m0e(t,e,n,r,i,s){const o=r?"parent-id":"id",a=new URLSearchParams({[o]:t,secret:e,server:n,v:i,chainId:s.toString()}).toString();return`${n}/#/link?${a}`}Ue.createQrUrl=m0e;function wF(){try{return window.frameElement!==null}catch{return!1}}Ue.isInIFrame=wF;function y0e(){try{return wF()&&window.top?window.top.location:window.location}catch{return window.location}}Ue.getLocation=y0e;function v0e(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)}Ue.isMobileWeb=v0e;var m_={};Object.defineProperty(m_,"__esModule",{value:!0});m_.ScopedLocalStorage=void 0;class w0e{constructor(e){this.scope=e}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`${this.scope}:${e}`}}m_.ScopedLocalStorage=w0e;var jh={},Qg={},Zg={},gd={};Object.defineProperty(gd,"__esModule",{value:!0});gd.EVENTS=void 0;gd.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var ls={};Object.defineProperty(ls,"__esModule",{value:!0});ls.RelayAbstract=ls.APP_VERSION_KEY=ls.LOCAL_STORAGE_ADDRESSES_KEY=ls.WALLET_USER_NAME_KEY=void 0;const iR=qg;ls.WALLET_USER_NAME_KEY="walletUsername";ls.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";ls.APP_VERSION_KEY="AppVersion";class _0e{async makeEthereumJSONRPCRequest(e,n){if(!n)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(n,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(r=>r.json()).then(r=>{if(!r)throw iR.standardErrors.rpc.parse({});const i=r,{error:s}=i;if(s)throw(0,iR.serializeError)(s,e.method);return i})}}ls.RelayAbstract=_0e;var md={};Object.defineProperty(md,"__esModule",{value:!0});md.Session=void 0;const sR=M7,oR=Ue,aR="session:id",uR="session:secret",cR="session:linked";class d4{constructor(e,n,r,i){this._storage=e,this._id=n||(0,oR.randomBytesHex)(16),this._secret=r||(0,oR.randomBytesHex)(32),this._key=new sR.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const n=e.getItem(aR),r=e.getItem(cR),i=e.getItem(uR);return n&&i?new d4(e,n,i,r==="1"):null}static hash(e){return new sR.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(aR,this._id),this._storage.setItem(uR,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(cR,this._linked?"1":"0")}}md.Session=d4;var y_={},v_={};Object.defineProperty(v_,"__esModule",{value:!0});v_.Cipher=void 0;const fy=Ue;class b0e{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",(0,fy.hexStringToUint8Array)(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),a=16,u=o.slice(o.byteLength-a),c=o.slice(0,o.byteLength-a),l=new Uint8Array(u),f=new Uint8Array(c),h=new Uint8Array([...r,...l,...f]);return(0,fy.uint8ArrayToHex)(h)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",(0,fy.hexStringToUint8Array)(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=(0,fy.hexStringToUint8Array)(e),a=o.slice(0,12),u=o.slice(12,28),c=o.slice(28),l=new Uint8Array([...c,...u]),f={name:"AES-GCM",iv:new Uint8Array(a)};try{const h=await window.crypto.subtle.decrypt(f,s,l),m=new TextDecoder;r(m.decode(h))}catch(h){i(h)}})()})}}v_.Cipher=b0e;var w_={};Object.defineProperty(w_,"__esModule",{value:!0});w_.WalletLinkHTTP=void 0;class E0e{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r==null?void 0:r.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}}w_.WalletLinkHTTP=E0e;var Vh={};Object.defineProperty(Vh,"__esModule",{value:!0});Vh.WalletLinkWebSocket=Vh.ConnectionState=void 0;var Af;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(Af||(Vh.ConnectionState=Af={}));class A0e{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,Af.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),n(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Af.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Af.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(u=>this.sendData(u)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const u=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,u)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,Af.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}Vh.WalletLinkWebSocket=A0e;Object.defineProperty(y_,"__esModule",{value:!0});y_.WalletLinkConnection=void 0;const Ql=zn,S0e=v_,so=gd,lR=ls,Zl=md,C0e=w_,hy=Vh,fR=1e4,I0e=6e4;class x0e{constructor({session:e,linkAPIUrl:n,listener:r,diagnostic:i,WebSocketClass:s=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Ql.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=a=>{if(!a)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",c=>a.JsonRpcUrl&&this.handleChainUpdated(c,a.JsonRpcUrl)]]).forEach((c,l)=>{const f=a[l];f!==void 0&&c(f)})},this.handleDestroyed=a=>{var u,c;a==="1"&&((u=this.listener)===null||u===void 0||u.resetAndReload(),(c=this.diagnostic)===null||c===void 0||c.log(so.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:this.isDestroyed,sessionIdHash:Zl.Session.hash(this.session.id)}))},this.handleAccountUpdated=async a=>{var u,c;try{const l=await this.cipher.decrypt(a);(u=this.listener)===null||u===void 0||u.accountUpdated(l)}catch{(c=this.diagnostic)===null||c===void 0||c.log(so.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}},this.handleMetadataUpdated=async(a,u)=>{var c,l;try{const f=await this.cipher.decrypt(u);(c=this.listener)===null||c===void 0||c.metadataUpdated(a,f)}catch{(l=this.diagnostic)===null||l===void 0||l.log(so.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:a})}},this.handleWalletUsernameUpdated=async a=>{this.handleMetadataUpdated(lR.WALLET_USER_NAME_KEY,a)},this.handleAppVersionUpdated=async a=>{this.handleMetadataUpdated(lR.APP_VERSION_KEY,a)},this.handleChainUpdated=async(a,u)=>{var c,l;try{const f=await this.cipher.decrypt(a),h=await this.cipher.decrypt(u);(c=this.listener)===null||c===void 0||c.chainUpdated(f,h)}catch{(l=this.diagnostic)===null||l===void 0||l.log(so.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}},this.session=e,this.cipher=new S0e.Cipher(e.secret),this.diagnostic=i,this.listener=r;const o=new hy.WalletLinkWebSocket(`${n}/rpc`,s);o.setConnectionStateListener(async a=>{var u;(u=this.diagnostic)===null||u===void 0||u.log(so.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Zl.Session.hash(e.id)});let c=!1;switch(a){case hy.ConnectionState.DISCONNECTED:if(!this.destroyed){const l=async()=>{await new Promise(f=>setTimeout(f,5e3)),this.destroyed||o.connect().catch(()=>{l()})};l()}break;case hy.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),c=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},fR),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case hy.ConnectionState.CONNECTING:break}this.connected!==c&&(this.connected=c)}),o.setIncomingDataListener(a=>{var u,c,l;switch(a.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const f=a.type==="IsLinkedOK"?a.linked:void 0;(u=this.diagnostic)===null||u===void 0||u.log(so.EVENTS.LINKED,{sessionIdHash:Zl.Session.hash(e.id),linked:f,type:a.type,onlineGuests:a.onlineGuests}),this.linked=f||a.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{(c=this.diagnostic)===null||c===void 0||c.log(so.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Zl.Session.hash(e.id),metadata_keys:a&&a.metadata?Object.keys(a.metadata):void 0}),this.handleSessionMetadataUpdated(a.metadata);break}case"Event":{this.handleIncomingEvent(a);break}}a.id!==void 0&&((l=this.requestResolutions.get(a.id))===null||l===void 0||l(a))}),this.ws=o,this.http=new C0e.WalletLinkHTTP(n,e.id,e.key)}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(so.EVENTS.STARTED_CONNECTING,{sessionIdHash:Zl.Session.hash(this.session.id)}),this.ws.connect()}destroy(){var e;this.destroyed=!0,this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(so.EVENTS.DISCONNECTED,{sessionIdHash:Zl.Session.hash(this.session.id)}),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(e){var n,r;this._connected=e,e&&((n=this.onceConnected)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.connectedUpdated(e)}setOnceConnected(e){return new Promise(n=>{this.connected?e().then(n):this.onceConnected=()=>{e().then(n),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n,r;if(!(e.type!=="Event"||e.event!=="Web3Response"))try{const i=await this.cipher.decrypt(e.data),s=JSON.parse(i);if(s.type!=="WEB3_RESPONSE")return;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(s)}catch{(r=this.diagnostic)===null||r===void 0||r.log(so.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async setSessionMetadata(e,n){const r={type:"SetSessionConfig",id:(0,Ql.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[e]:n}};return this.setOnceConnected(async()=>{const i=await this.makeRequest(r);if(i.type==="Fail")throw new Error(i.error||"failed to set session metadata")})}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:(0,Ql.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>fR*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n=I0e){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${r} timed out`))},n)}),new Promise(s=>{this.requestResolutions.set(r,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(r)})})])}async authenticate(){const e={type:"HostSession",id:(0,Ql.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},n=await this.makeRequest(e);if(n.type==="Fail")throw new Error(n.error||"failed to authentcate")}sendIsLinked(){const e={type:"IsLinked",id:(0,Ql.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}sendGetSessionConfig(){const e={type:"GetSessionConfig",id:(0,Ql.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}}y_.WalletLinkConnection=x0e;var Jg={},Yg={},p4={};Object.defineProperty(p4,"__esModule",{value:!0});p4.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var T0e=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yg,"__esModule",{value:!0});Yg.injectCssReset=void 0;const R0e=T0e(p4);function k0e(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(R0e.default)),document.documentElement.appendChild(t)}Yg.injectCssReset=k0e;var __={},b_={},zh={},E_={};Object.defineProperty(E_,"__esModule",{value:!0});E_.CloseIcon=void 0;const hR=$r;function P0e(t){return(0,hR.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,hR.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}E_.CloseIcon=P0e;var A_={};Object.defineProperty(A_,"__esModule",{value:!0});A_.CoinbaseWalletRound=void 0;const dy=$r;function M0e(t){return(0,dy.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,dy.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,dy.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,dy.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))}A_.CoinbaseWalletRound=M0e;var S_={};Object.defineProperty(S_,"__esModule",{value:!0});S_.QRCodeIcon=void 0;const Ud=$r;function D0e(t){return(0,Ud.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ud.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,Ud.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,Ud.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,Ud.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))}S_.QRCodeIcon=D0e;var C_={};function _F(t){this.mode=Ci.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,n=this.data.length;e<n;e++){var r=[],i=this.data.charCodeAt(e);i>65536?(r[0]=240|(i&1835008)>>>18,r[1]=128|(i&258048)>>>12,r[2]=128|(i&4032)>>>6,r[3]=128|i&63):i>2048?(r[0]=224|(i&61440)>>>12,r[1]=128|(i&4032)>>>6,r[2]=128|i&63):i>128?(r[0]=192|(i&1984)>>>6,r[1]=128|i&63):r[0]=i,this.parsedData.push(r)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}_F.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,n=this.parsedData.length;e<n;e++)t.put(this.parsedData[e],8)}};function Ao(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Ao.prototype={addData:function(t){var e=new _F(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Ao.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[t+n][e+r]=!0:this.modules[t+n][e+r]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=mn.getLostPoint(this);(n==0||t>r)&&(t=r,e=n)}return e},createMovieClip:function(t,e,n){var r=t.createEmptyMovieClip(e,n),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var u=a*i,c=this.modules[s][a];c&&(r.beginFill(0,100),r.moveTo(u,o),r.lineTo(u+i,o),r.lineTo(u+i,o+i),r.lineTo(u,o+i),r.endFill())}return r},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=mn.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var r=t[e],i=t[n];if(this.modules[r][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[r+s][i+o]=!0:this.modules[r+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=mn.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!t&&(e>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!t&&(e>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},setupTypeInfo:function(t,e){for(var n=this.errorCorrectLevel<<3|e,r=mn.getBCHTypeInfo(n),i=0;i<15;i++){var s=!t&&(r>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(r>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,r=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[r][o-a]==null){var u=!1;s<t.length&&(u=(t[s]>>>i&1)==1);var c=mn.getMask(e,r,o-a);c&&(u=!u),this.modules[r][o-a]=u,i--,i==-1&&(s++,i=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}}};Ao.PAD0=236;Ao.PAD1=17;Ao.createData=function(t,e,n){for(var r=_o.getRSBlocks(t,e),i=new bF,s=0;s<n.length;s++){var o=n[s];i.put(o.mode,4),i.put(o.getLength(),mn.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<r.length;s++)a+=r[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Ao.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Ao.PAD1,8);return Ao.createBytes(i,r)};Ao.createBytes=function(t,e){for(var n=0,r=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var u=e[a].dataCount,c=e[a].totalCount-u;r=Math.max(r,u),i=Math.max(i,c),s[a]=new Array(u);for(var l=0;l<s[a].length;l++)s[a][l]=255&t.buffer[l+n];n+=u;var f=mn.getErrorCorrectPolynomial(c),h=new $f(s[a],f.getLength()-1),m=h.mod(f);o[a]=new Array(f.getLength()-1);for(var l=0;l<o[a].length;l++){var b=l+m.getLength()-o[a].length;o[a][l]=b>=0?m.get(b):0}}for(var A=0,l=0;l<e.length;l++)A+=e[l].totalCount;for(var T=new Array(A),_=0,l=0;l<r;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(T[_++]=s[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(T[_++]=o[a][l]);return T};var Ci={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},uu={L:1,M:0,Q:3,H:2},Fa={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},mn={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;mn.getBCHDigit(e)-mn.getBCHDigit(mn.G15)>=0;)e^=mn.G15<<mn.getBCHDigit(e)-mn.getBCHDigit(mn.G15);return(t<<10|e)^mn.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;mn.getBCHDigit(e)-mn.getBCHDigit(mn.G18)>=0;)e^=mn.G18<<mn.getBCHDigit(e)-mn.getBCHDigit(mn.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return mn.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case Fa.PATTERN000:return(e+n)%2==0;case Fa.PATTERN001:return e%2==0;case Fa.PATTERN010:return n%3==0;case Fa.PATTERN011:return(e+n)%3==0;case Fa.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case Fa.PATTERN101:return e*n%2+e*n%3==0;case Fa.PATTERN110:return(e*n%2+e*n%3)%2==0;case Fa.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new $f([1],0),n=0;n<t;n++)e=e.multiply(new $f([1,sr.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Ci.MODE_NUMBER:return 10;case Ci.MODE_ALPHA_NUM:return 9;case Ci.MODE_8BIT_BYTE:return 8;case Ci.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Ci.MODE_NUMBER:return 12;case Ci.MODE_ALPHA_NUM:return 11;case Ci.MODE_8BIT_BYTE:return 16;case Ci.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Ci.MODE_NUMBER:return 14;case Ci.MODE_ALPHA_NUM:return 13;case Ci.MODE_8BIT_BYTE:return 16;case Ci.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(r,i),a=-1;a<=1;a++)if(!(r+a<0||e<=r+a))for(var u=-1;u<=1;u++)i+u<0||e<=i+u||a==0&&u==0||o==t.isDark(r+a,i+u)&&s++;s>5&&(n+=3+s-5)}for(var r=0;r<e-1;r++)for(var i=0;i<e-1;i++){var c=0;t.isDark(r,i)&&c++,t.isDark(r+1,i)&&c++,t.isDark(r,i+1)&&c++,t.isDark(r+1,i+1)&&c++,(c==0||c==4)&&(n+=3)}for(var r=0;r<e;r++)for(var i=0;i<e-6;i++)t.isDark(r,i)&&!t.isDark(r,i+1)&&t.isDark(r,i+2)&&t.isDark(r,i+3)&&t.isDark(r,i+4)&&!t.isDark(r,i+5)&&t.isDark(r,i+6)&&(n+=40);for(var i=0;i<e;i++)for(var r=0;r<e-6;r++)t.isDark(r,i)&&!t.isDark(r+1,i)&&t.isDark(r+2,i)&&t.isDark(r+3,i)&&t.isDark(r+4,i)&&!t.isDark(r+5,i)&&t.isDark(r+6,i)&&(n+=40);for(var l=0,i=0;i<e;i++)for(var r=0;r<e;r++)t.isDark(r,i)&&l++;var f=Math.abs(100*l/e/e-50)/5;return n+=f*10,n}},sr={glog:function(t){if(t<1)throw new Error("glog("+t+")");return sr.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return sr.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var mr=0;mr<8;mr++)sr.EXP_TABLE[mr]=1<<mr;for(var mr=8;mr<256;mr++)sr.EXP_TABLE[mr]=sr.EXP_TABLE[mr-4]^sr.EXP_TABLE[mr-5]^sr.EXP_TABLE[mr-6]^sr.EXP_TABLE[mr-8];for(var mr=0;mr<255;mr++)sr.LOG_TABLE[sr.EXP_TABLE[mr]]=mr;function $f(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&t[n]==0;)n++;this.num=new Array(t.length-n+e);for(var r=0;r<t.length-n;r++)this.num[r]=t[r+n]}$f.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<t.getLength();r++)e[n+r]^=sr.gexp(sr.glog(this.get(n))+sr.glog(t.get(r)));return new $f(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=sr.glog(this.get(0))-sr.glog(t.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<t.getLength();r++)n[r]^=sr.gexp(sr.glog(t.get(r))+e);return new $f(n,0).mod(t)}};function _o(t,e){this.totalCount=t,this.dataCount=e}_o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];_o.getRSBlocks=function(t,e){var n=_o.getRsBlockTable(t,e);if(n==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var r=n.length/3,i=[],s=0;s<r;s++)for(var o=n[s*3+0],a=n[s*3+1],u=n[s*3+2],c=0;c<o;c++)i.push(new _o(a,u));return i};_o.getRsBlockTable=function(t,e){switch(e){case uu.L:return _o.RS_BLOCK_TABLE[(t-1)*4+0];case uu.M:return _o.RS_BLOCK_TABLE[(t-1)*4+1];case uu.Q:return _o.RS_BLOCK_TABLE[(t-1)*4+2];case uu.H:return _o.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function bF(){this.buffer=[],this.length=0}bF.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var n=0;n<e;n++)this.putBit((t>>>e-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var H2=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function EF(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function n(u){switch(u){case"L":return uu.L;case"M":return uu.M;case"Q":return uu.Q;case"H":return uu.H;default:throw new Error("Unknwon error correction level: "+u)}}function r(u,c){for(var l=i(u),f=1,h=0,m=0,b=H2.length;m<=b;m++){var A=H2[m];if(!A)throw new Error("Content too long: expected "+h+" but got "+l);switch(c){case"L":h=A[0];break;case"M":h=A[1];break;case"Q":h=A[2];break;case"H":h=A[3];break;default:throw new Error("Unknwon error correction level: "+c)}if(l<=h)break;f++}if(f>H2.length)throw new Error("Content too long");return f}function i(u){var c=encodeURI(u).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return c.length+(c.length!=u?3:0)}var s=this.options.content,o=r(s,this.options.ecl),a=n(this.options.ecl);this.qrcode=new Ao(o,a),this.qrcode.addData(s),this.qrcode.make()}EF.prototype.svg=function(t){var e=this.options||{},n=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var r=typeof e.pretty<"u"?!!e.pretty:!0,i=r?"  ":"",s=r?`\r
`:"",o=e.width,a=e.height,u=n.length,c=o/(u+2*e.padding),l=a/(u+2*e.padding),f=typeof e.join<"u"?!!e.join:!1,h=typeof e.swap<"u"?!!e.swap:!1,m=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,b=typeof e.predefined<"u"?!!e.predefined:!1,A=b?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+c+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",T=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,_="",w="",C=0;C<u;C++)for(var M=0;M<u;M++){var N=n[M][C];if(N){var U=M*c+e.padding*c,v=C*l+e.padding*l;if(h){var y=U;U=v,v=y}if(f){var S=c+U,k=l+v;U=Number.isInteger(U)?Number(U):U.toFixed(2),v=Number.isInteger(v)?Number(v):v.toFixed(2),S=Number.isInteger(S)?Number(S):S.toFixed(2),k=Number.isInteger(k)?Number(k):k.toFixed(2),w+="M"+U+","+v+" V"+k+" H"+S+" V"+v+" H"+U+" Z "}else b?_+=i+'<use x="'+U.toString()+'" y="'+v.toString()+'" href="#qrmodule" />'+s:_+=i+'<rect x="'+U.toString()+'" y="'+v.toString()+'" width="'+c+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}f&&(_=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+w+'" />');let L="";if(this.options.image!==void 0&&this.options.image.svg){const x=o*this.options.image.width/100,g=a*this.options.image.height/100,d=o/2-x/2,E=a/2-g/2;L+=`<svg x="${d}" y="${E}" width="${x}" height="${g}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,L+=this.options.image.svg+s,L+="</svg>"}var z="";switch(t.container){case"svg":m&&(z+='<?xml version="1.0" standalone="yes"?>'+s),z+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,z+=A+T+_,z+=L,z+="</svg>";break;case"svg-viewbox":m&&(z+='<?xml version="1.0" standalone="yes"?>'+s),z+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,z+=A+T+_,z+=L,z+="</svg>";break;case"g":z+='<g width="'+o+'" height="'+a+'">'+s,z+=A+T+_,z+=L,z+="</g>";break;default:z+=(A+T+_+L).replace(/^\s+/,"");break}return z};var O0e=EF,N0e=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(C_,"__esModule",{value:!0});C_.QRCode=void 0;const L0e=$r,dR=Hg,B0e=N0e(O0e),F0e=t=>{const[e,n]=(0,dR.useState)("");return(0,dR.useEffect)(()=>{var r,i;const s=new B0e.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(r=t.width)!==null&&r!==void 0?r:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");n(`data:image/svg+xml;base64,${o}`)},[t.bgColor,t.content,t.fgColor,t.height,t.image,t.width]),e?(0,L0e.h)("img",{src:e,alt:"QR Code"}):null};C_.QRCode=F0e;var I_={},g4={};Object.defineProperty(g4,"__esModule",{value:!0});g4.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var $0e=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(I_,"__esModule",{value:!0});I_.Spinner=void 0;const py=$r,U0e=$0e(g4),j0e=t=>{var e;const n=(e=t.size)!==null&&e!==void 0?e:64,r=t.color||"#000";return(0,py.h)("div",{class:"-cbwsdk-spinner"},(0,py.h)("style",null,U0e.default),(0,py.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:n,height:n}},(0,py.h)("circle",{style:{cx:50,cy:50,r:45,stroke:r}})))};I_.Spinner=j0e;var m4={};Object.defineProperty(m4,"__esModule",{value:!0});m4.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var AF=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zh,"__esModule",{value:!0});zh.CoinbaseWalletSteps=zh.ConnectContent=void 0;const Kc=AF(Pl),Nt=$r,V0e=Ue,z0e=pd,H0e=E_,q0e=A_,W0e=S_,G0e=C_,K0e=I_,Q0e=AF(m4),q2={title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",steps:SF},Z0e=t=>t==="light"?"#FFFFFF":"#0A0B0D";function J0e(t){const{theme:e}=t,n=(0,V0e.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),r=q2.steps;return(0,Nt.h)("div",{"data-testid":"connect-content",className:(0,Kc.default)("-cbwsdk-connect-content",e)},(0,Nt.h)("style",null,Q0e.default),(0,Nt.h)("div",{className:"-cbwsdk-connect-content-header"},(0,Nt.h)("h2",{className:(0,Kc.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with our mobile app"),t.onCancel&&(0,Nt.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,Nt.h)(H0e.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Nt.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,Nt.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,Nt.h)(Y0e,{title:q2.title,description:q2.description,theme:e})),(0,Nt.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,Nt.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,Nt.h)(G0e.QRCode,{content:n,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,Nt.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:z0e.LIB_VERSION}),(0,Nt.h)("input",{type:"hidden",value:n})),(0,Nt.h)(r,{theme:e}),!t.isConnected&&(0,Nt.h)("div",{"data-testid":"connecting-spinner",className:(0,Kc.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,Nt.h)(K0e.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,Nt.h)("p",null,"Connecting...")))))}zh.ConnectContent=J0e;function Y0e({title:t,description:e,theme:n}){return(0,Nt.h)("div",{className:(0,Kc.default)("-cbwsdk-connect-item",n)},(0,Nt.h)("div",null,(0,Nt.h)(q0e.CoinbaseWalletRound,null)),(0,Nt.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,Nt.h)("h3",{className:"-cbwsdk-connect-item-title"},t),(0,Nt.h)("p",{className:"-cbwsdk-connect-item-description"},e)))}function SF({theme:t}){return(0,Nt.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,Nt.h)("li",{className:(0,Kc.default)("-cbwsdk-wallet-steps-item",t)},(0,Nt.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,Nt.h)("li",{className:(0,Kc.default)("-cbwsdk-wallet-steps-item",t)},(0,Nt.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,Nt.h)("span",null,"Tap ",(0,Nt.h)("strong",null,"Scan")," "),(0,Nt.h)("span",{className:(0,Kc.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,Nt.h)(W0e.QRCodeIcon,{fill:Z0e(t)})))))}zh.CoinbaseWalletSteps=SF;var x_={},T_={};Object.defineProperty(T_,"__esModule",{value:!0});T_.ArrowLeftIcon=void 0;const pR=$r;function X0e(t){return(0,pR.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,pR.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}T_.ArrowLeftIcon=X0e;var R_={};Object.defineProperty(R_,"__esModule",{value:!0});R_.LaptopIcon=void 0;const W2=$r;function epe(t){return(0,W2.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,W2.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,W2.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}R_.LaptopIcon=epe;var k_={};Object.defineProperty(k_,"__esModule",{value:!0});k_.SafeIcon=void 0;const gR=$r;function tpe(t){return(0,gR.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,gR.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}k_.SafeIcon=tpe;var y4={};Object.defineProperty(y4,"__esModule",{value:!0});y4.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var CF=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(x_,"__esModule",{value:!0});x_.TryExtensionContent=void 0;const uc=CF(Pl),Nn=$r,G2=Hg,npe=T_,rpe=R_,ipe=k_,spe=CF(y4);function ope({theme:t}){const[e,n]=(0,G2.useState)(!1),r=(0,G2.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,G2.useCallback)(()=>{e?window.location.reload():(r(),n(!0))},[r,e]);return(0,Nn.h)("div",{class:(0,uc.default)("-cbwsdk-try-extension",t)},(0,Nn.h)("style",null,spe.default),(0,Nn.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Nn.h)("h3",{class:(0,uc.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,Nn.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Nn.h)("button",{class:(0,uc.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,Nn.h)("div",null,!e&&(0,Nn.h)(npe.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,Nn.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Nn.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Nn.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Nn.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Nn.h)("span",{class:(0,uc.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Nn.h)(rpe.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Nn.h)("div",{class:(0,uc.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,Nn.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Nn.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Nn.h)("span",{class:(0,uc.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Nn.h)(ipe.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Nn.h)("div",{class:(0,uc.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}x_.TryExtensionContent=ope;var v4={};Object.defineProperty(v4,"__esModule",{value:!0});v4.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var IF=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(b_,"__esModule",{value:!0});b_.ConnectDialog=void 0;const K2=IF(Pl),cc=$r,Q2=Hg,ape=zh,upe=x_,cpe=IF(v4),lpe=t=>{const{isOpen:e,darkMode:n}=t,[r,i]=(0,Q2.useState)(!e),[s,o]=(0,Q2.useState)(!e);(0,Q2.useEffect)(()=>{const u=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):u.push(window.setTimeout(()=>{i(!0)},360)),()=>{u.forEach(window.clearTimeout)}},[e]);const a=n?"dark":"light";return(0,cc.h)("div",{class:(0,K2.default)("-cbwsdk-connect-dialog-container",r&&"-cbwsdk-connect-dialog-container-hidden")},(0,cc.h)("style",null,cpe.default),(0,cc.h)("div",{class:(0,K2.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,cc.h)("div",{class:"-cbwsdk-connect-dialog"},(0,cc.h)("div",{class:(0,K2.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,cc.h)(ape.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,cc.h)(upe.TryExtensionContent,{theme:a}))))};b_.ConnectDialog=lpe;Object.defineProperty(__,"__esModule",{value:!0});__.LinkFlow=void 0;const Z2=$r,fpe=b_;class hpe{constructor(e){this.connected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render()}setConnected(e){this.connected!==e&&(this.connected=e,this.render())}setChainId(e){this.chainId!==e&&(this.chainId=e,this.render())}detach(){var e;this.root&&((0,Z2.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){this.root&&(0,Z2.render)((0,Z2.h)(fpe.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}}__.LinkFlow=hpe;var w4={},_4={};Object.defineProperty(_4,"__esModule",{value:!0});_4.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=Ce&&Ce.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const n=e(Pl),r=$r,i=Hg,s=e(_4),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class u{constructor(h){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=h.darkMode}attach(h){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",h.appendChild(this.root),this.render()}presentItem(h){const m=this.nextItemKey++;return this.items.set(m,h),this.render(),()=>{this.items.delete(m),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,r.render)((0,r.h)("div",null,(0,r.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([h,m])=>(0,r.h)(t.SnackbarInstance,Object.assign({},m,{key:h}))))),this.root)}}t.Snackbar=u;const c=f=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-container")},(0,r.h)("style",null,s.default),(0,r.h)("div",{class:"-cbwsdk-snackbar"},f.children));t.SnackbarContainer=c;const l=({autoExpand:f,message:h,menuItems:m})=>{const[b,A]=(0,i.useState)(!0),[T,_]=(0,i.useState)(f??!1);(0,i.useEffect)(()=>{const C=[window.setTimeout(()=>{A(!1)},1),window.setTimeout(()=>{_(!0)},1e4)];return()=>{C.forEach(window.clearTimeout)}});const w=()=>{_(!T)};return(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance",b&&"-cbwsdk-snackbar-instance-hidden",T&&"-cbwsdk-snackbar-instance-expanded")},(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:w},(0,r.h)("img",{src:o,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},h),(0,r.h)("div",{class:"-gear-container"},!T&&(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,r.h)("img",{src:a,class:"-gear-icon",title:"Expand"}))),m&&m.length>0&&(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},m.map((C,M)=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item",C.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:C.onClick,key:M},(0,r.h)("svg",{width:C.svgWidth,height:C.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":C.defaultFillRule,"clip-rule":C.defaultClipRule,d:C.path,fill:"#AAAAAA"})),(0,r.h)("span",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item-info",C.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},C.info)))))};t.SnackbarInstance=l})(w4);Object.defineProperty(Jg,"__esModule",{value:!0});Jg.WalletLinkRelayUI=void 0;const dpe=Yg,ppe=__,gpe=w4;class mpe{constructor(e){this.standalone=null,this.attached=!1,this.snackbar=new gpe.Snackbar({darkMode:e.darkMode}),this.linkFlow=new ppe.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.linkFlow.attach(n),this.snackbar.attach(n),this.attached=!0,(0,dpe.injectCssReset)()}setConnected(e){this.linkFlow.setConnected(e)}setChainId(e){this.linkFlow.setChainId(e)}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(){}watchAsset(){}switchEthereumChain(){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Jg.WalletLinkRelayUI=mpe;Object.defineProperty(Zg,"__esModule",{value:!0});Zg.WalletLinkRelay=void 0;const Jl=qg,ype=zn,gn=Ue,lc=gd,mR=ls,$a=md,vpe=y_,fc=dd,wpe=Jg;class ta extends mR.RelayAbstract{constructor(e){var n;super(),this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.linkedUpdated=o=>{var a;this.isLinked=o;const u=this.storage.getItem(mR.LOCAL_STORAGE_ADDRESSES_KEY);if(o&&(this.session.linked=o),this.isUnlinkedErrorState=!1,u){const c=u.split(" "),l=this.storage.getItem("IsStandaloneSigning")==="true";if(c[0]!==""&&!o&&this.session.linked&&!l){this.isUnlinkedErrorState=!0;const f=this.getSessionIdHash();(a=this.diagnostic)===null||a===void 0||a.log(lc.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:f})}}},this.metadataUpdated=(o,a)=>{this.storage.setItem(o,a)},this.chainUpdated=(o,a)=>{this.chainCallbackParams.chainId===o&&this.chainCallbackParams.jsonRpcUrl===a||(this.chainCallbackParams={chainId:o,jsonRpcUrl:a},this.chainCallback&&this.chainCallback(o,a))},this.accountUpdated=o=>{this.accountsCallback&&this.accountsCallback([o]),ta.accountRequestCallbackIds.size>0&&(Array.from(ta.accountRequestCallbackIds.values()).forEach(a=>{const u={type:"WEB3_RESPONSE",id:a,response:{method:"requestEthereumAccounts",result:[o]}};this.invokeCallback(Object.assign(Object.assign({},u),{id:a}))}),ta.accountRequestCallbackIds.clear())},this.connectedUpdated=o=>{this.ui.setConnected(o)},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:r,ui:i,connection:s}=this.subscribe();this._session=r,this.connection=s,this.relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(n=e.reloadOnDisconnect)!==null&&n!==void 0?n:!0,this.ui=i}subscribe(){const e=$a.Session.load(this.storage)||new $a.Session(this.storage).save(),{linkAPIUrl:n,diagnostic:r}=this,i=new vpe.WalletLinkConnection({session:e,linkAPIUrl:n,diagnostic:r,listener:this}),{version:s,darkMode:o}=this.options,a=this.options.uiConstructor({linkAPIUrl:n,version:s,darkMode:o,session:e});return i.connect(),{session:e,ui:a,connection:i}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(e=>setTimeout(()=>e(null),1e3))]).then(()=>{var e,n;const r=this.ui.isStandalone();(e=this.diagnostic)===null||e===void 0||e.log(lc.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const i=$a.Session.load(this.storage);if((i==null?void 0:i.id)===this._session.id?this.storage.clear():i&&((n=this.diagnostic)===null||n===void 0||n.log(lc.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:$a.Session.hash(i.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:s,ui:o,connection:a}=this.subscribe();this._session=s,this.connection=a,this.ui=o,r&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.options.headlessMode||this.attachUI()}).catch(e=>{var n;(n=this.diagnostic)===null||n===void 0||n.log(lc.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,n){this.appName=e,this.appLogoUrl=n}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,n){this.storage.setItem(e,n)}signEthereumMessage(e,n,r,i){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,gn.hexStringFromBuffer)(e,!0),address:n,addPrefix:r,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,n,r){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,gn.hexStringFromBuffer)(e,!0),signature:(0,gn.hexStringFromBuffer)(n,!0),addPrefix:r}})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,gn.bigIntStringFromBN)(e.weiValue),data:(0,gn.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,gn.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,gn.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,gn.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,gn.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,gn.bigIntStringFromBN)(e.weiValue),data:(0,gn.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,gn.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,gn.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,gn.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,gn.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,gn.hexStringFromBuffer)(e,!0),chainId:n}})}scanQRCode(e){return this.sendRequest({method:"scanQRCode",params:{regExp:e}})}getQRCodeUrl(){return(0,gn.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,n){return this.sendRequest({method:"generic",params:{action:n,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let n=null;const r=(0,gn.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,o),n==null||n()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(r,u=>{if(n==null||n(),(0,fc.isErrorResponse)(u))return a(new Error(u.errorMessage));o(u)}),this.ui.isStandalone()?this.sendRequestStandalone(r,e):this.publishWeb3RequestEvent(r,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChain=e,this.ui instanceof wpe.WalletLinkRelayUI&&this.ui.setChainId(e)}publishWeb3RequestEvent(e,n){var r;const i={type:"WEB3_REQUEST",id:e,request:n},s=$a.Session.load(this.storage);(r=this.diagnostic)===null||r===void 0||r.log(lc.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?$a.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.publishEvent("Web3Request",i,!0).then(o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(lc.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?$a.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})}).catch(o=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i.id,response:{method:n.method,errorMessage:o.message}})})}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e){var n;const{response:r}=e;if((n=this.diagnostic)===null||n===void 0||n.log(lc.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash()}),r.method==="requestEthereumAccounts"){ta.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),ta.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,n,r,i){var s;const o=(s=r==null?void 0:r.message)!==null&&s!==void 0?s:(0,Jl.getMessageFromCode)(i);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:{method:n,errorMessage:o,errorCode:i}})}invokeCallback(e){const n=this.relayEventManager.callbacks.get(e.id);n&&(n(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},n=(0,gn.randomBytesHex)(8),r=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,s)};return{promise:new Promise((s,o)=>{if(this.relayEventManager.callbacks.set(n,a=>{if(this.ui.hideRequestEthereumAccounts(),(0,fc.isErrorResponse)(a))return o(new Error(a.errorMessage));s(a)}),this.ui.inlineAccountsResponse()){const a=u=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"requestEthereumAccounts",result:u}})};this.ui.requestEthereumAccounts({onCancel:r,onAccounts:a})}else{const a=Jl.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>r(a)})}ta.accountRequestCallbackIds.add(n),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(n,e)}),cancel:r}}selectProvider(e){const n={method:"selectProvider"},r=(0,gn.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,n.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(r,l=>{if((0,fc.isErrorResponse)(l))return a(new Error(l.errorMessage));o(l)});const u=l=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:r,response:{method:"selectProvider",result:ype.ProviderType.Unselected}})},c=l=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:r,response:{method:"selectProvider",result:l}})};this.ui.selectProvider&&this.ui.selectProvider({onApprove:c,onCancel:u,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,n,r,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:o}};let u=null;const c=(0,gn.randomBytesHex)(8),l=h=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,h),u==null||u()};this.ui.inlineWatchAsset()||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const f=new Promise((h,m)=>{this.relayEventManager.callbacks.set(c,T=>{if(u==null||u(),(0,fc.isErrorResponse)(T))return m(new Error(T.errorMessage));h(T)});const b=T=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"watchAsset",result:!1}})},A=()=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"watchAsset",result:!0}})};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:A,onCancel:b,type:e,address:n,symbol:r,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(c,a)});return{cancel:l,promise:f}}addEthereumChain(e,n,r,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:o}};let u=null;const c=(0,gn.randomBytesHex)(8),l=h=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,h),u==null||u()};return this.ui.inlineAddEthereumChain(e)||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((h,m)=>{this.relayEventManager.callbacks.set(c,T=>{if(u==null||u(),(0,fc.isErrorResponse)(T))return m(new Error(T.errorMessage));h(T)});const b=T=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},A=T=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:T}}})};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:b,onApprove:A,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(c,a)}),cancel:l}}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})},i=(0,gn.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,r.method,a)};return{promise:new Promise((a,u)=>{this.relayEventManager.callbacks.set(i,f=>{if((0,fc.isErrorResponse)(f)&&f.errorCode)return u(Jl.standardErrors.provider.custom({code:f.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,fc.isErrorResponse)(f))return u(new Error(f.errorMessage));a(f)});const c=f=>{var h;if(f){const m=(h=(0,Jl.getErrorCode)(f))!==null&&h!==void 0?h:Jl.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,"switchEthereumChain",f instanceof Error?f:Jl.standardErrors.provider.unsupportedChain(e),m)}else this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},l=f=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:f}}})};this.ui.switchEthereumChain({onCancel:c,onApprove:l,chainId:r.params.chainId,address:r.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,r)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return $a.Session.hash(this._session.id)}sendRequestStandalone(e,n){const r=s=>{this.handleErrorResponse(e,n.method,s)},i=s=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:s})};switch(n.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:n,onSuccess:i,onCancel:r});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:n,onSuccess:i,onCancel:r});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:n,onSuccess:i,onCancel:r});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:n,onSuccess:i});break;default:r();break}}}Zg.WalletLinkRelay=ta;ta.accountRequestCallbackIds=new Set;var Xg={},P_={},xF={};(function(t){var e=Ce&&Ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Ce&&Ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(w4,t)})(xF);var b4={};Object.defineProperty(b4,"__esModule",{value:!0});b4.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";var TF=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(P_,"__esModule",{value:!0});P_.RedirectDialog=void 0;const _pe=TF(Pl),ho=$r,bpe=Yg,Epe=xF,Ape=TF(b4);class Spe{constructor(){this.root=null}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),(0,bpe.injectCssReset)()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&((0,ho.render)(null,this.root),e&&(0,ho.render)((0,ho.h)(Cpe,Object.assign({},e,{onDismiss:()=>{this.clear()}})),this.root))}}P_.RedirectDialog=Spe;const Cpe=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return(0,ho.h)(Epe.SnackbarContainer,{darkMode:n},(0,ho.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,ho.h)("style",null,Ape.default),(0,ho.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),(0,ho.h)("div",{class:(0,_pe.default)("-cbwsdk-redirect-dialog-box",s)},(0,ho.h)("p",null,t),(0,ho.h)("button",{onClick:r},e))))};Object.defineProperty(Xg,"__esModule",{value:!0});Xg.MobileRelayUI=void 0;const Ipe=P_;class xpe{constructor(e){this.attached=!1,this.darkMode=!1,this.redirectDialog=new Ipe.RedirectDialog,this.darkMode=e.darkMode}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}setConnected(e){}redirectToCoinbaseWallet(e){const n=new URL("https://go.cb-w.com/walletlink");n.searchParams.append("redirect_url",window.location.href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}hideRequestEthereumAccounts(){this.redirectDialog.clear()}requestEthereumAccounts(){}addEthereumChain(){}watchAsset(){}selectProvider(){}switchEthereumChain(){}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}reloadUI(){}setStandalone(){}setConnectDisabled(){}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}Xg.MobileRelayUI=xpe;Object.defineProperty(Qg,"__esModule",{value:!0});Qg.MobileRelay=void 0;const Tpe=Ue,Rpe=Zg,kpe=Xg;class Ppe extends Rpe.WalletLinkRelay{constructor(e){var n;super(e),this._enableMobileWalletLink=(n=e.enableMobileWalletLink)!==null&&n!==void 0?n:!1}requestEthereumAccounts(){return this._enableMobileWalletLink?super.requestEthereumAccounts():{promise:new Promise(()=>{const e=(0,Tpe.getLocation)();e.href=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(e.href)}`}),cancel:()=>{}}}publishWeb3RequestEvent(e,n){if(super.publishWeb3RequestEvent(e,n),!(this._enableMobileWalletLink&&this.ui instanceof kpe.MobileRelayUI))return;let r=!1;switch(n.method){case"requestEthereumAccounts":case"connectAndSignIn":r=!0,this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:r=!0,this.ui.openCoinbaseWalletDeeplink();break}r&&window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0})}handleWeb3ResponseMessage(e){super.handleWeb3ResponseMessage(e)}connectAndSignIn(e){if(!this._enableMobileWalletLink)throw new Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:e.nonce,iat:new Date().toISOString(),chainId:`eip155:${this.dappDefaultChain}`,statement:e.statement,resources:e.resources}})}}Qg.MobileRelay=Ppe;const Mpe=d7,Dpe=f_;function RF(t){return Buffer.allocUnsafe(t).fill(0)}function kF(t,e,n){const r=RF(e);return t=M_(t),n?t.length<e?(t.copy(r),r):t.slice(0,e):t.length<e?(t.copy(r,e-t.length),r):t.slice(-e)}function Ope(t,e){return kF(t,e,!0)}function M_(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")PF(t)?t=Buffer.from(Bpe(MF(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(Dpe.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Npe(t){return t=M_(t),"0x"+t.toString("hex")}function Lpe(t,e){return t=M_(t),e||(e=256),Mpe("keccak"+e).update(t).digest()}function Bpe(t){return t.length%2?"0"+t:t}function PF(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function MF(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var DF={zeros:RF,setLength:kF,setLengthRight:Ope,isHexString:PF,stripHexPrefix:MF,toBuffer:M_,bufferToHex:Npe,keccak:Lpe};const vl=DF,kc=f_;function OF(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Uf(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function yR(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function NF(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function _c(t){var e=typeof t;if(e==="string")return vl.isHexString(t)?new kc(vl.stripHexPrefix(t),16):new kc(t,10);if(e==="number")return new kc(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function lo(t,e){var n,r,i,s;if(t==="address")return lo("uint160",_c(e));if(t==="bool")return lo("uint8",e?1:0);if(t==="string")return lo("bytes",new Buffer(e,"utf8"));if($pe(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(n=NF(t),n!=="dynamic"&&n!==0&&e.length>n)throw new Error("Elements exceed array size: "+n);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(lo(t,e[s]));if(n==="dynamic"){var o=lo("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([lo("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,vl.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(n=Uf(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return vl.setLengthRight(e,32)}else if(t.startsWith("uint")){if(n=Uf(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(r=_c(e),r.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+r.bitLength());if(r<0)throw new Error("Supplied uint is negative");return r.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(n=Uf(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(r=_c(e),r.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+r.bitLength());return r.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(n=yR(t),r=_c(e),r<0)throw new Error("Supplied ufixed is negative");return lo("uint256",r.mul(new kc(2).pow(new kc(n[1]))))}else if(t.startsWith("fixed"))return n=yR(t),lo("int256",_c(e).mul(new kc(2).pow(new kc(n[1]))))}throw new Error("Unsupported or invalid type: "+t)}function Fpe(t){return t==="string"||t==="bytes"||NF(t)==="dynamic"}function $pe(t){return t.lastIndexOf("]")===t.length-1}function Upe(t,e){var n=[],r=[],i=32*t.length;for(var s in t){var o=OF(t[s]),a=e[s],u=lo(o,a);Fpe(o)?(n.push(lo("uint256",i)),r.push(u),i+=u.length):n.push(u)}return Buffer.concat(n.concat(r))}function LF(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var n,r,i=[],s=0;s<t.length;s++){var o=OF(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(vl.setLength(a,20));else if(o.startsWith("bytes")){if(n=Uf(o),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(vl.setLengthRight(a,n))}else if(o.startsWith("uint")){if(n=Uf(o),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(r=_c(a),r.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+r.bitLength());i.push(r.toArrayLike(Buffer,"be",n/8))}else if(o.startsWith("int")){if(n=Uf(o),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(r=_c(a),r.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+r.bitLength());i.push(r.toTwos(n).toArrayLike(Buffer,"be",n/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function jpe(t,e){return vl.keccak(LF(t,e))}var Vpe={rawEncode:Upe,solidityPack:LF,soliditySHA3:jpe};const Ts=DF,S0=Vpe,BF={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},J2={encodeData(t,e,n,r=!0){const i=["bytes32"],s=[this.hashType(t,n)];if(r){const o=(a,u,c)=>{if(n[u]!==void 0)return["bytes32",c==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Ts.keccak(this.encodeData(u,c,n,r))];if(c===void 0)throw new Error(`missing value for field ${a} of type ${u}`);if(u==="bytes")return["bytes32",Ts.keccak(c)];if(u==="string")return typeof c=="string"&&(c=Buffer.from(c,"utf8")),["bytes32",Ts.keccak(c)];if(u.lastIndexOf("]")===u.length-1){const l=u.slice(0,u.lastIndexOf("[")),f=c.map(h=>o(a,l,h));return["bytes32",Ts.keccak(S0.rawEncode(f.map(([h])=>h),f.map(([,h])=>h)))]}return[u,c]};for(const a of n[t]){const[u,c]=o(a.name,a.type,e[a.name]);i.push(u),s.push(c)}}else for(const o of n[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Ts.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Ts.keccak(a),s.push(a);else if(n[o.type]!==void 0)i.push("bytes32"),a=Ts.keccak(this.encodeData(o.type,a,n,r)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return S0.rawEncode(i,s)},encodeType(t,e){let n="",r=this.findTypeDependencies(t,e).filter(i=>i!==t);r=[t].concat(r.sort());for(const i of r){if(!e[i])throw new Error("No type definition specified: "+i);n+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return n},findTypeDependencies(t,e,n=[]){if(t=t.match(/^\w*/)[0],n.includes(t)||e[t]===void 0)return n;n.push(t);for(const r of e[t])for(const i of this.findTypeDependencies(r.type,e,n))!n.includes(i)&&n.push(i);return n},hashStruct(t,e,n,r=!0){return Ts.keccak(this.encodeData(t,e,n,r))},hashType(t,e){return Ts.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const n in BF.properties)t[n]&&(e[n]=t[n]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const n=this.sanitizeData(t),r=[Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",n.domain,n.types,e)),n.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(n.primaryType,n.message,n.types,e)),Ts.keccak(Buffer.concat(r))}};var zpe={TYPED_MESSAGE_SCHEMA:BF,TypedDataUtils:J2,hashForSignTypedDataLegacy:function(t){return Hpe(t.data)},hashForSignTypedData_v3:function(t){return J2.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return J2.hash(t.data)}};function Hpe(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const n=t.map(function(s){return s.type==="bytes"?Ts.toBuffer(s.value):s.value}),r=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return S0.soliditySHA3(["bytes32","bytes32"],[S0.soliditySHA3(new Array(t.length).fill("string"),i),S0.soliditySHA3(r,n)])}var Hh={};Object.defineProperty(Hh,"__esModule",{value:!0});Hh.filterFromParam=Hh.FilterPolyfill=void 0;const af=zn,jr=Ue,qpe=5*60*1e3,bc={jsonrpc:"2.0",id:0};class Wpe{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,af.IntNumber)(1),this.REQUEST_THROTTLE_INTERVAL=1e3,this.lastFetchTimestamp=new Date(0),this.resolvers=[],this.provider=e}async newFilter(e){const n=FF(e),r=this.makeFilterId(),i=await this.setInitialCursorPosition(r,n.fromBlock);return console.info(`Installing new log filter(${r}):`,n,"initial cursor position:",i),this.logFilters.set(r,n),this.setFilterTimeout(r),(0,jr.hexStringFromIntNumber)(r)}async newBlockFilter(){const e=this.makeFilterId(),n=await this.setInitialCursorPosition(e,"latest");return console.info(`Installing new block filter (${e}) with initial cursor position:`,n),this.blockFilters.add(e),this.setFilterTimeout(e),(0,jr.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),n=await this.setInitialCursorPosition(e,"latest");return console.info(`Installing new block filter (${e}) with initial cursor position:`,n),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,jr.hexStringFromIntNumber)(e)}uninstallFilter(e){const n=(0,jr.intNumberFromHexString)(e);return console.info(`Uninstalling filter (${n})`),this.deleteFilter(n),!0}getFilterChanges(e){const n=(0,jr.intNumberFromHexString)(e);return this.timeouts.has(n)&&this.setFilterTimeout(n),this.logFilters.has(n)?this.getLogFilterChanges(n):this.blockFilters.has(n)?this.getBlockFilterChanges(n):this.pendingTransactionFilters.has(n)?this.getPendingTransactionFilterChanges(n):Promise.resolve(gy())}async getFilterLogs(e){const n=(0,jr.intNumberFromHexString)(e),r=this.logFilters.get(n);return r?this.sendAsyncPromise(Object.assign(Object.assign({},bc),{method:"eth_getLogs",params:[vR(r)]})):gy()}makeFilterId(){return(0,af.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((n,r)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return r(i);if(Array.isArray(s)||s==null)return r(new Error(`unexpected response received: ${JSON.stringify(s)}`));n(s)})})}deleteFilter(e){console.info(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const n=this.logFilters.get(e),r=this.cursors.get(e);if(!r||!n)return gy();const i=await this.getCurrentBlockHeight(),s=n.toBlock==="latest"?i:n.toBlock;if(r>i||r>Number(n.toBlock))return my();console.info(`Fetching logs from ${r} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},bc),{method:"eth_getLogs",params:[vR(Object.assign(Object.assign({},n),{fromBlock:r,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(c=>(0,jr.intNumberFromHexString)(c.blockNumber||"0x0")),u=Math.max(...a);if(u&&u>r){const c=(0,af.IntNumber)(u+1);console.info(`Moving cursor position for filter (${e}) from ${r} to ${c}`),this.cursors.set(e,c)}}return o}async getBlockFilterChanges(e){const n=this.cursors.get(e);if(!n)return gy();const r=await this.getCurrentBlockHeight();if(n>r)return my();console.info(`Fetching blocks from ${n} to ${r} for filter (${e})`);const i=(await Promise.all((0,jr.range)(n,r+1).map(o=>this.getBlockHashByNumber((0,af.IntNumber)(o))))).filter(o=>!!o),s=(0,af.IntNumber)(n+i.length);return console.info(`Moving cursor position for filter (${e}) from ${n} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},bc),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(my())}async setInitialCursorPosition(e,n){const r=await this.getCurrentBlockHeight(),i=typeof n=="number"&&n>r?n:r;return this.cursors.set(e,i),i}setFilterTimeout(e){const n=this.timeouts.get(e);n&&window.clearTimeout(n);const r=window.setTimeout(()=>{console.info(`Filter (${e}) timed out`),this.deleteFilter(e)},qpe);this.timeouts.set(e,r)}async getCurrentBlockHeight(){const e=new Date;if(e.getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL){this.lastFetchTimestamp=e;const n=await this._getCurrentBlockHeight();this.currentBlockHeight=n,this.resolvers.forEach(r=>r(n)),this.resolvers=[]}return this.currentBlockHeight?this.currentBlockHeight:new Promise(n=>this.resolvers.push(n))}async _getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},bc),{method:"eth_blockNumber",params:[]}));return(0,jr.intNumberFromHexString)((0,jr.ensureHexString)(e))}async getBlockHashByNumber(e){const n=await this.sendAsyncPromise(Object.assign(Object.assign({},bc),{method:"eth_getBlockByNumber",params:[(0,jr.hexStringFromIntNumber)(e),!1]}));return n.result&&typeof n.result.hash=="string"?(0,jr.ensureHexString)(n.result.hash):null}}Hh.FilterPolyfill=Wpe;function FF(t){return{fromBlock:wR(t.fromBlock),toBlock:wR(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}Hh.filterFromParam=FF;function vR(t){const e={fromBlock:_R(t.fromBlock),toBlock:_R(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function wR(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,af.IntNumber)(0);if((0,jr.isHexString)(t))return(0,jr.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function _R(t){return t==="latest"?t:(0,jr.hexStringFromIntNumber)(t)}function gy(){return Object.assign(Object.assign({},bc),{error:{code:-32e3,message:"filter not found"}})}function my(){return Object.assign(Object.assign({},bc),{result:[]})}var D_={},$F={},O_={},E4=Gpe;function Gpe(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,n=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return n=n%e,n++}}const bR=(t,e)=>function(){const n=e.promiseModule,r=new Array(arguments.length);for(let i=0;i<arguments.length;i++)r[i]=arguments[i];return new n((i,s)=>{e.errorFirst?r.push(function(o,a){if(e.multiArgs){const u=new Array(arguments.length-1);for(let c=1;c<arguments.length;c++)u[c-1]=arguments[c];o?(u.unshift(o),s(u)):i(u)}else o?s(o):i(a)}):r.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let u=0;u<arguments.length;u++)a[u]=arguments[u];i(a)}else i(o)}),t.apply(this,r)})};var Kpe=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const n=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let r;typeof t=="function"?r=function(){return e.excludeMain?t.apply(this,arguments):bR(t,e).apply(this,arguments)}:r=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];r[i]=typeof s=="function"&&n(i)?bR(s,e):s}return r},em={},tm={};Object.defineProperty(tm,"__esModule",{value:!0});const Qpe=sg;function ER(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function Zpe(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}let Jpe=class extends Qpe.EventEmitter{emit(e,...n){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let o;if(n.length>0&&([o]=n),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")ER(s,this,n);else{const o=s.length,a=Zpe(s);for(let u=0;u<o;u+=1)ER(a[u],this,n)}return!0}};tm.default=Jpe;var Ype=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(em,"__esModule",{value:!0});em.BaseBlockTracker=void 0;const Xpe=Ype(tm),ege=1e3,tge=(t,e)=>t+e,AR=["sync","latest"];class nge extends Xpe.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*ege,this._usePastBlocks=e.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(n=>this.once("latest",n))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){AR.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return AR.map(e=>this.listenerCount(e)).reduce(tge)}_shouldUseNewBlock(e){const n=this._currentBlock;if(!n)return!0;const r=SR(e),i=SR(n);return this._usePastBlocks&&r<i||r>i}_newPotentialLatest(e){this._shouldUseNewBlock(e)&&this._setCurrentBlock(e)}_setCurrentBlock(e){const n=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:n,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}em.BaseBlockTracker=nge;function SR(t){return Number.parseInt(t,16)}var UF={},jF={},vr={};class VF extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,u=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??u),s!=null&&(this.cause=u),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function rge(t){return ps(t)&&typeof t[Symbol.iterator]=="function"}function ps(t){return typeof t=="object"&&t!=null}function CR(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Gn(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function ige(t){const{done:e,value:n}=t.next();return e?void 0:n}function sge(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:u=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Gn(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*GA(t,e,n,r){rge(t)||(t=[t]);for(const i of t){const s=sge(i,e,n,r);s&&(yield s)}}function*A4(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&ps(e.schema)&&ps(t)&&!Array.isArray(t)))for(const c in t)e.schema[c]===void 0&&delete t[c];let u="valid";for(const c of e.validator(t,a))c.explanation=n.message,u="not_valid",yield[c,void 0];for(let[c,l,f]of e.entries(t,a)){const h=A4(l,f,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,l],coerce:s,mask:o,message:n.message});for(const m of h)m[0]?(u=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):s&&(l=m[1],c===void 0?t=l:t instanceof Map?t.set(c,l):t instanceof Set?t.add(l):ps(t)&&(l!==void 0||c in t)&&(t[c]=l))}if(u!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,u="not_refined",yield[c,void 0];u==="valid"&&(yield[void 0,t])}class On{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=u=>u,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(u,c)=>{const l=i(u,c);return GA(l,c,this,u)}:this.validator=()=>[],s?this.refiner=(u,c)=>{const l=s(u,c);return GA(l,c,this,u)}:this.refiner=()=>[]}assert(e,n){return zF(e,this,n)}create(e,n){return HF(e,this,n)}is(e){return S4(e,this)}mask(e,n){return qF(e,this,n)}validate(e,n={}){return yd(e,this,n)}}function zF(t,e,n){const r=yd(t,e,{message:n});if(r[0])throw r[0]}function HF(t,e,n){const r=yd(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function qF(t,e,n){const r=yd(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function S4(t,e){return!yd(t,e)[0]}function yd(t,e,n={}){const r=A4(t,e,n),i=ige(r);return i[0]?[new VF(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function oge(...t){const e=t[0].type==="type",n=t.map(i=>i.schema),r=Object.assign({},...n);return e?rm(r):nm(r)}function vi(t,e){return new On({type:t,schema:null,validator:e})}function age(t,e){return new On({...t,refiner:(n,r)=>n===void 0||t.refiner(n,r),validator(n,r){return n===void 0?!0:(e(n,r),t.validator(n,r))}})}function uge(t){return new On({type:"dynamic",schema:null,*entries(e,n){yield*t(e,n).entries(e,n)},validator(e,n){return t(e,n).validator(e,n)},coercer(e,n){return t(e,n).coercer(e,n)},refiner(e,n){return t(e,n).refiner(e,n)}})}function cge(t){let e;return new On({type:"lazy",schema:null,*entries(n,r){e??(e=t()),yield*e.entries(n,r)},validator(n,r){return e??(e=t()),e.validator(n,r)},coercer(n,r){return e??(e=t()),e.coercer(n,r)},refiner(n,r){return e??(e=t()),e.refiner(n,r)}})}function lge(t,e){const{schema:n}=t,r={...n};for(const i of e)delete r[i];switch(t.type){case"type":return rm(r);default:return nm(r)}}function fge(t){const e=t instanceof On,n=e?{...t.schema}:{...t};for(const r in n)n[r]=WF(n[r]);return e&&t.type==="type"?rm(n):nm(n)}function hge(t,e){const{schema:n}=t,r={};for(const i of e)r[i]=n[i];switch(t.type){case"type":return rm(r);default:return nm(r)}}function dge(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),vi(t,e)}function pge(){return vi("any",()=>!0)}function gge(t){return new On({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Gn(e)}`}})}function mge(){return vi("bigint",t=>typeof t=="bigint")}function yge(){return vi("boolean",t=>typeof t=="boolean")}function vge(){return vi("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${Gn(t)}`)}function wge(t){const e={},n=t.map(r=>Gn(r)).join();for(const r of t)e[r]=r;return new On({type:"enums",schema:e,validator(r){return t.includes(r)||`Expected one of \`${n}\`, but received: ${Gn(r)}`}})}function _ge(){return vi("func",t=>typeof t=="function"||`Expected a function, but received: ${Gn(t)}`)}function bge(t){return vi("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Gn(e)}`)}function Ege(){return vi("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${Gn(t)}`)}function Age(t){return new On({type:"intersection",schema:null,*entries(e,n){for(const r of t)yield*r.entries(e,n)},*validator(e,n){for(const r of t)yield*r.validator(e,n)},*refiner(e,n){for(const r of t)yield*r.refiner(e,n)}})}function Sge(t){const e=Gn(t),n=typeof t;return new On({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${Gn(r)}`}})}function Cge(t,e){return new On({type:"map",schema:null,*entries(n){if(t&&e&&n instanceof Map)for(const[r,i]of n.entries())yield[r,r,t],yield[r,i,e]},coercer(n){return n instanceof Map?new Map(n):n},validator(n){return n instanceof Map||`Expected a \`Map\` object, but received: ${Gn(n)}`}})}function C4(){return vi("never",()=>!1)}function Ige(t){return new On({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function xge(){return vi("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Gn(t)}`)}function nm(t){const e=t?Object.keys(t):[],n=C4();return new On({type:"object",schema:t||null,*entries(r){if(t&&ps(r)){const i=new Set(Object.keys(r));for(const s of e)i.delete(s),yield[s,r[s],t[s]];for(const s of i)yield[s,r[s],n]}},validator(r){return ps(r)||`Expected an object, but received: ${Gn(r)}`},coercer(r){return ps(r)?{...r}:r}})}function WF(t){return new On({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function Tge(t,e){return new On({type:"record",schema:null,*entries(n){if(ps(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return ps(n)||`Expected an object, but received: ${Gn(n)}`}})}function Rge(){return vi("regexp",t=>t instanceof RegExp)}function kge(t){return new On({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const n of e)yield[n,n,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${Gn(e)}`}})}function GF(){return vi("string",t=>typeof t=="string"||`Expected a string, but received: ${Gn(t)}`)}function Pge(t){const e=C4();return new On({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Gn(n)}`}})}function rm(t){const e=Object.keys(t);return new On({type:"type",schema:t,*entries(n){if(ps(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return ps(n)||`Expected an object, but received: ${Gn(n)}`},coercer(n){return ps(n)?{...n}:n}})}function Mge(t){const e=t.map(n=>n.type).join(" | ");return new On({type:"union",schema:null,coercer(n){for(const r of t){const[i,s]=r.validate(n,{coerce:!0});if(!i)return s}return n},validator(n,r){const i=[];for(const s of t){const[...o]=A4(n,s,r),[a]=o;if(a[0])for(const[u]of o)u&&i.push(u);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Gn(n)}`,...i]}})}function KF(){return vi("unknown",()=>!0)}function I4(t,e,n){return new On({...t,coercer:(r,i)=>S4(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}function Dge(t,e,n={}){return I4(t,KF(),r=>{const i=typeof e=="function"?e():e;if(r===void 0)return i;if(!n.strict&&CR(r)&&CR(i)){const s={...r};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return r})}function Oge(t){return I4(t,GF(),e=>e.trim())}function Nge(t){return Ol(t,"empty",e=>{const n=QF(e);return n===0||`Expected an empty ${t.type} but received one with a size of \`${n}\``})}function QF(t){return t instanceof Map||t instanceof Set?t.size:t.length}function Lge(t,e,n={}){const{exclusive:r}=n;return Ol(t,"max",i=>r?i<e:i<=e||`Expected a ${t.type} less than ${r?"":"or equal to "}${e} but received \`${i}\``)}function Bge(t,e,n={}){const{exclusive:r}=n;return Ol(t,"min",i=>r?i>e:i>=e||`Expected a ${t.type} greater than ${r?"":"or equal to "}${e} but received \`${i}\``)}function Fge(t){return Ol(t,"nonempty",e=>QF(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function $ge(t,e){return Ol(t,"pattern",n=>e.test(n)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${n}"`)}function Uge(t,e,n=e){const r=`Expected a ${t.type}`,i=e===n?`of \`${e}\``:`between \`${e}\` and \`${n}\``;return Ol(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=n||`${r} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=n||`${r} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=n||`${r} with a length ${i} but received one with a length of \`${o}\``}})}function Ol(t,e,n){return new On({...t,*refiner(r,i){yield*t.refiner(r,i);const s=n(r,i),o=GA(s,i,t,r);for(const a of o)yield{...a,refinement:e}}})}const jge=Object.freeze(Object.defineProperty({__proto__:null,Struct:On,StructError:VF,any:pge,array:gge,assert:zF,assign:oge,bigint:mge,boolean:yge,coerce:I4,create:HF,date:vge,defaulted:Dge,define:vi,deprecated:age,dynamic:uge,empty:Nge,enums:wge,func:_ge,instance:bge,integer:Ege,intersection:Age,is:S4,lazy:cge,literal:Sge,map:Cge,mask:qF,max:Lge,min:Bge,never:C4,nonempty:Fge,nullable:Ige,number:xge,object:nm,omit:lge,optional:WF,partial:fge,pattern:$ge,pick:hge,record:Tge,refine:Ol,regexp:Rge,set:kge,size:Uge,string:GF,struct:dge,trimmed:Oge,tuple:Pge,type:rm,union:Mge,unknown:KF,validate:yd},Symbol.toStringTag,{value:"Module"})),Nl=Ta(jge);Object.defineProperty(vr,"__esModule",{value:!0});vr.assertExhaustive=vr.assertStruct=vr.assert=vr.AssertionError=void 0;const Vge=Nl;function zge(t){return typeof t=="object"&&t!==null&&"message"in t}function Hge(t){var e,n;return typeof((n=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||n===void 0?void 0:n.name)=="string"}function qge(t){const e=zge(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function ZF(t,e){return Hge(t)?new t({message:e}):t({message:e})}class x4 extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}vr.AssertionError=x4;function Wge(t,e="Assertion failed.",n=x4){if(!t)throw e instanceof Error?e:ZF(n,e)}vr.assert=Wge;function Gge(t,e,n="Assertion failed",r=x4){try{(0,Vge.assert)(t,e)}catch(i){throw ZF(r,`${n}: ${qge(i)}.`)}}vr.assertStruct=Gge;function Kge(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}vr.assertExhaustive=Kge;var im={};Object.defineProperty(im,"__esModule",{value:!0});im.base64=void 0;const Qge=Nl,Zge=vr,Jge=(t,e={})=>{var n,r;const i=(n=e.paddingRequired)!==null&&n!==void 0?n:!1,s=(r=e.characterSet)!==null&&r!==void 0?r:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,Zge.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,Qge.pattern)(t,a)};im.base64=Jge;var Lt={},sm={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=Nl,n=vr;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function r(c){return(0,e.is)(c,t.HexStruct)}t.isHexString=r;function i(c){return(0,e.is)(c,t.StrictHexStruct)}t.isStrictHexString=i;function s(c){(0,n.assert)(r(c),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(c){(0,n.assert)(i(c),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(c){return c.startsWith("0x")?c:c.startsWith("0X")?`0x${c.substring(2)}`:`0x${c}`}t.add0x=a;function u(c){return c.startsWith("0x")||c.startsWith("0X")?c.substring(2):c}t.remove0x=u})(sm);Object.defineProperty(Lt,"__esModule",{value:!0});Lt.createDataView=Lt.concatBytes=Lt.valueToBytes=Lt.stringToBytes=Lt.numberToBytes=Lt.signedBigIntToBytes=Lt.bigIntToBytes=Lt.hexToBytes=Lt.bytesToString=Lt.bytesToNumber=Lt.bytesToSignedBigInt=Lt.bytesToBigInt=Lt.bytesToHex=Lt.assertIsBytes=Lt.isBytes=void 0;const Pi=vr,KA=sm,IR=48,xR=58,TR=87;function Yge(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const Xge=Yge();function T4(t){return t instanceof Uint8Array}Lt.isBytes=T4;function vd(t){(0,Pi.assert)(T4(t),"Value must be a Uint8Array.")}Lt.assertIsBytes=vd;function JF(t){if(vd(t),t.length===0)return"0x";const e=Xge(),n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=e[t[r]];return(0,KA.add0x)(n.join(""))}Lt.bytesToHex=JF;function YF(t){vd(t);const e=JF(t);return BigInt(e)}Lt.bytesToBigInt=YF;function eme(t){vd(t);let e=BigInt(0);for(const n of t)e=(e<<BigInt(8))+BigInt(n);return BigInt.asIntN(t.length*8,e)}Lt.bytesToSignedBigInt=eme;function tme(t){vd(t);const e=YF(t);return(0,Pi.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}Lt.bytesToNumber=tme;function nme(t){return vd(t),new TextDecoder().decode(t)}Lt.bytesToString=nme;function N_(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,KA.assertIsHexString)(t);const n=(0,KA.remove0x)(t).toLowerCase(),r=n.length%2===0?n:`0${n}`,i=new Uint8Array(r.length/2);for(let s=0;s<i.length;s++){const o=r.charCodeAt(s*2),a=r.charCodeAt(s*2+1),u=o-(o<xR?IR:TR),c=a-(a<xR?IR:TR);i[s]=u*16+c}return i}Lt.hexToBytes=N_;function XF(t){(0,Pi.assert)(typeof t=="bigint","Value must be a bigint."),(0,Pi.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return N_(e)}Lt.bigIntToBytes=XF;function rme(t,e){(0,Pi.assert)(e>0);const n=t>>BigInt(31);return!((~t&n)+(t&~n)>>BigInt(e*8+-1))}function ime(t,e){(0,Pi.assert)(typeof t=="bigint","Value must be a bigint."),(0,Pi.assert)(typeof e=="number","Byte length must be a number."),(0,Pi.assert)(e>0,"Byte length must be greater than 0."),(0,Pi.assert)(rme(t,e),"Byte length is too small to represent the given value.");let n=t;const r=new Uint8Array(e);for(let i=0;i<r.length;i++)r[i]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return r.reverse()}Lt.signedBigIntToBytes=ime;function e$(t){(0,Pi.assert)(typeof t=="number","Value must be a number."),(0,Pi.assert)(t>=0,"Value must be a non-negative number."),(0,Pi.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return N_(e)}Lt.numberToBytes=e$;function t$(t){return(0,Pi.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}Lt.stringToBytes=t$;function n$(t){if(typeof t=="bigint")return XF(t);if(typeof t=="number")return e$(t);if(typeof t=="string")return t.startsWith("0x")?N_(t):t$(t);if(T4(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}Lt.valueToBytes=n$;function sme(t){const e=new Array(t.length);let n=0;for(let i=0;i<t.length;i++){const s=n$(t[i]);e[i]=s,n+=s.length}const r=new Uint8Array(n);for(let i=0,s=0;i<e.length;i++)r.set(e[i],s),s+=e[i].length;return r}Lt.concatBytes=sme;function ome(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}Lt.createDataView=ome;var L_={};Object.defineProperty(L_,"__esModule",{value:!0});L_.ChecksumStruct=void 0;const RR=Nl,ame=im;L_.ChecksumStruct=(0,RR.size)((0,ame.base64)((0,RR.string)(),{paddingRequired:!0}),44,44);var So={};Object.defineProperty(So,"__esModule",{value:!0});So.createHex=So.createBytes=So.createBigInt=So.createNumber=void 0;const _n=Nl,ume=vr,r$=Lt,B_=sm,i$=(0,_n.union)([(0,_n.number)(),(0,_n.bigint)(),(0,_n.string)(),B_.StrictHexStruct]),cme=(0,_n.coerce)((0,_n.number)(),i$,Number),lme=(0,_n.coerce)((0,_n.bigint)(),i$,BigInt);(0,_n.union)([B_.StrictHexStruct,(0,_n.instance)(Uint8Array)]);const fme=(0,_n.coerce)((0,_n.instance)(Uint8Array),(0,_n.union)([B_.StrictHexStruct]),r$.hexToBytes),hme=(0,_n.coerce)(B_.StrictHexStruct,(0,_n.instance)(Uint8Array),r$.bytesToHex);function dme(t){try{const e=(0,_n.create)(t,cme);return(0,ume.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof _n.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}So.createNumber=dme;function pme(t){try{return(0,_n.create)(t,lme)}catch(e){throw e instanceof _n.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}So.createBigInt=pme;function gme(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,_n.create)(t,fme)}catch(e){throw e instanceof _n.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}So.createBytes=gme;function mme(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,_n.create)(t,hme)}catch(e){throw e instanceof _n.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}So.createHex=mme;var qh={},s$=Ce&&Ce.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},qr=Ce&&Ce.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Is,oo;Object.defineProperty(qh,"__esModule",{value:!0});qh.FrozenSet=qh.FrozenMap=void 0;class R4{constructor(e){Is.set(this,void 0),s$(this,Is,new Map(e),"f"),Object.freeze(this)}get size(){return qr(this,Is,"f").size}[(Is=new WeakMap,Symbol.iterator)](){return qr(this,Is,"f")[Symbol.iterator]()}entries(){return qr(this,Is,"f").entries()}forEach(e,n){return qr(this,Is,"f").forEach((r,i,s)=>e.call(n,r,i,this))}get(e){return qr(this,Is,"f").get(e)}has(e){return qr(this,Is,"f").has(e)}keys(){return qr(this,Is,"f").keys()}values(){return qr(this,Is,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,n])=>`${String(e)} => ${String(n)}`).join(", ")} `:""}}`}}qh.FrozenMap=R4;class k4{constructor(e){oo.set(this,void 0),s$(this,oo,new Set(e),"f"),Object.freeze(this)}get size(){return qr(this,oo,"f").size}[(oo=new WeakMap,Symbol.iterator)](){return qr(this,oo,"f")[Symbol.iterator]()}entries(){return qr(this,oo,"f").entries()}forEach(e,n){return qr(this,oo,"f").forEach((r,i,s)=>e.call(n,r,i,this))}has(e){return qr(this,oo,"f").has(e)}keys(){return qr(this,oo,"f").keys()}values(){return qr(this,oo,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}qh.FrozenSet=k4;Object.freeze(R4);Object.freeze(R4.prototype);Object.freeze(k4);Object.freeze(k4.prototype);var o$={};Object.defineProperty(o$,"__esModule",{value:!0});var a$={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.getJsonSize=t.isValidJson=t.JsonStruct=t.UnsafeJsonStruct=void 0;const e=Nl,n=vr,r=()=>(0,e.define)("finite number",N=>(0,e.is)(N,(0,e.number)())&&Number.isFinite(N));t.UnsafeJsonStruct=(0,e.union)([(0,e.literal)(null),(0,e.boolean)(),r(),(0,e.string)(),(0,e.array)((0,e.lazy)(()=>t.UnsafeJsonStruct)),(0,e.record)((0,e.string)(),(0,e.lazy)(()=>t.UnsafeJsonStruct))]),t.JsonStruct=(0,e.define)("Json",(N,U)=>{function v(y,S){const L=[...S.validator(y,U)];return L.length>0?L:!0}try{const y=v(N,t.UnsafeJsonStruct);return y!==!0?y:v(JSON.parse(JSON.stringify(N)),t.UnsafeJsonStruct)}catch(y){return y instanceof RangeError?"Circular reference detected":!1}});function i(N){return(0,e.is)(N,t.JsonStruct)}t.isValidJson=i;function s(N){(0,n.assertStruct)(N,t.JsonStruct,"Invalid JSON value");const U=JSON.stringify(N);return new TextEncoder().encode(U).byteLength}t.getJsonSize=s,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function o(N){return(0,e.is)(N,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=o;function a(N,U){(0,n.assertStruct)(N,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",U)}t.assertIsJsonRpcNotification=a;function u(N){return(0,e.is)(N,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=u;function c(N,U){(0,n.assertStruct)(N,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",U)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function l(N){return(0,e.is)(N,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=l;function f(N,U){(0,n.assertStruct)(N,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",U)}t.assertIsPendingJsonRpcResponse=f;function h(N){return(0,e.is)(N,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=h;function m(N,U){(0,n.assertStruct)(N,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",U)}t.assertIsJsonRpcResponse=m;function b(N){return(0,e.is)(N,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=b;function A(N,U){(0,n.assertStruct)(N,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",U)}t.assertIsJsonRpcSuccess=A;function T(N){return(0,e.is)(N,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=T;function _(N,U){(0,n.assertStruct)(N,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",U)}t.assertIsJsonRpcFailure=_;function w(N){return(0,e.is)(N,t.JsonRpcErrorStruct)}t.isJsonRpcError=w;function C(N,U){(0,n.assertStruct)(N,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",U)}t.assertIsJsonRpcError=C;function M(N){const{permitEmptyString:U,permitFractions:v,permitNull:y}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},N);return k=>!!(typeof k=="number"&&(v||Number.isInteger(k))||typeof k=="string"&&(U||k.length>0)||y&&k===null)}t.getJsonRpcIdValidator=M})(a$);var u$={};Object.defineProperty(u$,"__esModule",{value:!0});var Wh={},QA={exports:{}},Y2,kR;function yme(){if(kR)return Y2;kR=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,s=r*365.25;Y2=function(l,f){f=f||{};var h=typeof l;if(h==="string"&&l.length>0)return o(l);if(h==="number"&&isFinite(l))return f.long?u(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function o(l){if(l=String(l),!(l.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(f){var h=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(l){var f=Math.abs(l);return f>=r?Math.round(l/r)+"d":f>=n?Math.round(l/n)+"h":f>=e?Math.round(l/e)+"m":f>=t?Math.round(l/t)+"s":l+"ms"}function u(l){var f=Math.abs(l);return f>=r?c(l,f,r,"day"):f>=n?c(l,f,n,"hour"):f>=e?c(l,f,e,"minute"):f>=t?c(l,f,t,"second"):l+" ms"}function c(l,f,h,m){var b=f>=h*1.5;return Math.round(l/h)+" "+m+(b?"s":"")}return Y2}function vme(t){n.debug=n,n.default=n,n.coerce=u,n.disable=o,n.enable=i,n.enabled=a,n.humanize=yme(),n.destroy=c,Object.keys(t).forEach(l=>{n[l]=t[l]}),n.names=[],n.skips=[],n.formatters={};function e(l){let f=0;for(let h=0;h<l.length;h++)f=(f<<5)-f+l.charCodeAt(h),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=e;function n(l){let f,h=null,m,b;function A(...T){if(!A.enabled)return;const _=A,w=Number(new Date),C=w-(f||w);_.diff=C,_.prev=f,_.curr=w,f=w,T[0]=n.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let M=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(U,v)=>{if(U==="%%")return"%";M++;const y=n.formatters[v];if(typeof y=="function"){const S=T[M];U=y.call(_,S),T.splice(M,1),M--}return U}),n.formatArgs.call(_,T),(_.log||n.log).apply(_,T)}return A.namespace=l,A.useColors=n.useColors(),A.color=n.selectColor(l),A.extend=r,A.destroy=n.destroy,Object.defineProperty(A,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(m!==n.namespaces&&(m=n.namespaces,b=n.enabled(l)),b),set:T=>{h=T}}),typeof n.init=="function"&&n.init(A),A}function r(l,f){const h=n(this.namespace+(typeof f>"u"?":":f)+l);return h.log=this.log,h}function i(l){n.save(l),n.namespaces=l,n.names=[],n.skips=[];const f=(typeof l=="string"?l:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const h of f)h[0]==="-"?n.skips.push(h.slice(1)):n.names.push(h)}function s(l,f){let h=0,m=0,b=-1,A=0;for(;h<l.length;)if(m<f.length&&(f[m]===l[h]||f[m]==="*"))f[m]==="*"?(b=m,A=h,m++):(h++,m++);else if(b!==-1)m=b+1,A++,h=A;else return!1;for(;m<f.length&&f[m]==="*";)m++;return m===f.length}function o(){const l=[...n.names,...n.skips.map(f=>"-"+f)].join(",");return n.enable(""),l}function a(l){for(const f of n.skips)if(s(l,f))return!1;for(const f of n.names)if(s(l,f))return!0;return!1}function u(l){return l instanceof Error?l.stack||l.message:l}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var wme=vme;(function(t,e){var n={};e.formatArgs=i,e.save=s,e.load=o,e.useColors=r,e.storage=a(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;c.splice(1,0,l,"color: inherit");let f=0,h=0;c[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(f++,m==="%c"&&(h=f))}),c.splice(h,0,l)}e.log=console.debug||console.log||(()=>{});function s(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function o(){let c;try{c=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}function a(){try{return localStorage}catch{}}t.exports=wme(e);const{formatters:u}=t.exports;u.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(QA,QA.exports);var _me=QA.exports,bme=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wh,"__esModule",{value:!0});Wh.createModuleLogger=Wh.createProjectLogger=void 0;const Eme=bme(_me),Ame=(0,Eme.default)("metamask");function Sme(t){return Ame.extend(t)}Wh.createProjectLogger=Sme;function Cme(t,e){return t.extend(e)}Wh.createModuleLogger=Cme;var c$={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(c){return Array.isArray(c)&&c.length>0}t.isNonEmptyArray=e;function n(c){return c==null}t.isNullOrUndefined=n;function r(c){return!!c&&typeof c=="object"&&!Array.isArray(c)}t.isObject=r;const i=(c,l)=>Object.hasOwnProperty.call(c,l);t.hasProperty=i,function(c){c[c.Null=4]="Null",c[c.Comma=1]="Comma",c[c.Wrapper=1]="Wrapper",c[c.True=4]="True",c[c.False=5]="False",c[c.Quote=1]="Quote",c[c.Colon=1]="Colon",c[c.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(c){if(typeof c!="object"||c===null)return!1;try{let l=c;for(;Object.getPrototypeOf(l)!==null;)l=Object.getPrototypeOf(l);return Object.getPrototypeOf(c)===l}catch{return!1}}t.isPlainObject=s;function o(c){return c.charCodeAt(0)<=127}t.isASCII=o;function a(c){var l;return c.split("").reduce((h,m)=>o(m)?h+1:h+2,0)+((l=c.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&l!==void 0?l:[]).length}t.calculateStringSize=a;function u(c){return c.toString().length}t.calculateNumberSize=u})(c$);var Co={};Object.defineProperty(Co,"__esModule",{value:!0});Co.hexToBigInt=Co.hexToNumber=Co.bigIntToHex=Co.numberToHex=void 0;const jf=vr,Gp=sm,Ime=t=>((0,jf.assert)(typeof t=="number","Value must be a number."),(0,jf.assert)(t>=0,"Value must be a non-negative number."),(0,jf.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,Gp.add0x)(t.toString(16)));Co.numberToHex=Ime;const xme=t=>((0,jf.assert)(typeof t=="bigint","Value must be a bigint."),(0,jf.assert)(t>=0,"Value must be a non-negative bigint."),(0,Gp.add0x)(t.toString(16)));Co.bigIntToHex=xme;const Tme=t=>{(0,Gp.assertIsHexString)(t);const e=parseInt(t,16);return(0,jf.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};Co.hexToNumber=Tme;const Rme=t=>((0,Gp.assertIsHexString)(t),BigInt((0,Gp.add0x)(t)));Co.hexToBigInt=Rme;var l$={};Object.defineProperty(l$,"__esModule",{value:!0});var f$={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,n=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function r(s,o){return n(s,"count"),s*o}t.inMilliseconds=r;function i(s){return n(s,"timestamp"),Date.now()-s}t.timeSince=i})(f$);var h$={};Object.defineProperty(h$,"__esModule",{value:!0});var d$={},ZA={exports:{}};const kme="2.0.0",p$=256,Pme=Number.MAX_SAFE_INTEGER||9007199254740991,Mme=16,Dme=p$-6,Ome=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var F_={MAX_LENGTH:p$,MAX_SAFE_COMPONENT_LENGTH:Mme,MAX_SAFE_BUILD_LENGTH:Dme,MAX_SAFE_INTEGER:Pme,RELEASE_TYPES:Ome,SEMVER_SPEC_VERSION:kme,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},X2={};const Nme=typeof process=="object"&&X2&&X2.NODE_DEBUG&&/\bsemver\b/i.test(X2.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var $_=Nme;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=F_,s=$_;e=t.exports={};const o=e.re=[],a=e.safeRe=[],u=e.src=[],c=e.safeSrc=[],l=e.t={};let f=0;const h="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",i],[h,r]],b=T=>{for(const[_,w]of m)T=T.split(`${_}*`).join(`${_}{0,${w}}`).split(`${_}+`).join(`${_}{1,${w}}`);return T},A=(T,_,w)=>{const C=b(_),M=f++;s(T,M,_),l[T]=M,u[M]=_,c[M]=C,o[M]=new RegExp(_,w?"g":void 0),a[M]=new RegExp(C,w?"g":void 0)};A("NUMERICIDENTIFIER","0|[1-9]\\d*"),A("NUMERICIDENTIFIERLOOSE","\\d+"),A("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),A("MAINVERSION",`(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})`),A("MAINVERSIONLOOSE",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})`),A("PRERELEASEIDENTIFIER",`(?:${u[l.NONNUMERICIDENTIFIER]}|${u[l.NUMERICIDENTIFIER]})`),A("PRERELEASEIDENTIFIERLOOSE",`(?:${u[l.NONNUMERICIDENTIFIER]}|${u[l.NUMERICIDENTIFIERLOOSE]})`),A("PRERELEASE",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\.${u[l.PRERELEASEIDENTIFIER]})*))`),A("PRERELEASELOOSE",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`),A("BUILDIDENTIFIER",`${h}+`),A("BUILD",`(?:\\+(${u[l.BUILDIDENTIFIER]}(?:\\.${u[l.BUILDIDENTIFIER]})*))`),A("FULLPLAIN",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`),A("FULL",`^${u[l.FULLPLAIN]}$`),A("LOOSEPLAIN",`[v=\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`),A("LOOSE",`^${u[l.LOOSEPLAIN]}$`),A("GTLT","((?:<|>)?=?)"),A("XRANGEIDENTIFIERLOOSE",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),A("XRANGEIDENTIFIER",`${u[l.NUMERICIDENTIFIER]}|x|X|\\*`),A("XRANGEPLAIN",`[v=\\s]*(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?)?)?`),A("XRANGEPLAINLOOSE",`[v=\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?)?)?`),A("XRANGE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAIN]}$`),A("XRANGELOOSE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAINLOOSE]}$`),A("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),A("COERCE",`${u[l.COERCEPLAIN]}(?:$|[^\\d])`),A("COERCEFULL",u[l.COERCEPLAIN]+`(?:${u[l.PRERELEASE]})?(?:${u[l.BUILD]})?(?:$|[^\\d])`),A("COERCERTL",u[l.COERCE],!0),A("COERCERTLFULL",u[l.COERCEFULL],!0),A("LONETILDE","(?:~>?)"),A("TILDETRIM",`(\\s*)${u[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",A("TILDE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`),A("TILDELOOSE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`),A("LONECARET","(?:\\^)"),A("CARETTRIM",`(\\s*)${u[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",A("CARET",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`),A("CARETLOOSE",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`),A("COMPARATORLOOSE",`^${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]})$|^$`),A("COMPARATOR",`^${u[l.GTLT]}\\s*(${u[l.FULLPLAIN]})$|^$`),A("COMPARATORTRIM",`(\\s*)${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",A("HYPHENRANGE",`^\\s*(${u[l.XRANGEPLAIN]})\\s+-\\s+(${u[l.XRANGEPLAIN]})\\s*$`),A("HYPHENRANGELOOSE",`^\\s*(${u[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[l.XRANGEPLAINLOOSE]})\\s*$`),A("STAR","(<|>)?=?\\s*\\*"),A("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),A("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ZA,ZA.exports);var om=ZA.exports;const Lme=Object.freeze({loose:!0}),Bme=Object.freeze({}),Fme=t=>t?typeof t!="object"?Lme:t:Bme;var P4=Fme;const PR=/^[0-9]+$/,g$=(t,e)=>{const n=PR.test(t),r=PR.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},$me=(t,e)=>g$(e,t);var m$={compareIdentifiers:g$,rcompareIdentifiers:$me};const yy=$_,{MAX_LENGTH:MR,MAX_SAFE_INTEGER:vy}=F_,{safeRe:wy,t:_y}=om,Ume=P4,{compareIdentifiers:Yl}=m$;let jme=class ao{constructor(e,n){if(n=Ume(n),e instanceof ao){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>MR)throw new TypeError(`version is longer than ${MR} characters`);yy("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?wy[_y.LOOSE]:wy[_y.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>vy||this.major<0)throw new TypeError("Invalid major version");if(this.minor>vy||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>vy||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<vy)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(yy("SemVer.compare",this.version,this.options,e),!(e instanceof ao)){if(typeof e=="string"&&e===this.version)return 0;e=new ao(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof ao||(e=new ao(e,this.options)),Yl(this.major,e.major)||Yl(this.minor,e.minor)||Yl(this.patch,e.patch)}comparePre(e){if(e instanceof ao||(e=new ao(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=e.prerelease[n];if(yy("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Yl(r,i)}while(++n)}compareBuild(e){e instanceof ao||(e=new ao(e,this.options));let n=0;do{const r=this.build[n],i=e.build[n];if(yy("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Yl(r,i)}while(++n)}inc(e,n,r){if(e.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){const i=`-${n}`.match(this.options.loose?wy[_y.PRERELEASELOOSE]:wy[_y.PRERELEASE]);if(!i||i[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),Yl(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var am=jme;const DR=am,Vme=(t,e,n=!1)=>{if(t instanceof DR)return t;try{return new DR(t,e)}catch(r){if(!n)return null;throw r}};var zme=Vme;const Hme=zme,qme=(t,e)=>{const n=Hme(t,e);return n?n.version:null};var Wme=qme;const OR=am,Gme=(t,e,n)=>new OR(t,n).compare(new OR(e,n));var wd=Gme;const Kme=wd,Qme=(t,e,n)=>Kme(t,e,n)>0;var M4=Qme;const Zme=wd,Jme=(t,e,n)=>Zme(t,e,n)<0;var y$=Jme;const Yme=wd,Xme=(t,e,n)=>Yme(t,e,n)===0;var eye=Xme;const tye=wd,nye=(t,e,n)=>tye(t,e,n)!==0;var rye=nye;const iye=wd,sye=(t,e,n)=>iye(t,e,n)>=0;var v$=sye;const oye=wd,aye=(t,e,n)=>oye(t,e,n)<=0;var w$=aye;const uye=eye,cye=rye,lye=M4,fye=v$,hye=y$,dye=w$,pye=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return uye(t,n,r);case"!=":return cye(t,n,r);case">":return lye(t,n,r);case">=":return fye(t,n,r);case"<":return hye(t,n,r);case"<=":return dye(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};var gye=pye;const{safeRe:Zbe,t:Jbe}=om;class mye{constructor(){this.max=1e3,this.map=new Map}get(e){const n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}}var yye=mye,eE,NR;function Qs(){if(NR)return eE;NR=1;const t=/\s+/g;class e{constructor(d,E){if(E=i(E),d instanceof e)return d.loose===!!E.loose&&d.includePrerelease===!!E.includePrerelease?d:new e(d.raw,E);if(d instanceof s)return this.raw=d.value,this.set=[[d]],this.formatted=void 0,this;if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=d.trim().replace(t," "),this.set=this.raw.split("||").map(P=>this.parseRange(P.trim())).filter(P=>P.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const P=this.set[0];if(this.set=this.set.filter(I=>!A(I[0])),this.set.length===0)this.set=[P];else if(this.set.length>1){for(const I of this.set)if(I.length===1&&T(I[0])){this.set=[I];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let d=0;d<this.set.length;d++){d>0&&(this.formatted+="||");const E=this.set[d];for(let P=0;P<E.length;P++)P>0&&(this.formatted+=" "),this.formatted+=E[P].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(d){const P=((this.options.includePrerelease&&m)|(this.options.loose&&b))+":"+d,I=r.get(P);if(I)return I;const F=this.options.loose,H=F?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];d=d.replace(H,z(this.options.includePrerelease)),o("hyphen replace",d),d=d.replace(u[c.COMPARATORTRIM],l),o("comparator trim",d),d=d.replace(u[c.TILDETRIM],f),o("tilde trim",d),d=d.replace(u[c.CARETTRIM],h),o("caret trim",d);let V=d.split(" ").map(re=>w(re,this.options)).join(" ").split(/\s+/).map(re=>L(re,this.options));F&&(V=V.filter(re=>(o("loose invalid filter",re,this.options),!!re.match(u[c.COMPARATORLOOSE])))),o("range list",V);const R=new Map,W=V.map(re=>new s(re,this.options));for(const re of W){if(A(re))return[re];R.set(re.value,re)}R.size>1&&R.has("")&&R.delete("");const ae=[...R.values()];return r.set(P,ae),ae}intersects(d,E){if(!(d instanceof e))throw new TypeError("a Range is required");return this.set.some(P=>_(P,E)&&d.set.some(I=>_(I,E)&&P.every(F=>I.every(H=>F.intersects(H,E)))))}test(d){if(!d)return!1;if(typeof d=="string")try{d=new a(d,this.options)}catch{return!1}for(let E=0;E<this.set.length;E++)if(x(this.set[E],d,this.options))return!0;return!1}}eE=e;const n=yye,r=new n,i=P4,s=U_(),o=$_,a=am,{safeRe:u,t:c,comparatorTrimReplace:l,tildeTrimReplace:f,caretTrimReplace:h}=om,{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:b}=F_,A=g=>g.value==="<0.0.0-0",T=g=>g.value==="",_=(g,d)=>{let E=!0;const P=g.slice();let I=P.pop();for(;E&&P.length;)E=P.every(F=>I.intersects(F,d)),I=P.pop();return E},w=(g,d)=>(o("comp",g,d),g=U(g,d),o("caret",g),g=M(g,d),o("tildes",g),g=y(g,d),o("xrange",g),g=k(g,d),o("stars",g),g),C=g=>!g||g.toLowerCase()==="x"||g==="*",M=(g,d)=>g.trim().split(/\s+/).map(E=>N(E,d)).join(" "),N=(g,d)=>{const E=d.loose?u[c.TILDELOOSE]:u[c.TILDE];return g.replace(E,(P,I,F,H,V)=>{o("tilde",g,P,I,F,H,V);let R;return C(I)?R="":C(F)?R=`>=${I}.0.0 <${+I+1}.0.0-0`:C(H)?R=`>=${I}.${F}.0 <${I}.${+F+1}.0-0`:V?(o("replaceTilde pr",V),R=`>=${I}.${F}.${H}-${V} <${I}.${+F+1}.0-0`):R=`>=${I}.${F}.${H} <${I}.${+F+1}.0-0`,o("tilde return",R),R})},U=(g,d)=>g.trim().split(/\s+/).map(E=>v(E,d)).join(" "),v=(g,d)=>{o("caret",g,d);const E=d.loose?u[c.CARETLOOSE]:u[c.CARET],P=d.includePrerelease?"-0":"";return g.replace(E,(I,F,H,V,R)=>{o("caret",g,I,F,H,V,R);let W;return C(F)?W="":C(H)?W=`>=${F}.0.0${P} <${+F+1}.0.0-0`:C(V)?F==="0"?W=`>=${F}.${H}.0${P} <${F}.${+H+1}.0-0`:W=`>=${F}.${H}.0${P} <${+F+1}.0.0-0`:R?(o("replaceCaret pr",R),F==="0"?H==="0"?W=`>=${F}.${H}.${V}-${R} <${F}.${H}.${+V+1}-0`:W=`>=${F}.${H}.${V}-${R} <${F}.${+H+1}.0-0`:W=`>=${F}.${H}.${V}-${R} <${+F+1}.0.0-0`):(o("no pr"),F==="0"?H==="0"?W=`>=${F}.${H}.${V}${P} <${F}.${H}.${+V+1}-0`:W=`>=${F}.${H}.${V}${P} <${F}.${+H+1}.0-0`:W=`>=${F}.${H}.${V} <${+F+1}.0.0-0`),o("caret return",W),W})},y=(g,d)=>(o("replaceXRanges",g,d),g.split(/\s+/).map(E=>S(E,d)).join(" ")),S=(g,d)=>{g=g.trim();const E=d.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return g.replace(E,(P,I,F,H,V,R)=>{o("xRange",g,P,I,F,H,V,R);const W=C(F),ae=W||C(H),re=ae||C(V),X=re;return I==="="&&X&&(I=""),R=d.includePrerelease?"-0":"",W?I===">"||I==="<"?P="<0.0.0-0":P="*":I&&X?(ae&&(H=0),V=0,I===">"?(I=">=",ae?(F=+F+1,H=0,V=0):(H=+H+1,V=0)):I==="<="&&(I="<",ae?F=+F+1:H=+H+1),I==="<"&&(R="-0"),P=`${I+F}.${H}.${V}${R}`):ae?P=`>=${F}.0.0${R} <${+F+1}.0.0-0`:re&&(P=`>=${F}.${H}.0${R} <${F}.${+H+1}.0-0`),o("xRange return",P),P})},k=(g,d)=>(o("replaceStars",g,d),g.trim().replace(u[c.STAR],"")),L=(g,d)=>(o("replaceGTE0",g,d),g.trim().replace(u[d.includePrerelease?c.GTE0PRE:c.GTE0],"")),z=g=>(d,E,P,I,F,H,V,R,W,ae,re,X)=>(C(P)?E="":C(I)?E=`>=${P}.0.0${g?"-0":""}`:C(F)?E=`>=${P}.${I}.0${g?"-0":""}`:H?E=`>=${E}`:E=`>=${E}${g?"-0":""}`,C(W)?R="":C(ae)?R=`<${+W+1}.0.0-0`:C(re)?R=`<${W}.${+ae+1}.0-0`:X?R=`<=${W}.${ae}.${re}-${X}`:g?R=`<${W}.${ae}.${+re+1}-0`:R=`<=${R}`,`${E} ${R}`.trim()),x=(g,d,E)=>{for(let P=0;P<g.length;P++)if(!g[P].test(d))return!1;if(d.prerelease.length&&!E.includePrerelease){for(let P=0;P<g.length;P++)if(o(g[P].semver),g[P].semver!==s.ANY&&g[P].semver.prerelease.length>0){const I=g[P].semver;if(I.major===d.major&&I.minor===d.minor&&I.patch===d.patch)return!0}return!1}return!0};return eE}var tE,LR;function U_(){if(LR)return tE;LR=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(l,f){if(f=n(f),l instanceof e){if(l.loose===!!f.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),o("comparator",l,f),this.options=f,this.loose=!!f.loose,this.parse(l),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(l){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],h=l.match(f);if(!h)throw new TypeError(`Invalid comparator: ${l}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new a(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(l){if(o("Comparator.test",l,this.options.loose),this.semver===t||l===t)return!0;if(typeof l=="string")try{l=new a(l,this.options)}catch{return!1}return s(l,this.operator,this.semver,this.options)}intersects(l,f){if(!(l instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(l.value,f).test(this.value):l.operator===""?l.value===""?!0:new u(this.value,f).test(l.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||s(this.semver,"<",l.semver,f)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||s(this.semver,">",l.semver,f)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}tE=e;const n=P4,{safeRe:r,t:i}=om,s=gye,o=$_,a=am,u=Qs();return tE}const vye=Qs(),wye=(t,e,n)=>{try{e=new vye(e,n)}catch{return!1}return e.test(t)};var _$=wye;Qs();Qs();Qs();Qs();const _ye=Qs(),bye=(t,e)=>{try{return new _ye(t,e).range||"*"}catch{return null}};var Eye=bye;const Aye=am,b$=U_(),{ANY:Sye}=b$,Cye=Qs(),Iye=_$,BR=M4,FR=y$,xye=w$,Tye=v$,Rye=(t,e,n,r)=>{t=new Aye(t,r),e=new Cye(e,r);let i,s,o,a,u;switch(n){case">":i=BR,s=xye,o=FR,a=">",u=">=";break;case"<":i=FR,s=Tye,o=BR,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Iye(t,e,r))return!1;for(let c=0;c<e.set.length;++c){const l=e.set[c];let f=null,h=null;if(l.forEach(m=>{m.semver===Sye&&(m=new b$(">=0.0.0")),f=f||m,h=h||m,i(m.semver,f.semver,r)?f=m:o(m.semver,h.semver,r)&&(h=m)}),f.operator===a||f.operator===u||(!h.operator||h.operator===a)&&s(t,h.semver))return!1;if(h.operator===u&&o(t,h.semver))return!1}return!0};var kye=Rye;const Pye=kye,Mye=(t,e,n)=>Pye(t,e,">",n);var Dye=Mye;Qs();Qs();const D4=U_(),{ANY:Ybe}=D4;new D4(">=0.0.0-0");new D4(">=0.0.0");const nE=om,$R=F_,UR=m$,Oye=Wme,Nye=M4;U_();Qs();const Lye=_$,Bye=Eye,Fye=Dye;var $ye={valid:Oye,gt:Nye,satisfies:Lye,validRange:Bye,gtr:Fye,re:nE.re,src:nE.src,tokens:nE.t,SEMVER_SPEC_VERSION:$R.SEMVER_SPEC_VERSION,RELEASE_TYPES:$R.RELEASE_TYPES,compareIdentifiers:UR.compareIdentifiers,rcompareIdentifiers:UR.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=$ye,n=Nl,r=vr;t.VersionStruct=(0,n.refine)((0,n.string)(),"Version",f=>(0,e.valid)(f)===null?`Expected SemVer version, got "${f}"`:!0),t.VersionRangeStruct=(0,n.refine)((0,n.string)(),"Version range",f=>(0,e.validRange)(f)===null?`Expected SemVer range, got "${f}"`:!0);function i(f){return(0,n.is)(f,t.VersionStruct)}t.isValidSemVerVersion=i;function s(f){return(0,n.is)(f,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(f){(0,r.assertStruct)(f,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(f){(0,r.assertStruct)(f,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function u(f,h){return(0,e.gt)(f,h)}t.gtVersion=u;function c(f,h){return(0,e.gtr)(f,h)}t.gtRange=c;function l(f,h){return(0,e.satisfies)(f,h,{includePrerelease:!0})}t.satisfiesVersionRange=l})(d$);(function(t){var e=Ce&&Ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Ce&&Ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(vr,t),n(im,t),n(Lt,t),n(L_,t),n(So,t),n(qh,t),n(o$,t),n(sm,t),n(a$,t),n(u$,t),n(Wh,t),n(c$,t),n(Co,t),n(l$,t),n(f$,t),n(h$,t),n(d$,t)})(jF);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=jF;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(UF);var E$=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(O_,"__esModule",{value:!0});O_.PollingBlockTracker=void 0;const Uye=E$(E4),jye=E$(Kpe),Vye=em,jR=UF,VR=(0,jR.createModuleLogger)(jR.projectLogger,"polling-block-tracker"),zye=(0,Uye.default)(),Hye=1e3;class qye extends Vye.BaseBlockTracker{constructor(e={}){var n;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super(Object.assign(Object.assign({},e),{blockResetDuration:(n=e.blockResetDuration)!==null&&n!==void 0?n:e.pollingInterval})),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*Hye,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const n=zR(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await n}catch(n){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=n.stack)!==null&&e!==void 0?e:n}`);try{this.emit("error",r)}catch{console.error(r)}const i=zR(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:zye(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),VR("Making request",e);const n=await(0,jye.default)(r=>this._provider.sendAsync(e,r))();if(VR("Got response",n),n.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${n.error.message}`);return n.result}}O_.PollingBlockTracker=qye;function zR(t,e){return new Promise(n=>{const r=setTimeout(n,t);r.unref&&e&&r.unref()})}var j_={},Wye=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(j_,"__esModule",{value:!0});j_.SubscribeBlockTracker=void 0;const Gye=Wye(E4),Kye=em,Qye=(0,Gye.default)();class Zye extends Kye.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...n){return new Promise((r,i)=>{this._provider.sendAsync({id:Qye(),method:e,params:n,jsonrpc:"2.0"},(s,o)=>{s?i(s):r(o.result)})})}_handleSubData(e,n){var r;n.method==="eth_subscription"&&((r=n.params)===null||r===void 0?void 0:r.subscription)===this._subscriptionId&&this._newPotentialLatest(n.params.result.number)}}j_.SubscribeBlockTracker=Zye;(function(t){var e=Ce&&Ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Ce&&Ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(O_,t),n(j_,t)})($F);var O4={},V_={},um={};Object.defineProperty(um,"__esModule",{value:!0});um.getUniqueId=void 0;const A$=4294967295;let rE=Math.floor(Math.random()*A$);function Jye(){return rE=(rE+1)%A$,rE}um.getUniqueId=Jye;Object.defineProperty(V_,"__esModule",{value:!0});V_.createIdRemapMiddleware=void 0;const Yye=um;function Xye(){return(t,e,n,r)=>{const i=t.id,s=Yye.getUniqueId();t.id=s,e.id=s,n(o=>{t.id=i,e.id=i,o()})}}V_.createIdRemapMiddleware=Xye;var z_={};Object.defineProperty(z_,"__esModule",{value:!0});z_.createAsyncMiddleware=void 0;function e1e(t){return async(e,n,r,i)=>{let s;const o=new Promise(l=>{s=l});let a=null,u=!1;const c=async()=>{u=!0,r(l=>{a=l,s()}),await o};try{await t(e,n,c),u?(await o,a(null)):i(null)}catch(l){a?a(l):i(l)}}}z_.createAsyncMiddleware=e1e;var H_={};Object.defineProperty(H_,"__esModule",{value:!0});H_.createScaffoldMiddleware=void 0;function t1e(t){return(e,n,r,i)=>{const s=t[e.method];return s===void 0?r():typeof s=="function"?s(e,n,r,i):(n.result=s,i())}}H_.createScaffoldMiddleware=t1e;var cm={},N4={};Object.defineProperty(N4,"__esModule",{value:!0});const n1e=sg;function HR(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function r1e(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}let i1e=class extends n1e.EventEmitter{emit(e,...n){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let o;if(n.length>0&&([o]=n),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")HR(s,this,n);else{const o=s.length,a=r1e(s);for(let u=0;u<o;u+=1)HR(a[u],this,n)}return!0}};N4.default=i1e;var S$={},Lu={},s1e=Kp;Kp.default=Kp;Kp.stable=x$;Kp.stableStringify=x$;var gv="[...]",C$="[Circular]",wl=[],Pc=[];function I$(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Kp(t,e,n,r){typeof r>"u"&&(r=I$()),JA(t,"",0,[],void 0,0,r);var i;try{Pc.length===0?i=JSON.stringify(t,e,n):i=JSON.stringify(t,T$(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;wl.length!==0;){var s=wl.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Vf(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),wl.push([r,n,e,i])):Pc.push([e,n,t]):(r[n]=t,wl.push([r,n,e]))}function JA(t,e,n,r,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t){Vf(C$,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Vf(gv,t,e,i);return}if(typeof o.edgesLimit<"u"&&n+1>o.edgesLimit){Vf(gv,t,e,i);return}if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)JA(t[a],a,a,r,t,s,o);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var c=u[a];JA(t[c],c,a,r,t,s,o)}}r.pop()}}function o1e(t,e){return t<e?-1:t>e?1:0}function x$(t,e,n,r){typeof r>"u"&&(r=I$());var i=YA(t,"",0,[],void 0,0,r)||t,s;try{Pc.length===0?s=JSON.stringify(i,e,n):s=JSON.stringify(i,T$(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;wl.length!==0;){var o=wl.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function YA(t,e,n,r,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t){Vf(C$,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Vf(gv,t,e,i);return}if(typeof o.edgesLimit<"u"&&n+1>o.edgesLimit){Vf(gv,t,e,i);return}if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)YA(t[a],a,a,r,t,s,o);else{var u={},c=Object.keys(t).sort(o1e);for(a=0;a<c.length;a++){var l=c[a];YA(t[l],l,a,r,t,s,o),u[l]=t[l]}if(typeof i<"u")wl.push([i,e,t]),i[e]=u;else return u}r.pop()}}function T$(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(Pc.length>0)for(var r=0;r<Pc.length;r++){var i=Pc[r];if(i[1]===e&&i[0]===n){n=i[2],Pc.splice(r,1);break}}return t.call(this,e,n)}}Object.defineProperty(Lu,"__esModule",{value:!0});Lu.EthereumProviderError=Lu.EthereumRpcError=void 0;const a1e=s1e;class R$ extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return a1e.default(this.serialize(),l1e,2)}}Lu.EthereumRpcError=R$;class u1e extends R${constructor(e,n,r){if(!c1e(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}Lu.EthereumProviderError=u1e;function c1e(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function l1e(t,e){if(e!=="[Circular]")return e}var L4={},Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.errorValues=Bu.errorCodes=void 0;Bu.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Bu.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Bu,n=Lu,r=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:r,message:o(r)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(h,m=i){if(Number.isInteger(h)){const b=h.toString();if(f(e.errorValues,b))return e.errorValues[b].message;if(c(h))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return m}t.getMessageFromCode=o;function a(h){if(!Number.isInteger(h))return!1;const m=h.toString();return!!(e.errorValues[m]||c(h))}t.isValidCode=a;function u(h,{fallbackError:m=s,shouldIncludeStack:b=!1}={}){var A,T;if(!m||!Number.isInteger(m.code)||typeof m.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(h instanceof n.EthereumRpcError)return h.serialize();const _={};if(h&&typeof h=="object"&&!Array.isArray(h)&&f(h,"code")&&a(h.code)){const C=h;_.code=C.code,C.message&&typeof C.message=="string"?(_.message=C.message,f(C,"data")&&(_.data=C.data)):(_.message=o(_.code),_.data={originalError:l(h)})}else{_.code=m.code;const C=(A=h)===null||A===void 0?void 0:A.message;_.message=C&&typeof C=="string"?C:m.message,_.data={originalError:l(h)}}const w=(T=h)===null||T===void 0?void 0:T.stack;return b&&h&&w&&typeof w=="string"&&(_.stack=w),_}t.serializeError=u;function c(h){return h>=-32099&&h<=-32e3}function l(h){return h&&typeof h=="object"&&!Array.isArray(h)?Object.assign({},h):h}function f(h,m){return Object.prototype.hasOwnProperty.call(h,m)}})(L4);var q_={};Object.defineProperty(q_,"__esModule",{value:!0});q_.ethErrors=void 0;const B4=Lu,k$=L4,Pr=Bu;q_.ethErrors={rpc:{parse:t=>Ji(Pr.errorCodes.rpc.parse,t),invalidRequest:t=>Ji(Pr.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Ji(Pr.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Ji(Pr.errorCodes.rpc.methodNotFound,t),internal:t=>Ji(Pr.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ji(e,t)},invalidInput:t=>Ji(Pr.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Ji(Pr.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Ji(Pr.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Ji(Pr.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Ji(Pr.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Ji(Pr.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>jd(Pr.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>jd(Pr.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>jd(Pr.errorCodes.provider.unsupportedMethod,t),disconnected:t=>jd(Pr.errorCodes.provider.disconnected,t),chainDisconnected:t=>jd(Pr.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new B4.EthereumProviderError(e,n,r)}}};function Ji(t,e){const[n,r]=P$(e);return new B4.EthereumRpcError(t,n||k$.getMessageFromCode(t),r)}function jd(t,e){const[n,r]=P$(e);return new B4.EthereumProviderError(t,n||k$.getMessageFromCode(t),r)}function P$(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Lu;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const n=L4;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=q_;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return r.ethErrors}});const i=Bu;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(S$);var f1e=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cm,"__esModule",{value:!0});cm.JsonRpcEngine=void 0;const h1e=f1e(N4),Yi=S$;class Xo extends h1e.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,n){if(n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?this._handleBatch(e,n):this._handleBatch(e):n?this._handle(e,n):this._promiseHandle(e)}asMiddleware(){return async(e,n,r,i)=>{try{const[s,o,a]=await Xo._runAllMiddleware(e,n,this._middleware);return o?(await Xo._runReturnHandlers(a),i(s)):r(async u=>{try{await Xo._runReturnHandlers(a)}catch(c){return u(c)}return u()})}catch(s){return i(s)}}}async _handleBatch(e,n){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return n?n(null,r):r}catch(r){if(n)return n(r);throw r}}_promiseHandle(e){return new Promise(n=>{this._handle(e,(r,i)=>{n(i)})})}async _handle(e,n){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Yi.EthereumRpcError(Yi.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return n(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Yi.EthereumRpcError(Yi.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return n(o,{id:e.id,jsonrpc:"2.0",error:o})}const r=Object.assign({},e),i={id:r.id,jsonrpc:r.jsonrpc};let s=null;try{await this._processRequest(r,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Yi.serializeError(s))),n(s,i)}async _processRequest(e,n){const[r,i,s]=await Xo._runAllMiddleware(e,n,this._middleware);if(Xo._checkForCompletion(e,n,i),await Xo._runReturnHandlers(s),r)throw r}static async _runAllMiddleware(e,n,r){const i=[];let s=null,o=!1;for(const a of r)if([s,o]=await Xo._runMiddleware(e,n,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,n,r,i){return new Promise(s=>{const o=u=>{const c=u||n.error;c&&(n.error=Yi.serializeError(c)),s([c,!0])},a=u=>{n.error?o(n.error):(u&&(typeof u!="function"&&o(new Yi.EthereumRpcError(Yi.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof u}" for request:
${iE(e)}`,{request:e})),i.push(u)),s([null,!1]))};try{r(e,n,a,o)}catch(u){o(u)}})}static async _runReturnHandlers(e){for(const n of e)await new Promise((r,i)=>{n(s=>s?i(s):r())})}static _checkForCompletion(e,n,r){if(!("result"in n)&&!("error"in n))throw new Yi.EthereumRpcError(Yi.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${iE(e)}`,{request:e});if(!r)throw new Yi.EthereumRpcError(Yi.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${iE(e)}`,{request:e})}}cm.JsonRpcEngine=Xo;function iE(t){return JSON.stringify(t,null,2)}var W_={};Object.defineProperty(W_,"__esModule",{value:!0});W_.mergeMiddleware=void 0;const d1e=cm;function p1e(t){const e=new d1e.JsonRpcEngine;return t.forEach(n=>e.push(n)),e.asMiddleware()}W_.mergeMiddleware=p1e;(function(t){var e=Ce&&Ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Ce&&Ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(V_,t),n(z_,t),n(H_,t),n(um,t),n(cm,t),n(W_,t)})(O4);var M$={},F4={},XA=function(t,e){return XA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},XA(t,e)};function D$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");XA(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var mv=function(){return mv=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mv.apply(this,arguments)};function O$(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function N$(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function L$(t,e){return function(n,r){e(n,r,t)}}function B$(t,e,n,r,i,s){function o(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var a=r.kind,u=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,l=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),f,h=!1,m=n.length-1;m>=0;m--){var b={};for(var A in r)b[A]=A==="access"?{}:r[A];for(var A in r.access)b.access[A]=r.access[A];b.addInitializer=function(_){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(_||null))};var T=(0,n[m])(a==="accessor"?{get:l.get,set:l.set}:l[u],b);if(a==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(f=o(T.get))&&(l.get=f),(f=o(T.set))&&(l.set=f),(f=o(T.init))&&i.unshift(f)}else(f=o(T))&&(a==="field"?i.unshift(f):l[u]=f)}c&&Object.defineProperty(c,r.name,l),h=!0}function F$(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function $$(t){return typeof t=="symbol"?t:"".concat(t)}function U$(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function j$(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function V$(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(f){o(f)}}function u(l){try{c(r.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function z$(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var G_=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function H$(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&G_(e,t,n)}function yv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $4(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function q$(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($4(arguments[e]));return t}function W$(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function G$(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Gh(t){return this instanceof Gh?(this.v=t,this):new Gh(t)}function K$(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(b){return Promise.resolve(b).then(m,f)}}function a(m,b){r[m]&&(i[m]=function(A){return new Promise(function(T,_){s.push([m,A,T,_])>1||u(m,A)})},b&&(i[m]=b(i[m])))}function u(m,b){try{c(r[m](b))}catch(A){h(s[0][3],A)}}function c(m){m.value instanceof Gh?Promise.resolve(m.value.v).then(l,f):h(s[0][2],m)}function l(m){u("next",m)}function f(m){u("throw",m)}function h(m,b){m(b),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Q$(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Gh(t[i](o)),done:!1}:s?s(o):o}:s}}function Z$(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof yv=="function"?yv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function J$(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var g1e=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},eS=function(t){return eS=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},eS(t)};function Y$(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=eS(t),r=0;r<n.length;r++)n[r]!=="default"&&G_(e,t,n[r]);return g1e(e,t),e}function X$(t){return t&&t.__esModule?t:{default:t}}function eU(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function tU(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function nU(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function rU(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var m1e=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function iU(t){function e(s){t.error=t.hasError?new m1e(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function sU(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,o){return r?e?".jsx":".js":i&&(!s||!o)?n:i+s+"."+o.toLowerCase()+"js"}):t}const y1e={__extends:D$,__assign:mv,__rest:O$,__decorate:N$,__param:L$,__esDecorate:B$,__runInitializers:F$,__propKey:$$,__setFunctionName:U$,__metadata:j$,__awaiter:V$,__generator:z$,__createBinding:G_,__exportStar:H$,__values:yv,__read:$4,__spread:q$,__spreadArrays:W$,__spreadArray:G$,__await:Gh,__asyncGenerator:K$,__asyncDelegator:Q$,__asyncValues:Z$,__makeTemplateObject:J$,__importStar:Y$,__importDefault:X$,__classPrivateFieldGet:eU,__classPrivateFieldSet:tU,__classPrivateFieldIn:nU,__addDisposableResource:rU,__disposeResources:iU,__rewriteRelativeImportExtension:sU},v1e=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:rU,get __assign(){return mv},__asyncDelegator:Q$,__asyncGenerator:K$,__asyncValues:Z$,__await:Gh,__awaiter:V$,__classPrivateFieldGet:eU,__classPrivateFieldIn:nU,__classPrivateFieldSet:tU,__createBinding:G_,__decorate:N$,__disposeResources:iU,__esDecorate:B$,__exportStar:H$,__extends:D$,__generator:z$,__importDefault:X$,__importStar:Y$,__makeTemplateObject:J$,__metadata:j$,__param:L$,__propKey:$$,__read:$4,__rest:O$,__rewriteRelativeImportExtension:sU,__runInitializers:F$,__setFunctionName:U$,__spread:q$,__spreadArray:G$,__spreadArrays:W$,__values:yv,default:y1e},Symbol.toStringTag,{value:"Module"})),U4=Ta(v1e);var K_={};Object.defineProperty(K_,"__esModule",{value:!0});var qR=U4,w1e=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,n=this.isLocked(),r=new Promise(function(i){return e._queue.push(i)});return n||this._dispatch(),r},t.prototype.runExclusive=function(e){return qR.__awaiter(this,void 0,void 0,function(){var n,r,i;return qR.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:n=s.sent(),r=n[0],i=n[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(r)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,n=this._queue.shift();if(n){var r=!1;this._currentReleaser=function(){r||(r=!0,e._value++,e._dispatch())},n([this._value--,this._currentReleaser])}},t}();K_.default=w1e;Object.defineProperty(F4,"__esModule",{value:!0});var WR=U4,_1e=K_,b1e=function(){function t(){this._semaphore=new _1e.default(1)}return t.prototype.acquire=function(){return WR.__awaiter(this,void 0,void 0,function(){var e,n;return WR.__generator(this,function(r){switch(r.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=r.sent(),n=e[1],[2,n]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();F4.default=b1e;var Q_={};Object.defineProperty(Q_,"__esModule",{value:!0});Q_.withTimeout=void 0;var by=U4;function E1e(t,e,n){var r=this;return n===void 0&&(n=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return by.__awaiter(r,void 0,void 0,function(){var o,a,u;return by.__generator(this,function(c){switch(c.label){case 0:return o=!1,setTimeout(function(){o=!0,s(n)},e),[4,t.acquire()];case 1:return a=c.sent(),o?(u=Array.isArray(a)?a[1]:a,u()):i(a),[2]}})})})},runExclusive:function(i){return by.__awaiter(this,void 0,void 0,function(){var s,o;return by.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Q_.withTimeout=E1e;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=F4;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var n=K_;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return n.default}});var r=Q_;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return r.withTimeout}})})(M$);var A1e=C1e,S1e=Object.prototype.hasOwnProperty;function C1e(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)S1e.call(n,r)&&(t[r]=n[r])}return t}const I1e=A1e,x1e=E4();var T1e=ut;function ut(t){const e=this;e.currentProvider=t}ut.prototype.getBalance=lm(2,"eth_getBalance");ut.prototype.getCode=lm(2,"eth_getCode");ut.prototype.getTransactionCount=lm(2,"eth_getTransactionCount");ut.prototype.getStorageAt=lm(3,"eth_getStorageAt");ut.prototype.call=lm(2,"eth_call");ut.prototype.protocolVersion=Ct("eth_protocolVersion");ut.prototype.syncing=Ct("eth_syncing");ut.prototype.coinbase=Ct("eth_coinbase");ut.prototype.mining=Ct("eth_mining");ut.prototype.hashrate=Ct("eth_hashrate");ut.prototype.gasPrice=Ct("eth_gasPrice");ut.prototype.accounts=Ct("eth_accounts");ut.prototype.blockNumber=Ct("eth_blockNumber");ut.prototype.getBlockTransactionCountByHash=Ct("eth_getBlockTransactionCountByHash");ut.prototype.getBlockTransactionCountByNumber=Ct("eth_getBlockTransactionCountByNumber");ut.prototype.getUncleCountByBlockHash=Ct("eth_getUncleCountByBlockHash");ut.prototype.getUncleCountByBlockNumber=Ct("eth_getUncleCountByBlockNumber");ut.prototype.sign=Ct("eth_sign");ut.prototype.sendTransaction=Ct("eth_sendTransaction");ut.prototype.sendRawTransaction=Ct("eth_sendRawTransaction");ut.prototype.estimateGas=Ct("eth_estimateGas");ut.prototype.getBlockByHash=Ct("eth_getBlockByHash");ut.prototype.getBlockByNumber=Ct("eth_getBlockByNumber");ut.prototype.getTransactionByHash=Ct("eth_getTransactionByHash");ut.prototype.getTransactionByBlockHashAndIndex=Ct("eth_getTransactionByBlockHashAndIndex");ut.prototype.getTransactionByBlockNumberAndIndex=Ct("eth_getTransactionByBlockNumberAndIndex");ut.prototype.getTransactionReceipt=Ct("eth_getTransactionReceipt");ut.prototype.getUncleByBlockHashAndIndex=Ct("eth_getUncleByBlockHashAndIndex");ut.prototype.getUncleByBlockNumberAndIndex=Ct("eth_getUncleByBlockNumberAndIndex");ut.prototype.getCompilers=Ct("eth_getCompilers");ut.prototype.compileLLL=Ct("eth_compileLLL");ut.prototype.compileSolidity=Ct("eth_compileSolidity");ut.prototype.compileSerpent=Ct("eth_compileSerpent");ut.prototype.newFilter=Ct("eth_newFilter");ut.prototype.newBlockFilter=Ct("eth_newBlockFilter");ut.prototype.newPendingTransactionFilter=Ct("eth_newPendingTransactionFilter");ut.prototype.uninstallFilter=Ct("eth_uninstallFilter");ut.prototype.getFilterChanges=Ct("eth_getFilterChanges");ut.prototype.getFilterLogs=Ct("eth_getFilterLogs");ut.prototype.getLogs=Ct("eth_getLogs");ut.prototype.getWork=Ct("eth_getWork");ut.prototype.submitWork=Ct("eth_submitWork");ut.prototype.submitHashrate=Ct("eth_submitHashrate");ut.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(R1e(t),function(r,i){if(!r&&i.error&&(r=new Error("EthQuery - RPC Error - "+i.error.message)),r)return e(r);e(null,i.result)})};function Ct(t){return function(){const e=this;var n=[].slice.call(arguments),r=n.pop();e.sendAsync({method:t,params:n},r)}}function lm(t,e){return function(){const n=this;var r=[].slice.call(arguments),i=r.pop();r.length<t&&r.push("latest"),n.sendAsync({method:e,params:r},i)}}function R1e(t){return I1e({id:x1e(),jsonrpc:"2.0",params:[]},t)}const GR=(t,e,n,r)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...c)=>{e.errorFirst?c[0]?a(c):(c.shift(),o(c)):o(c)}):e.errorFirst?i.push((c,l)=>{c?a(c):o(l)}):i.push(o),Reflect.apply(t,this===n?r:this,i)})},KR=new WeakMap;var k1e=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const n=typeof t;if(!(t!==null&&(n==="object"||n==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":n}\``);const r=(o,a)=>{let u=KR.get(o);if(u||(u={},KR.set(o,u)),a in u)return u[a];const c=b=>typeof b=="string"||typeof a=="symbol"?a===b:b.test(a),l=Reflect.getOwnPropertyDescriptor(o,a),f=l===void 0||l.writable||l.configurable,m=(e.include?e.include.some(c):!e.exclude.some(c))&&f;return u[a]=m,m},i=new WeakMap,s=new Proxy(t,{apply(o,a,u){const c=i.get(o);if(c)return Reflect.apply(c,a,u);const l=e.excludeMain?o:GR(o,e,s,o);return i.set(o,l),Reflect.apply(l,a,u)},get(o,a){const u=o[a];if(!r(o,a)||u===Function.prototype[a])return u;const c=i.get(u);if(c)return c;if(typeof u=="function"){const l=GR(u,e,s,o);return i.set(u,l),l}return u}});return s};const P1e=tm.default;let M1e=class extends P1e{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(n=>this.emit("update",n))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var j4=M1e;const D1e=j4;let O1e=class extends D1e{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var N1e=O1e,fm={minBlockRef:L1e,bnToHex:F1e,blockRefIsNumber:$1e,hexToInt:vv,incrementHexInt:U1e,intToHex:oU,unsafeRandomBytes:j1e};function L1e(...t){return B1e(t)[0]}function B1e(t){return t.sort((e,n)=>e==="latest"||n==="earliest"?1:n==="latest"||e==="earliest"?-1:vv(e)-vv(n))}function F1e(t){return"0x"+t.toString(16)}function $1e(t){return t&&!["earliest","latest","pending"].includes(t)}function vv(t){return t==null?t:Number.parseInt(t,16)}function U1e(t){if(t==null)return t;const e=vv(t);return oU(e+1)}function oU(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function j1e(t){let e="0x";for(let n=0;n<t;n++)e+=QR(),e+=QR();return e}function QR(){return Math.floor(Math.random()*16).toString(16)}const V1e=T1e,z1e=k1e,H1e=N1e,{bnToHex:n2e,hexToInt:Ey,incrementHexInt:q1e,minBlockRef:W1e,blockRefIsNumber:G1e}=fm;let K1e=class extends H1e{constructor({provider:e,params:n}){super(),this.type="log",this.ethQuery=new V1e(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},n),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(r=>r.toLowerCase()))}async initialize({currentBlock:e}){let n=this.params.fromBlock;["latest","pending"].includes(n)&&(n=e),n==="earliest"&&(n="0x0"),this.params.fromBlock=n;const r=W1e(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:r}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:n}){const r=n;let i;e?i=q1e(e):i=n;const s=Object.assign({},this.params,{fromBlock:i,toBlock:r}),a=(await this._fetchLogs(s)).filter(u=>this.matchLog(u));this.addResults(a)}async _fetchLogs(e){return await z1e(r=>this.ethQuery.getLogs(e,r))()}matchLog(e){if(Ey(this.params.fromBlock)>=Ey(e.blockNumber)||G1e(this.params.toBlock)&&Ey(this.params.toBlock)<=Ey(e.blockNumber))return!1;const n=e.address&&e.address.toLowerCase();return this.params.address&&n&&!this.params.address.includes(n)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(o))})}};var Q1e=K1e,V4=Z1e;async function Z1e({provider:t,fromBlock:e,toBlock:n}){e||(e=n);const r=ZR(e),s=ZR(n)-r+1,o=Array(s).fill().map((u,c)=>r+c).map(J1e);let a=await Promise.all(o.map(u=>X1e(t,"eth_getBlockByNumber",[u,!1])));return a=a.filter(u=>u!==null),a}function ZR(t){return t==null?t:Number.parseInt(t,16)}function J1e(t){return t==null?t:"0x"+t.toString(16)}function Y1e(t,e){return new Promise((n,r)=>{t.sendAsync(e,(i,s)=>{i?r(i):s.error?r(s.error):s.result?n(s.result):r(new Error("Result was empty"))})})}async function X1e(t,e,n){for(let r=0;r<3;r++)try{return await Y1e(t,{id:1,jsonrpc:"2.0",method:e,params:n})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}return null}const eve=j4,tve=V4,{incrementHexInt:nve}=fm;let rve=class extends eve{constructor({provider:e,params:n}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:n}){const r=n,i=nve(e),o=(await tve({provider:this.provider,fromBlock:i,toBlock:r})).map(a=>a.hash);this.addResults(o)}};var ive=rve;const sve=j4,ove=V4,{incrementHexInt:ave}=fm;let uve=class extends sve{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const n=e,r=ave(e),i=await ove({provider:this.provider,fromBlock:r,toBlock:n}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var cve=uve;const lve=M$.Mutex,{createAsyncMiddleware:fve,createScaffoldMiddleware:hve}=O4,dve=Q1e,pve=ive,gve=cve,{intToHex:aU,hexToInt:sE}=fm;var mve=yve;function yve({blockTracker:t,provider:e}){let n=0,r={};const i=new lve,s=vve({mutex:i}),o=hve({eth_newFilter:s(oE(u)),eth_newBlockFilter:s(oE(c)),eth_newPendingTransactionFilter:s(oE(l)),eth_uninstallFilter:s(Xy(m)),eth_getFilterChanges:s(Xy(f)),eth_getFilterLogs:s(Xy(h))}),a=async({oldBlock:w,newBlock:C})=>{if(r.length===0)return;const M=await i.acquire();try{await Promise.all(Xl(r).map(async N=>{try{await N.update({oldBlock:w,newBlock:C})}catch(U){console.error(U)}}))}catch(N){console.error(N)}M()};return o.newLogFilter=u,o.newBlockFilter=c,o.newPendingTransactionFilter=l,o.uninstallFilter=m,o.getFilterChanges=f,o.getFilterLogs=h,o.destroy=()=>{T()},o;async function u(w){const C=new dve({provider:e,params:w});return await b(C),C}async function c(){const w=new pve({provider:e});return await b(w),w}async function l(){const w=new gve({provider:e});return await b(w),w}async function f(w){const C=sE(w),M=r[C];if(!M)throw new Error(`No filter for index "${C}"`);return M.getChangesAndClear()}async function h(w){const C=sE(w),M=r[C];if(!M)throw new Error(`No filter for index "${C}"`);let N=[];return M.type==="log"&&(N=M.getAllResults()),N}async function m(w){const C=sE(w),N=!!r[C];return N&&await A(C),N}async function b(w){const C=Xl(r).length,M=await t.getLatestBlock();await w.initialize({currentBlock:M}),n++,r[n]=w,w.id=n,w.idHex=aU(n);const N=Xl(r).length;return _({prevFilterCount:C,newFilterCount:N}),n}async function A(w){const C=Xl(r).length;delete r[w];const M=Xl(r).length;_({prevFilterCount:C,newFilterCount:M})}async function T(){const w=Xl(r).length;r={},_({prevFilterCount:w,newFilterCount:0})}function _({prevFilterCount:w,newFilterCount:C}){if(w===0&&C>0){t.on("sync",a);return}if(w>0&&C===0){t.removeListener("sync",a);return}}}function oE(t){return Xy(async(...e)=>{const n=await t(...e);return aU(n.id)})}function Xy(t){return fve(async(e,n)=>{const r=await t.apply(null,e.params);n.result=r})}function vve({mutex:t}){return e=>async(n,r,i,s)=>{(await t.acquire())(),e(n,r,i,s)}}function Xl(t,e){const n=[];for(let r in t)n.push(t[r]);return n}const wve=tm.default,{createAsyncMiddleware:JR,createScaffoldMiddleware:_ve}=O4,bve=mve,{unsafeRandomBytes:Eve,incrementHexInt:Ave}=fm,Sve=V4;var Cve=Ive;function Ive({blockTracker:t,provider:e}){const n={},r=bve({blockTracker:t,provider:e});let i=!1;const s=new wve,o=_ve({eth_subscribe:JR(a),eth_unsubscribe:JR(u)});return o.destroy=l,{events:s,middleware:o};async function a(f,h){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const m=f.params[0],b=Eve(16);let A;switch(m){case"newHeads":A=T({subId:b});break;case"logs":const w=f.params[1],C=await r.newLogFilter(w);A=_({subId:b,filter:C});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${m}"`)}n[b]=A,h.result=b;return;function T({subId:w}){const C={type:m,destroy:async()=>{t.removeListener("sync",C.update)},update:async({oldBlock:M,newBlock:N})=>{const U=N,v=Ave(M);(await Sve({provider:e,fromBlock:v,toBlock:U})).map(xve).filter(k=>k!==null).forEach(k=>{c(w,k)})}};return t.on("sync",C.update),C}function _({subId:w,filter:C}){return C.on("update",N=>c(w,N)),{type:m,destroy:async()=>await r.uninstallFilter(C.idHex)}}}async function u(f,h){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const m=f.params[0],b=n[m];if(!b){h.result=!1;return}delete n[m],await b.destroy(),h.result=!0}function c(f,h){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:f,result:h}})}function l(){s.removeAllListeners();for(const f in n)n[f].destroy(),delete n[f];i=!0}}function xve(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(D_,"__esModule",{value:!0});D_.SubscriptionManager=void 0;const Tve=$F,Rve=Cve,YR=()=>{};class kve{constructor(e){const n=new Tve.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:r,middleware:i}=Rve({blockTracker:n,provider:e});this.events=r,this.subscriptionMiddleware=i}async handleRequest(e){const n={};return await this.subscriptionMiddleware(e,n,YR,YR),n}destroy(){this.subscriptionMiddleware.destroy()}}D_.SubscriptionManager=kve;var uU=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jh,"__esModule",{value:!0});jh.CoinbaseWalletProvider=void 0;const Pve=uU(f_),Mve=BB,Ot=qg,wt=Ue,Dve=Qg,XR=ls,Ay=md,Si=dd,aE=uU(zpe),Vd=gd,Ove=Hh,Nve=D_,ek="DefaultChainId",tk="DefaultJsonRpcUrl";class Lve extends Mve.EventEmitter{constructor(e){var n,r;super(),this._filterPolyfill=new Ove.FilterPolyfill(this),this._subscriptionManager=new Nve.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(n=e.overrideIsCoinbaseWallet)!==null&&n!==void 0?n:!0,this.isCoinbaseBrowser=(r=e.overrideIsCoinbaseBrowser)!==null&&r!==void 0?r:!1,this.qrUrl=e.qrUrl;const i=this.getChainId(),s=(0,wt.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(XR.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(u=>(0,wt.ensureAddressString)(u)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var u;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"&&a.data.data.action==="dappChainSwitched"){const c=a.data.data.chainId,l=(u=a.data.data.jsonRpcUrl)!==null&&u!==void 0?u:this.jsonRpcUrl;this.updateProviderInfo(l,Number(c))}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,wt.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(tk))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(tk,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,n){this.isCoinbaseBrowser||(this._chainIdFromOpts=n,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,n){this.jsonRpcUrl=e;const r=this.getChainId();this._storage.setItem(ek,n.toString(10)),((0,wt.ensureIntNumber)(n)!==r||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,n,r,i,s,o){const u=await(await this.initializeRelay()).watchAsset(e,n,r,i,s,o==null?void 0:o.toString()).promise;return(0,Si.isErrorResponse)(u)?!1:!!u.result}async addEthereumChain(e,n,r,i,s,o){var a,u;if((0,wt.ensureIntNumber)(e)===this.getChainId())return!1;const c=await this.initializeRelay(),l=c.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await c.requestEthereumAccounts().promise;const f=await c.addEthereumChain(e.toString(),n,s,r,i,o).promise;return(0,Si.isErrorResponse)(f)?!1:(((a=f.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(n[0],e),((u=f.result)===null||u===void 0?void 0:u.isApproved)===!0)}async switchEthereumChain(e){const r=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,Si.isErrorResponse)(r)){if(!r.errorCode)return;throw r.errorCode===Ot.standardErrorCodes.provider.unsupportedChain?Ot.standardErrors.provider.unsupportedChain():Ot.standardErrors.provider.custom({message:r.errorMessage,code:r.errorCode})}const i=r.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,n){this.initializeRelay().then(r=>r.setAppInfo(e,n))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Vd.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Ay.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send("eth_requestAccounts")}async close(){(await this.initializeRelay()).resetAndReload()}send(e,n){try{const r=this._send(e,n);if(r instanceof Promise)return r.catch(i=>{throw(0,Ot.serializeError)(i,e)})}catch(r){throw(0,Ot.serializeError)(r,e)}}_send(e,n){if(typeof e=="string"){const i=e,s=Array.isArray(n)?n:n!==void 0?[n]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof n=="function"){const i=e,s=n;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const r=e;return this._sendRequest(r)}async sendAsync(e,n){try{return this._sendAsync(e,n).catch(r=>{throw(0,Ot.serializeError)(r,e)})}catch(r){return Promise.reject((0,Ot.serializeError)(r,e))}}async _sendAsync(e,n){if(typeof n!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=n;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const r=n;return this._sendRequestAsync(e).then(i=>r(null,i)).catch(i=>r(i,null))}async request(e){try{return this._request(e).catch(n=>{throw(0,Ot.serializeError)(n,e.method)})}catch(n){return Promise.reject((0,Ot.serializeError)(n,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Ot.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:n,params:r}=e;if(typeof n!="string"||n.length===0)throw Ot.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw Ot.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=r===void 0?[]:r,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:n,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const r=await(await this.initializeRelay()).scanQRCode((0,wt.ensureRegExpString)(e)).promise;if((0,Si.isErrorResponse)(r))throw(0,Ot.serializeError)(r.errorMessage,"scanQRCode");if(typeof r.result!="string")throw(0,Ot.serializeError)("result was not a string","scanQRCode");return r.result}async genericRequest(e,n){const i=await(await this.initializeRelay()).genericRequest(e,n).promise;if((0,Si.isErrorResponse)(i))throw(0,Ot.serializeError)(i.errorMessage,"generic");if(typeof i.result!="string")throw(0,Ot.serializeError)("result was not a string","generic");return i.result}async connectAndSignIn(e){var n;(n=this.diagnostic)===null||n===void 0||n.log(Vd.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?Ay.Session.hash(this._relay.session.id):void 0});let r;try{const s=await this.initializeRelay();if(!(s instanceof Dve.MobileRelay))throw new Error("connectAndSignIn is only supported on mobile");if(r=await s.connectAndSignIn(e).promise,(0,Si.isErrorResponse)(r))throw new Error(r.errorMessage)}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Ot.standardErrors.provider.userRejectedRequest("User denied account authorization"):s}if(!r.result)throw new Error("accounts received is empty");const{accounts:i}=r.result;return this._setAddresses(i),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),r.result}async selectProvider(e){const r=await(await this.initializeRelay()).selectProvider(e).promise;if((0,Si.isErrorResponse)(r))throw(0,Ot.serializeError)(r.errorMessage,"selectProvider");if(typeof r.result!="string")throw(0,Ot.serializeError)("result was not a string","selectProvider");return r.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const n={jsonrpc:"2.0",id:e.id},{method:r}=e;if(n.result=this._handleSynchronousMethods(e),n.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${r} synchronously without a callback. Please provide a callback parameter to call ${r} asynchronously.`);return n}_setAddresses(e,n){if(!Array.isArray(e))throw new Error("addresses is not an array");const r=e.map(i=>(0,wt.ensureAddressString)(i));JSON.stringify(r)!==JSON.stringify(this._addresses)&&(this._addresses=r,this.emit("accountsChanged",this._addresses),this._storage.setItem(XR.LOCAL_STORAGE_ADDRESSES_KEY,r.join(" ")))}_sendRequestAsync(e){return new Promise((n,r)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return n({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>n(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>r(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>n({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>r(a));return}}catch(i){return r(i)}this._handleAsynchronousMethods(e).then(i=>i&&n(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>r(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(n=>this._sendRequestAsync(n)))}_handleSynchronousMethods(e){const{method:n}=e,r=e.params||[];switch(n){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(r);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:n}=e,r=e.params||[];switch(n){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(r);case"eth_ecRecover":return this._eth_ecRecover(r);case"personal_sign":return this._personal_sign(r);case"personal_ecRecover":return this._personal_ecRecover(r);case"eth_signTransaction":return this._eth_signTransaction(r);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(r);case"eth_sendTransaction":return this._eth_sendTransaction(r);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(r);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(r);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(r);case"cbWallet_arbitrary":return this._cbwallet_arbitrary(r);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(r);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(r);case"wallet_watchAsset":return this._wallet_watchAsset(r)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl).catch(s=>{var o;throw(s.code===Ot.standardErrorCodes.rpc.methodNotFound||s.code===Ot.standardErrorCodes.rpc.methodNotSupported)&&((o=this.diagnostic)===null||o===void 0||o.log(Vd.EVENTS.METHOD_NOT_IMPLEMENTED,{method:e.method,sessionIdHash:this._relay?Ay.Session.hash(this._relay.session.id):void 0})),s})}_handleAsynchronousFilterMethods(e){const{method:n}=e,r=e.params||[];switch(n){case"eth_newFilter":return this._eth_newFilter(r);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(r);case"eth_getFilterLogs":return this._eth_getFilterLogs(r)}}_handleSubscriptionMethods(e){switch(e.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const n=(0,wt.ensureAddressString)(e);return this._addresses.map(i=>(0,wt.ensureAddressString)(i)).includes(n)}catch{}return!1}_ensureKnownAddress(e){var n;if(!this._isKnownAddress(e))throw(n=this.diagnostic)===null||n===void 0||n.log(Vd.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?(0,wt.ensureAddressString)(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?(0,wt.ensureAddressString)(e.to):null,i=e.value!=null?(0,wt.ensureBN)(e.value):new Pve.default(0),s=e.data?(0,wt.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,wt.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,wt.ensureBN)(e.gasPrice):null,u=e.maxFeePerGas!=null?(0,wt.ensureBN)(e.maxFeePerGas):null,c=e.maxPriorityFeePerGas!=null?(0,wt.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,wt.ensureBN)(e.gas):null,f=e.chainId?(0,wt.ensureIntNumber)(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:u,maxPriorityFeePerGas:c,gasLimit:l,chainId:f}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Ot.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Ot.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,n,r,i){this._ensureKnownAddress(n);try{const o=await(await this.initializeRelay()).signEthereumMessage(e,n,r,i).promise;if((0,Si.isErrorResponse)(o))throw new Error(o.errorMessage);return{jsonrpc:"2.0",id:0,result:o.result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Ot.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,n,r){const s=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,n,r).promise;if((0,Si.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,wt.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(ek);if(!e)return(0,wt.ensureIntNumber)(this._chainIdFromOpts);const n=parseInt(e,10);return(0,wt.ensureIntNumber)(n)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Vd.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Ay.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let n;try{if(n=await(await this.initializeRelay()).requestEthereumAccounts().promise,(0,Si.isErrorResponse)(n))throw new Error(n.errorMessage)}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?Ot.standardErrors.provider.userRejectedRequest("User denied account authorization"):r}if(!n.result)throw new Error("accounts received is empty");return this._setAddresses(n.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const n=(0,wt.ensureAddressString)(e[0]),r=(0,wt.ensureBuffer)(e[1]);return this._signEthereumMessage(r,n,!1)}_eth_ecRecover(e){const n=(0,wt.ensureBuffer)(e[0]),r=(0,wt.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(n,r,!1)}_personal_sign(e){this._requireAuthorization();const n=(0,wt.ensureBuffer)(e[0]),r=(0,wt.ensureAddressString)(e[1]);return this._signEthereumMessage(n,r,!0)}_personal_ecRecover(e){const n=(0,wt.ensureBuffer)(e[0]),r=(0,wt.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(n,r,!0)}async _eth_signTransaction(e){this._requireAuthorization();const n=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signEthereumTransaction(n).promise;if((0,Si.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?Ot.standardErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_sendRawTransaction(e){const n=(0,wt.ensureBuffer)(e[0]),i=await(await this.initializeRelay()).submitEthereumTransaction(n,this.getChainId()).promise;if((0,Si.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(e){this._requireAuthorization();const n=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(n).promise;if((0,Si.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?Ot.standardErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_signTypedData_v1(e){this._requireAuthorization();const n=(0,wt.ensureParsedJSONObject)(e[0]),r=(0,wt.ensureAddressString)(e[1]);this._ensureKnownAddress(r);const i=aE.default.hashForSignTypedDataLegacy({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const n=(0,wt.ensureAddressString)(e[0]),r=(0,wt.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(n);const i=aE.default.hashForSignTypedData_v3({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const n=(0,wt.ensureAddressString)(e[0]),r=(0,wt.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(n);const i=aE.default.hashForSignTypedData_v4({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _cbwallet_arbitrary(e){const n=e[0],r=e[1];if(typeof r!="string")throw new Error("parameter must be a string");if(typeof n!="object"||n===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(n,r)}}async _wallet_addEthereumChain(e){var n,r,i,s;const o=e[0];if(((n=o.rpcUrls)===null||n===void 0?void 0:n.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw Ot.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw Ot.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(r=o.rpcUrls)!==null&&r!==void 0?r:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const n=e[0];return await this.switchEthereumChain(parseInt(n.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw Ot.standardErrors.rpc.invalidParams("Type is required");if((n==null?void 0:n.type)!=="ERC20")throw Ot.standardErrors.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!(n!=null&&n.options))throw Ot.standardErrors.rpc.invalidParams("Options are required");if(!(n!=null&&n.options.address))throw Ot.standardErrors.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=n.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(n.type,i,s,a,o,r)}}_eth_uninstallFilter(e){const n=(0,wt.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(n)}async _eth_newFilter(e){const n=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(n)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const n=(0,wt.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(n)}_eth_getFilterLogs(e){const n=(0,wt.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(n)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((n,r)=>this._setAddresses(n,r)),e.setChainCallback((n,r)=>{this.updateProviderInfo(r,parseInt(n,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}jh.CoinbaseWalletProvider=Lve;var Z_={};Object.defineProperty(Z_,"__esModule",{value:!0});Z_.RelayEventManager=void 0;const Bve=Ue;class Fve{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=(0,Bve.prepend0x)(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}Z_.RelayEventManager=Fve;Object.defineProperty(Wp,"__esModule",{value:!0});Wp.CoinbaseWalletSDK=void 0;const $ve=c_,Uve=l_,nk=Ue,jve=m_,Vve=jh,zve=Qg,Hve=Xg,qve=Z_,Wve=Jg,Gve=Zg,cU=pd;class J_{constructor(e){var n,r,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||Uve.LINK_API_URL;typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(n=e.overrideIsCoinbaseWallet)!==null&&n!==void 0?n:!0,this._overrideIsCoinbaseBrowser=(r=e.overrideIsCoinbaseBrowser)!==null&&r!==void 0?r:!1,this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const o=new URL(s),a=`${o.protocol}//${o.host}`;if(this._storage=new jve.ScopedLocalStorage(`-walletlink:${a}`),this._storage.setItem("version",J_.VERSION),this.walletExtension||this.coinbaseBrowser)return;this._relayEventManager=new qve.RelayEventManager;const u=(0,nk.isMobileWeb)(),c=e.uiConstructor||(f=>u?new Hve.MobileRelayUI(f):new Wve.WalletLinkRelayUI(f)),l={linkAPIUrl:s,version:cU.LIB_VERSION,darkMode:!!e.darkMode,headlessMode:!!e.headlessMode,uiConstructor:c,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:e.enableMobileWalletLink};this._relay=u?new zve.MobileRelay(l):new Gve.WalletLinkRelay(l),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI()}makeWeb3Provider(e="",n=1){const r=this.walletExtension;if(r)return this.isCipherProvider(r)||r.setProviderInfo(e,n),this._reloadOnDisconnect===!1&&typeof r.disableReloadOnDisconnect=="function"&&r.disableReloadOnDisconnect(),r;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new Vve.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:n,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,n){var r;this._appName=e||"DApp",this._appLogoUrl=n||(0,nk.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(r=this._relay)===null||r===void 0||r.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const n=this===null||this===void 0?void 0:this.walletExtension;n?n.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,n;return(n=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&n!==void 0?n:null}getCoinbaseWalletLogo(e,n=240){return(0,$ve.walletLogo)(e,n)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,n;try{const r=(e=window.ethereum)!==null&&e!==void 0?e:(n=window.top)===null||n===void 0?void 0:n.ethereum;return r&&"isCoinbaseBrowser"in r&&r.isCoinbaseBrowser?r:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Wp.CoinbaseWalletSDK=J_;J_.VERSION=cU.LIB_VERSION;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Wp,n=jh;var r=Wp;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return r.CoinbaseWalletSDK}});var i=jh;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=n.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=n.CoinbaseWalletProvider)})(aF);const Kve=Ni(aF),o2e=Object.freeze(Object.defineProperty({__proto__:null,default:Kve},Symbol.toStringTag,{value:"Module"}));function Qve(t,e){t.indexOf(e)===-1&&t.push(e)}const lU=(t,e,n)=>Math.min(Math.max(n,t),e),as={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},wv=t=>typeof t=="number",zf=t=>Array.isArray(t)&&!wv(t[0]),Zve=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function Jve(t,e){return zf(t)?t[Zve(0,t.length,e)]:t}const fU=(t,e,n)=>-n*t+n*e+t,hU=()=>{},Au=t=>t,z4=(t,e,n)=>e-t===0?1:(n-t)/(e-t);function dU(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=z4(0,e,r);t.push(fU(n,1,i))}}function Yve(t){const e=[0];return dU(e,t-1),e}function Xve(t,e=Yve(t.length),n=Au){const r=t.length,i=r-e.length;return i>0&&dU(e,i),s=>{let o=0;for(;o<r-2&&!(s<e[o+1]);o++);let a=lU(0,1,z4(e[o],e[o+1],s));return a=Jve(n,o)(a),fU(t[o],t[o+1],a)}}const pU=t=>Array.isArray(t)&&wv(t[0]),tS=t=>typeof t=="object"&&!!t.createAnimation,Kh=t=>typeof t=="function",ewe=t=>typeof t=="string",C0={ms:t=>t*1e3,s:t=>t/1e3},gU=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,twe=1e-7,nwe=12;function rwe(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=gU(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>twe&&++a<nwe);return o}function t0(t,e,n,r){if(t===e&&n===r)return Au;const i=s=>rwe(s,0,1,t,n);return s=>s===0||s===1?s:gU(i(s),e,r)}const iwe=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*t,i=e==="end"?Math.floor(r):Math.ceil(r);return lU(0,1,i/t)},swe={ease:t0(.25,.1,.25,1),"ease-in":t0(.42,0,1,1),"ease-in-out":t0(.42,0,.58,1),"ease-out":t0(0,0,.58,1)},owe=/\((.*?)\)/;function rk(t){if(Kh(t))return t;if(pU(t))return t0(...t);const e=swe[t];if(e)return e;if(t.startsWith("steps")){const n=owe.exec(t);if(n){const r=n[1].split(",");return iwe(parseFloat(r[0]),r[1].trim())}}return Au}class mU{constructor(e,n=[0,1],{easing:r,duration:i=as.duration,delay:s=as.delay,endDelay:o=as.endDelay,repeat:a=as.repeat,offset:u,direction:c="normal",autoplay:l=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=Au,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((h,m)=>{this.resolve=h,this.reject=m}),r=r||as.easing,tS(r)){const h=r.createAnimation(n);r=h.easing,n=h.keyframes||n,i=h.duration||i}this.repeat=a,this.easing=zf(r)?Au:rk(r),this.updateDuration(i);const f=Xve(n,u,zf(r)?r.map(rk):Au);this.tick=h=>{var m;s=s;let b=0;this.pauseTime!==void 0?b=this.pauseTime:b=(h-this.startTime)*this.rate,this.t=b,b/=1e3,b=Math.max(b-s,0),this.playState==="finished"&&this.pauseTime===void 0&&(b=this.totalDuration);const A=b/this.duration;let T=Math.floor(A),_=A%1;!_&&A>=1&&(_=1),_===1&&T--;const w=T%2;(c==="reverse"||c==="alternate"&&w||c==="alternate-reverse"&&!w)&&(_=1-_);const C=b>=this.totalDuration?1:Math.min(_,1),M=f(this.easing(C));e(M),this.pauseTime===void 0&&(this.playState==="finished"||b>=this.totalDuration+o)?(this.playState="finished",(m=this.resolve)===null||m===void 0||m.call(this,M)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},l&&this.play()}play(){const e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}class awe{setAnimation(e){this.animation=e,e==null||e.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const uE=new WeakMap;function yU(t){return uE.has(t)||uE.set(t,{transforms:[],values:new Map}),uE.get(t)}function uwe(t,e){return t.has(e)||t.set(e,new awe),t.get(e)}const cwe=["","X","Y","Z"],lwe=["translate","scale","rotate","skew"],_v={x:"translateX",y:"translateY",z:"translateZ"},ik={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},fwe={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:ik,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:Au},skew:ik},Qp=new Map,H4=t=>`--motion-${t}`,bv=["x","y","z"];lwe.forEach(t=>{cwe.forEach(e=>{bv.push(t+e),Qp.set(H4(t+e),fwe[t])})});const hwe=(t,e)=>bv.indexOf(t)-bv.indexOf(e),dwe=new Set(bv),vU=t=>dwe.has(t),pwe=(t,e)=>{_v[e]&&(e=_v[e]);const{transforms:n}=yU(t);Qve(n,e),t.style.transform=gwe(n)},gwe=t=>t.sort(hwe).reduce(mwe,"").trim(),mwe=(t,e)=>`${t} ${e}(var(${H4(e)}))`,nS=t=>t.startsWith("--"),sk=new Set;function ywe(t){if(!sk.has(t)){sk.add(t);try{const{syntax:e,initialValue:n}=Qp.has(t)?Qp.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:n})}catch{}}}const cE=(t,e)=>document.createElement("div").animate(t,e),ok={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{cE({opacity:[1]})}catch{return!1}return!0},finished:()=>!!cE({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{cE({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},lE={},Sf={};for(const t in ok)Sf[t]=()=>(lE[t]===void 0&&(lE[t]=ok[t]()),lE[t]);const vwe=.015,wwe=(t,e)=>{let n="";const r=Math.round(e/vwe);for(let i=0;i<r;i++)n+=t(z4(0,r-1,i))+", ";return n.substring(0,n.length-2)},ak=(t,e)=>Kh(t)?Sf.linearEasing()?`linear(${wwe(t,e)})`:as.easing:pU(t)?_we(t):t,_we=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`;function bwe(t,e){for(let n=0;n<t.length;n++)t[n]===null&&(t[n]=n?t[n-1]:e());return t}const Ewe=t=>Array.isArray(t)?t:[t];function rS(t){return _v[t]&&(t=_v[t]),vU(t)?H4(t):t}const Sy={get:(t,e)=>{e=rS(e);let n=nS(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!n&&n!==0){const r=Qp.get(e);r&&(n=r.initialValue)}return n},set:(t,e,n)=>{e=rS(e),nS(e)?t.style.setProperty(e,n):t.style[e]=n}};function wU(t,e=!0){if(!(!t||t.playState==="finished"))try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch{}}function Awe(t,e){var n;let r=(e==null?void 0:e.toDefaultUnit)||Au;const i=t[t.length-1];if(ewe(i)){const s=((n=i.match(/(-?[\d.]+)([a-z%]*)/))===null||n===void 0?void 0:n[2])||"";s&&(r=o=>o+s)}return r}function Swe(){return window.__MOTION_DEV_TOOLS_RECORD}function Cwe(t,e,n,r={},i){const s=Swe(),o=r.record!==!1&&s;let a,{duration:u=as.duration,delay:c=as.delay,endDelay:l=as.endDelay,repeat:f=as.repeat,easing:h=as.easing,persist:m=!1,direction:b,offset:A,allowWebkitAcceleration:T=!1,autoplay:_=!0}=r;const w=yU(t),C=vU(e);let M=Sf.waapi();C&&pwe(t,e);const N=rS(e),U=uwe(w.values,N),v=Qp.get(N);return wU(U.animation,!(tS(h)&&U.generator)&&r.record!==!1),()=>{const y=()=>{var L,z;return(z=(L=Sy.get(t,N))!==null&&L!==void 0?L:v==null?void 0:v.initialValue)!==null&&z!==void 0?z:0};let S=bwe(Ewe(n),y);const k=Awe(S,v);if(tS(h)){const L=h.createAnimation(S,e!=="opacity",y,N,U);h=L.easing,S=L.keyframes||S,u=L.duration||u}if(nS(N)&&(Sf.cssRegisterProperty()?ywe(N):M=!1),C&&!Sf.linearEasing()&&(Kh(h)||zf(h)&&h.some(Kh))&&(M=!1),M){v&&(S=S.map(x=>wv(x)?v.toDefaultUnit(x):x)),S.length===1&&(!Sf.partialKeyframes()||o)&&S.unshift(y());const L={delay:C0.ms(c),duration:C0.ms(u),endDelay:C0.ms(l),easing:zf(h)?void 0:ak(h,u),direction:b,iterations:f+1,fill:"both"};a=t.animate({[N]:S,offset:A,easing:zf(h)?h.map(x=>ak(x,u)):void 0},L),a.finished||(a.finished=new Promise((x,g)=>{a.onfinish=x,a.oncancel=g}));const z=S[S.length-1];a.finished.then(()=>{m||(Sy.set(t,N,z),a.cancel())}).catch(hU),T||(a.playbackRate=1.000001)}else if(i&&C)S=S.map(L=>typeof L=="string"?parseFloat(L):L),S.length===1&&S.unshift(parseFloat(y())),a=new i(L=>{Sy.set(t,N,k?k(L):L)},S,Object.assign(Object.assign({},r),{duration:u,easing:h}));else{const L=S[S.length-1];Sy.set(t,N,v&&wv(L)?v.toDefaultUnit(L):L)}return o&&s(t,e,S,{duration:u,delay:c,easing:h,repeat:f,offset:A},"motion-one"),U.setAnimation(a),a&&!_&&a.pause(),a}}const Iwe=(t,e)=>t[e]?Object.assign(Object.assign({},t),t[e]):Object.assign({},t);function xwe(t,e){return typeof t=="string"?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}const Twe=t=>t(),_U=(t,e,n=as.duration)=>new Proxy({animations:t.map(Twe).filter(Boolean),duration:n,options:e},kwe),Rwe=t=>t.animations[0],kwe={get:(t,e)=>{const n=Rwe(t);switch(e){case"duration":return t.duration;case"currentTime":return C0.s((n==null?void 0:n[e])||0);case"playbackRate":case"playState":return n==null?void 0:n[e];case"finished":return t.finished||(t.finished=Promise.all(t.animations.map(Pwe)).catch(hU)),t.finished;case"stop":return()=>{t.animations.forEach(r=>wU(r))};case"forEachNative":return r=>{t.animations.forEach(i=>r(i,t))};default:return typeof(n==null?void 0:n[e])>"u"?void 0:()=>t.animations.forEach(r=>r[e]())}},set:(t,e,n)=>{switch(e){case"currentTime":n=C0.ms(n);case"playbackRate":for(let r=0;r<t.animations.length;r++)t.animations[r][e]=n;return!0}return!1}},Pwe=t=>t.finished;function Mwe(t,e,n){return Kh(t)?t(e,n):t}function Dwe(t){return function(n,r,i={}){n=xwe(n);const s=n.length,o=[];for(let a=0;a<s;a++){const u=n[a];for(const c in r){const l=Iwe(i,c);l.delay=Mwe(l.delay,a,s);const f=Cwe(u,c,r[c],l,t);o.push(f)}}return _U(o,i,i.duration)}}const Owe=Dwe(mU);function Nwe(t,e={}){return _U([()=>{const n=new mU(t,[0,1],e);return n.finished.catch(()=>{}),n}],e,e.duration)}function a2e(t,e,n){return(Kh(t)?Nwe:Owe)(t,e,n)}export{A6 as $,dY as A,E_e as B,a2e as C,uw as D,$o as E,n_e as F,Jwe as G,Uwe as H,u_e as I,c_e as J,v6 as K,r_e as L,fZ as M,va as N,fQ as O,e_e as P,el as Q,ID as R,WQ as S,xQ as T,UQ as U,jQ as V,Bwe as W,y6 as X,Ywe as Y,f_e as Z,XV as _,o2e as a,Tbe as a$,uK as a0,s_e as a1,tJ as a2,eJ as a3,D6 as a4,dg as a5,a_e as a6,up as a7,St as a8,Mf as a9,Z_e as aA,Y_e as aB,q_e as aC,ZZ as aD,w_e as aE,X_e as aF,xe as aG,ebe as aH,sbe as aI,obe as aJ,w9 as aK,Die as aL,lbe as aM,gbe as aN,HU as aO,pbe as aP,Sbe as aQ,mbe as aR,wbe as aS,vbe as aT,bbe as aU,cu as aV,xbe as aW,kbe as aX,Abe as aY,Pbe as aZ,Rbe as a_,N3 as aa,xZ as ab,ep as ac,lx as ad,h_e as ae,g_e as af,d_e as ag,p_e as ah,I_e as ai,T_e as aj,R_e as ak,x_e as al,k_e as am,S_e as an,A_e as ao,C_e as ap,wg as aq,M_e as ar,B_e as as,O_e as at,NX as au,Vy as av,L_e as aw,tee as ax,G_e as ay,K_e as az,e6 as b,Ibe as b0,Mbe as b1,Obe as b2,Que as b3,Ebe as b4,Cbe as b5,i_e as b6,c6 as b7,Er as b8,Nbe as b9,_be as ba,qne as bb,Dbe as bc,ybe as bd,rbe as be,y_e as bf,l_e as bg,__e as bh,m_e as bi,b_e as bj,v_e as bk,ibe as bl,cbe as bm,ube as bn,are as bo,abe as bp,ZV as bq,Wz as c,jwe as d,Fwe as e,Vwe as f,Hwe as g,Zq as h,Wbe as i,Kwe as j,Qwe as k,Gwe as l,Wwe as m,qwe as n,sg as o,Zwe as p,$z as q,$we as r,NH as s,zwe as t,tW as u,hW as v,Ce as w,LH as x,Xwe as y,hY as z};
//# sourceMappingURL=react-BXhNCW0N.js.map
