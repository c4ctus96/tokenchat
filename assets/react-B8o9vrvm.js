var iC=t=>{throw TypeError(t)};var q_=(t,e,n)=>e.has(t)||iC("Cannot "+n);var fe=(t,e,n)=>(q_(t,e,"read from private field"),n?n.call(t):e.get(t)),Ct=(t,e,n)=>e.has(t)?iC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),st=(t,e,n,r)=>(q_(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Sn=(t,e,n)=>(q_(t,e,"access private method"),n);var fg=(t,e,n,r)=>({set _(i){st(t,e,i,n)},get _(){return fe(t,e,r)}});function F7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ns(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ta(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ER={exports:{}},py={},AR={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0=Symbol.for("react.element"),$7=Symbol.for("react.portal"),j7=Symbol.for("react.fragment"),U7=Symbol.for("react.strict_mode"),V7=Symbol.for("react.profiler"),z7=Symbol.for("react.provider"),H7=Symbol.for("react.context"),W7=Symbol.for("react.forward_ref"),q7=Symbol.for("react.suspense"),G7=Symbol.for("react.memo"),K7=Symbol.for("react.lazy"),sC=Symbol.iterator;function Q7(t){return t===null||typeof t!="object"?null:(t=sC&&t[sC]||t["@@iterator"],typeof t=="function"?t:null)}var SR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CR=Object.assign,IR={};function ef(t,e,n){this.props=t,this.context=e,this.refs=IR,this.updater=n||SR}ef.prototype.isReactComponent={};ef.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ef.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xR(){}xR.prototype=ef.prototype;function T3(t,e,n){this.props=t,this.context=e,this.refs=IR,this.updater=n||SR}var R3=T3.prototype=new xR;R3.constructor=T3;CR(R3,ef.prototype);R3.isPureReactComponent=!0;var oC=Array.isArray,TR=Object.prototype.hasOwnProperty,k3={current:null},RR={key:!0,ref:!0,__self:!0,__source:!0};function kR(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)TR.call(e,r)&&!RR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:J0,type:t,key:s,ref:o,props:i,_owner:k3.current}}function J7(t,e){return{$$typeof:J0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function P3(t){return typeof t=="object"&&t!==null&&t.$$typeof===J0}function Z7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var aC=/\/+/g;function G_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Z7(""+t.key):e.toString(36)}function ym(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case J0:case $7:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+G_(o,0):r,oC(i)?(n="",t!=null&&(n=t.replace(aC,"$&/")+"/"),ym(i,e,n,"",function(l){return l})):i!=null&&(P3(i)&&(i=J7(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(aC,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",oC(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+G_(s,a);o+=ym(s,e,n,u,i)}else if(u=Q7(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+G_(s,a++),o+=ym(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dg(t,e,n){if(t==null)return t;var r=[],i=0;return ym(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Y7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vr={current:null},vm={transition:null},X7={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:vm,ReactCurrentOwner:k3};function PR(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:dg,forEach:function(t,e,n){dg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dg(t,function(){e++}),e},toArray:function(t){return dg(t,function(e){return e})||[]},only:function(t){if(!P3(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};bt.Component=ef;bt.Fragment=j7;bt.Profiler=V7;bt.PureComponent=T3;bt.StrictMode=U7;bt.Suspense=q7;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X7;bt.act=PR;bt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=CR({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=k3.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)TR.call(e,u)&&!RR.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:J0,type:t.type,key:i,ref:s,props:r,_owner:o}};bt.createContext=function(t){return t={$$typeof:H7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:z7,_context:t},t.Consumer=t};bt.createElement=kR;bt.createFactory=function(t){var e=kR.bind(null,t);return e.type=t,e};bt.createRef=function(){return{current:null}};bt.forwardRef=function(t){return{$$typeof:W7,render:t}};bt.isValidElement=P3;bt.lazy=function(t){return{$$typeof:K7,_payload:{_status:-1,_result:t},_init:Y7}};bt.memo=function(t,e){return{$$typeof:G7,type:t,compare:e===void 0?null:e}};bt.startTransition=function(t){var e=vm.transition;vm.transition={};try{t()}finally{vm.transition=e}};bt.unstable_act=PR;bt.useCallback=function(t,e){return Vr.current.useCallback(t,e)};bt.useContext=function(t){return Vr.current.useContext(t)};bt.useDebugValue=function(){};bt.useDeferredValue=function(t){return Vr.current.useDeferredValue(t)};bt.useEffect=function(t,e){return Vr.current.useEffect(t,e)};bt.useId=function(){return Vr.current.useId()};bt.useImperativeHandle=function(t,e,n){return Vr.current.useImperativeHandle(t,e,n)};bt.useInsertionEffect=function(t,e){return Vr.current.useInsertionEffect(t,e)};bt.useLayoutEffect=function(t,e){return Vr.current.useLayoutEffect(t,e)};bt.useMemo=function(t,e){return Vr.current.useMemo(t,e)};bt.useReducer=function(t,e,n){return Vr.current.useReducer(t,e,n)};bt.useRef=function(t){return Vr.current.useRef(t)};bt.useState=function(t){return Vr.current.useState(t)};bt.useSyncExternalStore=function(t,e,n){return Vr.current.useSyncExternalStore(t,e,n)};bt.useTransition=function(){return Vr.current.useTransition()};bt.version="18.3.1";AR.exports=bt;var De=AR.exports;const Oa=ns(De),eF=F7({__proto__:null,default:Oa},[De]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tF=De,nF=Symbol.for("react.element"),rF=Symbol.for("react.fragment"),iF=Object.prototype.hasOwnProperty,sF=tF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oF={key:!0,ref:!0,__self:!0,__source:!0};function MR(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)iF.call(e,r)&&!oF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nF,type:t,key:s,ref:o,props:i,_owner:sF.current}}py.Fragment=rF;py.jsx=MR;py.jsxs=MR;ER.exports=py;var aF=ER.exports,DR={exports:{}},Ei={},NR={exports:{}},OR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,F){var W=C.length;C.push(F);e:for(;0<W;){var U=W-1>>>1,I=C[U];if(0<i(I,F))C[U]=F,C[W]=I,W=U;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var F=C[0],W=C.pop();if(W!==F){C[0]=W;e:for(var U=0,I=C.length,G=I>>>1;U<G;){var ue=2*(U+1)-1,ie=C[ue],X=ue+1,Q=C[X];if(0>i(ie,W))X<I&&0>i(Q,ie)?(C[U]=Q,C[X]=W,U=X):(C[U]=ie,C[ue]=W,U=ue);else if(X<I&&0>i(Q,W))C[U]=Q,C[X]=W,U=X;else break e}}return F}function i(C,F){var W=C.sortIndex-F.sortIndex;return W!==0?W:C.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,h=null,f=3,g=!1,w=!1,P=!1,D=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(C){for(var F=n(l);F!==null;){if(F.callback===null)r(l);else if(F.startTime<=C)r(l),F.sortIndex=F.expirationTime,e(u,F);else break;F=n(l)}}function O(C){if(P=!1,S(C),!w)if(n(u)!==null)w=!0,x($);else{var F=n(l);F!==null&&k(O,F.startTime-C)}}function $(C,F){w=!1,P&&(P=!1,E(m),m=-1),g=!0;var W=f;try{for(S(F),h=n(u);h!==null&&(!(h.expirationTime>F)||C&&!B());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var I=U(h.expirationTime<=F);F=t.unstable_now(),typeof I=="function"?h.callback=I:h===n(u)&&r(u),S(F)}else r(u);h=n(u)}if(h!==null)var G=!0;else{var ue=n(l);ue!==null&&k(O,ue.startTime-F),G=!1}return G}finally{h=null,f=W,g=!1}}var V=!1,v=null,m=-1,b=5,T=-1;function B(){return!(t.unstable_now()-T<b)}function z(){if(v!==null){var C=t.unstable_now();T=C;var F=!0;try{F=v(!0,C)}finally{F?A():(V=!1,v=null)}}else V=!1}var A;if(typeof _=="function")A=function(){_(z)};else if(typeof MessageChannel<"u"){var p=new MessageChannel,y=p.port2;p.port1.onmessage=z,A=function(){y.postMessage(null)}}else A=function(){D(z,0)};function x(C){v=C,V||(V=!0,A())}function k(C,F){m=D(function(){C(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,x($))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(C){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var W=f;f=F;try{return C()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,F){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var W=f;f=C;try{return F()}finally{f=W}},t.unstable_scheduleCallback=function(C,F,W){var U=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?U+W:U):W=U,C){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=W+I,C={id:c++,callback:F,priorityLevel:C,startTime:W,expirationTime:I,sortIndex:-1},W>U?(C.sortIndex=W,e(l,C),n(u)===null&&C===n(l)&&(P?(E(m),m=-1):P=!0,k(O,W-U))):(C.sortIndex=I,e(u,C),w||g||(w=!0,x($))),C},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(C){var F=f;return function(){var W=f;f=F;try{return C.apply(this,arguments)}finally{f=W}}}})(OR);NR.exports=OR;var uF=NR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lF=De,bi=uF;function ye(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LR=new Set,Cd={};function Ol(t,e){fh(t,e),fh(t+"Capture",e)}function fh(t,e){for(Cd[t]=e,t=0;t<e.length;t++)LR.add(e[t])}var Vo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qb=Object.prototype.hasOwnProperty,cF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uC={},lC={};function hF(t){return Qb.call(lC,t)?!0:Qb.call(uC,t)?!1:cF.test(t)?lC[t]=!0:(uC[t]=!0,!1)}function fF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dF(t,e,n,r){if(e===null||typeof e>"u"||fF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pr[t]=new zr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pr[e]=new zr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pr[t]=new zr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pr[t]=new zr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pr[t]=new zr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pr[t]=new zr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pr[t]=new zr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pr[t]=new zr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pr[t]=new zr(t,5,!1,t.toLowerCase(),null,!1,!1)});var M3=/[\-:]([a-z])/g;function D3(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(M3,D3);pr[e]=new zr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(M3,D3);pr[e]=new zr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(M3,D3);pr[e]=new zr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pr[t]=new zr(t,1,!1,t.toLowerCase(),null,!1,!1)});pr.xlinkHref=new zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pr[t]=new zr(t,1,!1,t.toLowerCase(),null,!0,!0)});function N3(t,e,n,r){var i=pr.hasOwnProperty(e)?pr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dF(e,n,i,r)&&(n=null),r||i===null?hF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var na=lF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pg=Symbol.for("react.element"),Ec=Symbol.for("react.portal"),Ac=Symbol.for("react.fragment"),O3=Symbol.for("react.strict_mode"),Jb=Symbol.for("react.profiler"),BR=Symbol.for("react.provider"),FR=Symbol.for("react.context"),L3=Symbol.for("react.forward_ref"),Zb=Symbol.for("react.suspense"),Yb=Symbol.for("react.suspense_list"),B3=Symbol.for("react.memo"),pa=Symbol.for("react.lazy"),$R=Symbol.for("react.offscreen"),cC=Symbol.iterator;function Tf(t){return t===null||typeof t!="object"?null:(t=cC&&t[cC]||t["@@iterator"],typeof t=="function"?t:null)}var vn=Object.assign,K_;function qf(t){if(K_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);K_=e&&e[1]||""}return`
`+K_+t}var Q_=!1;function J_(t,e){if(!t||Q_)return"";Q_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Q_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qf(t):""}function pF(t){switch(t.tag){case 5:return qf(t.type);case 16:return qf("Lazy");case 13:return qf("Suspense");case 19:return qf("SuspenseList");case 0:case 2:case 15:return t=J_(t.type,!1),t;case 11:return t=J_(t.type.render,!1),t;case 1:return t=J_(t.type,!0),t;default:return""}}function Xb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ac:return"Fragment";case Ec:return"Portal";case Jb:return"Profiler";case O3:return"StrictMode";case Zb:return"Suspense";case Yb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case FR:return(t.displayName||"Context")+".Consumer";case BR:return(t._context.displayName||"Context")+".Provider";case L3:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B3:return e=t.displayName||null,e!==null?e:Xb(t.type)||"Memo";case pa:e=t._payload,t=t._init;try{return Xb(t(e))}catch{}}return null}function gF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xb(e);case 8:return e===O3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ja(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mF(t){var e=jR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gg(t){t._valueTracker||(t._valueTracker=mF(t))}function UR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function eE(t,e){var n=e.checked;return vn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ja(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VR(t,e){e=e.checked,e!=null&&N3(t,"checked",e,!1)}function tE(t,e){VR(t,e);var n=Ja(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nE(t,e.type,n):e.hasOwnProperty("defaultValue")&&nE(t,e.type,Ja(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nE(t,e,n){(e!=="number"||qm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gf=Array.isArray;function $c(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ja(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ye(91));return vn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ye(92));if(Gf(n)){if(1<n.length)throw Error(ye(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ja(n)}}function zR(t,e){var n=Ja(e.value),r=Ja(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function HR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?HR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mg,WR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mg=mg||document.createElement("div"),mg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Id(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var id={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yF=["Webkit","ms","Moz","O"];Object.keys(id).forEach(function(t){yF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),id[e]=id[t]})});function qR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||id.hasOwnProperty(t)&&id[t]?(""+e).trim():e+"px"}function GR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vF=vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sE(t,e){if(e){if(vF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ye(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ye(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ye(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ye(62))}}function oE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aE=null;function F3(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uE=null,jc=null,Uc=null;function gC(t){if(t=X0(t)){if(typeof uE!="function")throw Error(ye(280));var e=t.stateNode;e&&(e=_y(e),uE(t.stateNode,t.type,e))}}function KR(t){jc?Uc?Uc.push(t):Uc=[t]:jc=t}function QR(){if(jc){var t=jc,e=Uc;if(Uc=jc=null,gC(t),e)for(t=0;t<e.length;t++)gC(e[t])}}function JR(t,e){return t(e)}function ZR(){}var Z_=!1;function YR(t,e,n){if(Z_)return t(e,n);Z_=!0;try{return JR(t,e,n)}finally{Z_=!1,(jc!==null||Uc!==null)&&(ZR(),QR())}}function xd(t,e){var n=t.stateNode;if(n===null)return null;var r=_y(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ye(231,e,typeof n));return n}var lE=!1;if(Vo)try{var Rf={};Object.defineProperty(Rf,"passive",{get:function(){lE=!0}}),window.addEventListener("test",Rf,Rf),window.removeEventListener("test",Rf,Rf)}catch{lE=!1}function _F(t,e,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var sd=!1,Gm=null,Km=!1,cE=null,wF={onError:function(t){sd=!0,Gm=t}};function bF(t,e,n,r,i,s,o,a,u){sd=!1,Gm=null,_F.apply(wF,arguments)}function EF(t,e,n,r,i,s,o,a,u){if(bF.apply(this,arguments),sd){if(sd){var l=Gm;sd=!1,Gm=null}else throw Error(ye(198));Km||(Km=!0,cE=l)}}function Ll(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mC(t){if(Ll(t)!==t)throw Error(ye(188))}function AF(t){var e=t.alternate;if(!e){if(e=Ll(t),e===null)throw Error(ye(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return mC(i),t;if(s===r)return mC(i),e;s=s.sibling}throw Error(ye(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ye(189))}}if(n.alternate!==r)throw Error(ye(190))}if(n.tag!==3)throw Error(ye(188));return n.stateNode.current===n?t:e}function e8(t){return t=AF(t),t!==null?t8(t):null}function t8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=t8(t);if(e!==null)return e;t=t.sibling}return null}var n8=bi.unstable_scheduleCallback,yC=bi.unstable_cancelCallback,SF=bi.unstable_shouldYield,CF=bi.unstable_requestPaint,In=bi.unstable_now,IF=bi.unstable_getCurrentPriorityLevel,$3=bi.unstable_ImmediatePriority,r8=bi.unstable_UserBlockingPriority,Qm=bi.unstable_NormalPriority,xF=bi.unstable_LowPriority,i8=bi.unstable_IdlePriority,gy=null,oo=null;function TF(t){if(oo&&typeof oo.onCommitFiberRoot=="function")try{oo.onCommitFiberRoot(gy,t,void 0,(t.current.flags&128)===128)}catch{}}var As=Math.clz32?Math.clz32:PF,RF=Math.log,kF=Math.LN2;function PF(t){return t>>>=0,t===0?32:31-(RF(t)/kF|0)|0}var yg=64,vg=4194304;function Kf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Kf(a):(s&=o,s!==0&&(r=Kf(s)))}else o=n&~i,o!==0?r=Kf(o):s!==0&&(r=Kf(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-As(e),i=1<<n,r|=t[n],e&=~i;return r}function MF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-As(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=MF(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function hE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function s8(){var t=yg;return yg<<=1,!(yg&4194240)&&(yg=64),t}function Y_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Z0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-As(e),t[e]=n}function NF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-As(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function j3(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-As(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var zt=0;function o8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var a8,U3,u8,l8,c8,fE=!1,_g=[],La=null,Ba=null,Fa=null,Td=new Map,Rd=new Map,ya=[],OF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vC(t,e){switch(t){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":Td.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rd.delete(e.pointerId)}}function kf(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=X0(e),e!==null&&U3(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LF(t,e,n,r,i){switch(e){case"focusin":return La=kf(La,t,e,n,r,i),!0;case"dragenter":return Ba=kf(Ba,t,e,n,r,i),!0;case"mouseover":return Fa=kf(Fa,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Td.set(s,kf(Td.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rd.set(s,kf(Rd.get(s)||null,t,e,n,r,i)),!0}return!1}function h8(t){var e=Wu(t.target);if(e!==null){var n=Ll(e);if(n!==null){if(e=n.tag,e===13){if(e=XR(n),e!==null){t.blockedOn=e,c8(t.priority,function(){u8(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _m(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);aE=r,n.target.dispatchEvent(r),aE=null}else return e=X0(n),e!==null&&U3(e),t.blockedOn=n,!1;e.shift()}return!0}function _C(t,e,n){_m(t)&&n.delete(e)}function BF(){fE=!1,La!==null&&_m(La)&&(La=null),Ba!==null&&_m(Ba)&&(Ba=null),Fa!==null&&_m(Fa)&&(Fa=null),Td.forEach(_C),Rd.forEach(_C)}function Pf(t,e){t.blockedOn===e&&(t.blockedOn=null,fE||(fE=!0,bi.unstable_scheduleCallback(bi.unstable_NormalPriority,BF)))}function kd(t){function e(i){return Pf(i,t)}if(0<_g.length){Pf(_g[0],t);for(var n=1;n<_g.length;n++){var r=_g[n];r.blockedOn===t&&(r.blockedOn=null)}}for(La!==null&&Pf(La,t),Ba!==null&&Pf(Ba,t),Fa!==null&&Pf(Fa,t),Td.forEach(e),Rd.forEach(e),n=0;n<ya.length;n++)r=ya[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ya.length&&(n=ya[0],n.blockedOn===null);)h8(n),n.blockedOn===null&&ya.shift()}var Vc=na.ReactCurrentBatchConfig,Zm=!0;function FF(t,e,n,r){var i=zt,s=Vc.transition;Vc.transition=null;try{zt=1,V3(t,e,n,r)}finally{zt=i,Vc.transition=s}}function $F(t,e,n,r){var i=zt,s=Vc.transition;Vc.transition=null;try{zt=4,V3(t,e,n,r)}finally{zt=i,Vc.transition=s}}function V3(t,e,n,r){if(Zm){var i=dE(t,e,n,r);if(i===null)uw(t,e,r,Ym,n),vC(t,r);else if(LF(i,t,e,n,r))r.stopPropagation();else if(vC(t,r),e&4&&-1<OF.indexOf(t)){for(;i!==null;){var s=X0(i);if(s!==null&&a8(s),s=dE(t,e,n,r),s===null&&uw(t,e,r,Ym,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else uw(t,e,r,null,n)}}var Ym=null;function dE(t,e,n,r){if(Ym=null,t=F3(r),t=Wu(t),t!==null)if(e=Ll(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ym=t,null}function f8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IF()){case $3:return 1;case r8:return 4;case Qm:case xF:return 16;case i8:return 536870912;default:return 16}default:return 16}}var Ra=null,z3=null,wm=null;function d8(){if(wm)return wm;var t,e=z3,n=e.length,r,i="value"in Ra?Ra.value:Ra.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return wm=i.slice(t,1<r?1-r:void 0)}function bm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wg(){return!0}function wC(){return!1}function Ai(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wg:wC,this.isPropagationStopped=wC,this}return vn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wg)},persist:function(){},isPersistent:wg}),e}var tf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},H3=Ai(tf),Y0=vn({},tf,{view:0,detail:0}),jF=Ai(Y0),X_,ew,Mf,my=vn({},Y0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W3,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mf&&(Mf&&t.type==="mousemove"?(X_=t.screenX-Mf.screenX,ew=t.screenY-Mf.screenY):ew=X_=0,Mf=t),X_)},movementY:function(t){return"movementY"in t?t.movementY:ew}}),bC=Ai(my),UF=vn({},my,{dataTransfer:0}),VF=Ai(UF),zF=vn({},Y0,{relatedTarget:0}),tw=Ai(zF),HF=vn({},tf,{animationName:0,elapsedTime:0,pseudoElement:0}),WF=Ai(HF),qF=vn({},tf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GF=Ai(qF),KF=vn({},tf,{data:0}),EC=Ai(KF),QF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZF[t])?!!e[t]:!1}function W3(){return YF}var XF=vn({},Y0,{key:function(t){if(t.key){var e=QF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W3,charCode:function(t){return t.type==="keypress"?bm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),e$=Ai(XF),t$=vn({},my,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AC=Ai(t$),n$=vn({},Y0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W3}),r$=Ai(n$),i$=vn({},tf,{propertyName:0,elapsedTime:0,pseudoElement:0}),s$=Ai(i$),o$=vn({},my,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),a$=Ai(o$),u$=[9,13,27,32],q3=Vo&&"CompositionEvent"in window,od=null;Vo&&"documentMode"in document&&(od=document.documentMode);var l$=Vo&&"TextEvent"in window&&!od,p8=Vo&&(!q3||od&&8<od&&11>=od),SC=" ",CC=!1;function g8(t,e){switch(t){case"keyup":return u$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sc=!1;function c$(t,e){switch(t){case"compositionend":return m8(e);case"keypress":return e.which!==32?null:(CC=!0,SC);case"textInput":return t=e.data,t===SC&&CC?null:t;default:return null}}function h$(t,e){if(Sc)return t==="compositionend"||!q3&&g8(t,e)?(t=d8(),wm=z3=Ra=null,Sc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return p8&&e.locale!=="ko"?null:e.data;default:return null}}var f$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!f$[t.type]:e==="textarea"}function y8(t,e,n,r){KR(r),e=Xm(e,"onChange"),0<e.length&&(n=new H3("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ad=null,Pd=null;function d$(t){T8(t,0)}function yy(t){var e=xc(t);if(UR(e))return t}function p$(t,e){if(t==="change")return e}var v8=!1;if(Vo){var nw;if(Vo){var rw="oninput"in document;if(!rw){var xC=document.createElement("div");xC.setAttribute("oninput","return;"),rw=typeof xC.oninput=="function"}nw=rw}else nw=!1;v8=nw&&(!document.documentMode||9<document.documentMode)}function TC(){ad&&(ad.detachEvent("onpropertychange",_8),Pd=ad=null)}function _8(t){if(t.propertyName==="value"&&yy(Pd)){var e=[];y8(e,Pd,t,F3(t)),YR(d$,e)}}function g$(t,e,n){t==="focusin"?(TC(),ad=e,Pd=n,ad.attachEvent("onpropertychange",_8)):t==="focusout"&&TC()}function m$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yy(Pd)}function y$(t,e){if(t==="click")return yy(e)}function v$(t,e){if(t==="input"||t==="change")return yy(e)}function _$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xs=typeof Object.is=="function"?Object.is:_$;function Md(t,e){if(xs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qb.call(e,i)||!xs(t[i],e[i]))return!1}return!0}function RC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kC(t,e){var n=RC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=RC(n)}}function w8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?w8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function b8(){for(var t=window,e=qm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qm(t.document)}return e}function G3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function w$(t){var e=b8(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&w8(n.ownerDocument.documentElement,n)){if(r!==null&&G3(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=kC(n,s);var o=kC(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var b$=Vo&&"documentMode"in document&&11>=document.documentMode,Cc=null,pE=null,ud=null,gE=!1;function PC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gE||Cc==null||Cc!==qm(r)||(r=Cc,"selectionStart"in r&&G3(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ud&&Md(ud,r)||(ud=r,r=Xm(pE,"onSelect"),0<r.length&&(e=new H3("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Cc)))}function bg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ic={animationend:bg("Animation","AnimationEnd"),animationiteration:bg("Animation","AnimationIteration"),animationstart:bg("Animation","AnimationStart"),transitionend:bg("Transition","TransitionEnd")},iw={},E8={};Vo&&(E8=document.createElement("div").style,"AnimationEvent"in window||(delete Ic.animationend.animation,delete Ic.animationiteration.animation,delete Ic.animationstart.animation),"TransitionEvent"in window||delete Ic.transitionend.transition);function vy(t){if(iw[t])return iw[t];if(!Ic[t])return t;var e=Ic[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in E8)return iw[t]=e[n];return t}var A8=vy("animationend"),S8=vy("animationiteration"),C8=vy("animationstart"),I8=vy("transitionend"),x8=new Map,MC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lu(t,e){x8.set(t,e),Ol(e,[t])}for(var sw=0;sw<MC.length;sw++){var ow=MC[sw],E$=ow.toLowerCase(),A$=ow[0].toUpperCase()+ow.slice(1);lu(E$,"on"+A$)}lu(A8,"onAnimationEnd");lu(S8,"onAnimationIteration");lu(C8,"onAnimationStart");lu("dblclick","onDoubleClick");lu("focusin","onFocus");lu("focusout","onBlur");lu(I8,"onTransitionEnd");fh("onMouseEnter",["mouseout","mouseover"]);fh("onMouseLeave",["mouseout","mouseover"]);fh("onPointerEnter",["pointerout","pointerover"]);fh("onPointerLeave",["pointerout","pointerover"]);Ol("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ol("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ol("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ol("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ol("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ol("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qf));function DC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,EF(r,e,void 0,t),t.currentTarget=null}function T8(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;DC(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;DC(i,a,l),s=u}}}if(Km)throw t=cE,Km=!1,cE=null,t}function nn(t,e){var n=e[wE];n===void 0&&(n=e[wE]=new Set);var r=t+"__bubble";n.has(r)||(R8(e,t,2,!1),n.add(r))}function aw(t,e,n){var r=0;e&&(r|=4),R8(n,t,r,e)}var Eg="_reactListening"+Math.random().toString(36).slice(2);function Dd(t){if(!t[Eg]){t[Eg]=!0,LR.forEach(function(n){n!=="selectionchange"&&(S$.has(n)||aw(n,!1,t),aw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eg]||(e[Eg]=!0,aw("selectionchange",!1,e))}}function R8(t,e,n,r){switch(f8(e)){case 1:var i=FF;break;case 4:i=$F;break;default:i=V3}n=i.bind(null,e,n,t),i=void 0,!lE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function uw(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Wu(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}YR(function(){var l=s,c=F3(n),h=[];e:{var f=x8.get(t);if(f!==void 0){var g=H3,w=t;switch(t){case"keypress":if(bm(n)===0)break e;case"keydown":case"keyup":g=e$;break;case"focusin":w="focus",g=tw;break;case"focusout":w="blur",g=tw;break;case"beforeblur":case"afterblur":g=tw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=bC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=VF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=r$;break;case A8:case S8:case C8:g=WF;break;case I8:g=s$;break;case"scroll":g=jF;break;case"wheel":g=a$;break;case"copy":case"cut":case"paste":g=GF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=AC}var P=(e&4)!==0,D=!P&&t==="scroll",E=P?f!==null?f+"Capture":null:f;P=[];for(var _=l,S;_!==null;){S=_;var O=S.stateNode;if(S.tag===5&&O!==null&&(S=O,E!==null&&(O=xd(_,E),O!=null&&P.push(Nd(_,O,S)))),D)break;_=_.return}0<P.length&&(f=new g(f,w,null,n,c),h.push({event:f,listeners:P}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==aE&&(w=n.relatedTarget||n.fromElement)&&(Wu(w)||w[zo]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=l,w=w?Wu(w):null,w!==null&&(D=Ll(w),w!==D||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=l),g!==w)){if(P=bC,O="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(P=AC,O="onPointerLeave",E="onPointerEnter",_="pointer"),D=g==null?f:xc(g),S=w==null?f:xc(w),f=new P(O,_+"leave",g,n,c),f.target=D,f.relatedTarget=S,O=null,Wu(c)===l&&(P=new P(E,_+"enter",w,n,c),P.target=S,P.relatedTarget=D,O=P),D=O,g&&w)t:{for(P=g,E=w,_=0,S=P;S;S=tc(S))_++;for(S=0,O=E;O;O=tc(O))S++;for(;0<_-S;)P=tc(P),_--;for(;0<S-_;)E=tc(E),S--;for(;_--;){if(P===E||E!==null&&P===E.alternate)break t;P=tc(P),E=tc(E)}P=null}else P=null;g!==null&&NC(h,f,g,P,!1),w!==null&&D!==null&&NC(h,D,w,P,!0)}}e:{if(f=l?xc(l):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var $=p$;else if(IC(f))if(v8)$=v$;else{$=m$;var V=g$}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&($=y$);if($&&($=$(t,l))){y8(h,$,n,c);break e}V&&V(t,f,l),t==="focusout"&&(V=f._wrapperState)&&V.controlled&&f.type==="number"&&nE(f,"number",f.value)}switch(V=l?xc(l):window,t){case"focusin":(IC(V)||V.contentEditable==="true")&&(Cc=V,pE=l,ud=null);break;case"focusout":ud=pE=Cc=null;break;case"mousedown":gE=!0;break;case"contextmenu":case"mouseup":case"dragend":gE=!1,PC(h,n,c);break;case"selectionchange":if(b$)break;case"keydown":case"keyup":PC(h,n,c)}var v;if(q3)e:{switch(t){case"compositionstart":var m="onCompositionStart";break e;case"compositionend":m="onCompositionEnd";break e;case"compositionupdate":m="onCompositionUpdate";break e}m=void 0}else Sc?g8(t,n)&&(m="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(m="onCompositionStart");m&&(p8&&n.locale!=="ko"&&(Sc||m!=="onCompositionStart"?m==="onCompositionEnd"&&Sc&&(v=d8()):(Ra=c,z3="value"in Ra?Ra.value:Ra.textContent,Sc=!0)),V=Xm(l,m),0<V.length&&(m=new EC(m,t,null,n,c),h.push({event:m,listeners:V}),v?m.data=v:(v=m8(n),v!==null&&(m.data=v)))),(v=l$?c$(t,n):h$(t,n))&&(l=Xm(l,"onBeforeInput"),0<l.length&&(c=new EC("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:l}),c.data=v))}T8(h,e)})}function Nd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xd(t,n),s!=null&&r.unshift(Nd(t,s,i)),s=xd(t,e),s!=null&&r.push(Nd(t,s,i))),t=t.return}return r}function tc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function NC(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=xd(n,s),u!=null&&o.unshift(Nd(n,u,a))):i||(u=xd(n,s),u!=null&&o.push(Nd(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var C$=/\r\n?/g,I$=/\u0000|\uFFFD/g;function OC(t){return(typeof t=="string"?t:""+t).replace(C$,`
`).replace(I$,"")}function Ag(t,e,n){if(e=OC(e),OC(t)!==e&&n)throw Error(ye(425))}function e1(){}var mE=null,yE=null;function vE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _E=typeof setTimeout=="function"?setTimeout:void 0,x$=typeof clearTimeout=="function"?clearTimeout:void 0,LC=typeof Promise=="function"?Promise:void 0,T$=typeof queueMicrotask=="function"?queueMicrotask:typeof LC<"u"?function(t){return LC.resolve(null).then(t).catch(R$)}:_E;function R$(t){setTimeout(function(){throw t})}function lw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),kd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);kd(e)}function $a(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function BC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var nf=Math.random().toString(36).slice(2),Xs="__reactFiber$"+nf,Od="__reactProps$"+nf,zo="__reactContainer$"+nf,wE="__reactEvents$"+nf,k$="__reactListeners$"+nf,P$="__reactHandles$"+nf;function Wu(t){var e=t[Xs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zo]||n[Xs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=BC(t);t!==null;){if(n=t[Xs])return n;t=BC(t)}return e}t=n,n=t.parentNode}return null}function X0(t){return t=t[Xs]||t[zo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ye(33))}function _y(t){return t[Od]||null}var bE=[],Tc=-1;function cu(t){return{current:t}}function on(t){0>Tc||(t.current=bE[Tc],bE[Tc]=null,Tc--)}function Yt(t,e){Tc++,bE[Tc]=t.current,t.current=e}var Za={},Tr=cu(Za),Xr=cu(!1),dl=Za;function dh(t,e){var n=t.type.contextTypes;if(!n)return Za;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ei(t){return t=t.childContextTypes,t!=null}function t1(){on(Xr),on(Tr)}function FC(t,e,n){if(Tr.current!==Za)throw Error(ye(168));Yt(Tr,e),Yt(Xr,n)}function k8(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ye(108,gF(t)||"Unknown",i));return vn({},n,r)}function n1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Za,dl=Tr.current,Yt(Tr,t),Yt(Xr,Xr.current),!0}function $C(t,e,n){var r=t.stateNode;if(!r)throw Error(ye(169));n?(t=k8(t,e,dl),r.__reactInternalMemoizedMergedChildContext=t,on(Xr),on(Tr),Yt(Tr,t)):on(Xr),Yt(Xr,n)}var Po=null,wy=!1,cw=!1;function P8(t){Po===null?Po=[t]:Po.push(t)}function M$(t){wy=!0,P8(t)}function hu(){if(!cw&&Po!==null){cw=!0;var t=0,e=zt;try{var n=Po;for(zt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Po=null,wy=!1}catch(i){throw Po!==null&&(Po=Po.slice(t+1)),n8($3,hu),i}finally{zt=e,cw=!1}}return null}var Rc=[],kc=0,r1=null,i1=0,Vi=[],zi=0,pl=null,No=1,Oo="";function Lu(t,e){Rc[kc++]=i1,Rc[kc++]=r1,r1=t,i1=e}function M8(t,e,n){Vi[zi++]=No,Vi[zi++]=Oo,Vi[zi++]=pl,pl=t;var r=No;t=Oo;var i=32-As(r)-1;r&=~(1<<i),n+=1;var s=32-As(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,No=1<<32-As(e)+i|n<<i|r,Oo=s+t}else No=1<<s|n<<i|r,Oo=t}function K3(t){t.return!==null&&(Lu(t,1),M8(t,1,0))}function Q3(t){for(;t===r1;)r1=Rc[--kc],Rc[kc]=null,i1=Rc[--kc],Rc[kc]=null;for(;t===pl;)pl=Vi[--zi],Vi[zi]=null,Oo=Vi[--zi],Vi[zi]=null,No=Vi[--zi],Vi[zi]=null}var yi=null,pi=null,an=!1,_s=null;function D8(t,e){var n=qi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yi=t,pi=$a(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yi=t,pi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pl!==null?{id:No,overflow:Oo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yi=t,pi=null,!0):!1;default:return!1}}function EE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function AE(t){if(an){var e=pi;if(e){var n=e;if(!jC(t,e)){if(EE(t))throw Error(ye(418));e=$a(n.nextSibling);var r=yi;e&&jC(t,e)?D8(r,n):(t.flags=t.flags&-4097|2,an=!1,yi=t)}}else{if(EE(t))throw Error(ye(418));t.flags=t.flags&-4097|2,an=!1,yi=t}}}function UC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yi=t}function Sg(t){if(t!==yi)return!1;if(!an)return UC(t),an=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vE(t.type,t.memoizedProps)),e&&(e=pi)){if(EE(t))throw N8(),Error(ye(418));for(;e;)D8(t,e),e=$a(e.nextSibling)}if(UC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ye(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pi=$a(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pi=null}}else pi=yi?$a(t.stateNode.nextSibling):null;return!0}function N8(){for(var t=pi;t;)t=$a(t.nextSibling)}function ph(){pi=yi=null,an=!1}function J3(t){_s===null?_s=[t]:_s.push(t)}var D$=na.ReactCurrentBatchConfig;function Df(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ye(309));var r=n.stateNode}if(!r)throw Error(ye(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ye(284));if(!n._owner)throw Error(ye(290,t))}return t}function Cg(t,e){throw t=Object.prototype.toString.call(e),Error(ye(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function VC(t){var e=t._init;return e(t._payload)}function O8(t){function e(E,_){if(t){var S=E.deletions;S===null?(E.deletions=[_],E.flags|=16):S.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function i(E,_){return E=za(E,_),E.index=0,E.sibling=null,E}function s(E,_,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<_?(E.flags|=2,_):S):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,S,O){return _===null||_.tag!==6?(_=yw(S,E.mode,O),_.return=E,_):(_=i(_,S),_.return=E,_)}function u(E,_,S,O){var $=S.type;return $===Ac?c(E,_,S.props.children,O,S.key):_!==null&&(_.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===pa&&VC($)===_.type)?(O=i(_,S.props),O.ref=Df(E,_,S),O.return=E,O):(O=Tm(S.type,S.key,S.props,null,E.mode,O),O.ref=Df(E,_,S),O.return=E,O)}function l(E,_,S,O){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=vw(S,E.mode,O),_.return=E,_):(_=i(_,S.children||[]),_.return=E,_)}function c(E,_,S,O,$){return _===null||_.tag!==7?(_=sl(S,E.mode,O,$),_.return=E,_):(_=i(_,S),_.return=E,_)}function h(E,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=yw(""+_,E.mode,S),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case pg:return S=Tm(_.type,_.key,_.props,null,E.mode,S),S.ref=Df(E,null,_),S.return=E,S;case Ec:return _=vw(_,E.mode,S),_.return=E,_;case pa:var O=_._init;return h(E,O(_._payload),S)}if(Gf(_)||Tf(_))return _=sl(_,E.mode,S,null),_.return=E,_;Cg(E,_)}return null}function f(E,_,S,O){var $=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return $!==null?null:a(E,_,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case pg:return S.key===$?u(E,_,S,O):null;case Ec:return S.key===$?l(E,_,S,O):null;case pa:return $=S._init,f(E,_,$(S._payload),O)}if(Gf(S)||Tf(S))return $!==null?null:c(E,_,S,O,null);Cg(E,S)}return null}function g(E,_,S,O,$){if(typeof O=="string"&&O!==""||typeof O=="number")return E=E.get(S)||null,a(_,E,""+O,$);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case pg:return E=E.get(O.key===null?S:O.key)||null,u(_,E,O,$);case Ec:return E=E.get(O.key===null?S:O.key)||null,l(_,E,O,$);case pa:var V=O._init;return g(E,_,S,V(O._payload),$)}if(Gf(O)||Tf(O))return E=E.get(S)||null,c(_,E,O,$,null);Cg(_,O)}return null}function w(E,_,S,O){for(var $=null,V=null,v=_,m=_=0,b=null;v!==null&&m<S.length;m++){v.index>m?(b=v,v=null):b=v.sibling;var T=f(E,v,S[m],O);if(T===null){v===null&&(v=b);break}t&&v&&T.alternate===null&&e(E,v),_=s(T,_,m),V===null?$=T:V.sibling=T,V=T,v=b}if(m===S.length)return n(E,v),an&&Lu(E,m),$;if(v===null){for(;m<S.length;m++)v=h(E,S[m],O),v!==null&&(_=s(v,_,m),V===null?$=v:V.sibling=v,V=v);return an&&Lu(E,m),$}for(v=r(E,v);m<S.length;m++)b=g(v,E,m,S[m],O),b!==null&&(t&&b.alternate!==null&&v.delete(b.key===null?m:b.key),_=s(b,_,m),V===null?$=b:V.sibling=b,V=b);return t&&v.forEach(function(B){return e(E,B)}),an&&Lu(E,m),$}function P(E,_,S,O){var $=Tf(S);if(typeof $!="function")throw Error(ye(150));if(S=$.call(S),S==null)throw Error(ye(151));for(var V=$=null,v=_,m=_=0,b=null,T=S.next();v!==null&&!T.done;m++,T=S.next()){v.index>m?(b=v,v=null):b=v.sibling;var B=f(E,v,T.value,O);if(B===null){v===null&&(v=b);break}t&&v&&B.alternate===null&&e(E,v),_=s(B,_,m),V===null?$=B:V.sibling=B,V=B,v=b}if(T.done)return n(E,v),an&&Lu(E,m),$;if(v===null){for(;!T.done;m++,T=S.next())T=h(E,T.value,O),T!==null&&(_=s(T,_,m),V===null?$=T:V.sibling=T,V=T);return an&&Lu(E,m),$}for(v=r(E,v);!T.done;m++,T=S.next())T=g(v,E,m,T.value,O),T!==null&&(t&&T.alternate!==null&&v.delete(T.key===null?m:T.key),_=s(T,_,m),V===null?$=T:V.sibling=T,V=T);return t&&v.forEach(function(z){return e(E,z)}),an&&Lu(E,m),$}function D(E,_,S,O){if(typeof S=="object"&&S!==null&&S.type===Ac&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case pg:e:{for(var $=S.key,V=_;V!==null;){if(V.key===$){if($=S.type,$===Ac){if(V.tag===7){n(E,V.sibling),_=i(V,S.props.children),_.return=E,E=_;break e}}else if(V.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===pa&&VC($)===V.type){n(E,V.sibling),_=i(V,S.props),_.ref=Df(E,V,S),_.return=E,E=_;break e}n(E,V);break}else e(E,V);V=V.sibling}S.type===Ac?(_=sl(S.props.children,E.mode,O,S.key),_.return=E,E=_):(O=Tm(S.type,S.key,S.props,null,E.mode,O),O.ref=Df(E,_,S),O.return=E,E=O)}return o(E);case Ec:e:{for(V=S.key;_!==null;){if(_.key===V)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(E,_.sibling),_=i(_,S.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=vw(S,E.mode,O),_.return=E,E=_}return o(E);case pa:return V=S._init,D(E,_,V(S._payload),O)}if(Gf(S))return w(E,_,S,O);if(Tf(S))return P(E,_,S,O);Cg(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(E,_.sibling),_=i(_,S),_.return=E,E=_):(n(E,_),_=yw(S,E.mode,O),_.return=E,E=_),o(E)):n(E,_)}return D}var gh=O8(!0),L8=O8(!1),s1=cu(null),o1=null,Pc=null,Z3=null;function Y3(){Z3=Pc=o1=null}function X3(t){var e=s1.current;on(s1),t._currentValue=e}function SE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zc(t,e){o1=t,Z3=Pc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yr=!0),t.firstContext=null)}function es(t){var e=t._currentValue;if(Z3!==t)if(t={context:t,memoizedValue:e,next:null},Pc===null){if(o1===null)throw Error(ye(308));Pc=t,o1.dependencies={lanes:0,firstContext:t}}else Pc=Pc.next=t;return e}var qu=null;function eA(t){qu===null?qu=[t]:qu.push(t)}function B8(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,eA(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ho(t,r)}function Ho(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ga=!1;function tA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ja(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Dt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ho(t,n)}return i=r.interleaved,i===null?(e.next=e,eA(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ho(t,n)}function Em(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,j3(t,n)}}function zC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function a1(t,e,n,r){var i=t.updateQueue;ga=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,c=l=u=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,P=a;switch(f=e,g=n,P.tag){case 1:if(w=P.payload,typeof w=="function"){h=w.call(g,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=P.payload,f=typeof w=="function"?w.call(g,h,f):w,f==null)break e;h=vn({},h,f);break e;case 2:ga=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=g,u=h):c=c.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ml|=o,t.lanes=o,t.memoizedState=h}}function HC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ye(191,i));i.call(r)}}}var ep={},ao=cu(ep),Ld=cu(ep),Bd=cu(ep);function Gu(t){if(t===ep)throw Error(ye(174));return t}function nA(t,e){switch(Yt(Bd,e),Yt(Ld,t),Yt(ao,ep),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=iE(e,t)}on(ao),Yt(ao,e)}function mh(){on(ao),on(Ld),on(Bd)}function $8(t){Gu(Bd.current);var e=Gu(ao.current),n=iE(e,t.type);e!==n&&(Yt(Ld,t),Yt(ao,n))}function rA(t){Ld.current===t&&(on(ao),on(Ld))}var gn=cu(0);function u1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hw=[];function iA(){for(var t=0;t<hw.length;t++)hw[t]._workInProgressVersionPrimary=null;hw.length=0}var Am=na.ReactCurrentDispatcher,fw=na.ReactCurrentBatchConfig,gl=0,yn=null,Nn=null,Zn=null,l1=!1,ld=!1,Fd=0,N$=0;function vr(){throw Error(ye(321))}function sA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xs(t[n],e[n]))return!1;return!0}function oA(t,e,n,r,i,s){if(gl=s,yn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Am.current=t===null||t.memoizedState===null?F$:$$,t=n(r,i),ld){s=0;do{if(ld=!1,Fd=0,25<=s)throw Error(ye(301));s+=1,Zn=Nn=null,e.updateQueue=null,Am.current=j$,t=n(r,i)}while(ld)}if(Am.current=c1,e=Nn!==null&&Nn.next!==null,gl=0,Zn=Nn=yn=null,l1=!1,e)throw Error(ye(300));return t}function aA(){var t=Fd!==0;return Fd=0,t}function Ws(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?yn.memoizedState=Zn=t:Zn=Zn.next=t,Zn}function ts(){if(Nn===null){var t=yn.alternate;t=t!==null?t.memoizedState:null}else t=Nn.next;var e=Zn===null?yn.memoizedState:Zn.next;if(e!==null)Zn=e,Nn=t;else{if(t===null)throw Error(ye(310));Nn=t,t={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Zn===null?yn.memoizedState=Zn=t:Zn=Zn.next=t}return Zn}function $d(t,e){return typeof e=="function"?e(t):e}function dw(t){var e=ts(),n=e.queue;if(n===null)throw Error(ye(311));n.lastRenderedReducer=t;var r=Nn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((gl&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,yn.lanes|=c,ml|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,xs(r,e.memoizedState)||(Yr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,yn.lanes|=s,ml|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pw(t){var e=ts(),n=e.queue;if(n===null)throw Error(ye(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);xs(s,e.memoizedState)||(Yr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function j8(){}function U8(t,e){var n=yn,r=ts(),i=e(),s=!xs(r.memoizedState,i);if(s&&(r.memoizedState=i,Yr=!0),r=r.queue,uA(H8.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Zn!==null&&Zn.memoizedState.tag&1){if(n.flags|=2048,jd(9,z8.bind(null,n,r,i,e),void 0,null),Xn===null)throw Error(ye(349));gl&30||V8(n,e,i)}return i}function V8(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yn.updateQueue,e===null?(e={lastEffect:null,stores:null},yn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function z8(t,e,n,r){e.value=n,e.getSnapshot=r,W8(e)&&q8(t)}function H8(t,e,n){return n(function(){W8(e)&&q8(t)})}function W8(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xs(t,n)}catch{return!0}}function q8(t){var e=Ho(t,1);e!==null&&Ss(e,t,1,-1)}function WC(t){var e=Ws();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:t},e.queue=t,t=t.dispatch=B$.bind(null,yn,t),[e.memoizedState,t]}function jd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=yn.updateQueue,e===null?(e={lastEffect:null,stores:null},yn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function G8(){return ts().memoizedState}function Sm(t,e,n,r){var i=Ws();yn.flags|=t,i.memoizedState=jd(1|e,n,void 0,r===void 0?null:r)}function by(t,e,n,r){var i=ts();r=r===void 0?null:r;var s=void 0;if(Nn!==null){var o=Nn.memoizedState;if(s=o.destroy,r!==null&&sA(r,o.deps)){i.memoizedState=jd(e,n,s,r);return}}yn.flags|=t,i.memoizedState=jd(1|e,n,s,r)}function qC(t,e){return Sm(8390656,8,t,e)}function uA(t,e){return by(2048,8,t,e)}function K8(t,e){return by(4,2,t,e)}function Q8(t,e){return by(4,4,t,e)}function J8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Z8(t,e,n){return n=n!=null?n.concat([t]):null,by(4,4,J8.bind(null,e,t),n)}function lA(){}function Y8(t,e){var n=ts();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sA(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function X8(t,e){var n=ts();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sA(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ek(t,e,n){return gl&21?(xs(n,e)||(n=s8(),yn.lanes|=n,ml|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yr=!0),t.memoizedState=n)}function O$(t,e){var n=zt;zt=n!==0&&4>n?n:4,t(!0);var r=fw.transition;fw.transition={};try{t(!1),e()}finally{zt=n,fw.transition=r}}function tk(){return ts().memoizedState}function L$(t,e,n){var r=Va(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nk(t))rk(e,n);else if(n=B8(t,e,n,r),n!==null){var i=$r();Ss(n,t,r,i),ik(n,e,r)}}function B$(t,e,n){var r=Va(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nk(t))rk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,xs(a,o)){var u=e.interleaved;u===null?(i.next=i,eA(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=B8(t,e,i,r),n!==null&&(i=$r(),Ss(n,t,r,i),ik(n,e,r))}}function nk(t){var e=t.alternate;return t===yn||e!==null&&e===yn}function rk(t,e){ld=l1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ik(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,j3(t,n)}}var c1={readContext:es,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},F$={readContext:es,useCallback:function(t,e){return Ws().memoizedState=[t,e===void 0?null:e],t},useContext:es,useEffect:qC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sm(4194308,4,J8.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sm(4,2,t,e)},useMemo:function(t,e){var n=Ws();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ws();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=L$.bind(null,yn,t),[r.memoizedState,t]},useRef:function(t){var e=Ws();return t={current:t},e.memoizedState=t},useState:WC,useDebugValue:lA,useDeferredValue:function(t){return Ws().memoizedState=t},useTransition:function(){var t=WC(!1),e=t[0];return t=O$.bind(null,t[1]),Ws().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=yn,i=Ws();if(an){if(n===void 0)throw Error(ye(407));n=n()}else{if(n=e(),Xn===null)throw Error(ye(349));gl&30||V8(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,qC(H8.bind(null,r,s,t),[t]),r.flags|=2048,jd(9,z8.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ws(),e=Xn.identifierPrefix;if(an){var n=Oo,r=No;n=(r&~(1<<32-As(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=N$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$$={readContext:es,useCallback:Y8,useContext:es,useEffect:uA,useImperativeHandle:Z8,useInsertionEffect:K8,useLayoutEffect:Q8,useMemo:X8,useReducer:dw,useRef:G8,useState:function(){return dw($d)},useDebugValue:lA,useDeferredValue:function(t){var e=ts();return ek(e,Nn.memoizedState,t)},useTransition:function(){var t=dw($d)[0],e=ts().memoizedState;return[t,e]},useMutableSource:j8,useSyncExternalStore:U8,useId:tk,unstable_isNewReconciler:!1},j$={readContext:es,useCallback:Y8,useContext:es,useEffect:uA,useImperativeHandle:Z8,useInsertionEffect:K8,useLayoutEffect:Q8,useMemo:X8,useReducer:pw,useRef:G8,useState:function(){return pw($d)},useDebugValue:lA,useDeferredValue:function(t){var e=ts();return Nn===null?e.memoizedState=t:ek(e,Nn.memoizedState,t)},useTransition:function(){var t=pw($d)[0],e=ts().memoizedState;return[t,e]},useMutableSource:j8,useSyncExternalStore:U8,useId:tk,unstable_isNewReconciler:!1};function gs(t,e){if(t&&t.defaultProps){e=vn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function CE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ey={isMounted:function(t){return(t=t._reactInternals)?Ll(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$r(),i=Va(t),s=Bo(r,i);s.payload=e,n!=null&&(s.callback=n),e=ja(t,s,i),e!==null&&(Ss(e,t,i,r),Em(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$r(),i=Va(t),s=Bo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ja(t,s,i),e!==null&&(Ss(e,t,i,r),Em(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$r(),r=Va(t),i=Bo(n,r);i.tag=2,e!=null&&(i.callback=e),e=ja(t,i,r),e!==null&&(Ss(e,t,r,n),Em(e,t,r))}};function GC(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Md(n,r)||!Md(i,s):!0}function sk(t,e,n){var r=!1,i=Za,s=e.contextType;return typeof s=="object"&&s!==null?s=es(s):(i=ei(e)?dl:Tr.current,r=e.contextTypes,s=(r=r!=null)?dh(t,i):Za),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ey,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function KC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ey.enqueueReplaceState(e,e.state,null)}function IE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},tA(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=es(s):(s=ei(e)?dl:Tr.current,i.context=dh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(CE(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ey.enqueueReplaceState(i,i.state,null),a1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yh(t,e){try{var n="",r=e;do n+=pF(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function gw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var U$=typeof WeakMap=="function"?WeakMap:Map;function ok(t,e,n){n=Bo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){f1||(f1=!0,BE=r),xE(t,e)},n}function ak(t,e,n){n=Bo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xE(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){xE(t,e),typeof r!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function QC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new U$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=tj.bind(null,t,e,n),e.then(t,t))}function JC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bo(-1,1),e.tag=2,ja(n,e,1))),n.lanes|=1),t)}var V$=na.ReactCurrentOwner,Yr=!1;function Lr(t,e,n,r){e.child=t===null?L8(e,null,n,r):gh(e,t.child,n,r)}function YC(t,e,n,r,i){n=n.render;var s=e.ref;return zc(e,i),r=oA(t,e,n,r,s,i),n=aA(),t!==null&&!Yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wo(t,e,i)):(an&&n&&K3(e),e.flags|=1,Lr(t,e,r,i),e.child)}function XC(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!yA(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,uk(t,e,s,r,i)):(t=Tm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Md,n(o,r)&&t.ref===e.ref)return Wo(t,e,i)}return e.flags|=1,t=za(s,r),t.ref=e.ref,t.return=e,e.child=t}function uk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Md(s,r)&&t.ref===e.ref)if(Yr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Yr=!0);else return e.lanes=t.lanes,Wo(t,e,i)}return TE(t,e,n,r,i)}function lk(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(Dc,di),di|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Yt(Dc,di),di|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Yt(Dc,di),di|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Yt(Dc,di),di|=r;return Lr(t,e,i,n),e.child}function ck(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function TE(t,e,n,r,i){var s=ei(n)?dl:Tr.current;return s=dh(e,s),zc(e,i),n=oA(t,e,n,r,s,i),r=aA(),t!==null&&!Yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wo(t,e,i)):(an&&r&&K3(e),e.flags|=1,Lr(t,e,n,i),e.child)}function e6(t,e,n,r,i){if(ei(n)){var s=!0;n1(e)}else s=!1;if(zc(e,i),e.stateNode===null)Cm(t,e),sk(e,n,r),IE(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=es(l):(l=ei(n)?dl:Tr.current,l=dh(e,l));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&KC(e,o,r,l),ga=!1;var f=e.memoizedState;o.state=f,a1(e,r,o,i),u=e.memoizedState,a!==r||f!==u||Xr.current||ga?(typeof c=="function"&&(CE(e,n,c,r),u=e.memoizedState),(a=ga||GC(e,n,a,r,f,u,l))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,F8(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:gs(e.type,a),o.props=l,h=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=es(u):(u=ei(n)?dl:Tr.current,u=dh(e,u));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==u)&&KC(e,o,r,u),ga=!1,f=e.memoizedState,o.state=f,a1(e,r,o,i);var w=e.memoizedState;a!==h||f!==w||Xr.current||ga?(typeof g=="function"&&(CE(e,n,g,r),w=e.memoizedState),(l=ga||GC(e,n,l,r,f,w,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return RE(t,e,n,r,s,i)}function RE(t,e,n,r,i,s){ck(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$C(e,n,!1),Wo(t,e,s);r=e.stateNode,V$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=gh(e,t.child,null,s),e.child=gh(e,null,a,s)):Lr(t,e,a,s),e.memoizedState=r.state,i&&$C(e,n,!0),e.child}function hk(t){var e=t.stateNode;e.pendingContext?FC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&FC(t,e.context,!1),nA(t,e.containerInfo)}function t6(t,e,n,r,i){return ph(),J3(i),e.flags|=256,Lr(t,e,n,r),e.child}var kE={dehydrated:null,treeContext:null,retryLane:0};function PE(t){return{baseLanes:t,cachePool:null,transitions:null}}function fk(t,e,n){var r=e.pendingProps,i=gn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Yt(gn,i&1),t===null)return AE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Cy(o,r,0,null),t=sl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=PE(n),e.memoizedState=kE,t):cA(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return z$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=za(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=za(a,s):(s=sl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?PE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=kE,r}return s=t.child,t=s.sibling,r=za(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cA(t,e){return e=Cy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ig(t,e,n,r){return r!==null&&J3(r),gh(e,t.child,null,n),t=cA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function z$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=gw(Error(ye(422))),Ig(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Cy({mode:"visible",children:r.children},i,0,null),s=sl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&gh(e,t.child,null,o),e.child.memoizedState=PE(o),e.memoizedState=kE,s);if(!(e.mode&1))return Ig(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ye(419)),r=gw(s,r,void 0),Ig(t,e,o,r)}if(a=(o&t.childLanes)!==0,Yr||a){if(r=Xn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ho(t,i),Ss(r,t,i,-1))}return mA(),r=gw(Error(ye(421))),Ig(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nj.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,pi=$a(i.nextSibling),yi=e,an=!0,_s=null,t!==null&&(Vi[zi++]=No,Vi[zi++]=Oo,Vi[zi++]=pl,No=t.id,Oo=t.overflow,pl=e),e=cA(e,r.children),e.flags|=4096,e)}function n6(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),SE(t.return,e,n)}function mw(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function dk(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Lr(t,e,r.children,n),r=gn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n6(t,n,e);else if(t.tag===19)n6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Yt(gn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&u1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),mw(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&u1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}mw(e,!0,n,null,s);break;case"together":mw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ml|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ye(153));if(e.child!==null){for(t=e.child,n=za(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=za(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function H$(t,e,n){switch(e.tag){case 3:hk(e),ph();break;case 5:$8(e);break;case 1:ei(e.type)&&n1(e);break;case 4:nA(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Yt(s1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Yt(gn,gn.current&1),e.flags|=128,null):n&e.child.childLanes?fk(t,e,n):(Yt(gn,gn.current&1),t=Wo(t,e,n),t!==null?t.sibling:null);Yt(gn,gn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yt(gn,gn.current),r)break;return null;case 22:case 23:return e.lanes=0,lk(t,e,n)}return Wo(t,e,n)}var pk,ME,gk,mk;pk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ME=function(){};gk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Gu(ao.current);var s=null;switch(n){case"input":i=eE(t,i),r=eE(t,r),s=[];break;case"select":i=vn({},i,{value:void 0}),r=vn({},r,{value:void 0}),s=[];break;case"textarea":i=rE(t,i),r=rE(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=e1)}sE(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Cd.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Cd.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&nn("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};mk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Nf(t,e){if(!an)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _r(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function W$(t,e,n){var r=e.pendingProps;switch(Q3(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(e),null;case 1:return ei(e.type)&&t1(),_r(e),null;case 3:return r=e.stateNode,mh(),on(Xr),on(Tr),iA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_s!==null&&(jE(_s),_s=null))),ME(t,e),_r(e),null;case 5:rA(e);var i=Gu(Bd.current);if(n=e.type,t!==null&&e.stateNode!=null)gk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ye(166));return _r(e),null}if(t=Gu(ao.current),Sg(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Xs]=e,r[Od]=s,t=(e.mode&1)!==0,n){case"dialog":nn("cancel",r),nn("close",r);break;case"iframe":case"object":case"embed":nn("load",r);break;case"video":case"audio":for(i=0;i<Qf.length;i++)nn(Qf[i],r);break;case"source":nn("error",r);break;case"img":case"image":case"link":nn("error",r),nn("load",r);break;case"details":nn("toggle",r);break;case"input":hC(r,s),nn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},nn("invalid",r);break;case"textarea":dC(r,s),nn("invalid",r)}sE(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ag(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ag(r.textContent,a,t),i=["children",""+a]):Cd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nn("scroll",r)}switch(n){case"input":gg(r),fC(r,s,!0);break;case"textarea":gg(r),pC(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=e1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=HR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xs]=e,t[Od]=r,pk(t,e,!1,!1),e.stateNode=t;e:{switch(o=oE(n,r),n){case"dialog":nn("cancel",t),nn("close",t),i=r;break;case"iframe":case"object":case"embed":nn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qf.length;i++)nn(Qf[i],t);i=r;break;case"source":nn("error",t),i=r;break;case"img":case"image":case"link":nn("error",t),nn("load",t),i=r;break;case"details":nn("toggle",t),i=r;break;case"input":hC(t,r),i=eE(t,r),nn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vn({},r,{value:void 0}),nn("invalid",t);break;case"textarea":dC(t,r),i=rE(t,r),nn("invalid",t);break;default:i=r}sE(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?GR(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&WR(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Id(t,u):typeof u=="number"&&Id(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cd.hasOwnProperty(s)?u!=null&&s==="onScroll"&&nn("scroll",t):u!=null&&N3(t,s,u,o))}switch(n){case"input":gg(t),fC(t,r,!1);break;case"textarea":gg(t),pC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ja(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?$c(t,!!r.multiple,s,!1):r.defaultValue!=null&&$c(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=e1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _r(e),null;case 6:if(t&&e.stateNode!=null)mk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ye(166));if(n=Gu(Bd.current),Gu(ao.current),Sg(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xs]=e,(s=r.nodeValue!==n)&&(t=yi,t!==null))switch(t.tag){case 3:Ag(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ag(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xs]=e,e.stateNode=r}return _r(e),null;case 13:if(on(gn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(an&&pi!==null&&e.mode&1&&!(e.flags&128))N8(),ph(),e.flags|=98560,s=!1;else if(s=Sg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ye(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ye(317));s[Xs]=e}else ph(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_r(e),s=!1}else _s!==null&&(jE(_s),_s=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||gn.current&1?Fn===0&&(Fn=3):mA())),e.updateQueue!==null&&(e.flags|=4),_r(e),null);case 4:return mh(),ME(t,e),t===null&&Dd(e.stateNode.containerInfo),_r(e),null;case 10:return X3(e.type._context),_r(e),null;case 17:return ei(e.type)&&t1(),_r(e),null;case 19:if(on(gn),s=e.memoizedState,s===null)return _r(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Nf(s,!1);else{if(Fn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=u1(t),o!==null){for(e.flags|=128,Nf(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Yt(gn,gn.current&1|2),e.child}t=t.sibling}s.tail!==null&&In()>vh&&(e.flags|=128,r=!0,Nf(s,!1),e.lanes=4194304)}else{if(!r)if(t=u1(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Nf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!an)return _r(e),null}else 2*In()-s.renderingStartTime>vh&&n!==1073741824&&(e.flags|=128,r=!0,Nf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=In(),e.sibling=null,n=gn.current,Yt(gn,r?n&1|2:n&1),e):(_r(e),null);case 22:case 23:return gA(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?di&1073741824&&(_r(e),e.subtreeFlags&6&&(e.flags|=8192)):_r(e),null;case 24:return null;case 25:return null}throw Error(ye(156,e.tag))}function q$(t,e){switch(Q3(e),e.tag){case 1:return ei(e.type)&&t1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mh(),on(Xr),on(Tr),iA(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rA(e),null;case 13:if(on(gn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ye(340));ph()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return on(gn),null;case 4:return mh(),null;case 10:return X3(e.type._context),null;case 22:case 23:return gA(),null;case 24:return null;default:return null}}var xg=!1,Cr=!1,G$=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Mc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){En(t,e,r)}else n.current=null}function DE(t,e,n){try{n()}catch(r){En(t,e,r)}}var r6=!1;function K$(t,e){if(mE=Zm,t=b8(),G3(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,h=t,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++l===i&&(a=o),f===s&&++c===r&&(u=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(yE={focusedElem:t,selectionRange:n},Zm=!1,Oe=e;Oe!==null;)if(e=Oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Oe=t;else for(;Oe!==null;){e=Oe;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var P=w.memoizedProps,D=w.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?P:gs(e.type,P),D);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(O){En(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}return w=r6,r6=!1,w}function cd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&DE(e,n,s)}i=i.next}while(i!==r)}}function Ay(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function NE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yk(t){var e=t.alternate;e!==null&&(t.alternate=null,yk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xs],delete e[Od],delete e[wE],delete e[k$],delete e[P$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vk(t){return t.tag===5||t.tag===3||t.tag===4}function i6(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function OE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=e1));else if(r!==4&&(t=t.child,t!==null))for(OE(t,e,n),t=t.sibling;t!==null;)OE(t,e,n),t=t.sibling}function LE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(LE(t,e,n),t=t.sibling;t!==null;)LE(t,e,n),t=t.sibling}var sr=null,vs=!1;function aa(t,e,n){for(n=n.child;n!==null;)_k(t,e,n),n=n.sibling}function _k(t,e,n){if(oo&&typeof oo.onCommitFiberUnmount=="function")try{oo.onCommitFiberUnmount(gy,n)}catch{}switch(n.tag){case 5:Cr||Mc(n,e);case 6:var r=sr,i=vs;sr=null,aa(t,e,n),sr=r,vs=i,sr!==null&&(vs?(t=sr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):sr.removeChild(n.stateNode));break;case 18:sr!==null&&(vs?(t=sr,n=n.stateNode,t.nodeType===8?lw(t.parentNode,n):t.nodeType===1&&lw(t,n),kd(t)):lw(sr,n.stateNode));break;case 4:r=sr,i=vs,sr=n.stateNode.containerInfo,vs=!0,aa(t,e,n),sr=r,vs=i;break;case 0:case 11:case 14:case 15:if(!Cr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&DE(n,e,o),i=i.next}while(i!==r)}aa(t,e,n);break;case 1:if(!Cr&&(Mc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){En(n,e,a)}aa(t,e,n);break;case 21:aa(t,e,n);break;case 22:n.mode&1?(Cr=(r=Cr)||n.memoizedState!==null,aa(t,e,n),Cr=r):aa(t,e,n);break;default:aa(t,e,n)}}function s6(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new G$),e.forEach(function(r){var i=rj.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:sr=a.stateNode,vs=!1;break e;case 3:sr=a.stateNode.containerInfo,vs=!0;break e;case 4:sr=a.stateNode.containerInfo,vs=!0;break e}a=a.return}if(sr===null)throw Error(ye(160));_k(s,o,i),sr=null,vs=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){En(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wk(e,t),e=e.sibling}function wk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cs(e,t),$s(t),r&4){try{cd(3,t,t.return),Ay(3,t)}catch(P){En(t,t.return,P)}try{cd(5,t,t.return)}catch(P){En(t,t.return,P)}}break;case 1:cs(e,t),$s(t),r&512&&n!==null&&Mc(n,n.return);break;case 5:if(cs(e,t),$s(t),r&512&&n!==null&&Mc(n,n.return),t.flags&32){var i=t.stateNode;try{Id(i,"")}catch(P){En(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&VR(i,s),oE(a,o);var l=oE(a,s);for(o=0;o<u.length;o+=2){var c=u[o],h=u[o+1];c==="style"?GR(i,h):c==="dangerouslySetInnerHTML"?WR(i,h):c==="children"?Id(i,h):N3(i,c,h,l)}switch(a){case"input":tE(i,s);break;case"textarea":zR(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?$c(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?$c(i,!!s.multiple,s.defaultValue,!0):$c(i,!!s.multiple,s.multiple?[]:"",!1))}i[Od]=s}catch(P){En(t,t.return,P)}}break;case 6:if(cs(e,t),$s(t),r&4){if(t.stateNode===null)throw Error(ye(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(P){En(t,t.return,P)}}break;case 3:if(cs(e,t),$s(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kd(e.containerInfo)}catch(P){En(t,t.return,P)}break;case 4:cs(e,t),$s(t);break;case 13:cs(e,t),$s(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dA=In())),r&4&&s6(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Cr=(l=Cr)||c,cs(e,t),Cr=l):cs(e,t),$s(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(Oe=t,c=t.child;c!==null;){for(h=Oe=c;Oe!==null;){switch(f=Oe,g=f.child,f.tag){case 0:case 11:case 14:case 15:cd(4,f,f.return);break;case 1:Mc(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(P){En(r,n,P)}}break;case 5:Mc(f,f.return);break;case 22:if(f.memoizedState!==null){a6(h);continue}}g!==null?(g.return=f,Oe=g):a6(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=qR("display",o))}catch(P){En(t,t.return,P)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(P){En(t,t.return,P)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:cs(e,t),$s(t),r&4&&s6(t);break;case 21:break;default:cs(e,t),$s(t)}}function $s(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vk(n)){var r=n;break e}n=n.return}throw Error(ye(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Id(i,""),r.flags&=-33);var s=i6(t);LE(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=i6(t);OE(t,a,o);break;default:throw Error(ye(161))}}catch(u){En(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Q$(t,e,n){Oe=t,bk(t)}function bk(t,e,n){for(var r=(t.mode&1)!==0;Oe!==null;){var i=Oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||xg;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Cr;a=xg;var l=Cr;if(xg=o,(Cr=u)&&!l)for(Oe=i;Oe!==null;)o=Oe,u=o.child,o.tag===22&&o.memoizedState!==null?u6(i):u!==null?(u.return=o,Oe=u):u6(i);for(;s!==null;)Oe=s,bk(s),s=s.sibling;Oe=i,xg=a,Cr=l}o6(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Oe=s):o6(t)}}function o6(t){for(;Oe!==null;){var e=Oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Cr||Ay(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Cr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&HC(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}HC(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&kd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}Cr||e.flags&512&&NE(e)}catch(f){En(e,e.return,f)}}if(e===t){Oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Oe=n;break}Oe=e.return}}function a6(t){for(;Oe!==null;){var e=Oe;if(e===t){Oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Oe=n;break}Oe=e.return}}function u6(t){for(;Oe!==null;){var e=Oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ay(4,e)}catch(u){En(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){En(e,i,u)}}var s=e.return;try{NE(e)}catch(u){En(e,s,u)}break;case 5:var o=e.return;try{NE(e)}catch(u){En(e,o,u)}}}catch(u){En(e,e.return,u)}if(e===t){Oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Oe=a;break}Oe=e.return}}var J$=Math.ceil,h1=na.ReactCurrentDispatcher,hA=na.ReactCurrentOwner,Qi=na.ReactCurrentBatchConfig,Dt=0,Xn=null,Pn=null,fr=0,di=0,Dc=cu(0),Fn=0,Ud=null,ml=0,Sy=0,fA=0,hd=null,Zr=null,dA=0,vh=1/0,Ro=null,f1=!1,BE=null,Ua=null,Tg=!1,ka=null,d1=0,fd=0,FE=null,Im=-1,xm=0;function $r(){return Dt&6?In():Im!==-1?Im:Im=In()}function Va(t){return t.mode&1?Dt&2&&fr!==0?fr&-fr:D$.transition!==null?(xm===0&&(xm=s8()),xm):(t=zt,t!==0||(t=window.event,t=t===void 0?16:f8(t.type)),t):1}function Ss(t,e,n,r){if(50<fd)throw fd=0,FE=null,Error(ye(185));Z0(t,n,r),(!(Dt&2)||t!==Xn)&&(t===Xn&&(!(Dt&2)&&(Sy|=n),Fn===4&&va(t,fr)),ti(t,r),n===1&&Dt===0&&!(e.mode&1)&&(vh=In()+500,wy&&hu()))}function ti(t,e){var n=t.callbackNode;DF(t,e);var r=Jm(t,t===Xn?fr:0);if(r===0)n!==null&&yC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yC(n),e===1)t.tag===0?M$(l6.bind(null,t)):P8(l6.bind(null,t)),T$(function(){!(Dt&6)&&hu()}),n=null;else{switch(o8(r)){case 1:n=$3;break;case 4:n=r8;break;case 16:n=Qm;break;case 536870912:n=i8;break;default:n=Qm}n=Rk(n,Ek.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ek(t,e){if(Im=-1,xm=0,Dt&6)throw Error(ye(327));var n=t.callbackNode;if(Hc()&&t.callbackNode!==n)return null;var r=Jm(t,t===Xn?fr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=p1(t,r);else{e=r;var i=Dt;Dt|=2;var s=Sk();(Xn!==t||fr!==e)&&(Ro=null,vh=In()+500,il(t,e));do try{X$();break}catch(a){Ak(t,a)}while(!0);Y3(),h1.current=s,Dt=i,Pn!==null?e=0:(Xn=null,fr=0,e=Fn)}if(e!==0){if(e===2&&(i=hE(t),i!==0&&(r=i,e=$E(t,i))),e===1)throw n=Ud,il(t,0),va(t,r),ti(t,In()),n;if(e===6)va(t,r);else{if(i=t.current.alternate,!(r&30)&&!Z$(i)&&(e=p1(t,r),e===2&&(s=hE(t),s!==0&&(r=s,e=$E(t,s))),e===1))throw n=Ud,il(t,0),va(t,r),ti(t,In()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ye(345));case 2:Bu(t,Zr,Ro);break;case 3:if(va(t,r),(r&130023424)===r&&(e=dA+500-In(),10<e)){if(Jm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){$r(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_E(Bu.bind(null,t,Zr,Ro),e);break}Bu(t,Zr,Ro);break;case 4:if(va(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-As(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=In()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J$(r/1960))-r,10<r){t.timeoutHandle=_E(Bu.bind(null,t,Zr,Ro),r);break}Bu(t,Zr,Ro);break;case 5:Bu(t,Zr,Ro);break;default:throw Error(ye(329))}}}return ti(t,In()),t.callbackNode===n?Ek.bind(null,t):null}function $E(t,e){var n=hd;return t.current.memoizedState.isDehydrated&&(il(t,e).flags|=256),t=p1(t,e),t!==2&&(e=Zr,Zr=n,e!==null&&jE(e)),t}function jE(t){Zr===null?Zr=t:Zr.push.apply(Zr,t)}function Z$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function va(t,e){for(e&=~fA,e&=~Sy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-As(e),r=1<<n;t[n]=-1,e&=~r}}function l6(t){if(Dt&6)throw Error(ye(327));Hc();var e=Jm(t,0);if(!(e&1))return ti(t,In()),null;var n=p1(t,e);if(t.tag!==0&&n===2){var r=hE(t);r!==0&&(e=r,n=$E(t,r))}if(n===1)throw n=Ud,il(t,0),va(t,e),ti(t,In()),n;if(n===6)throw Error(ye(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bu(t,Zr,Ro),ti(t,In()),null}function pA(t,e){var n=Dt;Dt|=1;try{return t(e)}finally{Dt=n,Dt===0&&(vh=In()+500,wy&&hu())}}function yl(t){ka!==null&&ka.tag===0&&!(Dt&6)&&Hc();var e=Dt;Dt|=1;var n=Qi.transition,r=zt;try{if(Qi.transition=null,zt=1,t)return t()}finally{zt=r,Qi.transition=n,Dt=e,!(Dt&6)&&hu()}}function gA(){di=Dc.current,on(Dc)}function il(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,x$(n)),Pn!==null)for(n=Pn.return;n!==null;){var r=n;switch(Q3(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&t1();break;case 3:mh(),on(Xr),on(Tr),iA();break;case 5:rA(r);break;case 4:mh();break;case 13:on(gn);break;case 19:on(gn);break;case 10:X3(r.type._context);break;case 22:case 23:gA()}n=n.return}if(Xn=t,Pn=t=za(t.current,null),fr=di=e,Fn=0,Ud=null,fA=Sy=ml=0,Zr=hd=null,qu!==null){for(e=0;e<qu.length;e++)if(n=qu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}qu=null}return t}function Ak(t,e){do{var n=Pn;try{if(Y3(),Am.current=c1,l1){for(var r=yn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}l1=!1}if(gl=0,Zn=Nn=yn=null,ld=!1,Fd=0,hA.current=null,n===null||n.return===null){Fn=1,Ud=e,Pn=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=fr,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=JC(o);if(g!==null){g.flags&=-257,ZC(g,o,a,s,e),g.mode&1&&QC(s,l,e),e=g,u=l;var w=e.updateQueue;if(w===null){var P=new Set;P.add(u),e.updateQueue=P}else w.add(u);break e}else{if(!(e&1)){QC(s,l,e),mA();break e}u=Error(ye(426))}}else if(an&&a.mode&1){var D=JC(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),ZC(D,o,a,s,e),J3(yh(u,a));break e}}s=u=yh(u,a),Fn!==4&&(Fn=2),hd===null?hd=[s]:hd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=ok(s,u,e);zC(s,E);break e;case 1:a=u;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ua===null||!Ua.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=ak(s,a,e);zC(s,O);break e}}s=s.return}while(s!==null)}Ik(n)}catch($){e=$,Pn===n&&n!==null&&(Pn=n=n.return);continue}break}while(!0)}function Sk(){var t=h1.current;return h1.current=c1,t===null?c1:t}function mA(){(Fn===0||Fn===3||Fn===2)&&(Fn=4),Xn===null||!(ml&268435455)&&!(Sy&268435455)||va(Xn,fr)}function p1(t,e){var n=Dt;Dt|=2;var r=Sk();(Xn!==t||fr!==e)&&(Ro=null,il(t,e));do try{Y$();break}catch(i){Ak(t,i)}while(!0);if(Y3(),Dt=n,h1.current=r,Pn!==null)throw Error(ye(261));return Xn=null,fr=0,Fn}function Y$(){for(;Pn!==null;)Ck(Pn)}function X$(){for(;Pn!==null&&!SF();)Ck(Pn)}function Ck(t){var e=Tk(t.alternate,t,di);t.memoizedProps=t.pendingProps,e===null?Ik(t):Pn=e,hA.current=null}function Ik(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=q$(n,e),n!==null){n.flags&=32767,Pn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fn=6,Pn=null;return}}else if(n=W$(n,e,di),n!==null){Pn=n;return}if(e=e.sibling,e!==null){Pn=e;return}Pn=e=t}while(e!==null);Fn===0&&(Fn=5)}function Bu(t,e,n){var r=zt,i=Qi.transition;try{Qi.transition=null,zt=1,ej(t,e,n,r)}finally{Qi.transition=i,zt=r}return null}function ej(t,e,n,r){do Hc();while(ka!==null);if(Dt&6)throw Error(ye(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ye(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(NF(t,s),t===Xn&&(Pn=Xn=null,fr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tg||(Tg=!0,Rk(Qm,function(){return Hc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qi.transition,Qi.transition=null;var o=zt;zt=1;var a=Dt;Dt|=4,hA.current=null,K$(t,n),wk(n,t),w$(yE),Zm=!!mE,yE=mE=null,t.current=n,Q$(n),CF(),Dt=a,zt=o,Qi.transition=s}else t.current=n;if(Tg&&(Tg=!1,ka=t,d1=i),s=t.pendingLanes,s===0&&(Ua=null),TF(n.stateNode),ti(t,In()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(f1)throw f1=!1,t=BE,BE=null,t;return d1&1&&t.tag!==0&&Hc(),s=t.pendingLanes,s&1?t===FE?fd++:(fd=0,FE=t):fd=0,hu(),null}function Hc(){if(ka!==null){var t=o8(d1),e=Qi.transition,n=zt;try{if(Qi.transition=null,zt=16>t?16:t,ka===null)var r=!1;else{if(t=ka,ka=null,d1=0,Dt&6)throw Error(ye(331));var i=Dt;for(Dt|=4,Oe=t.current;Oe!==null;){var s=Oe,o=s.child;if(Oe.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Oe=l;Oe!==null;){var c=Oe;switch(c.tag){case 0:case 11:case 15:cd(8,c,s)}var h=c.child;if(h!==null)h.return=c,Oe=h;else for(;Oe!==null;){c=Oe;var f=c.sibling,g=c.return;if(yk(c),c===l){Oe=null;break}if(f!==null){f.return=g,Oe=f;break}Oe=g}}}var w=s.alternate;if(w!==null){var P=w.child;if(P!==null){w.child=null;do{var D=P.sibling;P.sibling=null,P=D}while(P!==null)}}Oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Oe=o;else e:for(;Oe!==null;){if(s=Oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cd(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Oe=E;break e}Oe=s.return}}var _=t.current;for(Oe=_;Oe!==null;){o=Oe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Oe=S;else e:for(o=_;Oe!==null;){if(a=Oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ay(9,a)}}catch($){En(a,a.return,$)}if(a===o){Oe=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,Oe=O;break e}Oe=a.return}}if(Dt=i,hu(),oo&&typeof oo.onPostCommitFiberRoot=="function")try{oo.onPostCommitFiberRoot(gy,t)}catch{}r=!0}return r}finally{zt=n,Qi.transition=e}}return!1}function c6(t,e,n){e=yh(n,e),e=ok(t,e,1),t=ja(t,e,1),e=$r(),t!==null&&(Z0(t,1,e),ti(t,e))}function En(t,e,n){if(t.tag===3)c6(t,t,n);else for(;e!==null;){if(e.tag===3){c6(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ua===null||!Ua.has(r))){t=yh(n,t),t=ak(e,t,1),e=ja(e,t,1),t=$r(),e!==null&&(Z0(e,1,t),ti(e,t));break}}e=e.return}}function tj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$r(),t.pingedLanes|=t.suspendedLanes&n,Xn===t&&(fr&n)===n&&(Fn===4||Fn===3&&(fr&130023424)===fr&&500>In()-dA?il(t,0):fA|=n),ti(t,e)}function xk(t,e){e===0&&(t.mode&1?(e=vg,vg<<=1,!(vg&130023424)&&(vg=4194304)):e=1);var n=$r();t=Ho(t,e),t!==null&&(Z0(t,e,n),ti(t,n))}function nj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xk(t,n)}function rj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ye(314))}r!==null&&r.delete(e),xk(t,n)}var Tk;Tk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xr.current)Yr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yr=!1,H$(t,e,n);Yr=!!(t.flags&131072)}else Yr=!1,an&&e.flags&1048576&&M8(e,i1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cm(t,e),t=e.pendingProps;var i=dh(e,Tr.current);zc(e,n),i=oA(null,e,r,t,i,n);var s=aA();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ei(r)?(s=!0,n1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tA(e),i.updater=Ey,e.stateNode=i,i._reactInternals=e,IE(e,r,t,n),e=RE(null,e,r,!0,s,n)):(e.tag=0,an&&s&&K3(e),Lr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sj(r),t=gs(r,t),i){case 0:e=TE(null,e,r,t,n);break e;case 1:e=e6(null,e,r,t,n);break e;case 11:e=YC(null,e,r,t,n);break e;case 14:e=XC(null,e,r,gs(r.type,t),n);break e}throw Error(ye(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),TE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),e6(t,e,r,i,n);case 3:e:{if(hk(e),t===null)throw Error(ye(387));r=e.pendingProps,s=e.memoizedState,i=s.element,F8(t,e),a1(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=yh(Error(ye(423)),e),e=t6(t,e,r,n,i);break e}else if(r!==i){i=yh(Error(ye(424)),e),e=t6(t,e,r,n,i);break e}else for(pi=$a(e.stateNode.containerInfo.firstChild),yi=e,an=!0,_s=null,n=L8(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ph(),r===i){e=Wo(t,e,n);break e}Lr(t,e,r,n)}e=e.child}return e;case 5:return $8(e),t===null&&AE(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,vE(r,i)?o=null:s!==null&&vE(r,s)&&(e.flags|=32),ck(t,e),Lr(t,e,o,n),e.child;case 6:return t===null&&AE(e),null;case 13:return fk(t,e,n);case 4:return nA(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gh(e,null,r,n):Lr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),YC(t,e,r,i,n);case 7:return Lr(t,e,e.pendingProps,n),e.child;case 8:return Lr(t,e,e.pendingProps.children,n),e.child;case 12:return Lr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Yt(s1,r._currentValue),r._currentValue=o,s!==null)if(xs(s.value,o)){if(s.children===i.children&&!Xr.current){e=Wo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Bo(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),SE(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ye(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),SE(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Lr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zc(e,n),i=es(i),r=r(i),e.flags|=1,Lr(t,e,r,n),e.child;case 14:return r=e.type,i=gs(r,e.pendingProps),i=gs(r.type,i),XC(t,e,r,i,n);case 15:return uk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),Cm(t,e),e.tag=1,ei(r)?(t=!0,n1(e)):t=!1,zc(e,n),sk(e,r,i),IE(e,r,i,n),RE(null,e,r,!0,t,n);case 19:return dk(t,e,n);case 22:return lk(t,e,n)}throw Error(ye(156,e.tag))};function Rk(t,e){return n8(t,e)}function ij(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(t,e,n,r){return new ij(t,e,n,r)}function yA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sj(t){if(typeof t=="function")return yA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L3)return 11;if(t===B3)return 14}return 2}function za(t,e){var n=t.alternate;return n===null?(n=qi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tm(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")yA(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ac:return sl(n.children,i,s,e);case O3:o=8,i|=8;break;case Jb:return t=qi(12,n,e,i|2),t.elementType=Jb,t.lanes=s,t;case Zb:return t=qi(13,n,e,i),t.elementType=Zb,t.lanes=s,t;case Yb:return t=qi(19,n,e,i),t.elementType=Yb,t.lanes=s,t;case $R:return Cy(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BR:o=10;break e;case FR:o=9;break e;case L3:o=11;break e;case B3:o=14;break e;case pa:o=16,r=null;break e}throw Error(ye(130,t==null?t:typeof t,""))}return e=qi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function sl(t,e,n,r){return t=qi(7,t,r,e),t.lanes=n,t}function Cy(t,e,n,r){return t=qi(22,t,r,e),t.elementType=$R,t.lanes=n,t.stateNode={isHidden:!1},t}function yw(t,e,n){return t=qi(6,t,null,e),t.lanes=n,t}function vw(t,e,n){return e=qi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oj(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Y_(0),this.expirationTimes=Y_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Y_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vA(t,e,n,r,i,s,o,a,u){return t=new oj(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tA(s),t}function aj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ec,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kk(t){if(!t)return Za;t=t._reactInternals;e:{if(Ll(t)!==t||t.tag!==1)throw Error(ye(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ei(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ye(171))}if(t.tag===1){var n=t.type;if(ei(n))return k8(t,n,e)}return e}function Pk(t,e,n,r,i,s,o,a,u){return t=vA(n,r,!0,t,i,s,o,a,u),t.context=kk(null),n=t.current,r=$r(),i=Va(n),s=Bo(r,i),s.callback=e??null,ja(n,s,i),t.current.lanes=i,Z0(t,i,r),ti(t,r),t}function Iy(t,e,n,r){var i=e.current,s=$r(),o=Va(i);return n=kk(n),e.context===null?e.context=n:e.pendingContext=n,e=Bo(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ja(i,e,o),t!==null&&(Ss(t,i,o,s),Em(t,i,o)),o}function g1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function h6(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _A(t,e){h6(t,e),(t=t.alternate)&&h6(t,e)}function uj(){return null}var Mk=typeof reportError=="function"?reportError:function(t){console.error(t)};function wA(t){this._internalRoot=t}xy.prototype.render=wA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ye(409));Iy(t,e,null,null)};xy.prototype.unmount=wA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yl(function(){Iy(null,t,null,null)}),e[zo]=null}};function xy(t){this._internalRoot=t}xy.prototype.unstable_scheduleHydration=function(t){if(t){var e=l8();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ya.length&&e!==0&&e<ya[n].priority;n++);ya.splice(n,0,t),n===0&&h8(t)}};function bA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ty(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function f6(){}function lj(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=g1(o);s.call(l)}}var o=Pk(e,r,t,0,null,!1,!1,"",f6);return t._reactRootContainer=o,t[zo]=o.current,Dd(t.nodeType===8?t.parentNode:t),yl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=g1(u);a.call(l)}}var u=vA(t,0,!1,null,null,!1,!1,"",f6);return t._reactRootContainer=u,t[zo]=u.current,Dd(t.nodeType===8?t.parentNode:t),yl(function(){Iy(e,u,n,r)}),u}function Ry(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=g1(o);a.call(u)}}Iy(e,o,t,i)}else o=lj(n,e,t,i,r);return g1(o)}a8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kf(e.pendingLanes);n!==0&&(j3(e,n|1),ti(e,In()),!(Dt&6)&&(vh=In()+500,hu()))}break;case 13:yl(function(){var r=Ho(t,1);if(r!==null){var i=$r();Ss(r,t,1,i)}}),_A(t,1)}};U3=function(t){if(t.tag===13){var e=Ho(t,134217728);if(e!==null){var n=$r();Ss(e,t,134217728,n)}_A(t,134217728)}};u8=function(t){if(t.tag===13){var e=Va(t),n=Ho(t,e);if(n!==null){var r=$r();Ss(n,t,e,r)}_A(t,e)}};l8=function(){return zt};c8=function(t,e){var n=zt;try{return zt=t,e()}finally{zt=n}};uE=function(t,e,n){switch(e){case"input":if(tE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_y(r);if(!i)throw Error(ye(90));UR(r),tE(r,i)}}}break;case"textarea":zR(t,n);break;case"select":e=n.value,e!=null&&$c(t,!!n.multiple,e,!1)}};JR=pA;ZR=yl;var cj={usingClientEntryPoint:!1,Events:[X0,xc,_y,KR,QR,pA]},Of={findFiberByHostInstance:Wu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hj={bundleType:Of.bundleType,version:Of.version,rendererPackageName:Of.rendererPackageName,rendererConfig:Of.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:na.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=e8(t),t===null?null:t.stateNode},findFiberByHostInstance:Of.findFiberByHostInstance||uj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rg.isDisabled&&Rg.supportsFiber)try{gy=Rg.inject(hj),oo=Rg}catch{}}Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cj;Ei.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bA(e))throw Error(ye(200));return aj(t,e,null,n)};Ei.createRoot=function(t,e){if(!bA(t))throw Error(ye(299));var n=!1,r="",i=Mk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vA(t,1,!1,null,null,n,!1,r,i),t[zo]=e.current,Dd(t.nodeType===8?t.parentNode:t),new wA(e)};Ei.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ye(188)):(t=Object.keys(t).join(","),Error(ye(268,t)));return t=e8(e),t=t===null?null:t.stateNode,t};Ei.flushSync=function(t){return yl(t)};Ei.hydrate=function(t,e,n){if(!Ty(e))throw Error(ye(200));return Ry(null,t,e,!0,n)};Ei.hydrateRoot=function(t,e,n){if(!bA(t))throw Error(ye(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Mk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Pk(e,null,t,1,n??null,i,!1,s,o),t[zo]=e.current,Dd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xy(e)};Ei.render=function(t,e,n){if(!Ty(e))throw Error(ye(200));return Ry(null,t,e,!1,n)};Ei.unmountComponentAtNode=function(t){if(!Ty(t))throw Error(ye(40));return t._reactRootContainer?(yl(function(){Ry(null,null,t,!1,function(){t._reactRootContainer=null,t[zo]=null})}),!0):!1};Ei.unstable_batchedUpdates=pA;Ei.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ty(n))throw Error(ye(200));if(t==null||t._reactInternals===void 0)throw Error(ye(38));return Ry(t,e,n,!1,r)};Ei.version="18.3.1-next-f1338f8080-20240426";function Dk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dk)}catch(t){console.error(t)}}Dk(),DR.exports=Ei;var fj=DR.exports,dj,d6=fj;dj=d6.createRoot,d6.hydrateRoot;const pj="modulepreload",gj=function(t){return"/tokenchat/"+t},p6={},mj=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=gj(a),a in p6)return;p6[a]=!0;const u=a.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${l}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":pj,u||(c.as="script",c.crossOrigin=""),c.href=a,o&&c.setAttribute("nonce",o),document.head.appendChild(c),u)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var EA={exports:{}},Wc=typeof Reflect=="object"?Reflect:null,g6=Wc&&typeof Wc.apply=="function"?Wc.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Rm;Wc&&typeof Wc.ownKeys=="function"?Rm=Wc.ownKeys:Object.getOwnPropertySymbols?Rm=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Rm=function(e){return Object.getOwnPropertyNames(e)};function yj(t){console&&console.warn&&console.warn(t)}var Nk=Number.isNaN||function(e){return e!==e};function Wt(){Wt.init.call(this)}EA.exports=Wt;EA.exports.once=bj;Wt.EventEmitter=Wt;Wt.prototype._events=void 0;Wt.prototype._eventsCount=0;Wt.prototype._maxListeners=void 0;var m6=10;function ky(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Wt,"defaultMaxListeners",{enumerable:!0,get:function(){return m6},set:function(t){if(typeof t!="number"||t<0||Nk(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");m6=t}});Wt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Wt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Nk(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Ok(t){return t._maxListeners===void 0?Wt.defaultMaxListeners:t._maxListeners}Wt.prototype.getMaxListeners=function(){return Ok(this)};Wt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")g6(u,this,n);else for(var l=u.length,c=jk(u,l),r=0;r<l;++r)g6(c[r],this,n);return!0};function Lk(t,e,n,r){var i,s,o;if(ky(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=Ok(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,yj(a)}return t}Wt.prototype.addListener=function(e,n){return Lk(this,e,n,!1)};Wt.prototype.on=Wt.prototype.addListener;Wt.prototype.prependListener=function(e,n){return Lk(this,e,n,!0)};function vj(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Bk(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=vj.bind(r);return i.listener=n,r.wrapFn=i,i}Wt.prototype.once=function(e,n){return ky(n),this.on(e,Bk(this,e,n)),this};Wt.prototype.prependOnceListener=function(e,n){return ky(n),this.prependListener(e,Bk(this,e,n)),this};Wt.prototype.removeListener=function(e,n){var r,i,s,o,a;if(ky(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():_j(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};Wt.prototype.off=Wt.prototype.removeListener;Wt.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function Fk(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?wj(i):jk(i,i.length)}Wt.prototype.listeners=function(e){return Fk(this,e,!0)};Wt.prototype.rawListeners=function(e){return Fk(this,e,!1)};Wt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):$k.call(t,e)};Wt.prototype.listenerCount=$k;function $k(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Wt.prototype.eventNames=function(){return this._eventsCount>0?Rm(this._events):[]};function jk(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function _j(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function wj(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function bj(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}Uk(t,e,s,{once:!0}),e!=="error"&&Ej(t,i,{once:!0})})}function Ej(t,e,n){typeof t.on=="function"&&Uk(t,"error",e,n)}function Uk(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var tp=EA.exports;const j1e=ns(tp);var y6=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Aj=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),Sj=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),Cj=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),Ij=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),xj=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Tj=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Rj=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,v6=3,kj=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Tj]],_6=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function U1e(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new xj:typeof navigator<"u"?Mj(navigator.userAgent):Nj()}function Pj(t){return t!==""&&kj.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function Mj(t){var e=Pj(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new Ij;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<v6&&(i=y6(y6([],i,!0),Oj(v6-i.length),!0)):i=[];var s=i.join("."),o=Dj(t),a=Rj.exec(t);return a&&a[1]?new Cj(n,s,o,a[1]):new Aj(n,s,o)}function Dj(t){for(var e=0,n=_6.length;e<n;e++){var r=_6[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function Nj(){var t=typeof process<"u"&&process.version;return t?new Sj(process.version.slice(1)):null}function Oj(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var UE=function(t,e){return UE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},UE(t,e)};function Lj(t,e){UE(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var VE=function(){return VE=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},VE.apply(this,arguments)};function Bj(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Fj(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function $j(t,e){return function(n,r){e(n,r,t)}}function jj(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Uj(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(h){o(h)}}function u(c){try{l(r.throw(c))}catch(h){o(h)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Vj(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function zj(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Hj(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function zE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vk(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Wj(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Vk(arguments[e]));return t}function qj(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function Vd(t){return this instanceof Vd?(this.v=t,this):new Vd(t)}function Gj(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(g){return new Promise(function(w,P){s.push([f,g,w,P])>1||a(f,g)})})}function a(f,g){try{u(r[f](g))}catch(w){h(s[0][3],w)}}function u(f){f.value instanceof Vd?Promise.resolve(f.value.v).then(l,c):h(s[0][2],f)}function l(f){a("next",f)}function c(f){a("throw",f)}function h(f,g){f(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Kj(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Vd(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Qj(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof zE=="function"?zE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}function Jj(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Zj(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Yj(t){return t&&t.__esModule?t:{default:t}}function Xj(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function eU(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const tU=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return VE},__asyncDelegator:Kj,__asyncGenerator:Gj,__asyncValues:Qj,__await:Vd,__awaiter:Uj,__classPrivateFieldGet:Xj,__classPrivateFieldSet:eU,__createBinding:zj,__decorate:Fj,__exportStar:Hj,__extends:Lj,__generator:Vj,__importDefault:Yj,__importStar:Zj,__makeTemplateObject:Jj,__metadata:jj,__param:$j,__read:Vk,__rest:Bj,__spread:Wj,__spreadArrays:qj,__values:zE},Symbol.toStringTag,{value:"Module"})),V1e=ta(tU);var nU={},rU=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),zk="%[a-f0-9]{2}",w6=new RegExp("("+zk+")|([^%]+?)","gi"),b6=new RegExp("("+zk+")+","gi");function HE(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],HE(n),HE(r))}function iU(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(w6)||[],n=1;n<e.length;n++)t=HE(e,n).join(""),e=t.match(w6)||[];return t}}function sU(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=b6.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{var r=iU(n[0]);r!==n[0]&&(e[n[0]]=r)}n=b6.exec(t)}e["%C2"]="�";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}var oU=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return sU(t)}},aU=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const n=t.indexOf(e);return n===-1?[t]:[t.slice(0,n),t.slice(n+e.length)]},uU=function(t,e){for(var n={},r=Object.keys(t),i=Array.isArray(e),s=0;s<r.length;s++){var o=r[s],a=t[o];(i?e.indexOf(o)!==-1:e(o,a,t))&&(n[o]=a)}return n};(function(t){const e=rU,n=oU,r=aU,i=uU,s=_=>_==null,o=Symbol("encodeFragmentIdentifier");function a(_){switch(_.arrayFormat){case"index":return S=>(O,$)=>{const V=O.length;return $===void 0||_.skipNull&&$===null||_.skipEmptyString&&$===""?O:$===null?[...O,[c(S,_),"[",V,"]"].join("")]:[...O,[c(S,_),"[",c(V,_),"]=",c($,_)].join("")]};case"bracket":return S=>(O,$)=>$===void 0||_.skipNull&&$===null||_.skipEmptyString&&$===""?O:$===null?[...O,[c(S,_),"[]"].join("")]:[...O,[c(S,_),"[]=",c($,_)].join("")];case"colon-list-separator":return S=>(O,$)=>$===void 0||_.skipNull&&$===null||_.skipEmptyString&&$===""?O:$===null?[...O,[c(S,_),":list="].join("")]:[...O,[c(S,_),":list=",c($,_)].join("")];case"comma":case"separator":case"bracket-separator":{const S=_.arrayFormat==="bracket-separator"?"[]=":"=";return O=>($,V)=>V===void 0||_.skipNull&&V===null||_.skipEmptyString&&V===""?$:(V=V===null?"":V,$.length===0?[[c(O,_),S,c(V,_)].join("")]:[[$,c(V,_)].join(_.arrayFormatSeparator)])}default:return S=>(O,$)=>$===void 0||_.skipNull&&$===null||_.skipEmptyString&&$===""?O:$===null?[...O,c(S,_)]:[...O,[c(S,_),"=",c($,_)].join("")]}}function u(_){let S;switch(_.arrayFormat){case"index":return(O,$,V)=>{if(S=/\[(\d*)\]$/.exec(O),O=O.replace(/\[\d*\]$/,""),!S){V[O]=$;return}V[O]===void 0&&(V[O]={}),V[O][S[1]]=$};case"bracket":return(O,$,V)=>{if(S=/(\[\])$/.exec(O),O=O.replace(/\[\]$/,""),!S){V[O]=$;return}if(V[O]===void 0){V[O]=[$];return}V[O]=[].concat(V[O],$)};case"colon-list-separator":return(O,$,V)=>{if(S=/(:list)$/.exec(O),O=O.replace(/:list$/,""),!S){V[O]=$;return}if(V[O]===void 0){V[O]=[$];return}V[O]=[].concat(V[O],$)};case"comma":case"separator":return(O,$,V)=>{const v=typeof $=="string"&&$.includes(_.arrayFormatSeparator),m=typeof $=="string"&&!v&&h($,_).includes(_.arrayFormatSeparator);$=m?h($,_):$;const b=v||m?$.split(_.arrayFormatSeparator).map(T=>h(T,_)):$===null?$:h($,_);V[O]=b};case"bracket-separator":return(O,$,V)=>{const v=/(\[\])$/.test(O);if(O=O.replace(/\[\]$/,""),!v){V[O]=$&&h($,_);return}const m=$===null?[]:$.split(_.arrayFormatSeparator).map(b=>h(b,_));if(V[O]===void 0){V[O]=m;return}V[O]=[].concat(V[O],m)};default:return(O,$,V)=>{if(V[O]===void 0){V[O]=$;return}V[O]=[].concat(V[O],$)}}}function l(_){if(typeof _!="string"||_.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function c(_,S){return S.encode?S.strict?e(_):encodeURIComponent(_):_}function h(_,S){return S.decode?n(_):_}function f(_){return Array.isArray(_)?_.sort():typeof _=="object"?f(Object.keys(_)).sort((S,O)=>Number(S)-Number(O)).map(S=>_[S]):_}function g(_){const S=_.indexOf("#");return S!==-1&&(_=_.slice(0,S)),_}function w(_){let S="";const O=_.indexOf("#");return O!==-1&&(S=_.slice(O)),S}function P(_){_=g(_);const S=_.indexOf("?");return S===-1?"":_.slice(S+1)}function D(_,S){return S.parseNumbers&&!Number.isNaN(Number(_))&&typeof _=="string"&&_.trim()!==""?_=Number(_):S.parseBooleans&&_!==null&&(_.toLowerCase()==="true"||_.toLowerCase()==="false")&&(_=_.toLowerCase()==="true"),_}function E(_,S){S=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},S),l(S.arrayFormatSeparator);const O=u(S),$=Object.create(null);if(typeof _!="string"||(_=_.trim().replace(/^[?#&]/,""),!_))return $;for(const V of _.split("&")){if(V==="")continue;let[v,m]=r(S.decode?V.replace(/\+/g," "):V,"=");m=m===void 0?null:["comma","separator","bracket-separator"].includes(S.arrayFormat)?m:h(m,S),O(h(v,S),m,$)}for(const V of Object.keys($)){const v=$[V];if(typeof v=="object"&&v!==null)for(const m of Object.keys(v))v[m]=D(v[m],S);else $[V]=D(v,S)}return S.sort===!1?$:(S.sort===!0?Object.keys($).sort():Object.keys($).sort(S.sort)).reduce((V,v)=>{const m=$[v];return m&&typeof m=="object"&&!Array.isArray(m)?V[v]=f(m):V[v]=m,V},Object.create(null))}t.extract=P,t.parse=E,t.stringify=(_,S)=>{if(!_)return"";S=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},S),l(S.arrayFormatSeparator);const O=m=>S.skipNull&&s(_[m])||S.skipEmptyString&&_[m]==="",$=a(S),V={};for(const m of Object.keys(_))O(m)||(V[m]=_[m]);const v=Object.keys(V);return S.sort!==!1&&v.sort(S.sort),v.map(m=>{const b=_[m];return b===void 0?"":b===null?c(m,S):Array.isArray(b)?b.length===0&&S.arrayFormat==="bracket-separator"?c(m,S)+"[]":b.reduce($(m),[]).join("&"):c(m,S)+"="+c(b,S)}).filter(m=>m.length>0).join("&")},t.parseUrl=(_,S)=>{S=Object.assign({decode:!0},S);const[O,$]=r(_,"#");return Object.assign({url:O.split("?")[0]||"",query:E(P(_),S)},S&&S.parseFragmentIdentifier&&$?{fragmentIdentifier:h($,S)}:{})},t.stringifyUrl=(_,S)=>{S=Object.assign({encode:!0,strict:!0,[o]:!0},S);const O=g(_.url).split("?")[0]||"",$=t.extract(_.url),V=t.parse($,{sort:!1}),v=Object.assign(V,_.query);let m=t.stringify(v,S);m&&(m=`?${m}`);let b=w(_.url);return _.fragmentIdentifier&&(b=`#${S[o]?c(_.fragmentIdentifier,S):_.fragmentIdentifier}`),`${O}${m}${b}`},t.pick=(_,S,O)=>{O=Object.assign({parseFragmentIdentifier:!0,[o]:!1},O);const{url:$,query:V,fragmentIdentifier:v}=t.parseUrl(_,O);return t.stringifyUrl({url:$,query:i(V,S),fragmentIdentifier:v},O)},t.exclude=(_,S,O)=>{const $=Array.isArray(S)?V=>!S.includes(V):(V,v)=>!S(V,v);return t.pick(_,$,O)}})(nU);var lU={},Py={},pt={},Hk={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(a,u){var l=a>>>16&65535,c=a&65535,h=u>>>16&65535,f=u&65535;return c*f+(l*f+c*h<<16>>>0)|0}t.mul=Math.imul||e;function n(a,u){return a+u|0}t.add=n;function r(a,u){return a-u|0}t.sub=r;function i(a,u){return a<<u|a>>>32-u}t.rotl=i;function s(a,u){return a<<32-u|a>>>u}t.rotr=s;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}t.isInteger=Number.isInteger||o,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(a){return t.isInteger(a)&&a>=-t.MAX_SAFE_INTEGER&&a<=t.MAX_SAFE_INTEGER}})(Hk);Object.defineProperty(pt,"__esModule",{value:!0});var Wk=Hk;function cU(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}pt.readInt16BE=cU;function hU(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}pt.readUint16BE=hU;function fU(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}pt.readInt16LE=fU;function dU(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}pt.readUint16LE=dU;function qk(t,e,n){return e===void 0&&(e=new Uint8Array(2)),n===void 0&&(n=0),e[n+0]=t>>>8,e[n+1]=t>>>0,e}pt.writeUint16BE=qk;pt.writeInt16BE=qk;function Gk(t,e,n){return e===void 0&&(e=new Uint8Array(2)),n===void 0&&(n=0),e[n+0]=t>>>0,e[n+1]=t>>>8,e}pt.writeUint16LE=Gk;pt.writeInt16LE=Gk;function WE(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}pt.readInt32BE=WE;function qE(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}pt.readUint32BE=qE;function GE(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}pt.readInt32LE=GE;function KE(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}pt.readUint32LE=KE;function m1(t,e,n){return e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0),e[n+0]=t>>>24,e[n+1]=t>>>16,e[n+2]=t>>>8,e[n+3]=t>>>0,e}pt.writeUint32BE=m1;pt.writeInt32BE=m1;function y1(t,e,n){return e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0),e[n+0]=t>>>0,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24,e}pt.writeUint32LE=y1;pt.writeInt32LE=y1;function pU(t,e){e===void 0&&(e=0);var n=WE(t,e),r=WE(t,e+4);return n*4294967296+r-(r>>31)*4294967296}pt.readInt64BE=pU;function gU(t,e){e===void 0&&(e=0);var n=qE(t,e),r=qE(t,e+4);return n*4294967296+r}pt.readUint64BE=gU;function mU(t,e){e===void 0&&(e=0);var n=GE(t,e),r=GE(t,e+4);return r*4294967296+n-(n>>31)*4294967296}pt.readInt64LE=mU;function yU(t,e){e===void 0&&(e=0);var n=KE(t,e),r=KE(t,e+4);return r*4294967296+n}pt.readUint64LE=yU;function Kk(t,e,n){return e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0),m1(t/4294967296>>>0,e,n),m1(t>>>0,e,n+4),e}pt.writeUint64BE=Kk;pt.writeInt64BE=Kk;function Qk(t,e,n){return e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0),y1(t>>>0,e,n),y1(t/4294967296>>>0,e,n+4),e}pt.writeUint64LE=Qk;pt.writeInt64LE=Qk;function vU(t,e,n){if(n===void 0&&(n=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,i=1,s=t/8+n-1;s>=n;s--)r+=e[s]*i,i*=256;return r}pt.readUintBE=vU;function _U(t,e,n){if(n===void 0&&(n=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,i=1,s=n;s<n+t/8;s++)r+=e[s]*i,i*=256;return r}pt.readUintLE=_U;function wU(t,e,n,r){if(n===void 0&&(n=new Uint8Array(t/8)),r===void 0&&(r=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!Wk.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+r-1;s>=r;s--)n[s]=e/i&255,i*=256;return n}pt.writeUintBE=wU;function bU(t,e,n,r){if(n===void 0&&(n=new Uint8Array(t/8)),r===void 0&&(r=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!Wk.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=r;s<r+t/8;s++)n[s]=e/i&255,i*=256;return n}pt.writeUintLE=bU;function EU(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat32(e)}pt.readFloat32BE=EU;function AU(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat32(e,!0)}pt.readFloat32LE=AU;function SU(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat64(e)}pt.readFloat64BE=SU;function CU(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat64(e,!0)}pt.readFloat64LE=CU;function IU(t,e,n){e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat32(n,t),e}pt.writeFloat32BE=IU;function xU(t,e,n){e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat32(n,t,!0),e}pt.writeFloat32LE=xU;function TU(t,e,n){e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat64(n,t),e}pt.writeFloat64BE=TU;function RU(t,e,n){e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat64(n,t,!0),e}pt.writeFloat64LE=RU;var Si={};Object.defineProperty(Si,"__esModule",{value:!0});function kU(t){for(var e=0;e<t.length;e++)t[e]=0;return t}Si.wipe=kU;Object.defineProperty(Py,"__esModule",{value:!0});var wr=pt,QE=Si,PU=20;function MU(t,e,n){for(var r=1634760805,i=857760878,s=2036477234,o=1797285236,a=n[3]<<24|n[2]<<16|n[1]<<8|n[0],u=n[7]<<24|n[6]<<16|n[5]<<8|n[4],l=n[11]<<24|n[10]<<16|n[9]<<8|n[8],c=n[15]<<24|n[14]<<16|n[13]<<8|n[12],h=n[19]<<24|n[18]<<16|n[17]<<8|n[16],f=n[23]<<24|n[22]<<16|n[21]<<8|n[20],g=n[27]<<24|n[26]<<16|n[25]<<8|n[24],w=n[31]<<24|n[30]<<16|n[29]<<8|n[28],P=e[3]<<24|e[2]<<16|e[1]<<8|e[0],D=e[7]<<24|e[6]<<16|e[5]<<8|e[4],E=e[11]<<24|e[10]<<16|e[9]<<8|e[8],_=e[15]<<24|e[14]<<16|e[13]<<8|e[12],S=r,O=i,$=s,V=o,v=a,m=u,b=l,T=c,B=h,z=f,A=g,p=w,y=P,x=D,k=E,C=_,F=0;F<PU;F+=2)S=S+v|0,y^=S,y=y>>>16|y<<16,B=B+y|0,v^=B,v=v>>>20|v<<12,O=O+m|0,x^=O,x=x>>>16|x<<16,z=z+x|0,m^=z,m=m>>>20|m<<12,$=$+b|0,k^=$,k=k>>>16|k<<16,A=A+k|0,b^=A,b=b>>>20|b<<12,V=V+T|0,C^=V,C=C>>>16|C<<16,p=p+C|0,T^=p,T=T>>>20|T<<12,$=$+b|0,k^=$,k=k>>>24|k<<8,A=A+k|0,b^=A,b=b>>>25|b<<7,V=V+T|0,C^=V,C=C>>>24|C<<8,p=p+C|0,T^=p,T=T>>>25|T<<7,O=O+m|0,x^=O,x=x>>>24|x<<8,z=z+x|0,m^=z,m=m>>>25|m<<7,S=S+v|0,y^=S,y=y>>>24|y<<8,B=B+y|0,v^=B,v=v>>>25|v<<7,S=S+m|0,C^=S,C=C>>>16|C<<16,A=A+C|0,m^=A,m=m>>>20|m<<12,O=O+b|0,y^=O,y=y>>>16|y<<16,p=p+y|0,b^=p,b=b>>>20|b<<12,$=$+T|0,x^=$,x=x>>>16|x<<16,B=B+x|0,T^=B,T=T>>>20|T<<12,V=V+v|0,k^=V,k=k>>>16|k<<16,z=z+k|0,v^=z,v=v>>>20|v<<12,$=$+T|0,x^=$,x=x>>>24|x<<8,B=B+x|0,T^=B,T=T>>>25|T<<7,V=V+v|0,k^=V,k=k>>>24|k<<8,z=z+k|0,v^=z,v=v>>>25|v<<7,O=O+b|0,y^=O,y=y>>>24|y<<8,p=p+y|0,b^=p,b=b>>>25|b<<7,S=S+m|0,C^=S,C=C>>>24|C<<8,A=A+C|0,m^=A,m=m>>>25|m<<7;wr.writeUint32LE(S+r|0,t,0),wr.writeUint32LE(O+i|0,t,4),wr.writeUint32LE($+s|0,t,8),wr.writeUint32LE(V+o|0,t,12),wr.writeUint32LE(v+a|0,t,16),wr.writeUint32LE(m+u|0,t,20),wr.writeUint32LE(b+l|0,t,24),wr.writeUint32LE(T+c|0,t,28),wr.writeUint32LE(B+h|0,t,32),wr.writeUint32LE(z+f|0,t,36),wr.writeUint32LE(A+g|0,t,40),wr.writeUint32LE(p+w|0,t,44),wr.writeUint32LE(y+P|0,t,48),wr.writeUint32LE(x+D|0,t,52),wr.writeUint32LE(k+E|0,t,56),wr.writeUint32LE(C+_|0,t,60)}function Jk(t,e,n,r,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(r.length<n.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=i}for(var a=new Uint8Array(64),u=0;u<n.length;u+=64){MU(a,s,t);for(var l=u;l<u+64&&l<n.length;l++)r[l]=n[l]^a[l-u];NU(s,0,o)}return QE.wipe(a),i===0&&QE.wipe(s),r}Py.streamXOR=Jk;function DU(t,e,n,r){return r===void 0&&(r=0),QE.wipe(n),Jk(t,e,n,n,r)}Py.stream=DU;function NU(t,e,n){for(var r=1;n--;)r=r+(t[e]&255)|0,t[e]=r&255,r>>>=8,e++;if(r>0)throw new Error("ChaCha: counter overflow")}var Zk={},fu={};Object.defineProperty(fu,"__esModule",{value:!0});function OU(t,e,n){return~(t-1)&e|t-1&n}fu.select=OU;function LU(t,e){return(t|0)-(e|0)-1>>>31&1}fu.lessOrEqual=LU;function Yk(t,e){if(t.length!==e.length)return 0;for(var n=0,r=0;r<t.length;r++)n|=t[r]^e[r];return 1&n-1>>>8}fu.compare=Yk;function BU(t,e){return t.length===0||e.length===0?!1:Yk(t,e)!==0}fu.equal=BU;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=fu,n=Si;t.DIGEST_LENGTH=16;var r=function(){function o(a){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var u=a[0]|a[1]<<8;this._r[0]=u&8191;var l=a[2]|a[3]<<8;this._r[1]=(u>>>13|l<<3)&8191;var c=a[4]|a[5]<<8;this._r[2]=(l>>>10|c<<6)&7939;var h=a[6]|a[7]<<8;this._r[3]=(c>>>7|h<<9)&8191;var f=a[8]|a[9]<<8;this._r[4]=(h>>>4|f<<12)&255,this._r[5]=f>>>1&8190;var g=a[10]|a[11]<<8;this._r[6]=(f>>>14|g<<2)&8191;var w=a[12]|a[13]<<8;this._r[7]=(g>>>11|w<<5)&8065;var P=a[14]|a[15]<<8;this._r[8]=(w>>>8|P<<8)&8191,this._r[9]=P>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return o.prototype._blocks=function(a,u,l){for(var c=this._fin?0:2048,h=this._h[0],f=this._h[1],g=this._h[2],w=this._h[3],P=this._h[4],D=this._h[5],E=this._h[6],_=this._h[7],S=this._h[8],O=this._h[9],$=this._r[0],V=this._r[1],v=this._r[2],m=this._r[3],b=this._r[4],T=this._r[5],B=this._r[6],z=this._r[7],A=this._r[8],p=this._r[9];l>=16;){var y=a[u+0]|a[u+1]<<8;h+=y&8191;var x=a[u+2]|a[u+3]<<8;f+=(y>>>13|x<<3)&8191;var k=a[u+4]|a[u+5]<<8;g+=(x>>>10|k<<6)&8191;var C=a[u+6]|a[u+7]<<8;w+=(k>>>7|C<<9)&8191;var F=a[u+8]|a[u+9]<<8;P+=(C>>>4|F<<12)&8191,D+=F>>>1&8191;var W=a[u+10]|a[u+11]<<8;E+=(F>>>14|W<<2)&8191;var U=a[u+12]|a[u+13]<<8;_+=(W>>>11|U<<5)&8191;var I=a[u+14]|a[u+15]<<8;S+=(U>>>8|I<<8)&8191,O+=I>>>5|c;var G=0,ue=G;ue+=h*$,ue+=f*(5*p),ue+=g*(5*A),ue+=w*(5*z),ue+=P*(5*B),G=ue>>>13,ue&=8191,ue+=D*(5*T),ue+=E*(5*b),ue+=_*(5*m),ue+=S*(5*v),ue+=O*(5*V),G+=ue>>>13,ue&=8191;var ie=G;ie+=h*V,ie+=f*$,ie+=g*(5*p),ie+=w*(5*A),ie+=P*(5*z),G=ie>>>13,ie&=8191,ie+=D*(5*B),ie+=E*(5*T),ie+=_*(5*b),ie+=S*(5*m),ie+=O*(5*v),G+=ie>>>13,ie&=8191;var X=G;X+=h*v,X+=f*V,X+=g*$,X+=w*(5*p),X+=P*(5*A),G=X>>>13,X&=8191,X+=D*(5*z),X+=E*(5*B),X+=_*(5*T),X+=S*(5*b),X+=O*(5*m),G+=X>>>13,X&=8191;var Q=G;Q+=h*m,Q+=f*v,Q+=g*V,Q+=w*$,Q+=P*(5*p),G=Q>>>13,Q&=8191,Q+=D*(5*A),Q+=E*(5*z),Q+=_*(5*B),Q+=S*(5*T),Q+=O*(5*b),G+=Q>>>13,Q&=8191;var Y=G;Y+=h*b,Y+=f*m,Y+=g*v,Y+=w*V,Y+=P*$,G=Y>>>13,Y&=8191,Y+=D*(5*p),Y+=E*(5*A),Y+=_*(5*z),Y+=S*(5*B),Y+=O*(5*T),G+=Y>>>13,Y&=8191;var ee=G;ee+=h*T,ee+=f*b,ee+=g*m,ee+=w*v,ee+=P*V,G=ee>>>13,ee&=8191,ee+=D*$,ee+=E*(5*p),ee+=_*(5*A),ee+=S*(5*z),ee+=O*(5*B),G+=ee>>>13,ee&=8191;var N=G;N+=h*B,N+=f*T,N+=g*b,N+=w*m,N+=P*v,G=N>>>13,N&=8191,N+=D*V,N+=E*$,N+=_*(5*p),N+=S*(5*A),N+=O*(5*z),G+=N>>>13,N&=8191;var j=G;j+=h*z,j+=f*B,j+=g*T,j+=w*b,j+=P*m,G=j>>>13,j&=8191,j+=D*v,j+=E*V,j+=_*$,j+=S*(5*p),j+=O*(5*A),G+=j>>>13,j&=8191;var K=G;K+=h*A,K+=f*z,K+=g*B,K+=w*T,K+=P*b,G=K>>>13,K&=8191,K+=D*m,K+=E*v,K+=_*V,K+=S*$,K+=O*(5*p),G+=K>>>13,K&=8191;var se=G;se+=h*p,se+=f*A,se+=g*z,se+=w*B,se+=P*T,G=se>>>13,se&=8191,se+=D*b,se+=E*m,se+=_*v,se+=S*V,se+=O*$,G+=se>>>13,se&=8191,G=(G<<2)+G|0,G=G+ue|0,ue=G&8191,G=G>>>13,ie+=G,h=ue,f=ie,g=X,w=Q,P=Y,D=ee,E=N,_=j,S=K,O=se,u+=16,l-=16}this._h[0]=h,this._h[1]=f,this._h[2]=g,this._h[3]=w,this._h[4]=P,this._h[5]=D,this._h[6]=E,this._h[7]=_,this._h[8]=S,this._h[9]=O},o.prototype.finish=function(a,u){u===void 0&&(u=0);var l=new Uint16Array(10),c,h,f,g;if(this._leftover){for(g=this._leftover,this._buffer[g++]=1;g<16;g++)this._buffer[g]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(c=this._h[1]>>>13,this._h[1]&=8191,g=2;g<10;g++)this._h[g]+=c,c=this._h[g]>>>13,this._h[g]&=8191;for(this._h[0]+=c*5,c=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=c,c=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=c,l[0]=this._h[0]+5,c=l[0]>>>13,l[0]&=8191,g=1;g<10;g++)l[g]=this._h[g]+c,c=l[g]>>>13,l[g]&=8191;for(l[9]-=8192,h=(c^1)-1,g=0;g<10;g++)l[g]&=h;for(h=~h,g=0;g<10;g++)this._h[g]=this._h[g]&h|l[g];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,f=this._h[0]+this._pad[0],this._h[0]=f&65535,g=1;g<8;g++)f=(this._h[g]+this._pad[g]|0)+(f>>>16)|0,this._h[g]=f&65535;return a[u+0]=this._h[0]>>>0,a[u+1]=this._h[0]>>>8,a[u+2]=this._h[1]>>>0,a[u+3]=this._h[1]>>>8,a[u+4]=this._h[2]>>>0,a[u+5]=this._h[2]>>>8,a[u+6]=this._h[3]>>>0,a[u+7]=this._h[3]>>>8,a[u+8]=this._h[4]>>>0,a[u+9]=this._h[4]>>>8,a[u+10]=this._h[5]>>>0,a[u+11]=this._h[5]>>>8,a[u+12]=this._h[6]>>>0,a[u+13]=this._h[6]>>>8,a[u+14]=this._h[7]>>>0,a[u+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(a){var u=0,l=a.length,c;if(this._leftover){c=16-this._leftover,c>l&&(c=l);for(var h=0;h<c;h++)this._buffer[this._leftover+h]=a[u+h];if(l-=c,u+=c,this._leftover+=c,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(c=l-l%16,this._blocks(a,u,c),u+=c,l-=c),l){for(var h=0;h<l;h++)this._buffer[this._leftover+h]=a[u+h];this._leftover+=l}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},o.prototype.clean=function(){return n.wipe(this._buffer),n.wipe(this._r),n.wipe(this._h),n.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o}();t.Poly1305=r;function i(o,a){var u=new r(o);u.update(a);var l=u.digest();return u.clean(),l}t.oneTimeAuth=i;function s(o,a){return o.length!==t.DIGEST_LENGTH||a.length!==t.DIGEST_LENGTH?!1:e.equal(o,a)}t.equal=s})(Zk);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Py,n=Zk,r=Si,i=pt,s=fu;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var o=new Uint8Array(16),a=function(){function u(l){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,l.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(l)}return u.prototype.seal=function(l,c,h,f){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var g=new Uint8Array(16);g.set(l,g.length-l.length);var w=new Uint8Array(32);e.stream(this._key,g,w,4);var P=c.length+this.tagLength,D;if(f){if(f.length!==P)throw new Error("ChaCha20Poly1305: incorrect destination length");D=f}else D=new Uint8Array(P);return e.streamXOR(this._key,g,c,D,4),this._authenticate(D.subarray(D.length-this.tagLength,D.length),w,D.subarray(0,D.length-this.tagLength),h),r.wipe(g),D},u.prototype.open=function(l,c,h,f){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(c.length<this.tagLength)return null;var g=new Uint8Array(16);g.set(l,g.length-l.length);var w=new Uint8Array(32);e.stream(this._key,g,w,4);var P=new Uint8Array(this.tagLength);if(this._authenticate(P,w,c.subarray(0,c.length-this.tagLength),h),!s.equal(P,c.subarray(c.length-this.tagLength,c.length)))return null;var D=c.length-this.tagLength,E;if(f){if(f.length!==D)throw new Error("ChaCha20Poly1305: incorrect destination length");E=f}else E=new Uint8Array(D);return e.streamXOR(this._key,g,c.subarray(0,c.length-this.tagLength),E,4),r.wipe(g),E},u.prototype.clean=function(){return r.wipe(this._key),this},u.prototype._authenticate=function(l,c,h,f){var g=new n.Poly1305(c);f&&(g.update(f),f.length%16>0&&g.update(o.subarray(f.length%16))),g.update(h),h.length%16>0&&g.update(o.subarray(h.length%16));var w=new Uint8Array(8);f&&i.writeUint64LE(f.length,w),g.update(w),i.writeUint64LE(h.length,w),g.update(w);for(var P=g.digest(),D=0;D<P.length;D++)l[D]=P[D];g.clean(),r.wipe(P),r.wipe(w)},u}();t.ChaCha20Poly1305=a})(lU);var Xk={},np={},AA={};Object.defineProperty(AA,"__esModule",{value:!0});function FU(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}AA.isSerializableHash=FU;Object.defineProperty(np,"__esModule",{value:!0});var js=AA,$U=fu,jU=Si,eP=function(){function t(e,n){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);n.length>this.blockSize?this._inner.update(n).finish(r).clean():r.set(n);for(var i=0;i<r.length;i++)r[i]^=54;this._inner.update(r);for(var i=0;i<r.length;i++)r[i]^=106;this._outer.update(r),js.isSerializableHash(this._inner)&&js.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),jU.wipe(r)}return t.prototype.reset=function(){if(!js.isSerializableHash(this._inner)||!js.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){js.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),js.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!js.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!js.isSerializableHash(this._inner)||!js.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!js.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();np.HMAC=eP;function UU(t,e,n){var r=new eP(t,e);r.update(n);var i=r.digest();return r.clean(),i}np.hmac=UU;np.equal=$U.equal;Object.defineProperty(Xk,"__esModule",{value:!0});var E6=np,A6=Si,VU=function(){function t(e,n,r,i){r===void 0&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=E6.hmac(this._hash,r,n);this._hmac=new E6.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var n=new Uint8Array(e),r=0;r<n.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),n[r]=this._buffer[this._bufpos++];return n},t.prototype.clean=function(){this._hmac.clean(),A6.wipe(this._buffer),A6.wipe(this._counter),this._bufpos=0},t}(),z1e=Xk.HKDF=VU,SA={},My={},Dy={};Object.defineProperty(Dy,"__esModule",{value:!0});Dy.BrowserRandomSource=void 0;const S6=65536;class zU{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const n=new Uint8Array(e);for(let r=0;r<n.length;r+=S6)this._crypto.getRandomValues(n.subarray(r,r+Math.min(n.length-r,S6)));return n}}Dy.BrowserRandomSource=zU;function HU(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ny={};const WU={},qU=Object.freeze(Object.defineProperty({__proto__:null,default:WU},Symbol.toStringTag,{value:"Module"})),Oy=ta(qU);Object.defineProperty(Ny,"__esModule",{value:!0});Ny.NodeRandomSource=void 0;const GU=Si;class KU{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof HU<"u"){const e=Oy;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let n=this._crypto.randomBytes(e);if(n.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(e);for(let i=0;i<r.length;i++)r[i]=n[i];return(0,GU.wipe)(n),r}}Ny.NodeRandomSource=KU;Object.defineProperty(My,"__esModule",{value:!0});My.SystemRandomSource=void 0;const QU=Dy,JU=Ny;class ZU{constructor(){if(this.isAvailable=!1,this.name="",this._source=new QU.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new JU.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}My.SystemRandomSource=ZU;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=My,n=pt,r=Si;t.defaultRandomSource=new e.SystemRandomSource;function i(l,c=t.defaultRandomSource){return c.randomBytes(l)}t.randomBytes=i;function s(l=t.defaultRandomSource){const c=i(4,l),h=(0,n.readUint32LE)(c);return(0,r.wipe)(c),h}t.randomUint32=s;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(l,c=o,h=t.defaultRandomSource){if(c.length<2)throw new Error("randomString charset is too short");if(c.length>256)throw new Error("randomString charset is too long");let f="";const g=c.length,w=256-256%g;for(;l>0;){const P=i(Math.ceil(l*256/w),h);for(let D=0;D<P.length&&l>0;D++){const E=P[D];E<w&&(f+=c.charAt(E%g),l--)}(0,r.wipe)(P)}return f}t.randomString=a;function u(l,c=o,h=t.defaultRandomSource){const f=Math.ceil(l/(Math.log(c.length)/Math.LN2));return a(f,c,h)}t.randomStringForEntropy=u})(SA);var YU={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=pt,n=Si;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var r=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._temp),this.reset()},a.prototype.update=function(u,l){if(l===void 0&&(l=u.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var c=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&l>0;)this._buffer[this._bufferLength++]=u[c++],l--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(c=s(this._temp,this._state,u,c,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=u[c++],l--;return this},a.prototype.finish=function(u){if(!this._finished){var l=this._bytesHashed,c=this._bufferLength,h=l/536870912|0,f=l<<3,g=l%64<56?64:128;this._buffer[c]=128;for(var w=c+1;w<g-8;w++)this._buffer[w]=0;e.writeUint32BE(h,this._buffer,g-8),e.writeUint32BE(f,this._buffer,g-4),s(this._temp,this._state,this._buffer,0,g),this._finished=!0}for(var w=0;w<this.digestLength/4;w++)e.writeUint32BE(this._state[w],u,w*4);return this},a.prototype.digest=function(){var u=new Uint8Array(this.digestLength);return this.finish(u),u},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(u){return this._state.set(u.state),this._bufferLength=u.bufferLength,u.buffer&&this._buffer.set(u.buffer),this._bytesHashed=u.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(u){n.wipe(u.state),u.buffer&&n.wipe(u.buffer),u.bufferLength=0,u.bytesHashed=0},a}();t.SHA256=r;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(a,u,l,c,h){for(;h>=64;){for(var f=u[0],g=u[1],w=u[2],P=u[3],D=u[4],E=u[5],_=u[6],S=u[7],O=0;O<16;O++){var $=c+O*4;a[O]=e.readUint32BE(l,$)}for(var O=16;O<64;O++){var V=a[O-2],v=(V>>>17|V<<15)^(V>>>19|V<<13)^V>>>10;V=a[O-15];var m=(V>>>7|V<<25)^(V>>>18|V<<14)^V>>>3;a[O]=(v+a[O-7]|0)+(m+a[O-16]|0)}for(var O=0;O<64;O++){var v=(((D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>25|D<<7))+(D&E^~D&_)|0)+(S+(i[O]+a[O]|0)|0)|0,m=((f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10))+(f&g^f&w^g&w)|0;S=_,_=E,E=D,D=P+v|0,P=w,w=g,g=f,f=v+m|0}u[0]+=f,u[1]+=g,u[2]+=w,u[3]+=P,u[4]+=D,u[5]+=E,u[6]+=_,u[7]+=S,c+=64,h-=64}return c}function o(a){var u=new r;u.update(a);var l=u.digest();return u.clean(),l}t.hash=o})(YU);var XU={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const e=SA,n=Si;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function r(O){const $=new Float64Array(16);if(O)for(let V=0;V<O.length;V++)$[V]=O[V];return $}const i=new Uint8Array(32);i[0]=9;const s=r([56129,1]);function o(O){let $=1;for(let V=0;V<16;V++){let v=O[V]+$+65535;$=Math.floor(v/65536),O[V]=v-$*65536}O[0]+=$-1+37*($-1)}function a(O,$,V){const v=~(V-1);for(let m=0;m<16;m++){const b=v&(O[m]^$[m]);O[m]^=b,$[m]^=b}}function u(O,$){const V=r(),v=r();for(let m=0;m<16;m++)v[m]=$[m];o(v),o(v),o(v);for(let m=0;m<2;m++){V[0]=v[0]-65517;for(let T=1;T<15;T++)V[T]=v[T]-65535-(V[T-1]>>16&1),V[T-1]&=65535;V[15]=v[15]-32767-(V[14]>>16&1);const b=V[15]>>16&1;V[14]&=65535,a(v,V,1-b)}for(let m=0;m<16;m++)O[2*m]=v[m]&255,O[2*m+1]=v[m]>>8}function l(O,$){for(let V=0;V<16;V++)O[V]=$[2*V]+($[2*V+1]<<8);O[15]&=32767}function c(O,$,V){for(let v=0;v<16;v++)O[v]=$[v]+V[v]}function h(O,$,V){for(let v=0;v<16;v++)O[v]=$[v]-V[v]}function f(O,$,V){let v,m,b=0,T=0,B=0,z=0,A=0,p=0,y=0,x=0,k=0,C=0,F=0,W=0,U=0,I=0,G=0,ue=0,ie=0,X=0,Q=0,Y=0,ee=0,N=0,j=0,K=0,se=0,ce=0,pe=0,Ee=0,_e=0,He=0,_t=0,Pe=V[0],Re=V[1],ze=V[2],xe=V[3],Te=V[4],Ue=V[5],ve=V[6],q=V[7],R=V[8],L=V[9],J=V[10],ne=V[11],re=V[12],ae=V[13],Ce=V[14],Ae=V[15];v=$[0],b+=v*Pe,T+=v*Re,B+=v*ze,z+=v*xe,A+=v*Te,p+=v*Ue,y+=v*ve,x+=v*q,k+=v*R,C+=v*L,F+=v*J,W+=v*ne,U+=v*re,I+=v*ae,G+=v*Ce,ue+=v*Ae,v=$[1],T+=v*Pe,B+=v*Re,z+=v*ze,A+=v*xe,p+=v*Te,y+=v*Ue,x+=v*ve,k+=v*q,C+=v*R,F+=v*L,W+=v*J,U+=v*ne,I+=v*re,G+=v*ae,ue+=v*Ce,ie+=v*Ae,v=$[2],B+=v*Pe,z+=v*Re,A+=v*ze,p+=v*xe,y+=v*Te,x+=v*Ue,k+=v*ve,C+=v*q,F+=v*R,W+=v*L,U+=v*J,I+=v*ne,G+=v*re,ue+=v*ae,ie+=v*Ce,X+=v*Ae,v=$[3],z+=v*Pe,A+=v*Re,p+=v*ze,y+=v*xe,x+=v*Te,k+=v*Ue,C+=v*ve,F+=v*q,W+=v*R,U+=v*L,I+=v*J,G+=v*ne,ue+=v*re,ie+=v*ae,X+=v*Ce,Q+=v*Ae,v=$[4],A+=v*Pe,p+=v*Re,y+=v*ze,x+=v*xe,k+=v*Te,C+=v*Ue,F+=v*ve,W+=v*q,U+=v*R,I+=v*L,G+=v*J,ue+=v*ne,ie+=v*re,X+=v*ae,Q+=v*Ce,Y+=v*Ae,v=$[5],p+=v*Pe,y+=v*Re,x+=v*ze,k+=v*xe,C+=v*Te,F+=v*Ue,W+=v*ve,U+=v*q,I+=v*R,G+=v*L,ue+=v*J,ie+=v*ne,X+=v*re,Q+=v*ae,Y+=v*Ce,ee+=v*Ae,v=$[6],y+=v*Pe,x+=v*Re,k+=v*ze,C+=v*xe,F+=v*Te,W+=v*Ue,U+=v*ve,I+=v*q,G+=v*R,ue+=v*L,ie+=v*J,X+=v*ne,Q+=v*re,Y+=v*ae,ee+=v*Ce,N+=v*Ae,v=$[7],x+=v*Pe,k+=v*Re,C+=v*ze,F+=v*xe,W+=v*Te,U+=v*Ue,I+=v*ve,G+=v*q,ue+=v*R,ie+=v*L,X+=v*J,Q+=v*ne,Y+=v*re,ee+=v*ae,N+=v*Ce,j+=v*Ae,v=$[8],k+=v*Pe,C+=v*Re,F+=v*ze,W+=v*xe,U+=v*Te,I+=v*Ue,G+=v*ve,ue+=v*q,ie+=v*R,X+=v*L,Q+=v*J,Y+=v*ne,ee+=v*re,N+=v*ae,j+=v*Ce,K+=v*Ae,v=$[9],C+=v*Pe,F+=v*Re,W+=v*ze,U+=v*xe,I+=v*Te,G+=v*Ue,ue+=v*ve,ie+=v*q,X+=v*R,Q+=v*L,Y+=v*J,ee+=v*ne,N+=v*re,j+=v*ae,K+=v*Ce,se+=v*Ae,v=$[10],F+=v*Pe,W+=v*Re,U+=v*ze,I+=v*xe,G+=v*Te,ue+=v*Ue,ie+=v*ve,X+=v*q,Q+=v*R,Y+=v*L,ee+=v*J,N+=v*ne,j+=v*re,K+=v*ae,se+=v*Ce,ce+=v*Ae,v=$[11],W+=v*Pe,U+=v*Re,I+=v*ze,G+=v*xe,ue+=v*Te,ie+=v*Ue,X+=v*ve,Q+=v*q,Y+=v*R,ee+=v*L,N+=v*J,j+=v*ne,K+=v*re,se+=v*ae,ce+=v*Ce,pe+=v*Ae,v=$[12],U+=v*Pe,I+=v*Re,G+=v*ze,ue+=v*xe,ie+=v*Te,X+=v*Ue,Q+=v*ve,Y+=v*q,ee+=v*R,N+=v*L,j+=v*J,K+=v*ne,se+=v*re,ce+=v*ae,pe+=v*Ce,Ee+=v*Ae,v=$[13],I+=v*Pe,G+=v*Re,ue+=v*ze,ie+=v*xe,X+=v*Te,Q+=v*Ue,Y+=v*ve,ee+=v*q,N+=v*R,j+=v*L,K+=v*J,se+=v*ne,ce+=v*re,pe+=v*ae,Ee+=v*Ce,_e+=v*Ae,v=$[14],G+=v*Pe,ue+=v*Re,ie+=v*ze,X+=v*xe,Q+=v*Te,Y+=v*Ue,ee+=v*ve,N+=v*q,j+=v*R,K+=v*L,se+=v*J,ce+=v*ne,pe+=v*re,Ee+=v*ae,_e+=v*Ce,He+=v*Ae,v=$[15],ue+=v*Pe,ie+=v*Re,X+=v*ze,Q+=v*xe,Y+=v*Te,ee+=v*Ue,N+=v*ve,j+=v*q,K+=v*R,se+=v*L,ce+=v*J,pe+=v*ne,Ee+=v*re,_e+=v*ae,He+=v*Ce,_t+=v*Ae,b+=38*ie,T+=38*X,B+=38*Q,z+=38*Y,A+=38*ee,p+=38*N,y+=38*j,x+=38*K,k+=38*se,C+=38*ce,F+=38*pe,W+=38*Ee,U+=38*_e,I+=38*He,G+=38*_t,m=1,v=b+m+65535,m=Math.floor(v/65536),b=v-m*65536,v=T+m+65535,m=Math.floor(v/65536),T=v-m*65536,v=B+m+65535,m=Math.floor(v/65536),B=v-m*65536,v=z+m+65535,m=Math.floor(v/65536),z=v-m*65536,v=A+m+65535,m=Math.floor(v/65536),A=v-m*65536,v=p+m+65535,m=Math.floor(v/65536),p=v-m*65536,v=y+m+65535,m=Math.floor(v/65536),y=v-m*65536,v=x+m+65535,m=Math.floor(v/65536),x=v-m*65536,v=k+m+65535,m=Math.floor(v/65536),k=v-m*65536,v=C+m+65535,m=Math.floor(v/65536),C=v-m*65536,v=F+m+65535,m=Math.floor(v/65536),F=v-m*65536,v=W+m+65535,m=Math.floor(v/65536),W=v-m*65536,v=U+m+65535,m=Math.floor(v/65536),U=v-m*65536,v=I+m+65535,m=Math.floor(v/65536),I=v-m*65536,v=G+m+65535,m=Math.floor(v/65536),G=v-m*65536,v=ue+m+65535,m=Math.floor(v/65536),ue=v-m*65536,b+=m-1+37*(m-1),m=1,v=b+m+65535,m=Math.floor(v/65536),b=v-m*65536,v=T+m+65535,m=Math.floor(v/65536),T=v-m*65536,v=B+m+65535,m=Math.floor(v/65536),B=v-m*65536,v=z+m+65535,m=Math.floor(v/65536),z=v-m*65536,v=A+m+65535,m=Math.floor(v/65536),A=v-m*65536,v=p+m+65535,m=Math.floor(v/65536),p=v-m*65536,v=y+m+65535,m=Math.floor(v/65536),y=v-m*65536,v=x+m+65535,m=Math.floor(v/65536),x=v-m*65536,v=k+m+65535,m=Math.floor(v/65536),k=v-m*65536,v=C+m+65535,m=Math.floor(v/65536),C=v-m*65536,v=F+m+65535,m=Math.floor(v/65536),F=v-m*65536,v=W+m+65535,m=Math.floor(v/65536),W=v-m*65536,v=U+m+65535,m=Math.floor(v/65536),U=v-m*65536,v=I+m+65535,m=Math.floor(v/65536),I=v-m*65536,v=G+m+65535,m=Math.floor(v/65536),G=v-m*65536,v=ue+m+65535,m=Math.floor(v/65536),ue=v-m*65536,b+=m-1+37*(m-1),O[0]=b,O[1]=T,O[2]=B,O[3]=z,O[4]=A,O[5]=p,O[6]=y,O[7]=x,O[8]=k,O[9]=C,O[10]=F,O[11]=W,O[12]=U,O[13]=I,O[14]=G,O[15]=ue}function g(O,$){f(O,$,$)}function w(O,$){const V=r();for(let v=0;v<16;v++)V[v]=$[v];for(let v=253;v>=0;v--)g(V,V),v!==2&&v!==4&&f(V,V,$);for(let v=0;v<16;v++)O[v]=V[v]}function P(O,$){const V=new Uint8Array(32),v=new Float64Array(80),m=r(),b=r(),T=r(),B=r(),z=r(),A=r();for(let k=0;k<31;k++)V[k]=O[k];V[31]=O[31]&127|64,V[0]&=248,l(v,$);for(let k=0;k<16;k++)b[k]=v[k];m[0]=B[0]=1;for(let k=254;k>=0;--k){const C=V[k>>>3]>>>(k&7)&1;a(m,b,C),a(T,B,C),c(z,m,T),h(m,m,T),c(T,b,B),h(b,b,B),g(B,z),g(A,m),f(m,T,m),f(T,b,z),c(z,m,T),h(m,m,T),g(b,m),h(T,B,A),f(m,T,s),c(m,m,B),f(T,T,m),f(m,B,A),f(B,b,v),g(b,z),a(m,b,C),a(T,B,C)}for(let k=0;k<16;k++)v[k+16]=m[k],v[k+32]=T[k],v[k+48]=b[k],v[k+64]=B[k];const p=v.subarray(32),y=v.subarray(16);w(p,p),f(y,y,p);const x=new Uint8Array(32);return u(x,y),x}t.scalarMult=P;function D(O){return P(O,i)}t.scalarMultBase=D;function E(O){if(O.length!==t.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`);const $=new Uint8Array(O);return{publicKey:D($),secretKey:$}}t.generateKeyPairFromSeed=E;function _(O){const $=(0,e.randomBytes)(32,O),V=E($);return(0,n.wipe)($),V}t.generateKeyPair=_;function S(O,$,V=!1){if(O.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if($.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const v=P(O,$);if(V){let m=0;for(let b=0;b<v.length;b++)m|=v[b];if(m===0)throw new Error("X25519: invalid shared key")}return v}t.sharedKey=S})(XU);function tP(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function H1e(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=tP(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function eV(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,u=t.charAt(0),l=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function h(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var P=0,D=0,E=0,_=w.length;E!==_&&w[E]===0;)E++,P++;for(var S=(_-E)*c+1>>>0,O=new Uint8Array(S);E!==_;){for(var $=w[E],V=0,v=S-1;($!==0||V<D)&&v!==-1;v--,V++)$+=256*O[v]>>>0,O[v]=$%a>>>0,$=$/a>>>0;if($!==0)throw new Error("Non-zero carry");D=V,E++}for(var m=S-D;m!==S&&O[m]===0;)m++;for(var b=u.repeat(P);m<S;++m)b+=t.charAt(O[m]);return b}function f(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var P=0;if(w[P]!==" "){for(var D=0,E=0;w[P]===u;)D++,P++;for(var _=(w.length-P)*l+1>>>0,S=new Uint8Array(_);w[P];){var O=n[w.charCodeAt(P)];if(O===255)return;for(var $=0,V=_-1;(O!==0||$<E)&&V!==-1;V--,$++)O+=a*S[V]>>>0,S[V]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");E=$,P++}if(w[P]!==" "){for(var v=_-E;v!==_&&S[v]===0;)v++;for(var m=new Uint8Array(D+(_-v)),b=D;v!==_;)m[b++]=S[v++];return m}}}function g(w){var P=f(w);if(P)return P;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:g}}var tV=eV,nV=tV;const rV=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},iV=t=>new TextEncoder().encode(t),sV=t=>new TextDecoder().decode(t);class oV{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class aV{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return nP(this,e)}}class uV{constructor(e){this.decoders=e}or(e){return nP(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const nP=(t,e)=>new uV({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class lV{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new oV(e,n,r),this.decoder=new aV(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ly=({name:t,prefix:e,encode:n,decode:r})=>new lV(t,e,n,r),rp=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=nV(n,e);return Ly({prefix:t,name:e,encode:r,decode:s=>rV(i(s))})},cV=(t,e,n,r)=>{const i={};for(let c=0;c<e.length;++c)i[e[c]]=c;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,u=0,l=0;for(let c=0;c<s;++c){const h=i[t[c]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|h,a+=n,a>=8&&(a-=8,o[l++]=255&u>>a)}if(a>=n||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},hV=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},gr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Ly({prefix:e,name:t,encode(i){return hV(i,r,n)},decode(i){return cV(i,r,n,t)}}),fV=Ly({prefix:"\0",name:"identity",encode:t=>sV(t),decode:t=>iV(t)}),dV=Object.freeze(Object.defineProperty({__proto__:null,identity:fV},Symbol.toStringTag,{value:"Module"})),pV=gr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),gV=Object.freeze(Object.defineProperty({__proto__:null,base2:pV},Symbol.toStringTag,{value:"Module"})),mV=gr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),yV=Object.freeze(Object.defineProperty({__proto__:null,base8:mV},Symbol.toStringTag,{value:"Module"})),vV=rp({prefix:"9",name:"base10",alphabet:"0123456789"}),_V=Object.freeze(Object.defineProperty({__proto__:null,base10:vV},Symbol.toStringTag,{value:"Module"})),wV=gr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),bV=gr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),EV=Object.freeze(Object.defineProperty({__proto__:null,base16:wV,base16upper:bV},Symbol.toStringTag,{value:"Module"})),AV=gr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),SV=gr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),CV=gr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),IV=gr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xV=gr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),TV=gr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),RV=gr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),kV=gr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),PV=gr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),MV=Object.freeze(Object.defineProperty({__proto__:null,base32:AV,base32hex:xV,base32hexpad:RV,base32hexpadupper:kV,base32hexupper:TV,base32pad:CV,base32padupper:IV,base32upper:SV,base32z:PV},Symbol.toStringTag,{value:"Module"})),DV=rp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),NV=rp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),OV=Object.freeze(Object.defineProperty({__proto__:null,base36:DV,base36upper:NV},Symbol.toStringTag,{value:"Module"})),LV=rp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),BV=rp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),FV=Object.freeze(Object.defineProperty({__proto__:null,base58btc:LV,base58flickr:BV},Symbol.toStringTag,{value:"Module"})),$V=gr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),jV=gr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),UV=gr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),VV=gr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),zV=Object.freeze(Object.defineProperty({__proto__:null,base64:$V,base64pad:jV,base64url:UV,base64urlpad:VV},Symbol.toStringTag,{value:"Module"})),rP=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),HV=rP.reduce((t,e,n)=>(t[n]=e,t),[]),WV=rP.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function qV(t){return t.reduce((e,n)=>(e+=HV[n],e),"")}function GV(t){const e=[];for(const n of t){const r=WV[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const KV=Ly({prefix:"🚀",name:"base256emoji",encode:qV,decode:GV}),QV=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:KV},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const C6={...dV,...gV,...yV,..._V,...EV,...MV,...OV,...FV,...zV,...QV};function iP(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const I6=iP("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),_w=iP("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=tP(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),sP={utf8:I6,"utf-8":I6,hex:C6.base16,latin1:_w,ascii:_w,binary:_w,...C6};function W1e(t,e="utf8"){const n=sP[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}function q1e(t,e="utf8"){const n=sP[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const JV=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,ZV=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,YV=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function XV(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){ez(t);return}return e}function ez(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function kg(t,e={}){if(typeof t!="string")return t;const n=t.trim();if(t[0]==='"'&&t.endsWith('"')&&!t.includes("\\"))return n.slice(1,-1);if(n.length<=9){const r=n.toLowerCase();if(r==="true")return!0;if(r==="false")return!1;if(r==="undefined")return;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r==="-infinity")return Number.NEGATIVE_INFINITY}if(!YV.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(JV.test(t)||ZV.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,XV)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function tz(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Qn(t,...e){try{return tz(t(...e))}catch(n){return Promise.reject(n)}}function nz(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function rz(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function km(t){if(nz(t))return String(t);if(rz(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return km(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function oP(){if(typeof Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const JE="base64:";function iz(t){if(typeof t=="string")return t;oP();const e=Buffer.from(t).toString("base64");return JE+e}function sz(t){return typeof t!="string"||!t.startsWith(JE)?t:(oP(),Buffer.from(t.slice(JE.length),"base64"))}function Kr(t){return t?t.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function oz(...t){return Kr(t.join(":"))}function Pg(t){return t=Kr(t),t?t+":":""}const az="memory",uz=()=>{const t=new Map;return{name:az,options:{},hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return Array.from(t.keys())},clear(){t.clear()},dispose(){t.clear()}}};function G1e(t={}){const e={mounts:{"":t.driver||uz()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const c of e.mountpoints)if(l.startsWith(c))return{base:c,relativeKey:l.slice(c.length),driver:e.mounts[c]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,c)=>e.mountpoints.filter(h=>h.startsWith(l)||c&&l.startsWith(h)).map(h=>({relativeBase:l.length>h.length?l.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),i=(l,c)=>{if(e.watching){c=Kr(c);for(const h of e.watchListeners)h(l,c)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await x6(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,c,h)=>{const f=new Map,g=w=>{let P=f.get(w.base);return P||(P={driver:w.driver,base:w.base,items:[]},f.set(w.base,P)),P};for(const w of l){const P=typeof w=="string",D=Kr(P?w:w.key),E=P?void 0:w.value,_=P||!w.options?c:{...c,...w.options},S=n(D);g(S).items.push({key:D,value:E,relativeKey:S.relativeKey,options:_})}return Promise.all([...f.values()].map(w=>h(w))).then(w=>w.flat())},u={hasItem(l,c={}){l=Kr(l);const{relativeKey:h,driver:f}=n(l);return Qn(f.hasItem,h,c)},getItem(l,c={}){l=Kr(l);const{relativeKey:h,driver:f}=n(l);return Qn(f.getItem,h,c).then(g=>kg(g))},getItems(l,c){return a(l,c,h=>h.driver.getItems?Qn(h.driver.getItems,h.items.map(f=>({key:f.relativeKey,options:f.options})),c).then(f=>f.map(g=>({key:oz(h.base,g.key),value:kg(g.value)}))):Promise.all(h.items.map(f=>Qn(h.driver.getItem,f.relativeKey,f.options).then(g=>({key:f.key,value:kg(g)})))))},getItemRaw(l,c={}){l=Kr(l);const{relativeKey:h,driver:f}=n(l);return f.getItemRaw?Qn(f.getItemRaw,h,c):Qn(f.getItem,h,c).then(g=>sz(g))},async setItem(l,c,h={}){if(c===void 0)return u.removeItem(l);l=Kr(l);const{relativeKey:f,driver:g}=n(l);g.setItem&&(await Qn(g.setItem,f,km(c),h),g.watch||i("update",l))},async setItems(l,c){await a(l,c,async h=>{if(h.driver.setItems)return Qn(h.driver.setItems,h.items.map(f=>({key:f.relativeKey,value:km(f.value),options:f.options})),c);h.driver.setItem&&await Promise.all(h.items.map(f=>Qn(h.driver.setItem,f.relativeKey,km(f.value),f.options)))})},async setItemRaw(l,c,h={}){if(c===void 0)return u.removeItem(l,h);l=Kr(l);const{relativeKey:f,driver:g}=n(l);if(g.setItemRaw)await Qn(g.setItemRaw,f,c,h);else if(g.setItem)await Qn(g.setItem,f,iz(c),h);else return;g.watch||i("update",l)},async removeItem(l,c={}){typeof c=="boolean"&&(c={removeMeta:c}),l=Kr(l);const{relativeKey:h,driver:f}=n(l);f.removeItem&&(await Qn(f.removeItem,h,c),(c.removeMeta||c.removeMata)&&await Qn(f.removeItem,h+"$",c),f.watch||i("remove",l))},async getMeta(l,c={}){typeof c=="boolean"&&(c={nativeOnly:c}),l=Kr(l);const{relativeKey:h,driver:f}=n(l),g=Object.create(null);if(f.getMeta&&Object.assign(g,await Qn(f.getMeta,h,c)),!c.nativeOnly){const w=await Qn(f.getItem,h+"$",c).then(P=>kg(P));w&&typeof w=="object"&&(typeof w.atime=="string"&&(w.atime=new Date(w.atime)),typeof w.mtime=="string"&&(w.mtime=new Date(w.mtime)),Object.assign(g,w))}return g},setMeta(l,c,h={}){return this.setItem(l+"$",c,h)},removeMeta(l,c={}){return this.removeItem(l+"$",c)},async getKeys(l,c={}){l=Pg(l);const h=r(l,!0);let f=[];const g=[];for(const w of h){const D=(await Qn(w.driver.getKeys,w.relativeBase,c)).map(E=>w.mountpoint+Kr(E)).filter(E=>!f.some(_=>E.startsWith(_)));g.push(...D),f=[w.mountpoint,...f.filter(E=>!E.startsWith(w.mountpoint))]}return l?g.filter(w=>w.startsWith(l)&&!w.endsWith("$")):g.filter(w=>!w.endsWith("$"))},async clear(l,c={}){l=Pg(l),await Promise.all(r(l,!1).map(async h=>{if(h.driver.clear)return Qn(h.driver.clear,h.relativeBase,c);if(h.driver.removeItem){const f=await h.driver.getKeys(h.relativeBase||"",c);return Promise.all(f.map(g=>h.driver.removeItem(g,c)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>T6(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(c=>c!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,c){if(l=Pg(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((h,f)=>f.length-h.length)),e.mounts[l]=c,e.watching&&Promise.resolve(x6(c,i,l)).then(h=>{e.unwatch[l]=h}).catch(console.error),u},async unmount(l,c=!0){l=Pg(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l](),delete e.unwatch[l]),c&&await T6(e.mounts[l]),e.mountpoints=e.mountpoints.filter(h=>h!==l),delete e.mounts[l])},getMount(l=""){l=Kr(l)+":";const c=n(l);return{driver:c.driver,base:c.base}},getMounts(l="",c={}){return l=Kr(l),r(l,c.parents).map(f=>({driver:f.driver,base:f.mountpoint}))}};return u}function x6(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function T6(t){typeof t.dispose=="function"&&await Qn(t.dispose)}function Bl(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function lz(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Bl(n);return(i,s)=>r.then(o=>s(o.transaction(e,i).objectStore(e)))}let ww;function ip(){return ww||(ww=lz("keyval-store","keyval")),ww}function K1e(t,e=ip()){return e("readonly",n=>Bl(n.get(t)))}function Q1e(t,e,n=ip()){return n("readwrite",r=>(r.put(e,t),Bl(r.transaction)))}function J1e(t,e=ip()){return e("readwrite",n=>(n.delete(t),Bl(n.transaction)))}function Z1e(t=ip()){return t("readwrite",e=>(e.clear(),Bl(e.transaction)))}function cz(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Bl(t.transaction)}function Y1e(t=ip()){return t("readonly",e=>{if(e.getAllKeys)return Bl(e.getAllKeys());const n=[];return cz(e,r=>n.push(r.key)).then(()=>n)})}function hz(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var fz=dz;function dz(t,e,n){var r=n&&n.stringify||hz,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=r(t);for(var a=1;a<s;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var u=e.length;if(u===0)return t;for(var l="",c=1-i,h=-1,f=t&&t.length||0,g=0;g<f;){if(t.charCodeAt(g)===37&&g+1<f){switch(h=h>-1?h:0,t.charCodeAt(g+1)){case 100:case 102:if(c>=u||e[c]==null)break;h<g&&(l+=t.slice(h,g)),l+=Number(e[c]),h=g+2,g++;break;case 105:if(c>=u||e[c]==null)break;h<g&&(l+=t.slice(h,g)),l+=Math.floor(Number(e[c])),h=g+2,g++;break;case 79:case 111:case 106:if(c>=u||e[c]===void 0)break;h<g&&(l+=t.slice(h,g));var w=typeof e[c];if(w==="string"){l+="'"+e[c]+"'",h=g+2,g++;break}if(w==="function"){l+=e[c].name||"<anonymous>",h=g+2,g++;break}l+=r(e[c]),h=g+2,g++;break;case 115:if(c>=u)break;h<g&&(l+=t.slice(h,g)),l+=String(e[c]),h=g+2,g++;break;case 37:h<g&&(l+=t.slice(h,g)),l+="%",h=g+2,g++,c--;break}++c}++g}return h===-1?t:(h<f&&(l+=t.slice(h)),l)}const R6=fz;var pz=uo;const zd=Sz().console||{},gz={mapHttpRequest:Mg,mapHttpResponse:Mg,wrapRequestSerializer:bw,wrapResponseSerializer:bw,wrapErrorSerializer:bw,req:Mg,res:Mg,err:wz};function mz(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function uo(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||zd;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=mz(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",u=Object.create(n);u.log||(u.log=Hd),Object.defineProperty(u,"levelVal",{get:c}),Object.defineProperty(u,"level",{get:h,set:f});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:bz(t)};u.levels=uo.levels,u.level=a,u.setMaxListeners=u.getMaxListeners=u.emit=u.addListener=u.on=u.prependListener=u.once=u.prependOnceListener=u.removeListener=u.removeAllListeners=u.listeners=u.listenerCount=u.eventNames=u.write=u.flush=Hd,u.serializers=r,u._serialize=i,u._stdErrSerialize=s,u.child=g,e&&(u._logEvent=ZE());function c(){return this.level==="silent"?1/0:this.levels.values[this.level]}function h(){return this._level}function f(w){if(w!=="silent"&&!this.levels.values[w])throw Error("unknown level "+w);this._level=w,nc(l,u,"error","log"),nc(l,u,"fatal","error"),nc(l,u,"warn","error"),nc(l,u,"info","log"),nc(l,u,"debug","log"),nc(l,u,"trace","log")}function g(w,P){if(!w)throw new Error("missing bindings for child Pino");P=P||{},i&&w.serializers&&(P.serializers=w.serializers);const D=P.serializers;if(i&&D){var E=Object.assign({},r,D),_=t.browser.serialize===!0?Object.keys(E):i;delete w.serializers,By([w],_,E,this._stdErrSerialize)}function S(O){this._childLevel=(O._childLevel|0)+1,this.error=rc(O,w,"error"),this.fatal=rc(O,w,"fatal"),this.warn=rc(O,w,"warn"),this.info=rc(O,w,"info"),this.debug=rc(O,w,"debug"),this.trace=rc(O,w,"trace"),E&&(this.serializers=E,this._serialize=_),e&&(this._logEvent=ZE([].concat(O._logEvent.bindings,w)))}return S.prototype=this,new S(this)}return u}uo.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};uo.stdSerializers=gz;uo.stdTimeFunctions=Object.assign({},{nullTime:aP,epochTime:uP,unixTime:Ez,isoTime:Az});function nc(t,e,n,r){const i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?Hd:i[n]?i[n]:zd[n]||zd[r]||Hd,yz(t,e,n)}function yz(t,e,n){!t.transmit&&e[n]===Hd||(e[n]=function(r){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===zd?zd:this;for(var u=0;u<o.length;u++)o[u]=arguments[u];if(t.serialize&&!t.asObject&&By(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,vz(this,n,o,s)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,c=uo.levels.values[l],h=uo.levels.values[n];if(h<c)return;_z(this,{ts:s,methodLevel:n,methodValue:h,transmitLevel:l,transmitValue:uo.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function vz(t,e,n,r){t._serialize&&By(n,t._serialize,t.serializers,t._stdErrSerialize);const i=n.slice();let s=i[0];const o={};r&&(o.time=r),o.level=uo.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?R6(i.shift(),i):void 0}else typeof s=="string"&&(s=R6(i.shift(),i));return s!==void 0&&(o.msg=s),o}function By(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=uo.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function rc(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function _z(t,e,n){const r=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,u=t._logEvent.bindings;By(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(l){return u.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,r(s,t._logEvent,a),t._logEvent=ZE(u)}function ZE(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function wz(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function bz(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?aP:uP}function Mg(){return{}}function bw(t){return t}function Hd(){}function aP(){return!1}function uP(){return Date.now()}function Ez(){return Math.round(Date.now()/1e3)}function Az(){return new Date(Date.now()).toISOString()}function Sz(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const X1e=ns(pz);var Cz={},lP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=pt,n=Si;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var r=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._tempHi),n.wipe(this._tempLo),this.reset()},a.prototype.update=function(u,l){if(l===void 0&&(l=u.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var c=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&l>0;)this._buffer[this._bufferLength++]=u[c++],l--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(c=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,u,c,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=u[c++],l--;return this},a.prototype.finish=function(u){if(!this._finished){var l=this._bytesHashed,c=this._bufferLength,h=l/536870912|0,f=l<<3,g=l%128<112?128:256;this._buffer[c]=128;for(var w=c+1;w<g-8;w++)this._buffer[w]=0;e.writeUint32BE(h,this._buffer,g-8),e.writeUint32BE(f,this._buffer,g-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,g),this._finished=!0}for(var w=0;w<this.digestLength/8;w++)e.writeUint32BE(this._stateHi[w],u,w*8),e.writeUint32BE(this._stateLo[w],u,w*8+4);return this},a.prototype.digest=function(){var u=new Uint8Array(this.digestLength);return this.finish(u),u},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(u){return this._stateHi.set(u.stateHi),this._stateLo.set(u.stateLo),this._bufferLength=u.bufferLength,u.buffer&&this._buffer.set(u.buffer),this._bytesHashed=u.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(u){n.wipe(u.stateHi),n.wipe(u.stateLo),u.buffer&&n.wipe(u.buffer),u.bufferLength=0,u.bytesHashed=0},a}();t.SHA512=r;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(a,u,l,c,h,f,g){for(var w=l[0],P=l[1],D=l[2],E=l[3],_=l[4],S=l[5],O=l[6],$=l[7],V=c[0],v=c[1],m=c[2],b=c[3],T=c[4],B=c[5],z=c[6],A=c[7],p,y,x,k,C,F,W,U;g>=128;){for(var I=0;I<16;I++){var G=8*I+f;a[I]=e.readUint32BE(h,G),u[I]=e.readUint32BE(h,G+4)}for(var I=0;I<80;I++){var ue=w,ie=P,X=D,Q=E,Y=_,ee=S,N=O,j=$,K=V,se=v,ce=m,pe=b,Ee=T,_e=B,He=z,_t=A;if(p=$,y=A,C=y&65535,F=y>>>16,W=p&65535,U=p>>>16,p=(_>>>14|T<<18)^(_>>>18|T<<14)^(T>>>9|_<<23),y=(T>>>14|_<<18)^(T>>>18|_<<14)^(_>>>9|T<<23),C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,p=_&S^~_&O,y=T&B^~T&z,C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,p=i[I*2],y=i[I*2+1],C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,p=a[I%16],y=u[I%16],C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,F+=C>>>16,W+=F>>>16,U+=W>>>16,x=W&65535|U<<16,k=C&65535|F<<16,p=x,y=k,C=y&65535,F=y>>>16,W=p&65535,U=p>>>16,p=(w>>>28|V<<4)^(V>>>2|w<<30)^(V>>>7|w<<25),y=(V>>>28|w<<4)^(w>>>2|V<<30)^(w>>>7|V<<25),C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,p=w&P^w&D^P&D,y=V&v^V&m^v&m,C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,F+=C>>>16,W+=F>>>16,U+=W>>>16,j=W&65535|U<<16,_t=C&65535|F<<16,p=Q,y=pe,C=y&65535,F=y>>>16,W=p&65535,U=p>>>16,p=x,y=k,C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,F+=C>>>16,W+=F>>>16,U+=W>>>16,Q=W&65535|U<<16,pe=C&65535|F<<16,P=ue,D=ie,E=X,_=Q,S=Y,O=ee,$=N,w=j,v=K,m=se,b=ce,T=pe,B=Ee,z=_e,A=He,V=_t,I%16===15)for(var G=0;G<16;G++)p=a[G],y=u[G],C=y&65535,F=y>>>16,W=p&65535,U=p>>>16,p=a[(G+9)%16],y=u[(G+9)%16],C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,x=a[(G+1)%16],k=u[(G+1)%16],p=(x>>>1|k<<31)^(x>>>8|k<<24)^x>>>7,y=(k>>>1|x<<31)^(k>>>8|x<<24)^(k>>>7|x<<25),C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,x=a[(G+14)%16],k=u[(G+14)%16],p=(x>>>19|k<<13)^(k>>>29|x<<3)^x>>>6,y=(k>>>19|x<<13)^(x>>>29|k<<3)^(k>>>6|x<<26),C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,F+=C>>>16,W+=F>>>16,U+=W>>>16,a[G]=W&65535|U<<16,u[G]=C&65535|F<<16}p=w,y=V,C=y&65535,F=y>>>16,W=p&65535,U=p>>>16,p=l[0],y=c[0],C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,F+=C>>>16,W+=F>>>16,U+=W>>>16,l[0]=w=W&65535|U<<16,c[0]=V=C&65535|F<<16,p=P,y=v,C=y&65535,F=y>>>16,W=p&65535,U=p>>>16,p=l[1],y=c[1],C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,F+=C>>>16,W+=F>>>16,U+=W>>>16,l[1]=P=W&65535|U<<16,c[1]=v=C&65535|F<<16,p=D,y=m,C=y&65535,F=y>>>16,W=p&65535,U=p>>>16,p=l[2],y=c[2],C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,F+=C>>>16,W+=F>>>16,U+=W>>>16,l[2]=D=W&65535|U<<16,c[2]=m=C&65535|F<<16,p=E,y=b,C=y&65535,F=y>>>16,W=p&65535,U=p>>>16,p=l[3],y=c[3],C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,F+=C>>>16,W+=F>>>16,U+=W>>>16,l[3]=E=W&65535|U<<16,c[3]=b=C&65535|F<<16,p=_,y=T,C=y&65535,F=y>>>16,W=p&65535,U=p>>>16,p=l[4],y=c[4],C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,F+=C>>>16,W+=F>>>16,U+=W>>>16,l[4]=_=W&65535|U<<16,c[4]=T=C&65535|F<<16,p=S,y=B,C=y&65535,F=y>>>16,W=p&65535,U=p>>>16,p=l[5],y=c[5],C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,F+=C>>>16,W+=F>>>16,U+=W>>>16,l[5]=S=W&65535|U<<16,c[5]=B=C&65535|F<<16,p=O,y=z,C=y&65535,F=y>>>16,W=p&65535,U=p>>>16,p=l[6],y=c[6],C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,F+=C>>>16,W+=F>>>16,U+=W>>>16,l[6]=O=W&65535|U<<16,c[6]=z=C&65535|F<<16,p=$,y=A,C=y&65535,F=y>>>16,W=p&65535,U=p>>>16,p=l[7],y=c[7],C+=y&65535,F+=y>>>16,W+=p&65535,U+=p>>>16,F+=C>>>16,W+=F>>>16,U+=W>>>16,l[7]=$=W&65535|U<<16,c[7]=A=C&65535|F<<16,f+=128,g-=128}return f}function o(a){var u=new r;u.update(a);var l=u.digest();return u.clean(),l}t.hash=o})(lP);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const e=SA,n=lP,r=Si;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function i(Q){const Y=new Float64Array(16);if(Q)for(let ee=0;ee<Q.length;ee++)Y[ee]=Q[ee];return Y}const s=new Uint8Array(32);s[0]=9;const o=i(),a=i([1]),u=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g(Q,Y){for(let ee=0;ee<16;ee++)Q[ee]=Y[ee]|0}function w(Q){let Y=1;for(let ee=0;ee<16;ee++){let N=Q[ee]+Y+65535;Y=Math.floor(N/65536),Q[ee]=N-Y*65536}Q[0]+=Y-1+37*(Y-1)}function P(Q,Y,ee){const N=~(ee-1);for(let j=0;j<16;j++){const K=N&(Q[j]^Y[j]);Q[j]^=K,Y[j]^=K}}function D(Q,Y){const ee=i(),N=i();for(let j=0;j<16;j++)N[j]=Y[j];w(N),w(N),w(N);for(let j=0;j<2;j++){ee[0]=N[0]-65517;for(let se=1;se<15;se++)ee[se]=N[se]-65535-(ee[se-1]>>16&1),ee[se-1]&=65535;ee[15]=N[15]-32767-(ee[14]>>16&1);const K=ee[15]>>16&1;ee[14]&=65535,P(N,ee,1-K)}for(let j=0;j<16;j++)Q[2*j]=N[j]&255,Q[2*j+1]=N[j]>>8}function E(Q,Y){let ee=0;for(let N=0;N<32;N++)ee|=Q[N]^Y[N];return(1&ee-1>>>8)-1}function _(Q,Y){const ee=new Uint8Array(32),N=new Uint8Array(32);return D(ee,Q),D(N,Y),E(ee,N)}function S(Q){const Y=new Uint8Array(32);return D(Y,Q),Y[0]&1}function O(Q,Y){for(let ee=0;ee<16;ee++)Q[ee]=Y[2*ee]+(Y[2*ee+1]<<8);Q[15]&=32767}function $(Q,Y,ee){for(let N=0;N<16;N++)Q[N]=Y[N]+ee[N]}function V(Q,Y,ee){for(let N=0;N<16;N++)Q[N]=Y[N]-ee[N]}function v(Q,Y,ee){let N,j,K=0,se=0,ce=0,pe=0,Ee=0,_e=0,He=0,_t=0,Pe=0,Re=0,ze=0,xe=0,Te=0,Ue=0,ve=0,q=0,R=0,L=0,J=0,ne=0,re=0,ae=0,Ce=0,Ae=0,Fe=0,ft=0,Le=0,gt=0,er=0,Et=0,Tt=0,Bt=ee[0],Ge=ee[1],Xe=ee[2],Nt=ee[3],et=ee[4],Qe=ee[5],Ht=ee[6],Ve=ee[7],tt=ee[8],Ft=ee[9],Ze=ee[10],nt=ee[11],Ut=ee[12],We=ee[13],it=ee[14],qt=ee[15];N=Y[0],K+=N*Bt,se+=N*Ge,ce+=N*Xe,pe+=N*Nt,Ee+=N*et,_e+=N*Qe,He+=N*Ht,_t+=N*Ve,Pe+=N*tt,Re+=N*Ft,ze+=N*Ze,xe+=N*nt,Te+=N*Ut,Ue+=N*We,ve+=N*it,q+=N*qt,N=Y[1],se+=N*Bt,ce+=N*Ge,pe+=N*Xe,Ee+=N*Nt,_e+=N*et,He+=N*Qe,_t+=N*Ht,Pe+=N*Ve,Re+=N*tt,ze+=N*Ft,xe+=N*Ze,Te+=N*nt,Ue+=N*Ut,ve+=N*We,q+=N*it,R+=N*qt,N=Y[2],ce+=N*Bt,pe+=N*Ge,Ee+=N*Xe,_e+=N*Nt,He+=N*et,_t+=N*Qe,Pe+=N*Ht,Re+=N*Ve,ze+=N*tt,xe+=N*Ft,Te+=N*Ze,Ue+=N*nt,ve+=N*Ut,q+=N*We,R+=N*it,L+=N*qt,N=Y[3],pe+=N*Bt,Ee+=N*Ge,_e+=N*Xe,He+=N*Nt,_t+=N*et,Pe+=N*Qe,Re+=N*Ht,ze+=N*Ve,xe+=N*tt,Te+=N*Ft,Ue+=N*Ze,ve+=N*nt,q+=N*Ut,R+=N*We,L+=N*it,J+=N*qt,N=Y[4],Ee+=N*Bt,_e+=N*Ge,He+=N*Xe,_t+=N*Nt,Pe+=N*et,Re+=N*Qe,ze+=N*Ht,xe+=N*Ve,Te+=N*tt,Ue+=N*Ft,ve+=N*Ze,q+=N*nt,R+=N*Ut,L+=N*We,J+=N*it,ne+=N*qt,N=Y[5],_e+=N*Bt,He+=N*Ge,_t+=N*Xe,Pe+=N*Nt,Re+=N*et,ze+=N*Qe,xe+=N*Ht,Te+=N*Ve,Ue+=N*tt,ve+=N*Ft,q+=N*Ze,R+=N*nt,L+=N*Ut,J+=N*We,ne+=N*it,re+=N*qt,N=Y[6],He+=N*Bt,_t+=N*Ge,Pe+=N*Xe,Re+=N*Nt,ze+=N*et,xe+=N*Qe,Te+=N*Ht,Ue+=N*Ve,ve+=N*tt,q+=N*Ft,R+=N*Ze,L+=N*nt,J+=N*Ut,ne+=N*We,re+=N*it,ae+=N*qt,N=Y[7],_t+=N*Bt,Pe+=N*Ge,Re+=N*Xe,ze+=N*Nt,xe+=N*et,Te+=N*Qe,Ue+=N*Ht,ve+=N*Ve,q+=N*tt,R+=N*Ft,L+=N*Ze,J+=N*nt,ne+=N*Ut,re+=N*We,ae+=N*it,Ce+=N*qt,N=Y[8],Pe+=N*Bt,Re+=N*Ge,ze+=N*Xe,xe+=N*Nt,Te+=N*et,Ue+=N*Qe,ve+=N*Ht,q+=N*Ve,R+=N*tt,L+=N*Ft,J+=N*Ze,ne+=N*nt,re+=N*Ut,ae+=N*We,Ce+=N*it,Ae+=N*qt,N=Y[9],Re+=N*Bt,ze+=N*Ge,xe+=N*Xe,Te+=N*Nt,Ue+=N*et,ve+=N*Qe,q+=N*Ht,R+=N*Ve,L+=N*tt,J+=N*Ft,ne+=N*Ze,re+=N*nt,ae+=N*Ut,Ce+=N*We,Ae+=N*it,Fe+=N*qt,N=Y[10],ze+=N*Bt,xe+=N*Ge,Te+=N*Xe,Ue+=N*Nt,ve+=N*et,q+=N*Qe,R+=N*Ht,L+=N*Ve,J+=N*tt,ne+=N*Ft,re+=N*Ze,ae+=N*nt,Ce+=N*Ut,Ae+=N*We,Fe+=N*it,ft+=N*qt,N=Y[11],xe+=N*Bt,Te+=N*Ge,Ue+=N*Xe,ve+=N*Nt,q+=N*et,R+=N*Qe,L+=N*Ht,J+=N*Ve,ne+=N*tt,re+=N*Ft,ae+=N*Ze,Ce+=N*nt,Ae+=N*Ut,Fe+=N*We,ft+=N*it,Le+=N*qt,N=Y[12],Te+=N*Bt,Ue+=N*Ge,ve+=N*Xe,q+=N*Nt,R+=N*et,L+=N*Qe,J+=N*Ht,ne+=N*Ve,re+=N*tt,ae+=N*Ft,Ce+=N*Ze,Ae+=N*nt,Fe+=N*Ut,ft+=N*We,Le+=N*it,gt+=N*qt,N=Y[13],Ue+=N*Bt,ve+=N*Ge,q+=N*Xe,R+=N*Nt,L+=N*et,J+=N*Qe,ne+=N*Ht,re+=N*Ve,ae+=N*tt,Ce+=N*Ft,Ae+=N*Ze,Fe+=N*nt,ft+=N*Ut,Le+=N*We,gt+=N*it,er+=N*qt,N=Y[14],ve+=N*Bt,q+=N*Ge,R+=N*Xe,L+=N*Nt,J+=N*et,ne+=N*Qe,re+=N*Ht,ae+=N*Ve,Ce+=N*tt,Ae+=N*Ft,Fe+=N*Ze,ft+=N*nt,Le+=N*Ut,gt+=N*We,er+=N*it,Et+=N*qt,N=Y[15],q+=N*Bt,R+=N*Ge,L+=N*Xe,J+=N*Nt,ne+=N*et,re+=N*Qe,ae+=N*Ht,Ce+=N*Ve,Ae+=N*tt,Fe+=N*Ft,ft+=N*Ze,Le+=N*nt,gt+=N*Ut,er+=N*We,Et+=N*it,Tt+=N*qt,K+=38*R,se+=38*L,ce+=38*J,pe+=38*ne,Ee+=38*re,_e+=38*ae,He+=38*Ce,_t+=38*Ae,Pe+=38*Fe,Re+=38*ft,ze+=38*Le,xe+=38*gt,Te+=38*er,Ue+=38*Et,ve+=38*Tt,j=1,N=K+j+65535,j=Math.floor(N/65536),K=N-j*65536,N=se+j+65535,j=Math.floor(N/65536),se=N-j*65536,N=ce+j+65535,j=Math.floor(N/65536),ce=N-j*65536,N=pe+j+65535,j=Math.floor(N/65536),pe=N-j*65536,N=Ee+j+65535,j=Math.floor(N/65536),Ee=N-j*65536,N=_e+j+65535,j=Math.floor(N/65536),_e=N-j*65536,N=He+j+65535,j=Math.floor(N/65536),He=N-j*65536,N=_t+j+65535,j=Math.floor(N/65536),_t=N-j*65536,N=Pe+j+65535,j=Math.floor(N/65536),Pe=N-j*65536,N=Re+j+65535,j=Math.floor(N/65536),Re=N-j*65536,N=ze+j+65535,j=Math.floor(N/65536),ze=N-j*65536,N=xe+j+65535,j=Math.floor(N/65536),xe=N-j*65536,N=Te+j+65535,j=Math.floor(N/65536),Te=N-j*65536,N=Ue+j+65535,j=Math.floor(N/65536),Ue=N-j*65536,N=ve+j+65535,j=Math.floor(N/65536),ve=N-j*65536,N=q+j+65535,j=Math.floor(N/65536),q=N-j*65536,K+=j-1+37*(j-1),j=1,N=K+j+65535,j=Math.floor(N/65536),K=N-j*65536,N=se+j+65535,j=Math.floor(N/65536),se=N-j*65536,N=ce+j+65535,j=Math.floor(N/65536),ce=N-j*65536,N=pe+j+65535,j=Math.floor(N/65536),pe=N-j*65536,N=Ee+j+65535,j=Math.floor(N/65536),Ee=N-j*65536,N=_e+j+65535,j=Math.floor(N/65536),_e=N-j*65536,N=He+j+65535,j=Math.floor(N/65536),He=N-j*65536,N=_t+j+65535,j=Math.floor(N/65536),_t=N-j*65536,N=Pe+j+65535,j=Math.floor(N/65536),Pe=N-j*65536,N=Re+j+65535,j=Math.floor(N/65536),Re=N-j*65536,N=ze+j+65535,j=Math.floor(N/65536),ze=N-j*65536,N=xe+j+65535,j=Math.floor(N/65536),xe=N-j*65536,N=Te+j+65535,j=Math.floor(N/65536),Te=N-j*65536,N=Ue+j+65535,j=Math.floor(N/65536),Ue=N-j*65536,N=ve+j+65535,j=Math.floor(N/65536),ve=N-j*65536,N=q+j+65535,j=Math.floor(N/65536),q=N-j*65536,K+=j-1+37*(j-1),Q[0]=K,Q[1]=se,Q[2]=ce,Q[3]=pe,Q[4]=Ee,Q[5]=_e,Q[6]=He,Q[7]=_t,Q[8]=Pe,Q[9]=Re,Q[10]=ze,Q[11]=xe,Q[12]=Te,Q[13]=Ue,Q[14]=ve,Q[15]=q}function m(Q,Y){v(Q,Y,Y)}function b(Q,Y){const ee=i();let N;for(N=0;N<16;N++)ee[N]=Y[N];for(N=253;N>=0;N--)m(ee,ee),N!==2&&N!==4&&v(ee,ee,Y);for(N=0;N<16;N++)Q[N]=ee[N]}function T(Q,Y){const ee=i();let N;for(N=0;N<16;N++)ee[N]=Y[N];for(N=250;N>=0;N--)m(ee,ee),N!==1&&v(ee,ee,Y);for(N=0;N<16;N++)Q[N]=ee[N]}function B(Q,Y){const ee=i(),N=i(),j=i(),K=i(),se=i(),ce=i(),pe=i(),Ee=i(),_e=i();V(ee,Q[1],Q[0]),V(_e,Y[1],Y[0]),v(ee,ee,_e),$(N,Q[0],Q[1]),$(_e,Y[0],Y[1]),v(N,N,_e),v(j,Q[3],Y[3]),v(j,j,l),v(K,Q[2],Y[2]),$(K,K,K),V(se,N,ee),V(ce,K,j),$(pe,K,j),$(Ee,N,ee),v(Q[0],se,ce),v(Q[1],Ee,pe),v(Q[2],pe,ce),v(Q[3],se,Ee)}function z(Q,Y,ee){for(let N=0;N<4;N++)P(Q[N],Y[N],ee)}function A(Q,Y){const ee=i(),N=i(),j=i();b(j,Y[2]),v(ee,Y[0],j),v(N,Y[1],j),D(Q,N),Q[31]^=S(ee)<<7}function p(Q,Y,ee){g(Q[0],o),g(Q[1],a),g(Q[2],a),g(Q[3],o);for(let N=255;N>=0;--N){const j=ee[N/8|0]>>(N&7)&1;z(Q,Y,j),B(Y,Q),B(Q,Q),z(Q,Y,j)}}function y(Q,Y){const ee=[i(),i(),i(),i()];g(ee[0],c),g(ee[1],h),g(ee[2],a),v(ee[3],c,h),p(Q,ee,Y)}function x(Q){if(Q.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const Y=(0,n.hash)(Q);Y[0]&=248,Y[31]&=127,Y[31]|=64;const ee=new Uint8Array(32),N=[i(),i(),i(),i()];y(N,Y),A(ee,N);const j=new Uint8Array(64);return j.set(Q),j.set(ee,32),{publicKey:ee,secretKey:j}}t.generateKeyPairFromSeed=x;function k(Q){const Y=(0,e.randomBytes)(32,Q),ee=x(Y);return(0,r.wipe)(Y),ee}t.generateKeyPair=k;function C(Q){if(Q.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(Q.subarray(32))}t.extractPublicKeyFromSecretKey=C;const F=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function W(Q,Y){let ee,N,j,K;for(N=63;N>=32;--N){for(ee=0,j=N-32,K=N-12;j<K;++j)Y[j]+=ee-16*Y[N]*F[j-(N-32)],ee=Math.floor((Y[j]+128)/256),Y[j]-=ee*256;Y[j]+=ee,Y[N]=0}for(ee=0,j=0;j<32;j++)Y[j]+=ee-(Y[31]>>4)*F[j],ee=Y[j]>>8,Y[j]&=255;for(j=0;j<32;j++)Y[j]-=ee*F[j];for(N=0;N<32;N++)Y[N+1]+=Y[N]>>8,Q[N]=Y[N]&255}function U(Q){const Y=new Float64Array(64);for(let ee=0;ee<64;ee++)Y[ee]=Q[ee];for(let ee=0;ee<64;ee++)Q[ee]=0;W(Q,Y)}function I(Q,Y){const ee=new Float64Array(64),N=[i(),i(),i(),i()],j=(0,n.hash)(Q.subarray(0,32));j[0]&=248,j[31]&=127,j[31]|=64;const K=new Uint8Array(64);K.set(j.subarray(32),32);const se=new n.SHA512;se.update(K.subarray(32)),se.update(Y);const ce=se.digest();se.clean(),U(ce),y(N,ce),A(K,N),se.reset(),se.update(K.subarray(0,32)),se.update(Q.subarray(32)),se.update(Y);const pe=se.digest();U(pe);for(let Ee=0;Ee<32;Ee++)ee[Ee]=ce[Ee];for(let Ee=0;Ee<32;Ee++)for(let _e=0;_e<32;_e++)ee[Ee+_e]+=pe[Ee]*j[_e];return W(K.subarray(32),ee),K}t.sign=I;function G(Q,Y){const ee=i(),N=i(),j=i(),K=i(),se=i(),ce=i(),pe=i();return g(Q[2],a),O(Q[1],Y),m(j,Q[1]),v(K,j,u),V(j,j,Q[2]),$(K,Q[2],K),m(se,K),m(ce,se),v(pe,ce,se),v(ee,pe,j),v(ee,ee,K),T(ee,ee),v(ee,ee,j),v(ee,ee,K),v(ee,ee,K),v(Q[0],ee,K),m(N,Q[0]),v(N,N,K),_(N,j)&&v(Q[0],Q[0],f),m(N,Q[0]),v(N,N,K),_(N,j)?-1:(S(Q[0])===Y[31]>>7&&V(Q[0],o,Q[0]),v(Q[3],Q[0],Q[1]),0)}function ue(Q,Y,ee){const N=new Uint8Array(32),j=[i(),i(),i(),i()],K=[i(),i(),i(),i()];if(ee.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(G(K,Q))return!1;const se=new n.SHA512;se.update(ee.subarray(0,32)),se.update(Q),se.update(Y);const ce=se.digest();return U(ce),p(j,K,ce),y(K,ee.subarray(32)),B(j,K),A(N,j),!E(ee,N)}t.verify=ue;function ie(Q){let Y=[i(),i(),i(),i()];if(G(Y,Q))throw new Error("Ed25519: invalid public key");let ee=i(),N=i(),j=Y[1];$(ee,a,j),V(N,a,j),b(N,N),v(ee,ee,N);let K=new Uint8Array(32);return D(K,ee),K}t.convertPublicKeyToX25519=ie;function X(Q){const Y=(0,n.hash)(Q.subarray(0,32));Y[0]&=248,Y[31]&=127,Y[31]|=64;const ee=new Uint8Array(Y.subarray(0,32));return(0,r.wipe)(Y),ee}t.convertSecretKeyToX25519=X})(Cz);var v1={exports:{}};v1.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",h="[object Date]",f="[object Error]",g="[object Function]",w="[object GeneratorFunction]",P="[object Map]",D="[object Number]",E="[object Null]",_="[object Object]",S="[object Promise]",O="[object Proxy]",$="[object RegExp]",V="[object Set]",v="[object String]",m="[object Symbol]",b="[object Undefined]",T="[object WeakMap]",B="[object ArrayBuffer]",z="[object DataView]",A="[object Float32Array]",p="[object Float64Array]",y="[object Int8Array]",x="[object Int16Array]",k="[object Int32Array]",C="[object Uint8Array]",F="[object Uint8ClampedArray]",W="[object Uint16Array]",U="[object Uint32Array]",I=/[\\^$.*+?()[\]{}|]/g,G=/^\[object .+?Constructor\]$/,ue=/^(?:0|[1-9]\d*)$/,ie={};ie[A]=ie[p]=ie[y]=ie[x]=ie[k]=ie[C]=ie[F]=ie[W]=ie[U]=!0,ie[a]=ie[u]=ie[B]=ie[c]=ie[z]=ie[h]=ie[f]=ie[g]=ie[P]=ie[D]=ie[_]=ie[$]=ie[V]=ie[v]=ie[T]=!1;var X=typeof Ie=="object"&&Ie&&Ie.Object===Object&&Ie,Q=typeof self=="object"&&self&&self.Object===Object&&self,Y=X||Q||Function("return this")(),ee=e&&!e.nodeType&&e,N=ee&&!0&&t&&!t.nodeType&&t,j=N&&N.exports===ee,K=j&&X.process,se=function(){try{return K&&K.binding&&K.binding("util")}catch{}}(),ce=se&&se.isTypedArray;function pe(te,oe){for(var de=-1,Me=te==null?0:te.length,Kt=0,at=[];++de<Me;){var tn=te[de];oe(tn,de,te)&&(at[Kt++]=tn)}return at}function Ee(te,oe){for(var de=-1,Me=oe.length,Kt=te.length;++de<Me;)te[Kt+de]=oe[de];return te}function _e(te,oe){for(var de=-1,Me=te==null?0:te.length;++de<Me;)if(oe(te[de],de,te))return!0;return!1}function He(te,oe){for(var de=-1,Me=Array(te);++de<te;)Me[de]=oe(de);return Me}function _t(te){return function(oe){return te(oe)}}function Pe(te,oe){return te.has(oe)}function Re(te,oe){return te==null?void 0:te[oe]}function ze(te){var oe=-1,de=Array(te.size);return te.forEach(function(Me,Kt){de[++oe]=[Kt,Me]}),de}function xe(te,oe){return function(de){return te(oe(de))}}function Te(te){var oe=-1,de=Array(te.size);return te.forEach(function(Me){de[++oe]=Me}),de}var Ue=Array.prototype,ve=Function.prototype,q=Object.prototype,R=Y["__core-js_shared__"],L=ve.toString,J=q.hasOwnProperty,ne=function(){var te=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||"");return te?"Symbol(src)_1."+te:""}(),re=q.toString,ae=RegExp("^"+L.call(J).replace(I,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ce=j?Y.Buffer:void 0,Ae=Y.Symbol,Fe=Y.Uint8Array,ft=q.propertyIsEnumerable,Le=Ue.splice,gt=Ae?Ae.toStringTag:void 0,er=Object.getOwnPropertySymbols,Et=Ce?Ce.isBuffer:void 0,Tt=xe(Object.keys,Object),Bt=Pi(Y,"DataView"),Ge=Pi(Y,"Map"),Xe=Pi(Y,"Promise"),Nt=Pi(Y,"Set"),et=Pi(Y,"WeakMap"),Qe=Pi(Object,"create"),Ht=Bs(Bt),Ve=Bs(Ge),tt=Bs(Xe),Ft=Bs(Nt),Ze=Bs(et),nt=Ae?Ae.prototype:void 0,Ut=nt?nt.valueOf:void 0;function We(te){var oe=-1,de=te==null?0:te.length;for(this.clear();++oe<de;){var Me=te[oe];this.set(Me[0],Me[1])}}function it(){this.__data__=Qe?Qe(null):{},this.size=0}function qt(te){var oe=this.has(te)&&delete this.__data__[te];return this.size-=oe?1:0,oe}function $t(te){var oe=this.__data__;if(Qe){var de=oe[te];return de===r?void 0:de}return J.call(oe,te)?oe[te]:void 0}function Vt(te){var oe=this.__data__;return Qe?oe[te]!==void 0:J.call(oe,te)}function Ii(te,oe){var de=this.__data__;return this.size+=this.has(te)?0:1,de[te]=Qe&&oe===void 0?r:oe,this}We.prototype.clear=it,We.prototype.delete=qt,We.prototype.get=$t,We.prototype.has=Vt,We.prototype.set=Ii;function vt(te){var oe=-1,de=te==null?0:te.length;for(this.clear();++oe<de;){var Me=te[oe];this.set(Me[0],Me[1])}}function St(){this.__data__=[],this.size=0}function xi(te){var oe=this.__data__,de=_u(oe,te);if(de<0)return!1;var Me=oe.length-1;return de==Me?oe.pop():Le.call(oe,de,1),--this.size,!0}function Ti(te){var oe=this.__data__,de=_u(oe,te);return de<0?void 0:oe[de][1]}function si(te){return _u(this.__data__,te)>-1}function oi(te,oe){var de=this.__data__,Me=_u(de,te);return Me<0?(++this.size,de.push([te,oe])):de[Me][1]=oe,this}vt.prototype.clear=St,vt.prototype.delete=xi,vt.prototype.get=Ti,vt.prototype.has=si,vt.prototype.set=oi;function Un(te){var oe=-1,de=te==null?0:te.length;for(this.clear();++oe<de;){var Me=te[oe];this.set(Me[0],Me[1])}}function Ri(){this.size=0,this.__data__={hash:new We,map:new(Ge||vt),string:new We}}function is(te){var oe=Ns(this,te).delete(te);return this.size-=oe?1:0,oe}function Wr(te){return Ns(this,te).get(te)}function ki(te){return Ns(this,te).has(te)}function ai(te,oe){var de=Ns(this,te),Me=de.size;return de.set(te,oe),this.size+=de.size==Me?0:1,this}Un.prototype.clear=Ri,Un.prototype.delete=is,Un.prototype.get=Wr,Un.prototype.has=ki,Un.prototype.set=ai;function Vn(te){var oe=-1,de=te==null?0:te.length;for(this.__data__=new Un;++oe<de;)this.add(te[oe])}function tr(te){return this.__data__.set(te,r),this}function ui(te){return this.__data__.has(te)}Vn.prototype.add=Vn.prototype.push=tr,Vn.prototype.has=ui;function zn(te){var oe=this.__data__=new vt(te);this.size=oe.size}function ia(){this.__data__=new vt,this.size=0}function sa(te){var oe=this.__data__,de=oe.delete(te);return this.size=oe.size,de}function oa(te){return this.__data__.get(te)}function Eo(te){return this.__data__.has(te)}function Ao(te,oe){var de=this.__data__;if(de instanceof vt){var Me=de.__data__;if(!Ge||Me.length<n-1)return Me.push([te,oe]),this.size=++de.size,this;de=this.__data__=new Un(Me)}return de.set(te,oe),this.size=de.size,this}zn.prototype.clear=ia,zn.prototype.delete=sa,zn.prototype.get=oa,zn.prototype.has=Eo,zn.prototype.set=Ao;function ng(te,oe){var de=os(te),Me=!de&&sg(te),Kt=!de&&!Me&&If(te),at=!de&&!Me&&!Kt&&Su(te),tn=de||Me||Kt||at,An=tn?He(te.length,String):[],wn=An.length;for(var Zt in te)J.call(te,Zt)&&!(tn&&(Zt=="length"||Kt&&(Zt=="offset"||Zt=="parent")||at&&(Zt=="buffer"||Zt=="byteLength"||Zt=="byteOffset")||F_(Zt,wn)))&&An.push(Zt);return An}function _u(te,oe){for(var de=te.length;de--;)if(Cf(te[de][0],oe))return de;return-1}function O_(te,oe,de){var Me=oe(te);return os(te)?Me:Ee(Me,de(te))}function wu(te){return te==null?te===void 0?b:E:gt&&gt in Object(te)?B_(te):Ls(te)}function Af(te){return us(te)&&wu(te)==a}function Sf(te,oe,de,Me,Kt){return te===oe?!0:te==null||oe==null||!us(te)&&!us(oe)?te!==te&&oe!==oe:L_(te,oe,de,Me,Sf,Kt)}function L_(te,oe,de,Me,Kt,at){var tn=os(te),An=os(oe),wn=tn?u:Os(te),Zt=An?u:Os(oe);wn=wn==a?_:wn,Zt=Zt==a?_:Zt;var ln=wn==_,qr=Zt==_,Hn=wn==Zt;if(Hn&&If(te)){if(!If(oe))return!1;tn=!0,ln=!1}if(Hn&&!ln)return at||(at=new zn),tn||Su(te)?bu(te,oe,de,Me,Kt,at):rg(te,oe,wn,de,Me,Kt,at);if(!(de&i)){var Wn=ln&&J.call(te,"__wrapped__"),Dr=qr&&J.call(oe,"__wrapped__");if(Wn||Dr){var Mi=Wn?te.value():te,Gr=Dr?oe.value():oe;return at||(at=new zn),Kt(Mi,Gr,de,Me,at)}}return Hn?(at||(at=new zn),Gt(te,oe,de,Me,Kt,at)):!1}function So(te){if(!ag(te)||j_(te))return!1;var oe=as(te)?ae:G;return oe.test(Bs(te))}function ss(te){return us(te)&&og(te.length)&&!!ie[wu(te)]}function Zl(te){if(!Au(te))return Tt(te);var oe=[];for(var de in Object(te))J.call(te,de)&&de!="constructor"&&oe.push(de);return oe}function bu(te,oe,de,Me,Kt,at){var tn=de&i,An=te.length,wn=oe.length;if(An!=wn&&!(tn&&wn>An))return!1;var Zt=at.get(te);if(Zt&&at.get(oe))return Zt==oe;var ln=-1,qr=!0,Hn=de&s?new Vn:void 0;for(at.set(te,oe),at.set(oe,te);++ln<An;){var Wn=te[ln],Dr=oe[ln];if(Me)var Mi=tn?Me(Dr,Wn,ln,oe,te,at):Me(Wn,Dr,ln,te,oe,at);if(Mi!==void 0){if(Mi)continue;qr=!1;break}if(Hn){if(!_e(oe,function(Gr,Fs){if(!Pe(Hn,Fs)&&(Wn===Gr||Kt(Wn,Gr,de,Me,at)))return Hn.push(Fs)})){qr=!1;break}}else if(!(Wn===Dr||Kt(Wn,Dr,de,Me,at))){qr=!1;break}}return at.delete(te),at.delete(oe),qr}function rg(te,oe,de,Me,Kt,at,tn){switch(de){case z:if(te.byteLength!=oe.byteLength||te.byteOffset!=oe.byteOffset)return!1;te=te.buffer,oe=oe.buffer;case B:return!(te.byteLength!=oe.byteLength||!at(new Fe(te),new Fe(oe)));case c:case h:case D:return Cf(+te,+oe);case f:return te.name==oe.name&&te.message==oe.message;case $:case v:return te==oe+"";case P:var An=ze;case V:var wn=Me&i;if(An||(An=Te),te.size!=oe.size&&!wn)return!1;var Zt=tn.get(te);if(Zt)return Zt==oe;Me|=s,tn.set(te,oe);var ln=bu(An(te),An(oe),Me,Kt,at,tn);return tn.delete(te),ln;case m:if(Ut)return Ut.call(te)==Ut.call(oe)}return!1}function Gt(te,oe,de,Me,Kt,at){var tn=de&i,An=Eu(te),wn=An.length,Zt=Eu(oe),ln=Zt.length;if(wn!=ln&&!tn)return!1;for(var qr=wn;qr--;){var Hn=An[qr];if(!(tn?Hn in oe:J.call(oe,Hn)))return!1}var Wn=at.get(te);if(Wn&&at.get(oe))return Wn==oe;var Dr=!0;at.set(te,oe),at.set(oe,te);for(var Mi=tn;++qr<wn;){Hn=An[qr];var Gr=te[Hn],Fs=oe[Hn];if(Me)var xu=tn?Me(Fs,Gr,Hn,oe,te,at):Me(Gr,Fs,Hn,te,oe,at);if(!(xu===void 0?Gr===Fs||Kt(Gr,Fs,de,Me,at):xu)){Dr=!1;break}Mi||(Mi=Hn=="constructor")}if(Dr&&!Mi){var Yl=te.constructor,Tu=oe.constructor;Yl!=Tu&&"constructor"in te&&"constructor"in oe&&!(typeof Yl=="function"&&Yl instanceof Yl&&typeof Tu=="function"&&Tu instanceof Tu)&&(Dr=!1)}return at.delete(te),at.delete(oe),Dr}function Eu(te){return O_(te,ug,ig)}function Ns(te,oe){var de=te.__data__;return $_(oe)?de[typeof oe=="string"?"string":"hash"]:de.map}function Pi(te,oe){var de=Re(te,oe);return So(de)?de:void 0}function B_(te){var oe=J.call(te,gt),de=te[gt];try{te[gt]=void 0;var Me=!0}catch{}var Kt=re.call(te);return Me&&(oe?te[gt]=de:delete te[gt]),Kt}var ig=er?function(te){return te==null?[]:(te=Object(te),pe(er(te),function(oe){return ft.call(te,oe)}))}:Cu,Os=wu;(Bt&&Os(new Bt(new ArrayBuffer(1)))!=z||Ge&&Os(new Ge)!=P||Xe&&Os(Xe.resolve())!=S||Nt&&Os(new Nt)!=V||et&&Os(new et)!=T)&&(Os=function(te){var oe=wu(te),de=oe==_?te.constructor:void 0,Me=de?Bs(de):"";if(Me)switch(Me){case Ht:return z;case Ve:return P;case tt:return S;case Ft:return V;case Ze:return T}return oe});function F_(te,oe){return oe=oe??o,!!oe&&(typeof te=="number"||ue.test(te))&&te>-1&&te%1==0&&te<oe}function $_(te){var oe=typeof te;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?te!=="__proto__":te===null}function j_(te){return!!ne&&ne in te}function Au(te){var oe=te&&te.constructor,de=typeof oe=="function"&&oe.prototype||q;return te===de}function Ls(te){return re.call(te)}function Bs(te){if(te!=null){try{return L.call(te)}catch{}try{return te+""}catch{}}return""}function Cf(te,oe){return te===oe||te!==te&&oe!==oe}var sg=Af(function(){return arguments}())?Af:function(te){return us(te)&&J.call(te,"callee")&&!ft.call(te,"callee")},os=Array.isArray;function U_(te){return te!=null&&og(te.length)&&!as(te)}var If=Et||Iu;function V_(te,oe){return Sf(te,oe)}function as(te){if(!ag(te))return!1;var oe=wu(te);return oe==g||oe==w||oe==l||oe==O}function og(te){return typeof te=="number"&&te>-1&&te%1==0&&te<=o}function ag(te){var oe=typeof te;return te!=null&&(oe=="object"||oe=="function")}function us(te){return te!=null&&typeof te=="object"}var Su=ce?_t(ce):ss;function ug(te){return U_(te)?ng(te):Zl(te)}function Cu(){return[]}function Iu(){return!1}t.exports=V_})(v1,v1.exports);var Iz=v1.exports;const eye=ns(Iz);function xz(t,e){return e=e||{},new Promise(function(n,r){var i=new XMLHttpRequest,s=[],o=[],a={},u=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return s},entries:function(){return o},get:function(c){return a[c.toLowerCase()]},has:function(c){return c.toLowerCase()in a}}}};for(var l in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(c,h,f){s.push(h=h.toLowerCase()),o.push([h,f]),a[h]=a[h]?a[h]+","+f:f}),n(u())},i.onerror=r,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(l,e.headers[l]);i.send(e.body||null)})}const Tz=Object.freeze(Object.defineProperty({__proto__:null,default:xz},Symbol.toStringTag,{value:"Module"})),k6=ta(Tz);var Rz=self.fetch||(self.fetch=k6.default||k6);const tye=ns(Rz),kz="2.16.5",Pz=t=>t,sp=t=>t,Mz=()=>`viem@${kz}`;let be=class YE extends Error{constructor(e,n={}){var s;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:Mz()});const r=n.cause instanceof YE?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,i=n.cause instanceof YE&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${n.docsBaseUrl??"https://viem.sh"}${i}${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return cP(this,e)}};function cP(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t?cP(t.cause,e):e?null:t}class Dz extends be{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class Nz extends be{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesBooleanError"})}}class Oz extends be{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}class hP extends be{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class fP extends be{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}class P6 extends be{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesLengthError"})}}function rf(t,{dir:e,size:n=32}={}){return typeof t=="string"?Ha(t,{dir:e,size:n}):Lz(t,{dir:e,size:n})}function Ha(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new fP({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Lz(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new fP({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}function du(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function cr(t){return du(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function op(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const Bz=new TextEncoder;function Fy(t,e={}){return typeof t=="number"||typeof t=="bigint"?$z(t,e):typeof t=="boolean"?Fz(t,e):du(t)?Ya(t,e):ol(t,e)}function Fz(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(ks(n,{size:e.size}),rf(n,{size:e.size})):n}const Co={zero:48,nine:57,A:65,F:70,a:97,f:102};function M6(t){if(t>=Co.zero&&t<=Co.nine)return t-Co.zero;if(t>=Co.A&&t<=Co.F)return t-(Co.A-10);if(t>=Co.a&&t<=Co.f)return t-(Co.a-10)}function Ya(t,e={}){let n=t;e.size&&(ks(n,{size:e.size}),n=rf(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const u=M6(r.charCodeAt(a++)),l=M6(r.charCodeAt(a++));if(u===void 0||l===void 0)throw new be(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=u*16+l}return s}function $z(t,e){const n=rn(t,e);return Ya(n)}function ol(t,e={}){const n=Bz.encode(t);return typeof e.size=="number"?(ks(n,{size:e.size}),rf(n,{dir:"right",size:e.size})):n}function ks(t,{size:e}){if(cr(t)>e)throw new Oz({givenSize:cr(t),maxSize:e})}function $y(t,e={}){const{signed:n}=e;e.size&&ks(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function _h(t,e={}){return Number($y(t,e))}function nye(t,e={}){let n=Ya(t);return e.size&&(ks(n,{size:e.size}),n=op(n,{dir:"right"})),new TextDecoder().decode(n)}const jz=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ap(t,e={}){return typeof t=="number"||typeof t=="bigint"?rn(t,e):typeof t=="string"?jy(t,e):typeof t=="boolean"?dP(t,e):Rr(t,e)}function dP(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(ks(n,{size:e.size}),rf(n,{size:e.size})):n}function Rr(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=jz[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(ks(r,{size:e.size}),rf(r,{dir:"right",size:e.size})):r}function rn(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const u=typeof t=="bigint"?"n":"";throw new Dz({max:s?`${s}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${t}${u}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?rf(a,{size:r}):a}const Uz=new TextEncoder;function jy(t,e={}){const n=Uz.encode(t);return Rr(n,e)}function wh(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new Xz(t.type);return`${t.name}(${CA(t.inputs,{includeName:e})})`}function CA(t,{includeName:e=!1}={}){return t?t.map(n=>Vz(n,{includeName:e})).join(e?", ":","):""}function Vz(t,{includeName:e}){return t.type.startsWith("tuple")?`(${CA(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class zz extends be{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class D6 extends be{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class Hz extends be{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${CA(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Uy extends be{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class Wz extends be{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class qz extends be{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${cr(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class Gz extends be{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class pP extends be{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class _1 extends be{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class Kz extends be{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class Qz extends be{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${wh(e.abiItem)}\`, and`,`\`${n.type}\` in \`${wh(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class Jz extends be{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class Zz extends be{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class Yz extends be{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class Xz extends be{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}function Xa(t){return typeof t[0]=="string"?IA(t):eH(t)}function eH(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function IA(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class vl extends be{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class xA extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}set(e,n){return super.set(e,n),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}function N6(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function tH(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function TA(t,...e){if(!tH(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function w1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function gP(t,e){TA(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Dg=BigInt(2**32-1),O6=BigInt(32);function nH(t,e=!1){return e?{h:Number(t&Dg),l:Number(t>>O6&Dg)}:{h:Number(t>>O6&Dg)|0,l:Number(t&Dg)|0}}function rH(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=nH(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const iH=(t,e,n)=>t<<n|e>>>32-n,sH=(t,e,n)=>e<<n|t>>>32-n,oH=(t,e,n)=>e<<n-32|t>>>64-n,aH=(t,e,n)=>t<<n-32|e>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uH=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Ew=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Us=(t,e)=>t<<32-e|t>>>e,L6=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,lH=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function B6(t){for(let e=0;e<t.length;e++)t[e]=lH(t[e])}function cH(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function RA(t){return typeof t=="string"&&(t=cH(t)),TA(t),t}let mP=class{clone(){return this._cloneInto()}};function yP(t){const e=r=>t().update(RA(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}const vP=[],_P=[],wP=[],hH=BigInt(0),Lf=BigInt(1),fH=BigInt(2),dH=BigInt(7),pH=BigInt(256),gH=BigInt(113);for(let t=0,e=Lf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],vP.push(2*(5*r+n)),_P.push((t+1)*(t+2)/2%64);let i=hH;for(let s=0;s<7;s++)e=(e<<Lf^(e>>dH)*gH)%pH,e&fH&&(i^=Lf<<(Lf<<BigInt(s))-Lf);wP.push(i)}const[mH,yH]=rH(wP,!0),F6=(t,e,n)=>n>32?oH(t,e,n):iH(t,e,n),$6=(t,e,n)=>n>32?aH(t,e,n):sH(t,e,n);function vH(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,l=n[u],c=n[u+1],h=F6(l,c,1)^n[a],f=$6(l,c,1)^n[a+1];for(let g=0;g<50;g+=10)t[o+g]^=h,t[o+g+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=_P[o],u=F6(i,s,a),l=$6(i,s,a),c=vP[o];i=t[c],s=t[c+1],t[c]=u,t[c+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=mH[r],t[1]^=yH[r]}n.fill(0)}let _H=class bP extends mP{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,N6(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=uH(this.state)}keccak(){L6||B6(this.state32),vH(this.state32,this.rounds),L6||B6(this.state32),this.posOut=0,this.pos=0}update(e){w1(this);const{blockLen:n,state:r}=this;e=RA(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){w1(this,!1),TA(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return N6(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(gP(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new bP(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const wH=(t,e,n)=>yP(()=>new _H(e,t,n)),bH=wH(1,136,256/8);function bh(t,e){const n=e||"hex",r=bH(du(t,{strict:!1})?Fy(t):t);return n==="bytes"?r:ap(r)}const Aw=new xA(8192);function kA(t,e){if(Aw.has(`${t}.${e}`))return Aw.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=bh(ol(n),"bytes"),i=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Aw.set(`${t}.${e}`,s),s}function iye(t,e){if(!go(t,{strict:!1}))throw new vl({address:t});return kA(t,e)}const EH=/^0x[a-fA-F0-9]{40}$/,Sw=new xA(8192);function go(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Sw.has(r))return Sw.get(r);const i=EH.test(t)?t.toLowerCase()===t?!0:n?kA(t)===t:!0:!1;return Sw.set(r,i),i}function b1(t,e,n,{strict:r}={}){return du(t,{strict:!1})?AH(t,e,n,{strict:r}):SP(t,e,n,{strict:r})}function EP(t,e){if(typeof e=="number"&&e>0&&e>cr(t)-1)throw new hP({offset:e,position:"start",size:cr(t)})}function AP(t,e,n){if(typeof e=="number"&&typeof n=="number"&&cr(t)!==n-e)throw new hP({offset:n,position:"end",size:cr(t)})}function SP(t,e,n,{strict:r}={}){EP(t,e);const i=t.slice(e,n);return r&&AP(i,e,n),i}function AH(t,e,n,{strict:r}={}){EP(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&AP(i,e,n),i}function PA(t,e){if(t.length!==e.length)throw new Gz({expectedLength:t.length,givenLength:e.length});const n=SH({params:t,values:e}),r=DA(n);return r.length===0?"0x":r}function SH({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(MA({param:t[r],value:e[r]}));return n}function MA({param:t,value:e}){const n=NA(t.type);if(n){const[r,i]=n;return IH(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return PH(e,{param:t});if(t.type==="address")return CH(e);if(t.type==="bool")return TH(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int");return RH(e,{signed:r})}if(t.type.startsWith("bytes"))return xH(e,{param:t});if(t.type==="string")return kH(e);throw new Jz(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function DA(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=cr(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(rn(e+i,{size:32})),r.push(a),i+=cr(a)):n.push(a)}return Xa([...n,...r])}function CH(t){if(!go(t))throw new vl({address:t});return{dynamic:!1,encoded:Ha(t.toLowerCase())}}function IH(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new Yz(t);if(!r&&t.length!==e)throw new Wz({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=MA({param:n,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=DA(s);if(r){const a=rn(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Xa([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Xa(s.map(({encoded:o})=>o))}}function xH(t,{param:e}){const[,n]=e.type.split("bytes"),r=cr(t);if(!n){let i=t;return r%32!==0&&(i=Ha(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Xa([Ha(rn(r,{size:32})),i])}}if(r!==Number.parseInt(n))throw new qz({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Ha(t,{dir:"right"})}}function TH(t){if(typeof t!="boolean")throw new be(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ha(dP(t))}}function RH(t,{signed:e}){return{dynamic:!1,encoded:rn(t,{size:32,signed:e})}}function kH(t){const e=jy(t),n=Math.ceil(cr(e)/32),r=[];for(let i=0;i<n;i++)r.push(Ha(b1(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Xa([Ha(rn(cr(e),{size:32})),...r])}}function PH(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=MA({param:s,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?DA(r):Xa(r.map(({encoded:i})=>i))}}function NA(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Cw="/docs/contract/encodeDeployData";function CP(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new zz({docsPath:Cw});if(!("inputs"in i))throw new D6({docsPath:Cw});if(!i.inputs||i.inputs.length===0)throw new D6({docsPath:Cw});const s=PA(i.inputs,n);return IA([r,s])}function ra(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class IP extends be{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class XE extends be{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class MH extends be{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class DH extends be{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class xP extends be{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}function NH({chain:t,currentChainId:e}){if(!t)throw new DH;if(e!==t.id)throw new MH({chain:t,currentChainId:e})}const OH={gwei:9,wei:18},LH={ether:-9,wei:9},sye={ether:-18,gwei:-9};function TP(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function ni(t,e="wei"){return TP(t,LH[e])}class Nc extends be{constructor({cause:e,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(Nc,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Nc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class E1 extends be{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ni(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(E1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class e2 extends be{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ni(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(e2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class t2 extends be{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(t2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class n2 extends be{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(n2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class r2 extends be{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(r2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class i2 extends be{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(i2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class s2 extends be{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(s2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class o2 extends be{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(o2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class a2 extends be{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(a2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class A1 extends be{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ni(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ni(r)} gwei`:""}).`].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(A1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Vy extends be{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function OA(t,e="wei"){return TP(t,OH[e])}function up(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class BH extends be{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class FH extends be{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",up(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class $H extends be{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:l,nonce:c,to:h,value:f}){var w;const g=up({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:h,value:typeof f<"u"&&`${OA(f)} ${((w=i==null?void 0:i.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${ni(a)} gwei`,maxFeePerGas:typeof u<"u"&&`${ni(u)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${ni(l)} gwei`,nonce:c});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",g].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=e}}class RP extends be{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let o="Transaction";r&&s!==void 0&&(o=`Transaction at block time "${r}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class kP extends be{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class j6 extends be{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}const vi=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);class al extends be{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${sp(o)}`,e&&`Request body: ${vi(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class PP extends be{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${sp(r)}`,`Request body: ${vi(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class U6 extends be{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${sp(n)}`,`Request body: ${vi(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const jH=-1;class ri extends be{constructor(e,{code:n,docsPath:r,metaMessages:i,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof PP?e.code:n??jH}}class sf extends ri{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Wd extends ri{constructor(e){super(e,{code:Wd.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(Wd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class qd extends ri{constructor(e){super(e,{code:qd.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(qd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Gd extends ri{constructor(e){super(e,{code:Gd.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(Gd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Kd extends ri{constructor(e){super(e,{code:Kd.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Kd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class _l extends ri{constructor(e){super(e,{code:_l.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(_l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Qd extends ri{constructor(e){super(e,{code:Qd.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(Qd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Jd extends ri{constructor(e){super(e,{code:Jd.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Jd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Zd extends ri{constructor(e){super(e,{code:Zd.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(Zd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Yd extends ri{constructor(e){super(e,{code:Yd.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(Yd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Xd extends ri{constructor(e){super(e,{code:Xd.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(Xd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Eh extends ri{constructor(e){super(e,{code:Eh.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(Eh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class e0 extends ri{constructor(e){super(e,{code:e0.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(e0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class qc extends sf{constructor(e){super(e,{code:qc.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(qc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class t0 extends sf{constructor(e){super(e,{code:t0.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(t0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class n0 extends sf{constructor(e){super(e,{code:n0.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(n0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class r0 extends sf{constructor(e){super(e,{code:r0.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(r0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class i0 extends sf{constructor(e){super(e,{code:i0.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(i0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class s0 extends sf{constructor(e){super(e,{code:s0.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(s0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class UH extends ri{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}function LA(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof be?t.walk(i=>i.code===Nc.code):t;return r instanceof be?new Nc({cause:t,message:r.details}):Nc.nodeMessage.test(n)?new Nc({cause:t,message:t.details}):E1.nodeMessage.test(n)?new E1({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):e2.nodeMessage.test(n)?new e2({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):t2.nodeMessage.test(n)?new t2({cause:t,nonce:e==null?void 0:e.nonce}):n2.nodeMessage.test(n)?new n2({cause:t,nonce:e==null?void 0:e.nonce}):r2.nodeMessage.test(n)?new r2({cause:t,nonce:e==null?void 0:e.nonce}):i2.nodeMessage.test(n)?new i2({cause:t}):s2.nodeMessage.test(n)?new s2({cause:t,gas:e==null?void 0:e.gas}):o2.nodeMessage.test(n)?new o2({cause:t,gas:e==null?void 0:e.gas}):a2.nodeMessage.test(n)?new a2({cause:t}):A1.nodeMessage.test(n)?new A1({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Vy({cause:t})}function VH(t,{docsPath:e,...n}){const r=(()=>{const i=LA(t,n);return i instanceof Vy?t:i})();return new $H(r,{docsPath:e,...n})}function BA(t,{format:e}){if(!e)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in t&&(n[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=e(t||{});return r(i),n}const zH={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function FA(t){const e={};return typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Rr(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=rn(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=rn(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=rn(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=rn(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=rn(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=rn(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=zH[t.type]),typeof t.value<"u"&&(e.value=rn(t.value)),e}function Xt(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}function zy(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=t,o=e?ra(e):void 0;if(o&&!go(o.address))throw new vl({address:o.address});if(s&&!go(s))throw new vl({address:s});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new BH;if(r&&r>2n**256n-1n)throw new E1({maxFeePerGas:r});if(i&&r&&i>r)throw new A1({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function MP(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return _h(e)}class HH extends be{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class $A extends be{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class WH extends be{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ni(e)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class DP extends be{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const NP={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function OP(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?_h(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?_h(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?NP[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function qH(t){var n;const e=(n=t.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:OP(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function o0(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:i}={}){var c,h,f;const s=r??"latest",o=i??!1,a=n!==void 0?rn(n):void 0;let u=null;if(e?u=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):u=await t.request({method:"eth_getBlockByNumber",params:[a||s,o]},{dedupe:!!a}),!u)throw new DP({blockHash:e,blockNumber:n});return(((f=(h=(c=t.chain)==null?void 0:c.formatters)==null?void 0:h.block)==null?void 0:f.format)||qH)(u)}async function LP(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function GH(t,e){var s,o,a;const{block:n,chain:r=t.chain,request:i}=e||{};if(typeof((s=r==null?void 0:r.fees)==null?void 0:s.defaultPriorityFee)=="function"){const u=n||await Xt(t,o0,"getBlock")({});return r.fees.defaultPriorityFee({block:u,client:t,request:i})}if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)<"u")return(a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee;try{const u=await t.request({method:"eth_maxPriorityFeePerGas"});return $y(u)}catch{const[u,l]=await Promise.all([n?Promise.resolve(n):Xt(t,o0,"getBlock")({}),Xt(t,LP,"getGasPrice")({})]);if(typeof u.baseFeePerGas!="bigint")throw new $A;const c=l-u.baseFeePerGas;return c<0n?0n:c}}async function V6(t,e){var f,g;const{block:n,chain:r=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var w,P;return typeof((w=r==null?void 0:r.fees)==null?void 0:w.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):((P=r==null?void 0:r.fees)==null?void 0:P.baseFeeMultiplier)??1.2})();if(o<1)throw new HH;const u=10**(((f=o.toString().split(".")[1])==null?void 0:f.length)??0),l=w=>w*BigInt(Math.ceil(o*u))/BigInt(u),c=n||await Xt(t,o0,"getBlock")({});if(typeof((g=r==null?void 0:r.fees)==null?void 0:g.estimateFeesPerGas)=="function"){const w=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:i,type:s});if(w!==null)return w}if(s==="eip1559"){if(typeof c.baseFeePerGas!="bigint")throw new $A;const w=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await GH(t,{block:c,chain:r,request:i}),P=l(c.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??P+w,maxPriorityFeePerGas:w}}return{gasPrice:(i==null?void 0:i.gasPrice)??l(await Xt(t,LP,"getGasPrice")({}))}}class KH extends be{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:l,nonce:c,to:h,value:f}){var w;const g=up({from:n==null?void 0:n.address,to:h,value:typeof f<"u"&&`${OA(f)} ${((w=i==null?void 0:i.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${ni(a)} gwei`,maxFeePerGas:typeof u<"u"&&`${ni(u)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${ni(l)} gwei`,nonce:c});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",g].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}function QH(t,{docsPath:e,...n}){const r=(()=>{const i=LA(t,n);return i instanceof Vy?t:i})();return new KH(r,{docsPath:e,...n})}class JH extends be{constructor({address:e}){super(`State for account "${e}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class ZH extends be{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function z6(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function YH(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=z6(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=z6(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function H6(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new P6({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new P6({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function XH(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=rn(e)),n!==void 0&&(o.nonce=rn(n)),r!==void 0&&(o.state=H6(r)),i!==void 0){if(o.state)throw new ZH;o.stateDiff=H6(i)}return o}function BP(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!go(n,{strict:!1}))throw new vl({address:n});if(e[n])throw new JH({address:n});e[n]=XH(r)}return e}async function eW(t,e){var i,s,o;const n=e.account??t.account,r=n?ra(n):void 0;try{const{accessList:a,blobs:u,blobVersionedHashes:l,blockNumber:c,blockTag:h,data:f,gas:g,gasPrice:w,maxFeePerBlobGas:P,maxFeePerGas:D,maxPriorityFeePerGas:E,nonce:_,to:S,value:O,stateOverride:$,...V}=await HP(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),m=(c?rn(c):void 0)||h,b=BP($);zy(e);const T=(o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,z=(T||FA)({...BA(V,{format:T}),from:r==null?void 0:r.address,accessList:a,blobs:u,blobVersionedHashes:l,data:f,gas:g,gasPrice:w,maxFeePerBlobGas:P,maxFeePerGas:D,maxPriorityFeePerGas:E,nonce:_,to:S,value:O}),A=await t.request({method:"eth_estimateGas",params:b?[z,m??"latest",b]:m?[z,m]:[z]});return BigInt(A)}catch(a){throw QH(a,{...e,account:r,chain:t.chain})}}async function tW(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,r?rn(r):n]},{dedupe:!!r});return _h(i)}function FP(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>Ya(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>Rr(s))}function $P(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Ya(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>Ya(o)):t.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],u=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,u)))}return n==="bytes"?s:s.map(o=>Rr(o))}function nW(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),u=r?4:0,l=r?0:4;t.setUint32(e+u,o,r),t.setUint32(e+l,a,r)}const rW=(t,e,n)=>t&e^~t&n,iW=(t,e,n)=>t&e^t&n^e&n;class sW extends mP{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ew(this.buffer)}update(e){w1(this);const{view:n,buffer:r,blockLen:i}=this;e=RA(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const u=Ew(e);for(;i<=s-o;o+=i)this.process(u,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){w1(this),gP(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;nW(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Ew(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,c[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const oW=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ua=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),la=new Uint32Array(64);class aW extends sW{constructor(){super(64,32,8,!1),this.A=ua[0]|0,this.B=ua[1]|0,this.C=ua[2]|0,this.D=ua[3]|0,this.E=ua[4]|0,this.F=ua[5]|0,this.G=ua[6]|0,this.H=ua[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:u}=this;return[e,n,r,i,s,o,a,u]}set(e,n,r,i,s,o,a,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,n){for(let h=0;h<16;h++,n+=4)la[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=la[h-15],g=la[h-2],w=Us(f,7)^Us(f,18)^f>>>3,P=Us(g,17)^Us(g,19)^g>>>10;la[h]=P+la[h-7]+w+la[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:u,G:l,H:c}=this;for(let h=0;h<64;h++){const f=Us(a,6)^Us(a,11)^Us(a,25),g=c+f+rW(a,u,l)+oW[h]+la[h]|0,P=(Us(r,2)^Us(r,13)^Us(r,22))+iW(r,i,s)|0;c=l,l=u,u=a,a=o+g|0,o=s,s=i,i=r,r=g+P|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,i,s,o,a,u,l,c)}roundClean(){la.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const uW=yP(()=>new aW);function lW(t,e){return uW(du(t,{strict:!1})?Fy(t):t)}function cW(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=lW(e);return i.set([n],0),r==="bytes"?i:Rr(i)}function hW(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(cW({commitment:s,to:r,version:n}));return i}const W6=6,jP=32,jA=4096,UP=jP*jA,q6=UP*W6-1-1*jA*W6;class fW extends be{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlobSizeTooLargeError"})}}class dW extends be{constructor(){super("Blob data must not be empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyBlobError"})}}class G6 extends be{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class pW extends be{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class gW extends be{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const mW={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new gW({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new pW({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new G6({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new G6({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function VP(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(mW);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function yW(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?Ya(t.data):t.data,r=cr(n);if(!r)throw new dW;if(r>q6)throw new fW({maxSize:q6,size:r});const i=[];let s=!0,o=0;for(;s;){const a=VP(new Uint8Array(UP));let u=0;for(;u<jA;){const l=n.slice(o,o+(jP-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),s=!1;break}u++,o+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>Rr(a.bytes))}function vW(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??yW({data:e,to:r}),s=t.commitments??FP({blobs:i,kzg:n,to:r}),o=t.proofs??$P({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let u=0;u<i.length;u++)a.push({blob:i[u],commitment:s[u],proof:o[u]});return a}function _W(t){if(t.type)return t.type;if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new FH({transaction:t})}const zP=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function HP(t,e){const{account:n=t.account,blobs:r,chain:i,gas:s,kzg:o,nonce:a,parameters:u=zP,type:l}=e,c=n?ra(n):void 0,h={...e,...c?{from:c==null?void 0:c.address}:{}};let f;async function g(){return f||(f=await Xt(t,o0,"getBlock")({blockTag:"latest"}),f)}let w;async function P(){return w||(i?i.id:typeof e.chainId<"u"?e.chainId:(w=await Xt(t,MP,"getChainId")({}),w))}if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const D=FP({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const E=hW({commitments:D,to:"hex"});h.blobVersionedHashes=E}if(u.includes("sidecars")){const E=$P({blobs:r,commitments:D,kzg:o}),_=vW({blobs:r,commitments:D,proofs:E,to:"hex"});h.sidecars=_}}if(u.includes("chainId")&&(h.chainId=await P()),u.includes("nonce")&&typeof a>"u"&&c)if(c.nonceManager){const D=await P();h.nonce=await c.nonceManager.consume({address:c.address,chainId:D,client:t})}else h.nonce=await Xt(t,tW,"getTransactionCount")({address:c.address,blockTag:"pending"});if((u.includes("fees")||u.includes("type"))&&typeof l>"u")try{h.type=_W(h)}catch{const D=await g();h.type=typeof(D==null?void 0:D.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(u.includes("fees"))if(h.type!=="legacy"&&h.type!=="eip2930"){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const D=await g(),{maxFeePerGas:E,maxPriorityFeePerGas:_}=await V6(t,{block:D,chain:i,request:h});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<_)throw new WH({maxPriorityFeePerGas:_});h.maxPriorityFeePerGas=_,h.maxFeePerGas=E}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new $A;const D=await g(),{gasPrice:E}=await V6(t,{block:D,chain:i,request:h,type:"legacy"});h.gasPrice=E}return u.includes("gas")&&typeof s>"u"&&(h.gas=await Xt(t,eW,"estimateGas")({...h,account:c?{address:c.address,type:"json-rpc"}:void 0})),zy(h),delete h.parameters,h}async function wW(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}async function bW(t,e){var E,_,S,O;const{account:n=t.account,chain:r=t.chain,accessList:i,blobs:s,data:o,gas:a,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:c,maxPriorityFeePerGas:h,nonce:f,to:g,value:w,...P}=e;if(!n)throw new IP({docsPath:"/docs/actions/wallet/sendTransaction"});const D=ra(n);try{zy(e);let $;if(r!==null&&($=await Xt(t,MP,"getChainId")({}),NH({currentChainId:$,chain:r})),D.type==="local"){const b=await Xt(t,HP,"prepareTransactionRequest")({account:D,accessList:i,blobs:s,chain:r,chainId:$,data:o,gas:a,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:c,maxPriorityFeePerGas:h,nonce:f,parameters:[...zP,"sidecars"],to:g,value:w,...P}),T=(E=r==null?void 0:r.serializers)==null?void 0:E.transaction,B=await D.signTransaction(b,{serializer:T});return await Xt(t,wW,"sendRawTransaction")({serializedTransaction:B})}const V=(O=(S=(_=t.chain)==null?void 0:_.formatters)==null?void 0:S.transactionRequest)==null?void 0:O.format,m=(V||FA)({...BA(P,{format:V}),accessList:i,blobs:s,chainId:$,data:o,from:D.address,gas:a,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:c,maxPriorityFeePerGas:h,nonce:f,to:g,value:w});return await t.request({method:"eth_sendTransaction",params:[m]},{retryCount:0})}catch($){throw VH($,{...e,account:D,chain:e.chain||void 0})}}const u2=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],WP=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],qP=[...WP,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],EW=[...WP,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],K6=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Q6=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}];function AW(t,e={}){typeof e.size<"u"&&ks(t,{size:e.size});const n=Rr(t,e);return $y(n,e)}function SW(t,e={}){let n=t;if(typeof e.size<"u"&&(ks(n,{size:e.size}),n=op(n)),n.length>1||n[0]>1)throw new Nz(n);return!!n[0]}function Fo(t,e={}){typeof e.size<"u"&&ks(t,{size:e.size});const n=Rr(t,e);return _h(n,e)}function CW(t,e={}){let n=t;return typeof e.size<"u"&&(ks(n,{size:e.size}),n=op(n,{dir:"right"})),new TextDecoder().decode(n)}function GP(t,e){const n=typeof e=="string"?Ya(e):e,r=VP(n);if(cr(n)===0&&t.length>0)throw new Uy;if(cr(e)&&cr(e)<32)throw new Hz({data:typeof e=="string"?e:Rr(e),params:t,size:cr(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(i);const[u,l]=Gc(r,a,{staticPosition:0});i+=l,s.push(u)}return s}function Gc(t,e,{staticPosition:n}){const r=NA(e.type);if(r){const[i,s]=r;return xW(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type==="tuple")return PW(t,e,{staticPosition:n});if(e.type==="address")return IW(t);if(e.type==="bool")return TW(t);if(e.type.startsWith("bytes"))return RW(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return kW(t,e);if(e.type==="string")return MW(t,{staticPosition:n});throw new Zz(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const J6=32,l2=32;function IW(t){const e=t.readBytes(32);return[kA(Rr(SP(e,-20))),32]}function xW(t,e,{length:n,staticPosition:r}){if(!n){const o=Fo(t.readBytes(l2)),a=r+o,u=a+J6;t.setPosition(a);const l=Fo(t.readBytes(J6)),c=a0(e);let h=0;const f=[];for(let g=0;g<l;++g){t.setPosition(u+(c?g*32:h));const[w,P]=Gc(t,e,{staticPosition:u});h+=P,f.push(w)}return t.setPosition(r+32),[f,32]}if(a0(e)){const o=Fo(t.readBytes(l2)),a=r+o,u=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[c]=Gc(t,e,{staticPosition:a});u.push(c)}return t.setPosition(r+32),[u,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,u]=Gc(t,e,{staticPosition:r+i});i+=u,s.push(a)}return[s,i]}function TW(t){return[SW(t.readBytes(32),{size:32}),32]}function RW(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=Fo(t.readBytes(32));t.setPosition(n+o);const a=Fo(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const u=t.readBytes(a);return t.setPosition(n+32),[Rr(u),32]}return[Rr(t.readBytes(Number.parseInt(i),32)),32]}function kW(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),i=t.readBytes(32);return[r>48?AW(i,{signed:n}):Fo(i,{signed:n}),32]}function PW(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(a0(e)){const o=Fo(t.readBytes(l2)),a=n+o;for(let u=0;u<e.components.length;++u){const l=e.components[u];t.setPosition(a+s);const[c,h]=Gc(t,l,{staticPosition:a});s+=h,i[r?u:l==null?void 0:l.name]=c}return t.setPosition(n+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[u,l]=Gc(t,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=u,s+=l}return[i,s]}function MW(t,{staticPosition:e}){const n=Fo(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Fo(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=CW(op(s));return t.setPosition(e+32),[o,32]}function a0(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(a0);const n=NA(t.type);return!!(n&&a0({...t,type:n[1]}))}const DW=t=>bh(Fy(t));function NW(t){return DW(t)}const OW="1.0.5";class jr extends Error{constructor(e,n={}){var o;const r=n.cause instanceof jr?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof jr&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${OW}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}}function pu(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const KP=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,QP=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,JP=/^\(.+?\).*?$/,Z6=/^tuple(?<array>(\[(\d*)\])*)$/;function c2(t){let e=t.type;if(Z6.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=c2(s),i<n-1&&(e+=", ")}const r=pu(Z6,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,c2({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Bf(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=c2(i),r!==n-1&&(e+=", ")}return e}function LW(t){return t.type==="function"?`function ${t.name}(${Bf(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs.length?` returns (${Bf(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Bf(t.inputs)})`:t.type==="error"?`error ${t.name}(${Bf(t.inputs)})`:t.type==="constructor"?`constructor(${Bf(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?"fallback()":"receive() external payable"}const ZP=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function BW(t){return ZP.test(t)}function FW(t){return pu(ZP,t)}const YP=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function $W(t){return YP.test(t)}function jW(t){return pu(YP,t)}const XP=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function UW(t){return XP.test(t)}function VW(t){return pu(XP,t)}const eM=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function tM(t){return eM.test(t)}function zW(t){return pu(eM,t)}const nM=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function HW(t){return nM.test(t)}function WW(t){return pu(nM,t)}const qW=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function GW(t){return qW.test(t)}const KW=/^receive\(\) external payable$/;function QW(t){return KW.test(t)}const JW=new Set(["indexed"]),h2=new Set(["calldata","memory","storage"]);class ZW extends jr{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class YW extends jr{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class XW extends jr{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class eq extends jr{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class tq extends jr{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class nq extends jr{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class rq extends jr{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Jf extends jr{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class iq extends jr{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class sq extends jr{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class oq extends jr{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class aq extends jr{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function uq(t,e){return e?`${e}:${t}`:t}const Iw=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function lq(t,e={}){if(UW(t)){const n=VW(t);if(!n)throw new Jf({signature:t,type:"function"});const r=ws(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(ju(r[a],{modifiers:h2,structs:e,type:"function"}));const o=[];if(n.returns){const a=ws(n.returns),u=a.length;for(let l=0;l<u;l++)o.push(ju(a[l],{modifiers:h2,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}if($W(t)){const n=jW(t);if(!n)throw new Jf({signature:t,type:"event"});const r=ws(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(ju(r[o],{modifiers:JW,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}if(BW(t)){const n=FW(t);if(!n)throw new Jf({signature:t,type:"error"});const r=ws(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(ju(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}if(HW(t)){const n=WW(t);if(!n)throw new Jf({signature:t,type:"constructor"});const r=ws(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(ju(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}if(GW(t))return{type:"fallback"};if(QW(t))return{type:"receive",stateMutability:"payable"};throw new iq({signature:t})}const cq=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,hq=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,fq=/^u?int$/;function ju(t,e){var h,f;const n=uq(t,e==null?void 0:e.type);if(Iw.has(n))return Iw.get(n);const r=JP.test(t),i=pu(r?hq:cq,t);if(!i)throw new XW({param:t});if(i.name&&pq(i.name))throw new eq({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let u,l={};if(r){u="tuple";const g=ws(i.type),w=[],P=g.length;for(let D=0;D<P;D++)w.push(ju(g[D],{structs:a}));l={components:w}}else if(i.type in a)u="tuple",l={components:a[i.type]};else if(fq.test(i.type))u=`${i.type}256`;else if(u=i.type,(e==null?void 0:e.type)!=="struct"&&!rM(u))throw new YW({type:u});if(i.modifier){if(!((f=(h=e==null?void 0:e.modifiers)==null?void 0:h.has)!=null&&f.call(h,i.modifier)))throw new tq({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(h2.has(i.modifier)&&!gq(u,!!i.array))throw new nq({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const c={type:`${u}${i.array??""}`,...s,...o,...l};return Iw.set(n,c),c}function ws(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return r===0?ws(a,[...e,n.trim()]):ws(a,e,`${n}${o}`,r);case"(":return ws(a,e,`${n}${o}`,r+1);case")":return ws(a,e,`${n}${o}`,r-1);default:return ws(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new aq({current:n,depth:r});return e.push(n.trim()),e}function rM(t){return t==="address"||t==="bool"||t==="function"||t==="string"||KP.test(t)||QP.test(t)}const dq=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function pq(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||KP.test(t)||QP.test(t)||dq.test(t)}function gq(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function mq(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!tM(a))continue;const u=zW(a);if(!u)throw new Jf({signature:a,type:"struct"});const l=u.properties.split(";"),c=[],h=l.length;for(let f=0;f<h;f++){const w=l[f].trim();if(!w)continue;const P=ju(w,{type:"struct"});c.push(P)}if(!c.length)throw new sq({signature:a});e[u.name]=c}const r={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,u]=i[o];r[a]=iM(u,e)}return r}const yq=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function iM(t,e,n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(JP.test(o.type))r.push(o);else{const u=pu(yq,o.type);if(!(u!=null&&u.type))throw new rq({abiParameter:o});const{array:l,type:c}=u;if(c in e){if(n.has(c))throw new oq({type:c});r.push({...o,type:`tuple${l??""}`,components:iM(e[c]??[],e,new Set([...n,c]))})}else if(rM(c))r.push(o);else throw new ZW({type:c})}}return r}function sM(t){const e=mq(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];tM(s)||n.push(lq(s,e))}return n}function vq(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new be("Unable to normalize signature.");return i}const _q=t=>{const e=typeof t=="string"?t:LW(t);return vq(e)};function oM(t){return NW(_q(t))}const wq=oM,UA=t=>b1(oM(t),0,4);function VA(t){const{abi:e,args:n=[],name:r}=t,i=du(r,{strict:!1}),s=e.filter(a=>i?a.type==="function"?UA(a)===r:a.type==="event"?wq(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,c)=>{const h="inputs"in a&&a.inputs[c];return h?f2(l,h):!1})){if(o&&"inputs"in o&&o.inputs){const l=aM(a.inputs,o.inputs,n);if(l)throw new Qz({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||s[0]}function f2(t,e){const n=typeof t,r=e.type;switch(r){case"address":return go(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>f2(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>f2(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function aM(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return aM(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?go(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?go(n[r],{strict:!1}):!1)return o}}const xw="/docs/contract/decodeFunctionResult";function of(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const a=VA({abi:e,args:n,name:r});if(!a)throw new _1(r,{docsPath:xw});s=a}if(s.type!=="function")throw new _1(void 0,{docsPath:xw});if(!s.outputs)throw new Kz(s.name,{docsPath:xw});const o=GP(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const Y6="/docs/contract/encodeFunctionData";function bq(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=VA({abi:e,args:n,name:r});if(!s)throw new _1(r,{docsPath:Y6});i=s}if(i.type!=="function")throw new _1(void 0,{docsPath:Y6});return{abi:[i],functionName:UA(wh(i))}}function Fl(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:bq(t)})(),i=n[0],s=r,o="inputs"in i&&i.inputs?PA(i.inputs,e??[]):void 0;return IA([s,o??"0x"])}function lp({blockNumber:t,chain:e,contract:n}){var i;const r=(i=e==null?void 0:e.contracts)==null?void 0:i[n];if(!r)throw new XE({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new XE({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const uM={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Eq={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Aq={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function lM(t){const{abi:e,data:n}=t,r=b1(n,0,4);if(r==="0x")throw new Uy;const s=[...e||[],Eq,Aq].find(o=>o.type==="error"&&r===UA(wh(o)));if(!s)throw new pP(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?GP(s.inputs,b1(n,4)):void 0,errorName:s.name}}function cM({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?vi(e[s]):e[s]}`).join(", ")})`}class Sq extends be{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:l,nonce:c,to:h,value:f,stateOverride:g}){var D;const w=n?ra(n):void 0;let P=up({from:w==null?void 0:w.address,to:h,value:typeof f<"u"&&`${OA(f)} ${((D=i==null?void 0:i.nativeCurrency)==null?void 0:D.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${ni(a)} gwei`,maxFeePerGas:typeof u<"u"&&`${ni(u)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${ni(l)} gwei`,nonce:c});g&&(P+=`
${YH(g)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",P].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}}class Cq extends be{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const u=VA({abi:n,args:r,name:o}),l=u?cM({abiItem:u,args:r,includeFunctionName:!1,includeName:!1}):void 0,c=u?wh(u,{includeName:!0}):void 0,h=up({address:i&&Pz(i),function:c,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",h].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class d2 extends be{constructor({abi:e,data:n,functionName:r,message:i}){let s,o,a,u;if(n&&n!=="0x")try{o=lM({abi:e,data:n});const{abiItem:c,errorName:h,args:f}=o;if(h==="Error")u=f[0];else if(h==="Panic"){const[g]=f;u=uM[g]}else{const g=c?wh(c,{includeName:!0}):void 0,w=c&&f?cM({abiItem:c,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[g?`Error: ${g}`:"",w&&w!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${w}`:""]}}catch(c){s=c}else i&&(u=i);let l;s instanceof pP&&(l=s.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(u&&u!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,u||l].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=u,this.signature=l}}class Iq extends be{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class xq extends be{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CounterfactualDeploymentFailedError"})}}class zA extends be{constructor({data:e,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function HA(t,e){var r,i,s,o,a,u;if(!(t instanceof be))return!1;const n=t.walk(l=>l instanceof d2);return n instanceof d2?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((i=n.data)==null?void 0:i.errorName)==="ResolverWildcardNotSupported"||((s=n.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(u=n.reason)!=null&&u.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&n.reason===uM[50]):!1}function hM(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return du(e)?e:null}function Pm(t){let e=new Uint8Array(32).fill(0);if(!t)return Rr(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=hM(n[r]),s=i?Fy(i):bh(ol(n[r]),"bytes");e=bh(Xa([e,s]),"bytes")}return Rr(e)}function Tq(t){return`[${t.slice(2)}]`}function Rq(t){const e=new Uint8Array(32).fill(0);return t?hM(t)||bh(ol(t)):Rr(e)}function WA(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(ol(e).byteLength+2);let r=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=ol(i[s]);o.byteLength>255&&(o=ol(Tq(Rq(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const kq=3;function S1(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:o}){const{code:a,data:u,message:l,shortMessage:c}=t instanceof zA?t:t instanceof be?t.walk(f=>"data"in f)||t.walk():{},h=t instanceof Uy?new Iq({functionName:s}):[kq,_l.code].includes(a)&&(u||l||c)?new d2({abi:e,data:typeof u=="object"?u.data:u,functionName:s,message:c??l}):t;return new Cq(h,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}const Pq="0x82ad56cb",Mq="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Dq="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function Nq(t,{docsPath:e,...n}){const r=(()=>{const i=LA(t,n);return i instanceof Vy?t:i})();return new Sq(r,{docsPath:e,...n})}const Tw=new Map;function fM({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const c=u();o();const h=c.map(({args:f})=>f);h.length!==0&&t(h).then(f=>{var g;i&&Array.isArray(f)&&f.sort(i);for(let w=0;w<c.length;w++){const{pendingPromise:P}=c[w];(g=P.resolve)==null||g.call(P,[f[w],f])}}).catch(f=>{var g;for(let w=0;w<c.length;w++){const{pendingPromise:P}=c[w];(g=P.reject)==null||g.call(P,f)}})},o=()=>Tw.delete(e),a=()=>u().map(({args:c})=>c),u=()=>Tw.get(e)||[],l=c=>Tw.set(e,[...u(),c]);return{flush:o,async schedule(c){const h={},f=new Promise((P,D)=>{h.resolve=P,h.reject=D});return(n==null?void 0:n([...a(),c]))&&s(),u().length>0?(l({args:c,pendingPromise:h}),f):(l({args:c,pendingPromise:h}),setTimeout(s,r),f)}}}async function qA(t,e){var B,z,A,p;const{account:n=t.account,batch:r=!!((B=t.batch)!=null&&B.multicall),blockNumber:i,blockTag:s="latest",accessList:o,blobs:a,code:u,data:l,factory:c,factoryData:h,gas:f,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:P,maxPriorityFeePerGas:D,nonce:E,to:_,value:S,stateOverride:O,...$}=e,V=n?ra(n):void 0;if(u&&(c||h))throw new be("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&_)throw new be("Cannot provide both `code` & `to` as parameters.");const v=u&&l,m=c&&h&&_&&l,b=v||m,T=v?Bq({code:u,data:l}):m?Fq({data:l,factory:c,factoryData:h,to:_}):l;try{zy(e);const x=(i?rn(i):void 0)||s,k=BP(O),C=(p=(A=(z=t.chain)==null?void 0:z.formatters)==null?void 0:A.transactionRequest)==null?void 0:p.format,W=(C||FA)({...BA($,{format:C}),from:V==null?void 0:V.address,accessList:o,blobs:a,data:T,gas:f,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:P,maxPriorityFeePerGas:D,nonce:E,to:b?void 0:_,value:S});if(r&&Oq({request:W})&&!k)try{return await Lq(t,{...W,blockNumber:i,blockTag:s})}catch(I){if(!(I instanceof xP)&&!(I instanceof XE))throw I}const U=await t.request({method:"eth_call",params:k?[W,x,k]:[W,x]});return U==="0x"?{data:void 0}:{data:U}}catch(y){const x=$q(y),{offchainLookup:k,offchainLookupSignature:C}=await mj(async()=>{const{offchainLookup:F,offchainLookupSignature:W}=await Promise.resolve().then(()=>bG);return{offchainLookup:F,offchainLookupSignature:W}},void 0);if(t.ccipRead!==!1&&(x==null?void 0:x.slice(0,10))===C&&_)return{data:await k(t,{data:x,to:_})};throw b&&(x==null?void 0:x.slice(0,10))==="0x101bb98d"?new xq({factory:c}):Nq(y,{...e,account:V,chain:t.chain})}}function Oq({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(Pq)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function Lq(t,e){var P;const{batchSize:n=1024,wait:r=0}=typeof((P=t.batch)==null?void 0:P.multicall)=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:s="latest",data:o,multicallAddress:a,to:u}=e;let l=a;if(!l){if(!t.chain)throw new xP;l=lp({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=(i?rn(i):void 0)||s,{schedule:f}=fM({id:`${t.uid}.${h}`,wait:r,shouldSplitBatch(D){return D.reduce((_,{data:S})=>_+(S.length-2),0)>n*2},fn:async D=>{const E=D.map(O=>({allowFailure:!0,callData:O.data,target:O.to})),_=Fl({abi:u2,args:[E],functionName:"aggregate3"}),S=await t.request({method:"eth_call",params:[{data:_,to:l},h]});return of({abi:u2,args:[E],functionName:"aggregate3",data:S||"0x"})}}),[{returnData:g,success:w}]=await f({data:o,to:u});if(!w)throw new zA({data:g});return g==="0x"?{data:void 0}:{data:g}}function Bq(t){const{code:e,data:n}=t;return CP({abi:sM(["constructor(bytes, bytes)"]),bytecode:Mq,args:[e,n]})}function Fq(t){const{data:e,factory:n,factoryData:r,to:i}=t;return CP({abi:sM(["constructor(address, bytes, address, bytes)"]),bytecode:Dq,args:[i,e,n,r]})}function $q(t){var n;if(!(t instanceof be))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function Ah(t,e){const{abi:n,address:r,args:i,functionName:s,...o}=e,a=Fl({abi:n,args:i,functionName:s});try{const{data:u}=await Xt(t,qA,"call")({...o,data:a,to:r});return of({abi:n,args:i,functionName:s,data:u||"0x"})}catch(u){throw S1(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function oye(t,{blockNumber:e,blockTag:n,coinType:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){let u=a;if(!u){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");u=lp({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}try{const l=Fl({abi:Q6,functionName:"addr",...r!=null?{args:[Pm(i),BigInt(r)]}:{args:[Pm(i)]}}),c={address:u,abi:qP,functionName:"resolve",args:[ap(WA(i)),l],blockNumber:e,blockTag:n},h=Xt(t,Ah,"readContract"),f=s?await h({...c,args:[...c.args,s]}):await h(c);if(f[0]==="0x")return null;const g=of({abi:Q6,args:r!=null?[Pm(i),BigInt(r)]:void 0,functionName:"addr",data:f[0]});return g==="0x"||op(g)==="0x00"?null:g}catch(l){if(o)throw l;if(HA(l,"resolve"))return null;throw l}}class jq extends be{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class Ff extends be{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class GA extends be{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class Uq extends be{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const Vq=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,zq=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Hq=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Wq=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function qq(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function X6(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function dM({uri:t,gatewayUrls:e}){const n=Hq.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=X6(e==null?void 0:e.ipfs,"https://ipfs.io"),i=X6(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match(Vq),{protocol:o,subpath:a,target:u,subtarget:l=""}=(s==null?void 0:s.groups)||{},c=o==="ipns:/"||a==="ipns/",h=o==="ipfs:/"||a==="ipfs/"||zq.test(t);if(t.startsWith("http")&&!c&&!h){let g=t;return e!=null&&e.arweave&&(g=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:g,isOnChain:!1,isEncoded:!1}}if((c||h)&&u)return{uri:`${r}/${c?"ipns":"ipfs"}/${u}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&u)return{uri:`${i}/${u}${l||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(Wq,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new GA({uri:t})}function pM(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new jq({data:t});return t.image||t.image_url||t.image_data}async function Gq({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await KA({gatewayUrls:t,uri:pM(n)})}catch{throw new GA({uri:e})}}async function KA({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=dM({uri:e,gatewayUrls:t});if(r||await qq(n))return n;throw new GA({uri:e})}function Kq(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[s,o]=n.split(":"),[a,u]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new Ff({reason:"Only EIP-155 supported"});if(!o)throw new Ff({reason:"Chain ID not found"});if(!u)throw new Ff({reason:"Contract address not found"});if(!i)throw new Ff({reason:"Token ID not found"});if(!a)throw new Ff({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:a.toLowerCase(),contractAddress:u,tokenID:i}}async function Qq(t,{nft:e}){if(e.namespace==="erc721")return Ah(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Ah(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Uq({namespace:e.namespace})}async function Jq(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?Zq(t,{gatewayUrls:e,record:n}):KA({uri:n,gatewayUrls:e})}async function Zq(t,{gatewayUrls:e,record:n}){const r=Kq(n),i=await Qq(t,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=dM({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const l=a?atob(s.replace("data:application/json;base64,","")):s,c=JSON.parse(l);return KA({uri:pM(c),gatewayUrls:e})}let u=r.tokenID;return r.namespace==="erc1155"&&(u=u.replace("0x","").padStart(64,"0")),Gq({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,u)})}async function Yq(t,{blockNumber:e,blockTag:n,name:r,key:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){let u=a;if(!u){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");u=lp({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}try{const l={address:u,abi:qP,functionName:"resolve",args:[ap(WA(r)),Fl({abi:K6,functionName:"text",args:[Pm(r),i]})],blockNumber:e,blockTag:n},c=Xt(t,Ah,"readContract"),h=s?await c({...l,args:[...l.args,s]}):await c(l);if(h[0]==="0x")return null;const f=of({abi:K6,functionName:"text",data:h[0]});return f===""?null:f}catch(l){if(o)throw l;if(HA(l,"resolve"))return null;throw l}}async function aye(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const u=await Xt(t,Yq,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!u)return null;try{return await Jq(t,{record:u,gatewayUrls:r})}catch{return null}}async function uye(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:i,strict:s,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=lp({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const u=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:EW,functionName:"reverse",args:[ap(WA(u))],blockNumber:n,blockTag:r},c=Xt(t,Ah,"readContract"),[h,f]=i?await c({...l,args:[...l.args,i]}):await c(l);return e.toLowerCase()!==f.toLowerCase()?null:h}catch(l){if(s)throw l;if(HA(l,"reverse"))return null;throw l}}async function lye(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n?rn(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(s)}const Xq=new Map,eG=new Map;function tG(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=e(t,Xq),r=e(t,eG);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function nG(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=tG(e),i=r.response.get();if(i&&n>0&&new Date().getTime()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const rG=t=>`blockNumber.${t}`;async function iG(t,{cacheTime:e=t.cacheTime}={}){const n=await nG(()=>t.request({method:"eth_blockNumber"}),{cacheKey:rG(t.uid),cacheTime:e});return BigInt(n)}function sG(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function oG(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){var c,h,f;const o=r||"latest",a=n!==void 0?rn(n):void 0;let u=null;if(i?u=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?u=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,rn(s)]},{dedupe:!0}):(a||o)&&(u=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,rn(s)]},{dedupe:!!a})),!u)throw new RP({blockHash:e,blockNumber:n,blockTag:o,hash:i,index:s});return(((f=(h=(c=t.chain)==null?void 0:c.formatters)==null?void 0:h.transaction)==null?void 0:f.format)||OP)(u)}const aG={"0x0":"reverted","0x1":"success"};function uG(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>sG(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?_h(t.transactionIndex):null,status:t.status?aG[t.status]:null,type:t.type?NP[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function eI(t,{hash:e}){var i,s,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new kP({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||uG)(n)}async function cye(t,e){var D;const{allowFailure:n=!0,batchSize:r,blockNumber:i,blockTag:s,multicallAddress:o,stateOverride:a}=e,u=e.contracts,l=r??(typeof((D=t.batch)==null?void 0:D.multicall)=="object"&&t.batch.multicall.batchSize||1024);let c=o;if(!c){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");c=lp({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=[[]];let f=0,g=0;for(let E=0;E<u.length;E++){const{abi:_,address:S,args:O,functionName:$}=u[E];try{const V=Fl({abi:_,args:O,functionName:$});g+=(V.length-2)/2,l>0&&g>l&&h[f].length>0&&(f++,g=(V.length-2)/2,h[f]=[]),h[f]=[...h[f],{allowFailure:!0,callData:V,target:S}]}catch(V){const v=S1(V,{abi:_,address:S,args:O,docsPath:"/docs/contract/multicall",functionName:$});if(!n)throw v;h[f]=[...h[f],{allowFailure:!0,callData:"0x",target:S}]}}const w=await Promise.allSettled(h.map(E=>Xt(t,Ah,"readContract")({abi:u2,address:c,args:[E],blockNumber:i,blockTag:s,functionName:"aggregate3",stateOverride:a}))),P=[];for(let E=0;E<w.length;E++){const _=w[E];if(_.status==="rejected"){if(!n)throw _.reason;for(let O=0;O<h[E].length;O++)P.push({status:"failure",error:_.reason,result:void 0});continue}const S=_.value;for(let O=0;O<S.length;O++){const{returnData:$,success:V}=S[O],{callData:v}=h[E][O],{abi:m,address:b,functionName:T,args:B}=u[P.length];try{if(v==="0x")throw new Uy;if(!V)throw new zA({data:$});const z=of({abi:m,args:B,data:$,functionName:T});P.push(n?{result:z,status:"success"}:z)}catch(z){const A=S1(z,{abi:m,address:b,args:B,docsPath:"/docs/contract/multicall",functionName:T});if(!n)throw A;P.push({error:A,result:void 0,status:"failure"})}}}if(P.length!==u.length)throw new be("multicall results mismatch");return P}const Rw=new Map,tI=new Map;let lG=0;function p2(t,e,n){const r=++lG,i=()=>Rw.get(t)||[],s=()=>{const c=i();Rw.set(t,c.filter(h=>h.id!==r))},o=()=>{const c=tI.get(t);i().length===1&&c&&c(),s()},a=i();if(Rw.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const u={};for(const c in e)u[c]=(...h)=>{var g,w;const f=i();if(f.length!==0)for(const P of f)(w=(g=P.fns)[c])==null||w.call(g,...h)};const l=n(u);return typeof l=="function"&&tI.set(t,l),o}async function g2(t){return new Promise(e=>setTimeout(e,t))}function cG(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const u=await(n==null?void 0:n(a))??r;await g2(u);const l=async()=>{i&&(await t({unpoll:s}),await g2(r),l())};l()})(),s}function hG(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let u;return a?(()=>{const h=vi(["watchBlockNumber",t.uid,e,n,o]);return p2(h,{onBlockNumber:r,onError:i},f=>cG(async()=>{var g;try{const w=await Xt(t,iG,"getBlockNumber")({cacheTime:0});if(u){if(w===u)return;if(w-u>1&&n)for(let P=u+1n;P<w;P++)f.onBlockNumber(P,u),u=P}(!u||w>u)&&(f.onBlockNumber(w,u),u=w)}catch(w){(g=f.onError)==null||g.call(f,w)}},{emitOnBegin:e,interval:o}))})():(()=>{const h=vi(["watchBlockNumber",t.uid,e,n]);return p2(h,{onBlockNumber:r,onError:i},f=>{let g=!0,w=()=>g=!1;return(async()=>{try{const P=(()=>{if(t.transport.type==="fallback"){const E=t.transport.transports.find(_=>_.config.type==="webSocket");return E?E.value:t.transport}return t.transport})(),{unsubscribe:D}=await P.subscribe({params:["newHeads"],onData(E){var S;if(!g)return;const _=$y((S=E.result)==null?void 0:S.number);f.onBlockNumber(_,u),u=_},onError(E){var _;(_=f.onError)==null||_.call(f,E)}});w=D,g||w()}catch(P){i==null||i(P)}})(),()=>w()})})()}const Ng=new xA(8192);function fG(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(Ng.get(n))return Ng.get(n);const r=t().finally(()=>Ng.delete(n));return Ng.set(n,r),r}function m2(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const u=async({error:l})=>{const c=typeof e=="function"?e({count:a,error:l}):e;c&&await g2(c),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<n&&await r({count:a,error:l}))return u({error:l});s(l)}};o()})}function dG(t,e={}){return async(n,r={})=>{const{dedupe:i=!1,retryDelay:s=150,retryCount:o=3,uid:a}={...e,...r},u=i?bh(jy(`${a}.${vi(n)}`)):void 0;return fG(()=>m2(async()=>{try{return await t(n)}catch(l){const c=l;switch(c.code){case Wd.code:throw new Wd(c);case qd.code:throw new qd(c);case Gd.code:throw new Gd(c);case Kd.code:throw new Kd(c);case _l.code:throw new _l(c);case Qd.code:throw new Qd(c);case Jd.code:throw new Jd(c);case Zd.code:throw new Zd(c);case Yd.code:throw new Yd(c);case Xd.code:throw new Xd(c);case Eh.code:throw new Eh(c);case e0.code:throw new e0(c);case qc.code:throw new qc(c);case t0.code:throw new t0(c);case n0.code:throw new n0(c);case r0.code:throw new r0(c);case i0.code:throw new i0(c);case s0.code:throw new s0(c);case 5e3:throw new qc(c);default:throw l instanceof be?l:new UH(c)}}},{delay:({count:l,error:c})=>{var h;if(c&&c instanceof al){const f=(h=c==null?void 0:c.headers)==null?void 0:h.get("Retry-After");if(f!=null&&f.match(/\d/))return Number.parseInt(f)*1e3}return~~(1<<l)*s},retryCount:o,shouldRetry:({error:l})=>pG(l)}),{enabled:i,id:u})}}function pG(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Eh.code||t.code===_l.code:t instanceof al&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}class gG extends be{constructor({callbackSelector:e,cause:n,data:r,extraData:i,sender:s,urls:o}){var a;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(a=n.metaMessages)!=null&&a.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(u=>`    ${sp(u)}`)],`  Sender: ${s}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${i}`].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}}class mG extends be{constructor({result:e,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${sp(n)}`,`Response: ${vi(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}}class yG extends be{constructor({sender:e,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}}function vG(t,e){if(!go(t,{strict:!1}))throw new vl({address:t});if(!go(e,{strict:!1}))throw new vl({address:e});return t.toLowerCase()===e.toLowerCase()}const _G="0x556f1830",gM={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function wG(t,{blockNumber:e,blockTag:n,data:r,to:i}){const{args:s}=lM({data:r,abi:[gM]}),[o,a,u,l,c]=s,{ccipRead:h}=t,f=h&&typeof(h==null?void 0:h.request)=="function"?h.request:mM;try{if(!vG(i,o))throw new yG({sender:o,to:i});const g=await f({data:u,sender:o,urls:a}),{data:w}=await qA(t,{blockNumber:e,blockTag:n,data:Xa([l,PA([{type:"bytes"},{type:"bytes"}],[g,c])]),to:i});return w}catch(g){throw new gG({callbackSelector:l,cause:g,data:r,extraData:c,sender:o,urls:a})}}async function mM({data:t,sender:e,urls:n}){var i;let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const o=n[s],a=o.includes("{data}")?"GET":"POST",u=a==="POST"?{data:t,sender:e}:void 0;try{const l=await fetch(o.replace("{sender}",e).replace("{data}",t),{body:JSON.stringify(u),method:a});let c;if((i=l.headers.get("Content-Type"))!=null&&i.startsWith("application/json")?c=(await l.json()).data:c=await l.text(),!l.ok){r=new al({body:u,details:c!=null&&c.error?vi(c.error):l.statusText,headers:l.headers,status:l.status,url:o});continue}if(!du(c)){r=new mG({result:c,url:o});continue}return c}catch(l){r=new al({body:u,details:l.message,url:o})}}throw r}const bG=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:mM,offchainLookup:wG,offchainLookupAbiItem:gM,offchainLookupSignature:_G},Symbol.toStringTag,{value:"Module"}));function yM(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function EG(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():s(e)},n)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function AG(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const nI=AG();function SG(t,e={}){return{async request(n){var h;const{body:r,onRequest:i=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:l,signal:c}=a;try{const f=await EG(async({signal:w})=>{const P={...a,body:Array.isArray(r)?vi(r.map(_=>({jsonrpc:"2.0",id:_.id??nI.take(),..._}))):vi({jsonrpc:"2.0",id:r.id??nI.take(),...r}),headers:{...u,"Content-Type":"application/json"},method:l||"POST",signal:c||(o>0?w:null)},D=new Request(t,P);return i&&await i(D),await fetch(t,P)},{errorInstance:new U6({body:r,url:t}),timeout:o,signal:!0});s&&await s(f);let g;if((h=f.headers.get("Content-Type"))!=null&&h.startsWith("application/json")?g=await f.json():(g=await f.text(),g=JSON.parse(g||"{}")),!f.ok)throw new al({body:r,details:vi(g.error)||f.statusText,headers:f.headers,status:f.status,url:t});return g}catch(f){throw f instanceof al||f instanceof U6?f:new al({body:r,cause:f,url:t})}}}}function hye(t,e){let[n,r="0"]=t.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[s,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],u=Math.round(+`${o}.${a}`);u>9?r=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):r=`${s}${u}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${i?"-":""}${n}${r}`)}async function fye(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:i=t.pollingInterval,retryCount:s=6,retryDelay:o=({count:u})=>~~(1<<u)*200,timeout:a}){const u=vi(["waitForTransactionReceipt",t.uid,n]);let l=0,c,h,f,g=!1;return new Promise((w,P)=>{a&&setTimeout(()=>P(new j6({hash:n})),a);const D=p2(u,{onReplaced:r,resolve:w,reject:P},E=>{const _=Xt(t,hG,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(S){const O=V=>{_(),V(),D()};let $=S;if(!g){l>s&&O(()=>E.reject(new j6({hash:n})));try{if(f){if(e>1&&(!f.blockNumber||$-f.blockNumber+1n<e))return;O(()=>E.resolve(f));return}if(c||(g=!0,await m2(async()=>{c=await Xt(t,oG,"getTransaction")({hash:n}),c.blockNumber&&($=c.blockNumber)},{delay:o,retryCount:s}),g=!1),f=await Xt(t,eI,"getTransactionReceipt")({hash:n}),e>1&&(!f.blockNumber||$-f.blockNumber+1n<e))return;O(()=>E.resolve(f))}catch(V){if(V instanceof RP||V instanceof kP){if(!c){g=!1;return}try{h=c,g=!0;const v=await m2(()=>Xt(t,o0,"getBlock")({blockNumber:$,includeTransactions:!0}),{delay:o,retryCount:s,shouldRetry:({error:T})=>T instanceof DP});g=!1;const m=v.transactions.find(({from:T,nonce:B})=>T===h.from&&B===h.nonce);if(!m||(f=await Xt(t,eI,"getTransactionReceipt")({hash:m.hash}),e>1&&(!f.blockNumber||$-f.blockNumber+1n<e)))return;let b="replaced";m.to===h.to&&m.value===h.value?b="repriced":m.from===m.to&&m.value===0n&&(b="cancelled"),O(()=>{var T;(T=E.onReplaced)==null||T.call(E,{reason:b,replacedTransaction:h,transaction:m,transactionReceipt:f}),E.resolve(f)})}catch(v){O(()=>E.reject(v))}}else O(()=>E.reject(V))}finally{l++}}}})})})}async function dye(t,{account:e=t.account,message:n}){if(!e)throw new IP({docsPath:"/docs/actions/wallet/signMessage"});const r=ra(e);if(r.type==="local")return r.signMessage({message:n});const i=typeof n=="string"?jy(n):n.raw instanceof Uint8Array?ap(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function pye(t,e){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=e,u=a.account?ra(a.account):t.account,l=Fl({abi:n,args:i,functionName:o});try{const{data:c}=await Xt(t,qA,"call")({batch:!1,data:`${l}${s?s.replace("0x",""):""}`,to:r,...a,account:u}),h=of({abi:n,args:i,functionName:o,data:c||"0x"}),f=n.filter(g=>"name"in g&&g.name===e.functionName);return{result:h,request:{abi:f,address:r,args:i,dataSuffix:s,functionName:o,...a,account:u}}}catch(c){throw S1(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:u==null?void 0:u.address})}}async function gye(t,e){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=e,u=Fl({abi:n,args:i,functionName:o});return Xt(t,bW,"sendTransaction")({data:`${u}${s?s.replace("0x",""):""}`,to:r,...a})}const y2=256;let Og=y2,Lg;function vM(t=11){if(!Lg||Og+t>y2*2){Lg="",Og=0;for(let e=0;e<y2;e++)Lg+=(256+Math.random()*256|0).toString(16).substring(1)}return Lg.substring(Og,Og+++t)}function mye(t){const{batch:e,cacheTime:n=t.pollingInterval??4e3,ccipRead:r,key:i="base",name:s="Base Client",pollingInterval:o=4e3,type:a="base"}=t,u=t.chain,l=t.account?ra(t.account):void 0,{config:c,request:h,value:f}=t.transport({chain:u,pollingInterval:o}),g={...c,...f},w={account:l,batch:e,cacheTime:n,ccipRead:r,chain:u,key:i,name:s,pollingInterval:o,request:h,transport:g,type:a,uid:vM()};function P(D){return E=>{const _=E(D);for(const O in w)delete _[O];const S={...D,..._};return Object.assign(S,{extend:P(S)})}}return Object.assign(w,{extend:P(w)})}function _M({key:t,name:e,request:n,retryCount:r=3,retryDelay:i=150,timeout:s,type:o},a){const u=vM();return{config:{key:t,name:e,request:n,retryCount:r,retryDelay:i,timeout:s,type:o},request:dG(n,{retryCount:r,retryDelay:i,uid:u}),value:a}}function yye(t,e={}){const{key:n="custom",name:r="Custom Provider",retryDelay:i}=e;return({retryCount:s})=>_M({key:n,name:r,request:t.request.bind(t),retryCount:e.retryCount??s,retryDelay:i,type:"custom"})}class CG extends be{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function vye(t,e={}){const{batch:n,fetchOptions:r,key:i="http",name:s="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:a,retryDelay:u}=e;return({chain:l,retryCount:c,timeout:h})=>{const{batchSize:f=1e3,wait:g=0}=typeof n=="object"?n:{},w=e.retryCount??c,P=h??e.timeout??1e4,D=t||(l==null?void 0:l.rpcUrls.default.http[0]);if(!D)throw new CG;const E=SG(D,{fetchOptions:r,onRequest:o,onResponse:a,timeout:P});return _M({key:i,name:s,async request({method:_,params:S}){const O={method:_,params:S},{schedule:$}=fM({id:D,wait:g,shouldSplitBatch(b){return b.length>f},fn:b=>E.request({body:b}),sort:(b,T)=>b.id-T.id}),V=async b=>n?$(b):[await E.request({body:b})],[{error:v,result:m}]=await V(O);if(v)throw new PP({body:O,error:v,url:D});return m},retryCount:w,retryDelay:u,timeout:P,type:"http"},{fetchOptions:r,url:D})}}function IG(t){const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function _ye(){const t=new Set;let e=[];const n=()=>IG(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}var xG={VITE_FIREBASE_APIKEY:"AIzaSyBRDBbrJbmLwb3YTI_YBmMdTjLEd8KjS2E",VITE_FIREBASE_AUTHDOMAIN:"tokenchat-b8673.firebaseapp.com",VITE_FIREBASE_PROJECTID:"tokenchat-b8673",VITE_FIREBASE_STORAGEBUCKET:"tokenchat-b8673.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"593980787293",VITE_FIREBASE_APPID:"1:593980787293:web:7c58ff7656a3fa31b19bb4",VITE_FIREBASE_MEASUREMENTID:"G-RB9WJLVQC0",VITE_WAGMI_PROJECTID:"02ee764d5cc25cff6387d6d3f7943fd6",BASE_URL:"/tokenchat/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const TG=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,u)=>{let l=o;if(a){const c=(u==null?void 0:u.equalityFn)||Object.is;let h=o(r.getState());l=f=>{const g=o(f);if(!c(h,g)){const w=h;a(h=g,w)}},u!=null&&u.fireImmediately&&a(h,h)}return i(l)},t(e,n,r)},wye=TG;function RG(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=u=>u===null?null:JSON.parse(u,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const u0=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return u0(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return u0(r)(n)}}}},kG=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:D=>D,version:0,merge:(D,E)=>({...E,...D}),...e},o=!1;const a=new Set,u=new Set;let l;try{l=s.getStorage()}catch{}if(!l)return t((...D)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...D)},r,i);const c=u0(s.serialize),h=()=>{const D=s.partialize({...r()});let E;const _=c({state:D,version:s.version}).then(S=>l.setItem(s.name,S)).catch(S=>{E=S});if(E)throw E;return _},f=i.setState;i.setState=(D,E)=>{f(D,E),h()};const g=t((...D)=>{n(...D),h()},r,i);let w;const P=()=>{var D;if(!l)return;o=!1,a.forEach(_=>_(r()));const E=((D=s.onRehydrateStorage)==null?void 0:D.call(s,r()))||void 0;return u0(l.getItem.bind(l))(s.name).then(_=>{if(_)return s.deserialize(_)}).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return s.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var S;return w=s.merge(_,(S=r())!=null?S:g),n(w,!0),h()}).then(()=>{E==null||E(w,void 0),o=!0,u.forEach(_=>_(w))}).catch(_=>{E==null||E(void 0,_)})};return i.persist={setOptions:D=>{s={...s,...D},D.getStorage&&(l=D.getStorage())},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>P(),hasHydrated:()=>o,onHydrate:D=>(a.add(D),()=>{a.delete(D)}),onFinishHydration:D=>(u.add(D),()=>{u.delete(D)})},P(),w||g},PG=(t,e)=>(n,r,i)=>{let s={storage:RG(()=>localStorage),partialize:P=>P,version:0,merge:(P,D)=>({...D,...P}),...e},o=!1;const a=new Set,u=new Set;let l=s.storage;if(!l)return t((...P)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...P)},r,i);const c=()=>{const P=s.partialize({...r()});return l.setItem(s.name,{state:P,version:s.version})},h=i.setState;i.setState=(P,D)=>{h(P,D),c()};const f=t((...P)=>{n(...P),c()},r,i);let g;const w=()=>{var P,D;if(!l)return;o=!1,a.forEach(_=>{var S;return _((S=r())!=null?S:f)});const E=((D=s.onRehydrateStorage)==null?void 0:D.call(s,(P=r())!=null?P:f))||void 0;return u0(l.getItem.bind(l))(s.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return s.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var S;return g=s.merge(_,(S=r())!=null?S:f),n(g,!0),c()}).then(()=>{E==null||E(g,void 0),g=r(),o=!0,u.forEach(_=>_(g))}).catch(_=>{E==null||E(void 0,_)})};return i.persist={setOptions:P=>{s={...s,...P},P.storage&&(l=P.storage)},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:P=>(a.add(P),()=>{a.delete(P)}),onFinishHydration:P=>(u.add(P),()=>{u.delete(P)})},s.skipHydration||w(),g||f},MG=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((xG?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),kG(t,e)):PG(t,e),bye=MG;var DG={VITE_FIREBASE_APIKEY:"AIzaSyBRDBbrJbmLwb3YTI_YBmMdTjLEd8KjS2E",VITE_FIREBASE_AUTHDOMAIN:"tokenchat-b8673.firebaseapp.com",VITE_FIREBASE_PROJECTID:"tokenchat-b8673",VITE_FIREBASE_STORAGEBUCKET:"tokenchat-b8673.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"593980787293",VITE_FIREBASE_APPID:"1:593980787293:web:7c58ff7656a3fa31b19bb4",VITE_FIREBASE_MEASUREMENTID:"G-RB9WJLVQC0",VITE_WAGMI_PROJECTID:"02ee764d5cc25cff6387d6d3f7943fd6",BASE_URL:"/tokenchat/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const rI=t=>{let e;const n=new Set,r=(u,l)=>{const c=typeof u=="function"?u(e):u;if(!Object.is(c,e)){const h=e;e=l??typeof c!="object"?c:Object.assign({},e,c),n.forEach(f=>f(e,h))}},i=()=>e,a={setState:r,getState:i,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(DG?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return e=t(r,i,a),a},Eye=t=>t?rI(t):rI;var wM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function s(u,l,c,h,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,h||u,f),w=n?n+l:l;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],g]:u._events[w].push(g):(u._events[w]=g,u._eventsCount++),u}function o(u,l){--u._eventsCount===0?u._events=new r:delete u._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],c,h;if(this._eventsCount===0)return l;for(h in c=this._events)e.call(c,h)&&l.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},a.prototype.listeners=function(l){var c=n?n+l:l,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,g=h.length,w=new Array(g);f<g;f++)w[f]=h[f].fn;return w},a.prototype.listenerCount=function(l){var c=n?n+l:l,h=this._events[c];return h?h.fn?1:h.length:0},a.prototype.emit=function(l,c,h,f,g,w){var P=n?n+l:l;if(!this._events[P])return!1;var D=this._events[P],E=arguments.length,_,S;if(D.fn){switch(D.once&&this.removeListener(l,D.fn,void 0,!0),E){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,c),!0;case 3:return D.fn.call(D.context,c,h),!0;case 4:return D.fn.call(D.context,c,h,f),!0;case 5:return D.fn.call(D.context,c,h,f,g),!0;case 6:return D.fn.call(D.context,c,h,f,g,w),!0}for(S=1,_=new Array(E-1);S<E;S++)_[S-1]=arguments[S];D.fn.apply(D.context,_)}else{var O=D.length,$;for(S=0;S<O;S++)switch(D[S].once&&this.removeListener(l,D[S].fn,void 0,!0),E){case 1:D[S].fn.call(D[S].context);break;case 2:D[S].fn.call(D[S].context,c);break;case 3:D[S].fn.call(D[S].context,c,h);break;case 4:D[S].fn.call(D[S].context,c,h,f);break;default:if(!_)for($=1,_=new Array(E-1);$<E;$++)_[$-1]=arguments[$];D[S].fn.apply(D[S].context,_)}}return!0},a.prototype.on=function(l,c,h){return s(this,l,c,h,!1)},a.prototype.once=function(l,c,h){return s(this,l,c,h,!0)},a.prototype.removeListener=function(l,c,h,f){var g=n?n+l:l;if(!this._events[g])return this;if(!c)return o(this,g),this;var w=this._events[g];if(w.fn)w.fn===c&&(!f||w.once)&&(!h||w.context===h)&&o(this,g);else{for(var P=0,D=[],E=w.length;P<E;P++)(w[P].fn!==c||f&&!w[P].once||h&&w[P].context!==h)&&D.push(w[P]);D.length?this._events[g]=D.length===1?D[0]:D:o(this,g)}return this},a.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(wM);var NG=wM.exports;const iI=ns(NG),OG=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:iI,default:iI},Symbol.toStringTag,{value:"Module"})),Aye=yM({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),Sye=yM({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cloudflare-eth.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),LG=Symbol(),sI=Object.getPrototypeOf,v2=new WeakMap,BG=t=>t&&(v2.has(t)?v2.get(t):sI(t)===Object.prototype||sI(t)===Array.prototype),FG=t=>BG(t)&&t[LG]||null,oI=(t,e=!0)=>{v2.set(t,e)};var C1={VITE_FIREBASE_APIKEY:"AIzaSyBRDBbrJbmLwb3YTI_YBmMdTjLEd8KjS2E",VITE_FIREBASE_AUTHDOMAIN:"tokenchat-b8673.firebaseapp.com",VITE_FIREBASE_PROJECTID:"tokenchat-b8673",VITE_FIREBASE_STORAGEBUCKET:"tokenchat-b8673.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"593980787293",VITE_FIREBASE_APPID:"1:593980787293:web:7c58ff7656a3fa31b19bb4",VITE_FIREBASE_MEASUREMENTID:"G-RB9WJLVQC0",VITE_WAGMI_PROJECTID:"02ee764d5cc25cff6387d6d3f7943fd6",BASE_URL:"/tokenchat/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const kw=t=>typeof t=="object"&&t!==null,ma=new WeakMap,Zf=new WeakSet,$G=(t=Object.is,e=(l,c)=>new Proxy(l,c),n=l=>kw(l)&&!Zf.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,c,h=r)=>{const f=i.get(l);if((f==null?void 0:f[0])===c)return f[1];const g=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return oI(g,!0),i.set(l,[c,g]),Reflect.ownKeys(l).forEach(w=>{if(Object.getOwnPropertyDescriptor(g,w))return;const P=Reflect.get(l,w),D={value:P,enumerable:!0,configurable:!0};if(Zf.has(P))oI(P,!1);else if(P instanceof Promise)delete D.value,D.get=()=>h(P);else if(ma.has(P)){const[E,_]=ma.get(P);D.value=s(E,_(),h)}Object.defineProperty(g,w,D)}),Object.preventExtensions(g)},o=new WeakMap,a=[1,1],u=l=>{if(!kw(l))throw new Error("object required");const c=o.get(l);if(c)return c;let h=a[0];const f=new Set,g=(b,T=++a[0])=>{h!==T&&(h=T,f.forEach(B=>B(b,T)))};let w=a[1];const P=(b=++a[1])=>(w!==b&&!f.size&&(w=b,E.forEach(([T])=>{const B=T[1](b);B>h&&(h=B)})),h),D=b=>(T,B)=>{const z=[...T];z[1]=[b,...z[1]],g(z,B)},E=new Map,_=(b,T)=>{if((C1?"production":void 0)!=="production"&&E.has(b))throw new Error("prop listener already exists");if(f.size){const B=T[3](D(b));E.set(b,[T,B])}else E.set(b,[T])},S=b=>{var T;const B=E.get(b);B&&(E.delete(b),(T=B[1])==null||T.call(B))},O=b=>(f.add(b),f.size===1&&E.forEach(([B,z],A)=>{if((C1?"production":void 0)!=="production"&&z)throw new Error("remove already exists");const p=B[3](D(A));E.set(A,[B,p])}),()=>{f.delete(b),f.size===0&&E.forEach(([B,z],A)=>{z&&(z(),E.set(A,[B]))})}),$=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),v=e($,{deleteProperty(b,T){const B=Reflect.get(b,T);S(T);const z=Reflect.deleteProperty(b,T);return z&&g(["delete",[T],B]),z},set(b,T,B,z){const A=Reflect.has(b,T),p=Reflect.get(b,T,z);if(A&&(t(p,B)||o.has(B)&&t(p,o.get(B))))return!0;S(T),kw(B)&&(B=FG(B)||B);let y=B;if(B instanceof Promise)B.then(x=>{B.status="fulfilled",B.value=x,g(["resolve",[T],x])}).catch(x=>{B.status="rejected",B.reason=x,g(["reject",[T],x])});else{!ma.has(B)&&n(B)&&(y=u(B));const x=!Zf.has(y)&&ma.get(y);x&&_(T,x)}return Reflect.set(b,T,y,z),g(["set",[T],B,p]),!0}});o.set(l,v);const m=[$,P,s,O];return ma.set(v,m),Reflect.ownKeys(l).forEach(b=>{const T=Object.getOwnPropertyDescriptor(l,b);"value"in T&&(v[b]=l[b],delete T.value,delete T.writable),Object.defineProperty($,b,T)}),v})=>[u,ma,Zf,t,e,n,r,i,s,o,a],[jG]=$G();function UG(t={}){return jG(t)}function VG(t,e,n){const r=ma.get(t);(C1?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const l=o(c=>{s.push(c),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Cye(t,e){const n=ma.get(t);(C1?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,i,s]=n;return s(r,i(),e)}function Iye(t){return Zf.add(t),t}function xye(t,e,n,r){let i=t[e];return VG(t,()=>{const s=t[e];Object.is(i,s)||n(i=s)})}function Tye(t){const e=UG({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const i=this.data.find(s=>s[0]===n);return i?i[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(i=>i[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(i=>i[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}var bM={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ie,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",u="hour",l="day",c="week",h="month",f="quarter",g="year",w="date",P="Invalid Date",D=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(p){var y=["th","st","nd","rd"],x=p%100;return"["+p+(y[(x-20)%10]||y[x]||y[0])+"]"}},S=function(p,y,x){var k=String(p);return!k||k.length>=y?p:""+Array(y+1-k.length).join(x)+p},O={s:S,z:function(p){var y=-p.utcOffset(),x=Math.abs(y),k=Math.floor(x/60),C=x%60;return(y<=0?"+":"-")+S(k,2,"0")+":"+S(C,2,"0")},m:function p(y,x){if(y.date()<x.date())return-p(x,y);var k=12*(x.year()-y.year())+(x.month()-y.month()),C=y.clone().add(k,h),F=x-C<0,W=y.clone().add(k+(F?-1:1),h);return+(-(k+(x-C)/(F?C-W:W-C))||0)},a:function(p){return p<0?Math.ceil(p)||0:Math.floor(p)},p:function(p){return{M:h,y:g,w:c,d:l,D:w,h:u,m:a,s:o,ms:s,Q:f}[p]||String(p||"").toLowerCase().replace(/s$/,"")},u:function(p){return p===void 0}},$="en",V={};V[$]=_;var v="$isDayjsObject",m=function(p){return p instanceof z||!(!p||!p[v])},b=function p(y,x,k){var C;if(!y)return $;if(typeof y=="string"){var F=y.toLowerCase();V[F]&&(C=F),x&&(V[F]=x,C=F);var W=y.split("-");if(!C&&W.length>1)return p(W[0])}else{var U=y.name;V[U]=y,C=U}return!k&&C&&($=C),C||!k&&$},T=function(p,y){if(m(p))return p.clone();var x=typeof y=="object"?y:{};return x.date=p,x.args=arguments,new z(x)},B=O;B.l=b,B.i=m,B.w=function(p,y){return T(p,{locale:y.$L,utc:y.$u,x:y.$x,$offset:y.$offset})};var z=function(){function p(x){this.$L=b(x.locale,null,!0),this.parse(x),this.$x=this.$x||x.x||{},this[v]=!0}var y=p.prototype;return y.parse=function(x){this.$d=function(k){var C=k.date,F=k.utc;if(C===null)return new Date(NaN);if(B.u(C))return new Date;if(C instanceof Date)return new Date(C);if(typeof C=="string"&&!/Z$/i.test(C)){var W=C.match(D);if(W){var U=W[2]-1||0,I=(W[7]||"0").substring(0,3);return F?new Date(Date.UTC(W[1],U,W[3]||1,W[4]||0,W[5]||0,W[6]||0,I)):new Date(W[1],U,W[3]||1,W[4]||0,W[5]||0,W[6]||0,I)}}return new Date(C)}(x),this.init()},y.init=function(){var x=this.$d;this.$y=x.getFullYear(),this.$M=x.getMonth(),this.$D=x.getDate(),this.$W=x.getDay(),this.$H=x.getHours(),this.$m=x.getMinutes(),this.$s=x.getSeconds(),this.$ms=x.getMilliseconds()},y.$utils=function(){return B},y.isValid=function(){return this.$d.toString()!==P},y.isSame=function(x,k){var C=T(x);return this.startOf(k)<=C&&C<=this.endOf(k)},y.isAfter=function(x,k){return T(x)<this.startOf(k)},y.isBefore=function(x,k){return this.endOf(k)<T(x)},y.$g=function(x,k,C){return B.u(x)?this[k]:this.set(C,x)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(x,k){var C=this,F=!!B.u(k)||k,W=B.p(x),U=function(ee,N){var j=B.w(C.$u?Date.UTC(C.$y,N,ee):new Date(C.$y,N,ee),C);return F?j:j.endOf(l)},I=function(ee,N){return B.w(C.toDate()[ee].apply(C.toDate("s"),(F?[0,0,0,0]:[23,59,59,999]).slice(N)),C)},G=this.$W,ue=this.$M,ie=this.$D,X="set"+(this.$u?"UTC":"");switch(W){case g:return F?U(1,0):U(31,11);case h:return F?U(1,ue):U(0,ue+1);case c:var Q=this.$locale().weekStart||0,Y=(G<Q?G+7:G)-Q;return U(F?ie-Y:ie+(6-Y),ue);case l:case w:return I(X+"Hours",0);case u:return I(X+"Minutes",1);case a:return I(X+"Seconds",2);case o:return I(X+"Milliseconds",3);default:return this.clone()}},y.endOf=function(x){return this.startOf(x,!1)},y.$set=function(x,k){var C,F=B.p(x),W="set"+(this.$u?"UTC":""),U=(C={},C[l]=W+"Date",C[w]=W+"Date",C[h]=W+"Month",C[g]=W+"FullYear",C[u]=W+"Hours",C[a]=W+"Minutes",C[o]=W+"Seconds",C[s]=W+"Milliseconds",C)[F],I=F===l?this.$D+(k-this.$W):k;if(F===h||F===g){var G=this.clone().set(w,1);G.$d[U](I),G.init(),this.$d=G.set(w,Math.min(this.$D,G.daysInMonth())).$d}else U&&this.$d[U](I);return this.init(),this},y.set=function(x,k){return this.clone().$set(x,k)},y.get=function(x){return this[B.p(x)]()},y.add=function(x,k){var C,F=this;x=Number(x);var W=B.p(k),U=function(ue){var ie=T(F);return B.w(ie.date(ie.date()+Math.round(ue*x)),F)};if(W===h)return this.set(h,this.$M+x);if(W===g)return this.set(g,this.$y+x);if(W===l)return U(1);if(W===c)return U(7);var I=(C={},C[a]=r,C[u]=i,C[o]=n,C)[W]||1,G=this.$d.getTime()+x*I;return B.w(G,this)},y.subtract=function(x,k){return this.add(-1*x,k)},y.format=function(x){var k=this,C=this.$locale();if(!this.isValid())return C.invalidDate||P;var F=x||"YYYY-MM-DDTHH:mm:ssZ",W=B.z(this),U=this.$H,I=this.$m,G=this.$M,ue=C.weekdays,ie=C.months,X=C.meridiem,Q=function(N,j,K,se){return N&&(N[j]||N(k,F))||K[j].slice(0,se)},Y=function(N){return B.s(U%12||12,N,"0")},ee=X||function(N,j,K){var se=N<12?"AM":"PM";return K?se.toLowerCase():se};return F.replace(E,function(N,j){return j||function(K){switch(K){case"YY":return String(k.$y).slice(-2);case"YYYY":return B.s(k.$y,4,"0");case"M":return G+1;case"MM":return B.s(G+1,2,"0");case"MMM":return Q(C.monthsShort,G,ie,3);case"MMMM":return Q(ie,G);case"D":return k.$D;case"DD":return B.s(k.$D,2,"0");case"d":return String(k.$W);case"dd":return Q(C.weekdaysMin,k.$W,ue,2);case"ddd":return Q(C.weekdaysShort,k.$W,ue,3);case"dddd":return ue[k.$W];case"H":return String(U);case"HH":return B.s(U,2,"0");case"h":return Y(1);case"hh":return Y(2);case"a":return ee(U,I,!0);case"A":return ee(U,I,!1);case"m":return String(I);case"mm":return B.s(I,2,"0");case"s":return String(k.$s);case"ss":return B.s(k.$s,2,"0");case"SSS":return B.s(k.$ms,3,"0");case"Z":return W}return null}(N)||W.replace(":","")})},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(x,k,C){var F,W=this,U=B.p(k),I=T(x),G=(I.utcOffset()-this.utcOffset())*r,ue=this-I,ie=function(){return B.m(W,I)};switch(U){case g:F=ie()/12;break;case h:F=ie();break;case f:F=ie()/3;break;case c:F=(ue-G)/6048e5;break;case l:F=(ue-G)/864e5;break;case u:F=ue/i;break;case a:F=ue/r;break;case o:F=ue/n;break;default:F=ue}return C?F:B.a(F)},y.daysInMonth=function(){return this.endOf(h).$D},y.$locale=function(){return V[this.$L]},y.locale=function(x,k){if(!x)return this.$L;var C=this.clone(),F=b(x,k,!0);return F&&(C.$L=F),C},y.clone=function(){return B.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},p}(),A=z.prototype;return T.prototype=A,[["$ms",s],["$s",o],["$m",a],["$H",u],["$W",l],["$M",h],["$y",g],["$D",w]].forEach(function(p){A[p[1]]=function(y){return this.$g(y,p[0],p[1])}}),T.extend=function(p,y){return p.$i||(p(y,z,T),p.$i=!0),T},T.locale=b,T.isDayjs=m,T.unix=function(p){return T(1e3*p)},T.en=V[$],T.Ls=V,T.p={},T})})(bM);var zG=bM.exports;const Rye=ns(zG);var EM={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ie,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],i=n%100;return"["+n+(r[(i-20)%10]||r[i]||r[0])+"]"}}})})(EM);var HG=EM.exports;const kye=ns(HG);var AM={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ie,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(l,c,h,f){return s.fromToBase(l,c,h,f)}i.en.relativeTime=o,s.fromToBase=function(l,c,h,f,g){for(var w,P,D,E=h.$locale().relativeTime||o,_=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],S=_.length,O=0;O<S;O+=1){var $=_[O];$.d&&(w=f?i(l).diff(h,$.d,!0):h.diff(l,$.d,!0));var V=(n.rounding||Math.round)(Math.abs(w));if(D=w>0,V<=$.r||!$.r){V<=1&&O>0&&($=_[O-1]);var v=E[$.l];g&&(V=g(""+V)),P=typeof v=="string"?v.replace("%d",V):v(V,c,$.l,D);break}}if(c)return P;var m=D?E.future:E.past;return typeof m=="function"?m(P):m.replace("%s",P)},s.to=function(l,c){return a(l,c,this,!0)},s.from=function(l,c){return a(l,c,this)};var u=function(l){return l.$u?i.utc():i()};s.toNow=function(l){return this.to(u(this),l)},s.fromNow=function(l){return this.from(u(this),l)}}})})(AM);var WG=AM.exports;const Pye=ns(WG);var SM={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ie,function(){return function(n,r,i){i.updateLocale=function(s,o){var a=i.Ls[s];if(a)return(o?Object.keys(o):[]).forEach(function(u){a[u]=o[u]}),a}}})})(SM);var qG=SM.exports;const Mye=ns(qG);var GG=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Pw=Math.ceil,Fi=Math.floor,Qr="[BigNumber Error] ",aI=Qr+"Number primitive has more than 15 significant digits: ",hs=1e14,ct=14,Mw=9007199254740991,Dw=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],ca=1e7,qn=1e9;function CM(t){var e,n,r,i=_.prototype={constructor:_,toString:null,valueOf:null},s=new _(1),o=20,a=4,u=-7,l=21,c=-1e7,h=1e7,f=!1,g=1,w=0,P={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},D="0123456789abcdefghijklmnopqrstuvwxyz",E=!0;function _(m,b){var T,B,z,A,p,y,x,k,C=this;if(!(C instanceof _))return new _(m,b);if(b==null){if(m&&m._isBigNumber===!0){C.s=m.s,!m.c||m.e>h?C.c=C.e=null:m.e<c?C.c=[C.e=0]:(C.e=m.e,C.c=m.c.slice());return}if((y=typeof m=="number")&&m*0==0){if(C.s=1/m<0?(m=-m,-1):1,m===~~m){for(A=0,p=m;p>=10;p/=10,A++);A>h?C.c=C.e=null:(C.e=A,C.c=[m]);return}k=String(m)}else{if(!GG.test(k=String(m)))return r(C,k,y);C.s=k.charCodeAt(0)==45?(k=k.slice(1),-1):1}(A=k.indexOf("."))>-1&&(k=k.replace(".","")),(p=k.search(/e/i))>0?(A<0&&(A=p),A+=+k.slice(p+1),k=k.substring(0,p)):A<0&&(A=k.length)}else{if(cn(b,2,D.length,"Base"),b==10&&E)return C=new _(m),V(C,o+C.e+1,a);if(k=String(m),y=typeof m=="number"){if(m*0!=0)return r(C,k,y,b);if(C.s=1/m<0?(k=k.slice(1),-1):1,_.DEBUG&&k.replace(/^0\.0*|\./,"").length>15)throw Error(aI+m)}else C.s=k.charCodeAt(0)===45?(k=k.slice(1),-1):1;for(T=D.slice(0,b),A=p=0,x=k.length;p<x;p++)if(T.indexOf(B=k.charAt(p))<0){if(B=="."){if(p>A){A=x;continue}}else if(!z&&(k==k.toUpperCase()&&(k=k.toLowerCase())||k==k.toLowerCase()&&(k=k.toUpperCase()))){z=!0,p=-1,A=0;continue}return r(C,String(m),y,b)}y=!1,k=n(k,b,10,C.s),(A=k.indexOf("."))>-1?k=k.replace(".",""):A=k.length}for(p=0;k.charCodeAt(p)===48;p++);for(x=k.length;k.charCodeAt(--x)===48;);if(k=k.slice(p,++x)){if(x-=p,y&&_.DEBUG&&x>15&&(m>Mw||m!==Fi(m)))throw Error(aI+C.s*m);if((A=A-p-1)>h)C.c=C.e=null;else if(A<c)C.c=[C.e=0];else{if(C.e=A,C.c=[],p=(A+1)%ct,A<0&&(p+=ct),p<x){for(p&&C.c.push(+k.slice(0,p)),x-=ct;p<x;)C.c.push(+k.slice(p,p+=ct));p=ct-(k=k.slice(p)).length}else p-=x;for(;p--;k+="0");C.c.push(+k)}}else C.c=[C.e=0]}_.clone=CM,_.ROUND_UP=0,_.ROUND_DOWN=1,_.ROUND_CEIL=2,_.ROUND_FLOOR=3,_.ROUND_HALF_UP=4,_.ROUND_HALF_DOWN=5,_.ROUND_HALF_EVEN=6,_.ROUND_HALF_CEIL=7,_.ROUND_HALF_FLOOR=8,_.EUCLID=9,_.config=_.set=function(m){var b,T;if(m!=null)if(typeof m=="object"){if(m.hasOwnProperty(b="DECIMAL_PLACES")&&(T=m[b],cn(T,0,qn,b),o=T),m.hasOwnProperty(b="ROUNDING_MODE")&&(T=m[b],cn(T,0,8,b),a=T),m.hasOwnProperty(b="EXPONENTIAL_AT")&&(T=m[b],T&&T.pop?(cn(T[0],-qn,0,b),cn(T[1],0,qn,b),u=T[0],l=T[1]):(cn(T,-qn,qn,b),u=-(l=T<0?-T:T))),m.hasOwnProperty(b="RANGE"))if(T=m[b],T&&T.pop)cn(T[0],-qn,-1,b),cn(T[1],1,qn,b),c=T[0],h=T[1];else if(cn(T,-qn,qn,b),T)c=-(h=T<0?-T:T);else throw Error(Qr+b+" cannot be zero: "+T);if(m.hasOwnProperty(b="CRYPTO"))if(T=m[b],T===!!T)if(T)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))f=T;else throw f=!T,Error(Qr+"crypto unavailable");else f=T;else throw Error(Qr+b+" not true or false: "+T);if(m.hasOwnProperty(b="MODULO_MODE")&&(T=m[b],cn(T,0,9,b),g=T),m.hasOwnProperty(b="POW_PRECISION")&&(T=m[b],cn(T,0,qn,b),w=T),m.hasOwnProperty(b="FORMAT"))if(T=m[b],typeof T=="object")P=T;else throw Error(Qr+b+" not an object: "+T);if(m.hasOwnProperty(b="ALPHABET"))if(T=m[b],typeof T=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(T))E=T.slice(0,10)=="0123456789",D=T;else throw Error(Qr+b+" invalid: "+T)}else throw Error(Qr+"Object expected: "+m);return{DECIMAL_PLACES:o,ROUNDING_MODE:a,EXPONENTIAL_AT:[u,l],RANGE:[c,h],CRYPTO:f,MODULO_MODE:g,POW_PRECISION:w,FORMAT:P,ALPHABET:D}},_.isBigNumber=function(m){if(!m||m._isBigNumber!==!0)return!1;if(!_.DEBUG)return!0;var b,T,B=m.c,z=m.e,A=m.s;e:if({}.toString.call(B)=="[object Array]"){if((A===1||A===-1)&&z>=-qn&&z<=qn&&z===Fi(z)){if(B[0]===0){if(z===0&&B.length===1)return!0;break e}if(b=(z+1)%ct,b<1&&(b+=ct),String(B[0]).length==b){for(b=0;b<B.length;b++)if(T=B[b],T<0||T>=hs||T!==Fi(T))break e;if(T!==0)return!0}}}else if(B===null&&z===null&&(A===null||A===1||A===-1))return!0;throw Error(Qr+"Invalid BigNumber: "+m)},_.maximum=_.max=function(){return O(arguments,-1)},_.minimum=_.min=function(){return O(arguments,1)},_.random=function(){var m=9007199254740992,b=Math.random()*m&2097151?function(){return Fi(Math.random()*m)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(T){var B,z,A,p,y,x=0,k=[],C=new _(s);if(T==null?T=o:cn(T,0,qn),p=Pw(T/ct),f)if(crypto.getRandomValues){for(B=crypto.getRandomValues(new Uint32Array(p*=2));x<p;)y=B[x]*131072+(B[x+1]>>>11),y>=9e15?(z=crypto.getRandomValues(new Uint32Array(2)),B[x]=z[0],B[x+1]=z[1]):(k.push(y%1e14),x+=2);x=p/2}else if(crypto.randomBytes){for(B=crypto.randomBytes(p*=7);x<p;)y=(B[x]&31)*281474976710656+B[x+1]*1099511627776+B[x+2]*4294967296+B[x+3]*16777216+(B[x+4]<<16)+(B[x+5]<<8)+B[x+6],y>=9e15?crypto.randomBytes(7).copy(B,x):(k.push(y%1e14),x+=7);x=p/7}else throw f=!1,Error(Qr+"crypto unavailable");if(!f)for(;x<p;)y=b(),y<9e15&&(k[x++]=y%1e14);for(p=k[--x],T%=ct,p&&T&&(y=Dw[ct-T],k[x]=Fi(p/y)*y);k[x]===0;k.pop(),x--);if(x<0)k=[A=0];else{for(A=-1;k[0]===0;k.splice(0,1),A-=ct);for(x=1,y=k[0];y>=10;y/=10,x++);x<ct&&(A-=ct-x)}return C.e=A,C.c=k,C}}(),_.sum=function(){for(var m=1,b=arguments,T=new _(b[0]);m<b.length;)T=T.plus(b[m++]);return T},n=function(){var m="0123456789";function b(T,B,z,A){for(var p,y=[0],x,k=0,C=T.length;k<C;){for(x=y.length;x--;y[x]*=B);for(y[0]+=A.indexOf(T.charAt(k++)),p=0;p<y.length;p++)y[p]>z-1&&(y[p+1]==null&&(y[p+1]=0),y[p+1]+=y[p]/z|0,y[p]%=z)}return y.reverse()}return function(T,B,z,A,p){var y,x,k,C,F,W,U,I,G=T.indexOf("."),ue=o,ie=a;for(G>=0&&(C=w,w=0,T=T.replace(".",""),I=new _(B),W=I.pow(T.length-G),w=C,I.c=b(Io(Di(W.c),W.e,"0"),10,z,m),I.e=I.c.length),U=b(T,B,z,p?(y=D,m):(y=m,D)),k=C=U.length;U[--C]==0;U.pop());if(!U[0])return y.charAt(0);if(G<0?--k:(W.c=U,W.e=k,W.s=A,W=e(W,I,ue,ie,z),U=W.c,F=W.r,k=W.e),x=k+ue+1,G=U[x],C=z/2,F=F||x<0||U[x+1]!=null,F=ie<4?(G!=null||F)&&(ie==0||ie==(W.s<0?3:2)):G>C||G==C&&(ie==4||F||ie==6&&U[x-1]&1||ie==(W.s<0?8:7)),x<1||!U[0])T=F?Io(y.charAt(1),-ue,y.charAt(0)):y.charAt(0);else{if(U.length=x,F)for(--z;++U[--x]>z;)U[x]=0,x||(++k,U=[1].concat(U));for(C=U.length;!U[--C];);for(G=0,T="";G<=C;T+=y.charAt(U[G++]));T=Io(T,k,y.charAt(0))}return T}}(),e=function(){function m(B,z,A){var p,y,x,k,C=0,F=B.length,W=z%ca,U=z/ca|0;for(B=B.slice();F--;)x=B[F]%ca,k=B[F]/ca|0,p=U*x+k*W,y=W*x+p%ca*ca+C,C=(y/A|0)+(p/ca|0)+U*k,B[F]=y%A;return C&&(B=[C].concat(B)),B}function b(B,z,A,p){var y,x;if(A!=p)x=A>p?1:-1;else for(y=x=0;y<A;y++)if(B[y]!=z[y]){x=B[y]>z[y]?1:-1;break}return x}function T(B,z,A,p){for(var y=0;A--;)B[A]-=y,y=B[A]<z[A]?1:0,B[A]=y*p+B[A]-z[A];for(;!B[0]&&B.length>1;B.splice(0,1));}return function(B,z,A,p,y){var x,k,C,F,W,U,I,G,ue,ie,X,Q,Y,ee,N,j,K,se=B.s==z.s?1:-1,ce=B.c,pe=z.c;if(!ce||!ce[0]||!pe||!pe[0])return new _(!B.s||!z.s||(ce?pe&&ce[0]==pe[0]:!pe)?NaN:ce&&ce[0]==0||!pe?se*0:se/0);for(G=new _(se),ue=G.c=[],k=B.e-z.e,se=A+k+1,y||(y=hs,k=$i(B.e/ct)-$i(z.e/ct),se=se/ct|0),C=0;pe[C]==(ce[C]||0);C++);if(pe[C]>(ce[C]||0)&&k--,se<0)ue.push(1),F=!0;else{for(ee=ce.length,j=pe.length,C=0,se+=2,W=Fi(y/(pe[0]+1)),W>1&&(pe=m(pe,W,y),ce=m(ce,W,y),j=pe.length,ee=ce.length),Y=j,ie=ce.slice(0,j),X=ie.length;X<j;ie[X++]=0);K=pe.slice(),K=[0].concat(K),N=pe[0],pe[1]>=y/2&&N++;do{if(W=0,x=b(pe,ie,j,X),x<0){if(Q=ie[0],j!=X&&(Q=Q*y+(ie[1]||0)),W=Fi(Q/N),W>1)for(W>=y&&(W=y-1),U=m(pe,W,y),I=U.length,X=ie.length;b(U,ie,I,X)==1;)W--,T(U,j<I?K:pe,I,y),I=U.length,x=1;else W==0&&(x=W=1),U=pe.slice(),I=U.length;if(I<X&&(U=[0].concat(U)),T(ie,U,X,y),X=ie.length,x==-1)for(;b(pe,ie,j,X)<1;)W++,T(ie,j<X?K:pe,X,y),X=ie.length}else x===0&&(W++,ie=[0]);ue[C++]=W,ie[0]?ie[X++]=ce[Y]||0:(ie=[ce[Y]],X=1)}while((Y++<ee||ie[0]!=null)&&se--);F=ie[0]!=null,ue[0]||ue.splice(0,1)}if(y==hs){for(C=1,se=ue[0];se>=10;se/=10,C++);V(G,A+(G.e=C+k*ct-1)+1,p,F)}else G.e=k,G.r=+F;return G}}();function S(m,b,T,B){var z,A,p,y,x;if(T==null?T=a:cn(T,0,8),!m.c)return m.toString();if(z=m.c[0],p=m.e,b==null)x=Di(m.c),x=B==1||B==2&&(p<=u||p>=l)?Fg(x,p):Io(x,p,"0");else if(m=V(new _(m),b,T),A=m.e,x=Di(m.c),y=x.length,B==1||B==2&&(b<=A||A<=u)){for(;y<b;x+="0",y++);x=Fg(x,A)}else if(b-=p,x=Io(x,A,"0"),A+1>y){if(--b>0)for(x+=".";b--;x+="0");}else if(b+=A-y,b>0)for(A+1==y&&(x+=".");b--;x+="0");return m.s<0&&z?"-"+x:x}function O(m,b){for(var T,B,z=1,A=new _(m[0]);z<m.length;z++)B=new _(m[z]),(!B.s||(T=ku(A,B))===b||T===0&&A.s===b)&&(A=B);return A}function $(m,b,T){for(var B=1,z=b.length;!b[--z];b.pop());for(z=b[0];z>=10;z/=10,B++);return(T=B+T*ct-1)>h?m.c=m.e=null:T<c?m.c=[m.e=0]:(m.e=T,m.c=b),m}r=function(){var m=/^(-?)0([xbo])(?=\w[\w.]*$)/i,b=/^([^.]+)\.$/,T=/^\.([^.]+)$/,B=/^-?(Infinity|NaN)$/,z=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(A,p,y,x){var k,C=y?p:p.replace(z,"");if(B.test(C))A.s=isNaN(C)?null:C<0?-1:1;else{if(!y&&(C=C.replace(m,function(F,W,U){return k=(U=U.toLowerCase())=="x"?16:U=="b"?2:8,!x||x==k?W:F}),x&&(k=x,C=C.replace(b,"$1").replace(T,"0.$1")),p!=C))return new _(C,k);if(_.DEBUG)throw Error(Qr+"Not a"+(x?" base "+x:"")+" number: "+p);A.s=null}A.c=A.e=null}}();function V(m,b,T,B){var z,A,p,y,x,k,C,F=m.c,W=Dw;if(F){e:{for(z=1,y=F[0];y>=10;y/=10,z++);if(A=b-z,A<0)A+=ct,p=b,x=F[k=0],C=Fi(x/W[z-p-1]%10);else if(k=Pw((A+1)/ct),k>=F.length)if(B){for(;F.length<=k;F.push(0));x=C=0,z=1,A%=ct,p=A-ct+1}else break e;else{for(x=y=F[k],z=1;y>=10;y/=10,z++);A%=ct,p=A-ct+z,C=p<0?0:Fi(x/W[z-p-1]%10)}if(B=B||b<0||F[k+1]!=null||(p<0?x:x%W[z-p-1]),B=T<4?(C||B)&&(T==0||T==(m.s<0?3:2)):C>5||C==5&&(T==4||B||T==6&&(A>0?p>0?x/W[z-p]:0:F[k-1])%10&1||T==(m.s<0?8:7)),b<1||!F[0])return F.length=0,B?(b-=m.e+1,F[0]=W[(ct-b%ct)%ct],m.e=-b||0):F[0]=m.e=0,m;if(A==0?(F.length=k,y=1,k--):(F.length=k+1,y=W[ct-A],F[k]=p>0?Fi(x/W[z-p]%W[p])*y:0),B)for(;;)if(k==0){for(A=1,p=F[0];p>=10;p/=10,A++);for(p=F[0]+=y,y=1;p>=10;p/=10,y++);A!=y&&(m.e++,F[0]==hs&&(F[0]=1));break}else{if(F[k]+=y,F[k]!=hs)break;F[k--]=0,y=1}for(A=F.length;F[--A]===0;F.pop());}m.e>h?m.c=m.e=null:m.e<c&&(m.c=[m.e=0])}return m}function v(m){var b,T=m.e;return T===null?m.toString():(b=Di(m.c),b=T<=u||T>=l?Fg(b,T):Io(b,T,"0"),m.s<0?"-"+b:b)}return i.absoluteValue=i.abs=function(){var m=new _(this);return m.s<0&&(m.s=1),m},i.comparedTo=function(m,b){return ku(this,new _(m,b))},i.decimalPlaces=i.dp=function(m,b){var T,B,z,A=this;if(m!=null)return cn(m,0,qn),b==null?b=a:cn(b,0,8),V(new _(A),m+A.e+1,b);if(!(T=A.c))return null;if(B=((z=T.length-1)-$i(this.e/ct))*ct,z=T[z])for(;z%10==0;z/=10,B--);return B<0&&(B=0),B},i.dividedBy=i.div=function(m,b){return e(this,new _(m,b),o,a)},i.dividedToIntegerBy=i.idiv=function(m,b){return e(this,new _(m,b),0,1)},i.exponentiatedBy=i.pow=function(m,b){var T,B,z,A,p,y,x,k,C,F=this;if(m=new _(m),m.c&&!m.isInteger())throw Error(Qr+"Exponent not an integer: "+v(m));if(b!=null&&(b=new _(b)),y=m.e>14,!F.c||!F.c[0]||F.c[0]==1&&!F.e&&F.c.length==1||!m.c||!m.c[0])return C=new _(Math.pow(+v(F),y?m.s*(2-Bg(m)):+v(m))),b?C.mod(b):C;if(x=m.s<0,b){if(b.c?!b.c[0]:!b.s)return new _(NaN);B=!x&&F.isInteger()&&b.isInteger(),B&&(F=F.mod(b))}else{if(m.e>9&&(F.e>0||F.e<-1||(F.e==0?F.c[0]>1||y&&F.c[1]>=24e7:F.c[0]<8e13||y&&F.c[0]<=9999975e7)))return A=F.s<0&&Bg(m)?-0:0,F.e>-1&&(A=1/A),new _(x?1/A:A);w&&(A=Pw(w/ct+2))}for(y?(T=new _(.5),x&&(m.s=1),k=Bg(m)):(z=Math.abs(+v(m)),k=z%2),C=new _(s);;){if(k){if(C=C.times(F),!C.c)break;A?C.c.length>A&&(C.c.length=A):B&&(C=C.mod(b))}if(z){if(z=Fi(z/2),z===0)break;k=z%2}else if(m=m.times(T),V(m,m.e+1,1),m.e>14)k=Bg(m);else{if(z=+v(m),z===0)break;k=z%2}F=F.times(F),A?F.c&&F.c.length>A&&(F.c.length=A):B&&(F=F.mod(b))}return B?C:(x&&(C=s.div(C)),b?C.mod(b):A?V(C,w,a,p):C)},i.integerValue=function(m){var b=new _(this);return m==null?m=a:cn(m,0,8),V(b,b.e+1,m)},i.isEqualTo=i.eq=function(m,b){return ku(this,new _(m,b))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(m,b){return ku(this,new _(m,b))>0},i.isGreaterThanOrEqualTo=i.gte=function(m,b){return(b=ku(this,new _(m,b)))===1||b===0},i.isInteger=function(){return!!this.c&&$i(this.e/ct)>this.c.length-2},i.isLessThan=i.lt=function(m,b){return ku(this,new _(m,b))<0},i.isLessThanOrEqualTo=i.lte=function(m,b){return(b=ku(this,new _(m,b)))===-1||b===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(m,b){var T,B,z,A,p=this,y=p.s;if(m=new _(m,b),b=m.s,!y||!b)return new _(NaN);if(y!=b)return m.s=-b,p.plus(m);var x=p.e/ct,k=m.e/ct,C=p.c,F=m.c;if(!x||!k){if(!C||!F)return C?(m.s=-b,m):new _(F?p:NaN);if(!C[0]||!F[0])return F[0]?(m.s=-b,m):new _(C[0]?p:a==3?-0:0)}if(x=$i(x),k=$i(k),C=C.slice(),y=x-k){for((A=y<0)?(y=-y,z=C):(k=x,z=F),z.reverse(),b=y;b--;z.push(0));z.reverse()}else for(B=(A=(y=C.length)<(b=F.length))?y:b,y=b=0;b<B;b++)if(C[b]!=F[b]){A=C[b]<F[b];break}if(A&&(z=C,C=F,F=z,m.s=-m.s),b=(B=F.length)-(T=C.length),b>0)for(;b--;C[T++]=0);for(b=hs-1;B>y;){if(C[--B]<F[B]){for(T=B;T&&!C[--T];C[T]=b);--C[T],C[B]+=hs}C[B]-=F[B]}for(;C[0]==0;C.splice(0,1),--k);return C[0]?$(m,C,k):(m.s=a==3?-1:1,m.c=[m.e=0],m)},i.modulo=i.mod=function(m,b){var T,B,z=this;return m=new _(m,b),!z.c||!m.s||m.c&&!m.c[0]?new _(NaN):!m.c||z.c&&!z.c[0]?new _(z):(g==9?(B=m.s,m.s=1,T=e(z,m,0,3),m.s=B,T.s*=B):T=e(z,m,0,g),m=z.minus(T.times(m)),!m.c[0]&&g==1&&(m.s=z.s),m)},i.multipliedBy=i.times=function(m,b){var T,B,z,A,p,y,x,k,C,F,W,U,I,G,ue,ie=this,X=ie.c,Q=(m=new _(m,b)).c;if(!X||!Q||!X[0]||!Q[0])return!ie.s||!m.s||X&&!X[0]&&!Q||Q&&!Q[0]&&!X?m.c=m.e=m.s=null:(m.s*=ie.s,!X||!Q?m.c=m.e=null:(m.c=[0],m.e=0)),m;for(B=$i(ie.e/ct)+$i(m.e/ct),m.s*=ie.s,x=X.length,F=Q.length,x<F&&(I=X,X=Q,Q=I,z=x,x=F,F=z),z=x+F,I=[];z--;I.push(0));for(G=hs,ue=ca,z=F;--z>=0;){for(T=0,W=Q[z]%ue,U=Q[z]/ue|0,p=x,A=z+p;A>z;)k=X[--p]%ue,C=X[p]/ue|0,y=U*k+C*W,k=W*k+y%ue*ue+I[A]+T,T=(k/G|0)+(y/ue|0)+U*C,I[A--]=k%G;I[A]=T}return T?++B:I.splice(0,1),$(m,I,B)},i.negated=function(){var m=new _(this);return m.s=-m.s||null,m},i.plus=function(m,b){var T,B=this,z=B.s;if(m=new _(m,b),b=m.s,!z||!b)return new _(NaN);if(z!=b)return m.s=-b,B.minus(m);var A=B.e/ct,p=m.e/ct,y=B.c,x=m.c;if(!A||!p){if(!y||!x)return new _(z/0);if(!y[0]||!x[0])return x[0]?m:new _(y[0]?B:z*0)}if(A=$i(A),p=$i(p),y=y.slice(),z=A-p){for(z>0?(p=A,T=x):(z=-z,T=y),T.reverse();z--;T.push(0));T.reverse()}for(z=y.length,b=x.length,z-b<0&&(T=x,x=y,y=T,b=z),z=0;b;)z=(y[--b]=y[b]+x[b]+z)/hs|0,y[b]=hs===y[b]?0:y[b]%hs;return z&&(y=[z].concat(y),++p),$(m,y,p)},i.precision=i.sd=function(m,b){var T,B,z,A=this;if(m!=null&&m!==!!m)return cn(m,1,qn),b==null?b=a:cn(b,0,8),V(new _(A),m,b);if(!(T=A.c))return null;if(z=T.length-1,B=z*ct+1,z=T[z]){for(;z%10==0;z/=10,B--);for(z=T[0];z>=10;z/=10,B++);}return m&&A.e+1>B&&(B=A.e+1),B},i.shiftedBy=function(m){return cn(m,-Mw,Mw),this.times("1e"+m)},i.squareRoot=i.sqrt=function(){var m,b,T,B,z,A=this,p=A.c,y=A.s,x=A.e,k=o+4,C=new _("0.5");if(y!==1||!p||!p[0])return new _(!y||y<0&&(!p||p[0])?NaN:p?A:1/0);if(y=Math.sqrt(+v(A)),y==0||y==1/0?(b=Di(p),(b.length+x)%2==0&&(b+="0"),y=Math.sqrt(+b),x=$i((x+1)/2)-(x<0||x%2),y==1/0?b="5e"+x:(b=y.toExponential(),b=b.slice(0,b.indexOf("e")+1)+x),T=new _(b)):T=new _(y+""),T.c[0]){for(x=T.e,y=x+k,y<3&&(y=0);;)if(z=T,T=C.times(z.plus(e(A,z,k,1))),Di(z.c).slice(0,y)===(b=Di(T.c)).slice(0,y))if(T.e<x&&--y,b=b.slice(y-3,y+1),b=="9999"||!B&&b=="4999"){if(!B&&(V(z,z.e+o+2,0),z.times(z).eq(A))){T=z;break}k+=4,y+=4,B=1}else{(!+b||!+b.slice(1)&&b.charAt(0)=="5")&&(V(T,T.e+o+2,1),m=!T.times(T).eq(A));break}}return V(T,T.e+o+1,a,m)},i.toExponential=function(m,b){return m!=null&&(cn(m,0,qn),m++),S(this,m,b,1)},i.toFixed=function(m,b){return m!=null&&(cn(m,0,qn),m=m+this.e+1),S(this,m,b)},i.toFormat=function(m,b,T){var B,z=this;if(T==null)m!=null&&b&&typeof b=="object"?(T=b,b=null):m&&typeof m=="object"?(T=m,m=b=null):T=P;else if(typeof T!="object")throw Error(Qr+"Argument not an object: "+T);if(B=z.toFixed(m,b),z.c){var A,p=B.split("."),y=+T.groupSize,x=+T.secondaryGroupSize,k=T.groupSeparator||"",C=p[0],F=p[1],W=z.s<0,U=W?C.slice(1):C,I=U.length;if(x&&(A=y,y=x,x=A,I-=A),y>0&&I>0){for(A=I%y||y,C=U.substr(0,A);A<I;A+=y)C+=k+U.substr(A,y);x>0&&(C+=k+U.slice(A)),W&&(C="-"+C)}B=F?C+(T.decimalSeparator||"")+((x=+T.fractionGroupSize)?F.replace(new RegExp("\\d{"+x+"}\\B","g"),"$&"+(T.fractionGroupSeparator||"")):F):C}return(T.prefix||"")+B+(T.suffix||"")},i.toFraction=function(m){var b,T,B,z,A,p,y,x,k,C,F,W,U=this,I=U.c;if(m!=null&&(y=new _(m),!y.isInteger()&&(y.c||y.s!==1)||y.lt(s)))throw Error(Qr+"Argument "+(y.isInteger()?"out of range: ":"not an integer: ")+v(y));if(!I)return new _(U);for(b=new _(s),k=T=new _(s),B=x=new _(s),W=Di(I),A=b.e=W.length-U.e-1,b.c[0]=Dw[(p=A%ct)<0?ct+p:p],m=!m||y.comparedTo(b)>0?A>0?b:k:y,p=h,h=1/0,y=new _(W),x.c[0]=0;C=e(y,b,0,1),z=T.plus(C.times(B)),z.comparedTo(m)!=1;)T=B,B=z,k=x.plus(C.times(z=k)),x=z,b=y.minus(C.times(z=b)),y=z;return z=e(m.minus(T),B,0,1),x=x.plus(z.times(k)),T=T.plus(z.times(B)),x.s=k.s=U.s,A=A*2,F=e(k,B,A,a).minus(U).abs().comparedTo(e(x,T,A,a).minus(U).abs())<1?[k,B]:[x,T],h=p,F},i.toNumber=function(){return+v(this)},i.toPrecision=function(m,b){return m!=null&&cn(m,1,qn),S(this,m,b,2)},i.toString=function(m){var b,T=this,B=T.s,z=T.e;return z===null?B?(b="Infinity",B<0&&(b="-"+b)):b="NaN":(m==null?b=z<=u||z>=l?Fg(Di(T.c),z):Io(Di(T.c),z,"0"):m===10&&E?(T=V(new _(T),o+z+1,a),b=Io(Di(T.c),T.e,"0")):(cn(m,2,D.length,"Base"),b=n(Io(Di(T.c),z,"0"),10,m,B,!0)),B<0&&T.c[0]&&(b="-"+b)),b},i.valueOf=i.toJSON=function(){return v(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&_.set(t),_}function $i(t){var e=t|0;return t>0||t===e?e:e-1}function Di(t){for(var e,n,r=1,i=t.length,s=t[0]+"";r<i;){for(e=t[r++]+"",n=ct-e.length;n--;e="0"+e);s+=e}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function ku(t,e){var n,r,i=t.c,s=e.c,o=t.s,a=e.s,u=t.e,l=e.e;if(!o||!a)return null;if(n=i&&!i[0],r=s&&!s[0],n||r)return n?r?0:-a:o;if(o!=a)return o;if(n=o<0,r=u==l,!i||!s)return r?0:!i^n?1:-1;if(!r)return u>l^n?1:-1;for(a=(u=i.length)<(l=s.length)?u:l,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^n?1:-1;return u==l?0:u>l^n?1:-1}function cn(t,e,n,r){if(t<e||t>n||t!==Fi(t))throw Error(Qr+(r||"Argument")+(typeof t=="number"?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function Bg(t){var e=t.c.length-1;return $i(t.e/ct)==e&&t.c[e]%2!=0}function Fg(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function Io(t,e,n){var r,i;if(e<0){for(i=n+".";++e;i+=n);t=i+t}else if(r=t.length,++e>r){for(i=n,e-=r;--e;i+=n);t+=i}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}var Dye=CM(),IM={exports:{}},xM={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh=De;function KG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var QG=typeof Object.is=="function"?Object.is:KG,JG=Sh.useState,ZG=Sh.useEffect,YG=Sh.useLayoutEffect,XG=Sh.useDebugValue;function eK(t,e){var n=e(),r=JG({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return YG(function(){i.value=n,i.getSnapshot=e,Nw(i)&&s({inst:i})},[t,n,e]),ZG(function(){return Nw(i)&&s({inst:i}),t(function(){Nw(i)&&s({inst:i})})},[t]),XG(n),n}function Nw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!QG(t,n)}catch{return!0}}function tK(t,e){return e()}var nK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tK:eK;xM.useSyncExternalStore=Sh.useSyncExternalStore!==void 0?Sh.useSyncExternalStore:nK;IM.exports=xM;var rK=IM.exports,cp={},Hy={};Hy.byteLength=oK;Hy.toByteArray=uK;Hy.fromByteArray=hK;var eo=[],ji=[],iK=typeof Uint8Array<"u"?Uint8Array:Array,Ow="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ic=0,sK=Ow.length;ic<sK;++ic)eo[ic]=Ow[ic],ji[Ow.charCodeAt(ic)]=ic;ji[45]=62;ji[95]=63;function TM(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function oK(t){var e=TM(t),n=e[0],r=e[1];return(n+r)*3/4-r}function aK(t,e,n){return(e+n)*3/4-n}function uK(t){var e,n=TM(t),r=n[0],i=n[1],s=new iK(aK(t,r,i)),o=0,a=i>0?r-4:r,u;for(u=0;u<a;u+=4)e=ji[t.charCodeAt(u)]<<18|ji[t.charCodeAt(u+1)]<<12|ji[t.charCodeAt(u+2)]<<6|ji[t.charCodeAt(u+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=ji[t.charCodeAt(u)]<<2|ji[t.charCodeAt(u+1)]>>4,s[o++]=e&255),i===1&&(e=ji[t.charCodeAt(u)]<<10|ji[t.charCodeAt(u+1)]<<4|ji[t.charCodeAt(u+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function lK(t){return eo[t>>18&63]+eo[t>>12&63]+eo[t>>6&63]+eo[t&63]}function cK(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(lK(r));return i.join("")}function hK(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(cK(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(eo[e>>2]+eo[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(eo[e>>10]+eo[e>>4&63]+eo[e<<2&63]+"=")),i.join("")}var QA={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */QA.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,g=t[e+h];for(h+=f,s=g&(1<<-c)-1,g>>=-c,c+=a;c>0;s=s*256+t[e+h],h+=f,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=o*256+t[e+h],h+=f,c-=8);if(s===0)s=1-l;else{if(s===u)return o?NaN:(g?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-l}return(g?-1:1)*o*Math.pow(2,s-r)};QA.write=function(t,e,n,r,i,s){var o,a,u,l=s*8-i-1,c=(1<<l)-1,h=c>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:s-1,w=r?1:-1,P=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+h>=1?e+=f/u:e+=f*Math.pow(2,1-h),e*u>=2&&(o++,u/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(e*u-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+g]=a&255,g+=w,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[n+g]=o&255,g+=w,o/=256,l-=8);t[n+g-w]|=P*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Hy,n=QA,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const q=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(q,R),q.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(q){if(q>i)throw new RangeError('The value "'+q+'" is invalid for option "size"');const R=new Uint8Array(q);return Object.setPrototypeOf(R,a.prototype),R}function a(q,R,L){if(typeof q=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(q)}return u(q,R,L)}a.poolSize=8192;function u(q,R,L){if(typeof q=="string")return f(q,R);if(ArrayBuffer.isView(q))return w(q);if(q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(ze(q,ArrayBuffer)||q&&ze(q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ze(q,SharedArrayBuffer)||q&&ze(q.buffer,SharedArrayBuffer)))return P(q,R,L);if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const J=q.valueOf&&q.valueOf();if(J!=null&&J!==q)return a.from(J,R,L);const ne=D(q);if(ne)return ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return a.from(q[Symbol.toPrimitive]("string"),R,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}a.from=function(q,R,L){return u(q,R,L)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function c(q,R,L){return l(q),q<=0?o(q):R!==void 0?typeof L=="string"?o(q).fill(R,L):o(q).fill(R):o(q)}a.alloc=function(q,R,L){return c(q,R,L)};function h(q){return l(q),o(q<0?0:E(q)|0)}a.allocUnsafe=function(q){return h(q)},a.allocUnsafeSlow=function(q){return h(q)};function f(q,R){if((typeof R!="string"||R==="")&&(R="utf8"),!a.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const L=S(q,R)|0;let J=o(L);const ne=J.write(q,R);return ne!==L&&(J=J.slice(0,ne)),J}function g(q){const R=q.length<0?0:E(q.length)|0,L=o(R);for(let J=0;J<R;J+=1)L[J]=q[J]&255;return L}function w(q){if(ze(q,Uint8Array)){const R=new Uint8Array(q);return P(R.buffer,R.byteOffset,R.byteLength)}return g(q)}function P(q,R,L){if(R<0||q.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<R+(L||0))throw new RangeError('"length" is outside of buffer bounds');let J;return R===void 0&&L===void 0?J=new Uint8Array(q):L===void 0?J=new Uint8Array(q,R):J=new Uint8Array(q,R,L),Object.setPrototypeOf(J,a.prototype),J}function D(q){if(a.isBuffer(q)){const R=E(q.length)|0,L=o(R);return L.length===0||q.copy(L,0,0,R),L}if(q.length!==void 0)return typeof q.length!="number"||xe(q.length)?o(0):g(q);if(q.type==="Buffer"&&Array.isArray(q.data))return g(q.data)}function E(q){if(q>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return q|0}function _(q){return+q!=q&&(q=0),a.alloc(+q)}a.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==a.prototype},a.compare=function(R,L){if(ze(R,Uint8Array)&&(R=a.from(R,R.offset,R.byteLength)),ze(L,Uint8Array)&&(L=a.from(L,L.offset,L.byteLength)),!a.isBuffer(R)||!a.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===L)return 0;let J=R.length,ne=L.length;for(let re=0,ae=Math.min(J,ne);re<ae;++re)if(R[re]!==L[re]){J=R[re],ne=L[re];break}return J<ne?-1:ne<J?1:0},a.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(R,L){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return a.alloc(0);let J;if(L===void 0)for(L=0,J=0;J<R.length;++J)L+=R[J].length;const ne=a.allocUnsafe(L);let re=0;for(J=0;J<R.length;++J){let ae=R[J];if(ze(ae,Uint8Array))re+ae.length>ne.length?(a.isBuffer(ae)||(ae=a.from(ae)),ae.copy(ne,re)):Uint8Array.prototype.set.call(ne,ae,re);else if(a.isBuffer(ae))ae.copy(ne,re);else throw new TypeError('"list" argument must be an Array of Buffers');re+=ae.length}return ne};function S(q,R){if(a.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||ze(q,ArrayBuffer))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);const L=q.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&L===0)return 0;let ne=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return _e(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return Pe(q).length;default:if(ne)return J?-1:_e(q).length;R=(""+R).toLowerCase(),ne=!0}}a.byteLength=S;function O(q,R,L){let J=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,R>>>=0,L<=R))return"";for(q||(q="utf8");;)switch(q){case"hex":return F(this,R,L);case"utf8":case"utf-8":return p(this,R,L);case"ascii":return k(this,R,L);case"latin1":case"binary":return C(this,R,L);case"base64":return A(this,R,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,R,L);default:if(J)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),J=!0}}a.prototype._isBuffer=!0;function $(q,R,L){const J=q[R];q[R]=q[L],q[L]=J}a.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<R;L+=2)$(this,L,L+1);return this},a.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<R;L+=4)$(this,L,L+3),$(this,L+1,L+2);return this},a.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<R;L+=8)$(this,L,L+7),$(this,L+1,L+6),$(this,L+2,L+5),$(this,L+3,L+4);return this},a.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?p(this,0,R):O.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(R){if(!a.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:a.compare(this,R)===0},a.prototype.inspect=function(){let R="";const L=t.INSPECT_MAX_BYTES;return R=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(R+=" ... "),"<Buffer "+R+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(R,L,J,ne,re){if(ze(R,Uint8Array)&&(R=a.from(R,R.offset,R.byteLength)),!a.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(L===void 0&&(L=0),J===void 0&&(J=R?R.length:0),ne===void 0&&(ne=0),re===void 0&&(re=this.length),L<0||J>R.length||ne<0||re>this.length)throw new RangeError("out of range index");if(ne>=re&&L>=J)return 0;if(ne>=re)return-1;if(L>=J)return 1;if(L>>>=0,J>>>=0,ne>>>=0,re>>>=0,this===R)return 0;let ae=re-ne,Ce=J-L;const Ae=Math.min(ae,Ce),Fe=this.slice(ne,re),ft=R.slice(L,J);for(let Le=0;Le<Ae;++Le)if(Fe[Le]!==ft[Le]){ae=Fe[Le],Ce=ft[Le];break}return ae<Ce?-1:Ce<ae?1:0};function V(q,R,L,J,ne){if(q.length===0)return-1;if(typeof L=="string"?(J=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,xe(L)&&(L=ne?0:q.length-1),L<0&&(L=q.length+L),L>=q.length){if(ne)return-1;L=q.length-1}else if(L<0)if(ne)L=0;else return-1;if(typeof R=="string"&&(R=a.from(R,J)),a.isBuffer(R))return R.length===0?-1:v(q,R,L,J,ne);if(typeof R=="number")return R=R&255,typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(q,R,L):Uint8Array.prototype.lastIndexOf.call(q,R,L):v(q,[R],L,J,ne);throw new TypeError("val must be string, number or Buffer")}function v(q,R,L,J,ne){let re=1,ae=q.length,Ce=R.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(q.length<2||R.length<2)return-1;re=2,ae/=2,Ce/=2,L/=2}function Ae(ft,Le){return re===1?ft[Le]:ft.readUInt16BE(Le*re)}let Fe;if(ne){let ft=-1;for(Fe=L;Fe<ae;Fe++)if(Ae(q,Fe)===Ae(R,ft===-1?0:Fe-ft)){if(ft===-1&&(ft=Fe),Fe-ft+1===Ce)return ft*re}else ft!==-1&&(Fe-=Fe-ft),ft=-1}else for(L+Ce>ae&&(L=ae-Ce),Fe=L;Fe>=0;Fe--){let ft=!0;for(let Le=0;Le<Ce;Le++)if(Ae(q,Fe+Le)!==Ae(R,Le)){ft=!1;break}if(ft)return Fe}return-1}a.prototype.includes=function(R,L,J){return this.indexOf(R,L,J)!==-1},a.prototype.indexOf=function(R,L,J){return V(this,R,L,J,!0)},a.prototype.lastIndexOf=function(R,L,J){return V(this,R,L,J,!1)};function m(q,R,L,J){L=Number(L)||0;const ne=q.length-L;J?(J=Number(J),J>ne&&(J=ne)):J=ne;const re=R.length;J>re/2&&(J=re/2);let ae;for(ae=0;ae<J;++ae){const Ce=parseInt(R.substr(ae*2,2),16);if(xe(Ce))return ae;q[L+ae]=Ce}return ae}function b(q,R,L,J){return Re(_e(R,q.length-L),q,L,J)}function T(q,R,L,J){return Re(He(R),q,L,J)}function B(q,R,L,J){return Re(Pe(R),q,L,J)}function z(q,R,L,J){return Re(_t(R,q.length-L),q,L,J)}a.prototype.write=function(R,L,J,ne){if(L===void 0)ne="utf8",J=this.length,L=0;else if(J===void 0&&typeof L=="string")ne=L,J=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(J)?(J=J>>>0,ne===void 0&&(ne="utf8")):(ne=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const re=this.length-L;if((J===void 0||J>re)&&(J=re),R.length>0&&(J<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let ae=!1;for(;;)switch(ne){case"hex":return m(this,R,L,J);case"utf8":case"utf-8":return b(this,R,L,J);case"ascii":case"latin1":case"binary":return T(this,R,L,J);case"base64":return B(this,R,L,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,R,L,J);default:if(ae)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),ae=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(q,R,L){return R===0&&L===q.length?e.fromByteArray(q):e.fromByteArray(q.slice(R,L))}function p(q,R,L){L=Math.min(q.length,L);const J=[];let ne=R;for(;ne<L;){const re=q[ne];let ae=null,Ce=re>239?4:re>223?3:re>191?2:1;if(ne+Ce<=L){let Ae,Fe,ft,Le;switch(Ce){case 1:re<128&&(ae=re);break;case 2:Ae=q[ne+1],(Ae&192)===128&&(Le=(re&31)<<6|Ae&63,Le>127&&(ae=Le));break;case 3:Ae=q[ne+1],Fe=q[ne+2],(Ae&192)===128&&(Fe&192)===128&&(Le=(re&15)<<12|(Ae&63)<<6|Fe&63,Le>2047&&(Le<55296||Le>57343)&&(ae=Le));break;case 4:Ae=q[ne+1],Fe=q[ne+2],ft=q[ne+3],(Ae&192)===128&&(Fe&192)===128&&(ft&192)===128&&(Le=(re&15)<<18|(Ae&63)<<12|(Fe&63)<<6|ft&63,Le>65535&&Le<1114112&&(ae=Le))}}ae===null?(ae=65533,Ce=1):ae>65535&&(ae-=65536,J.push(ae>>>10&1023|55296),ae=56320|ae&1023),J.push(ae),ne+=Ce}return x(J)}const y=4096;function x(q){const R=q.length;if(R<=y)return String.fromCharCode.apply(String,q);let L="",J=0;for(;J<R;)L+=String.fromCharCode.apply(String,q.slice(J,J+=y));return L}function k(q,R,L){let J="";L=Math.min(q.length,L);for(let ne=R;ne<L;++ne)J+=String.fromCharCode(q[ne]&127);return J}function C(q,R,L){let J="";L=Math.min(q.length,L);for(let ne=R;ne<L;++ne)J+=String.fromCharCode(q[ne]);return J}function F(q,R,L){const J=q.length;(!R||R<0)&&(R=0),(!L||L<0||L>J)&&(L=J);let ne="";for(let re=R;re<L;++re)ne+=Te[q[re]];return ne}function W(q,R,L){const J=q.slice(R,L);let ne="";for(let re=0;re<J.length-1;re+=2)ne+=String.fromCharCode(J[re]+J[re+1]*256);return ne}a.prototype.slice=function(R,L){const J=this.length;R=~~R,L=L===void 0?J:~~L,R<0?(R+=J,R<0&&(R=0)):R>J&&(R=J),L<0?(L+=J,L<0&&(L=0)):L>J&&(L=J),L<R&&(L=R);const ne=this.subarray(R,L);return Object.setPrototypeOf(ne,a.prototype),ne};function U(q,R,L){if(q%1!==0||q<0)throw new RangeError("offset is not uint");if(q+R>L)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(R,L,J){R=R>>>0,L=L>>>0,J||U(R,L,this.length);let ne=this[R],re=1,ae=0;for(;++ae<L&&(re*=256);)ne+=this[R+ae]*re;return ne},a.prototype.readUintBE=a.prototype.readUIntBE=function(R,L,J){R=R>>>0,L=L>>>0,J||U(R,L,this.length);let ne=this[R+--L],re=1;for(;L>0&&(re*=256);)ne+=this[R+--L]*re;return ne},a.prototype.readUint8=a.prototype.readUInt8=function(R,L){return R=R>>>0,L||U(R,1,this.length),this[R]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(R,L){return R=R>>>0,L||U(R,2,this.length),this[R]|this[R+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(R,L){return R=R>>>0,L||U(R,2,this.length),this[R]<<8|this[R+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(R,L){return R=R>>>0,L||U(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(R,L){return R=R>>>0,L||U(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},a.prototype.readBigUInt64LE=Ue(function(R){R=R>>>0,se(R,"offset");const L=this[R],J=this[R+7];(L===void 0||J===void 0)&&ce(R,this.length-8);const ne=L+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,re=this[++R]+this[++R]*2**8+this[++R]*2**16+J*2**24;return BigInt(ne)+(BigInt(re)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ue(function(R){R=R>>>0,se(R,"offset");const L=this[R],J=this[R+7];(L===void 0||J===void 0)&&ce(R,this.length-8);const ne=L*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],re=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+J;return(BigInt(ne)<<BigInt(32))+BigInt(re)}),a.prototype.readIntLE=function(R,L,J){R=R>>>0,L=L>>>0,J||U(R,L,this.length);let ne=this[R],re=1,ae=0;for(;++ae<L&&(re*=256);)ne+=this[R+ae]*re;return re*=128,ne>=re&&(ne-=Math.pow(2,8*L)),ne},a.prototype.readIntBE=function(R,L,J){R=R>>>0,L=L>>>0,J||U(R,L,this.length);let ne=L,re=1,ae=this[R+--ne];for(;ne>0&&(re*=256);)ae+=this[R+--ne]*re;return re*=128,ae>=re&&(ae-=Math.pow(2,8*L)),ae},a.prototype.readInt8=function(R,L){return R=R>>>0,L||U(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},a.prototype.readInt16LE=function(R,L){R=R>>>0,L||U(R,2,this.length);const J=this[R]|this[R+1]<<8;return J&32768?J|4294901760:J},a.prototype.readInt16BE=function(R,L){R=R>>>0,L||U(R,2,this.length);const J=this[R+1]|this[R]<<8;return J&32768?J|4294901760:J},a.prototype.readInt32LE=function(R,L){return R=R>>>0,L||U(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},a.prototype.readInt32BE=function(R,L){return R=R>>>0,L||U(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},a.prototype.readBigInt64LE=Ue(function(R){R=R>>>0,se(R,"offset");const L=this[R],J=this[R+7];(L===void 0||J===void 0)&&ce(R,this.length-8);const ne=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(J<<24);return(BigInt(ne)<<BigInt(32))+BigInt(L+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),a.prototype.readBigInt64BE=Ue(function(R){R=R>>>0,se(R,"offset");const L=this[R],J=this[R+7];(L===void 0||J===void 0)&&ce(R,this.length-8);const ne=(L<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(ne)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+J)}),a.prototype.readFloatLE=function(R,L){return R=R>>>0,L||U(R,4,this.length),n.read(this,R,!0,23,4)},a.prototype.readFloatBE=function(R,L){return R=R>>>0,L||U(R,4,this.length),n.read(this,R,!1,23,4)},a.prototype.readDoubleLE=function(R,L){return R=R>>>0,L||U(R,8,this.length),n.read(this,R,!0,52,8)},a.prototype.readDoubleBE=function(R,L){return R=R>>>0,L||U(R,8,this.length),n.read(this,R,!1,52,8)};function I(q,R,L,J,ne,re){if(!a.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>ne||R<re)throw new RangeError('"value" argument is out of bounds');if(L+J>q.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(R,L,J,ne){if(R=+R,L=L>>>0,J=J>>>0,!ne){const Ce=Math.pow(2,8*J)-1;I(this,R,L,J,Ce,0)}let re=1,ae=0;for(this[L]=R&255;++ae<J&&(re*=256);)this[L+ae]=R/re&255;return L+J},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(R,L,J,ne){if(R=+R,L=L>>>0,J=J>>>0,!ne){const Ce=Math.pow(2,8*J)-1;I(this,R,L,J,Ce,0)}let re=J-1,ae=1;for(this[L+re]=R&255;--re>=0&&(ae*=256);)this[L+re]=R/ae&255;return L+J},a.prototype.writeUint8=a.prototype.writeUInt8=function(R,L,J){return R=+R,L=L>>>0,J||I(this,R,L,1,255,0),this[L]=R&255,L+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(R,L,J){return R=+R,L=L>>>0,J||I(this,R,L,2,65535,0),this[L]=R&255,this[L+1]=R>>>8,L+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(R,L,J){return R=+R,L=L>>>0,J||I(this,R,L,2,65535,0),this[L]=R>>>8,this[L+1]=R&255,L+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(R,L,J){return R=+R,L=L>>>0,J||I(this,R,L,4,4294967295,0),this[L+3]=R>>>24,this[L+2]=R>>>16,this[L+1]=R>>>8,this[L]=R&255,L+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(R,L,J){return R=+R,L=L>>>0,J||I(this,R,L,4,4294967295,0),this[L]=R>>>24,this[L+1]=R>>>16,this[L+2]=R>>>8,this[L+3]=R&255,L+4};function G(q,R,L,J,ne){K(R,J,ne,q,L,7);let re=Number(R&BigInt(4294967295));q[L++]=re,re=re>>8,q[L++]=re,re=re>>8,q[L++]=re,re=re>>8,q[L++]=re;let ae=Number(R>>BigInt(32)&BigInt(4294967295));return q[L++]=ae,ae=ae>>8,q[L++]=ae,ae=ae>>8,q[L++]=ae,ae=ae>>8,q[L++]=ae,L}function ue(q,R,L,J,ne){K(R,J,ne,q,L,7);let re=Number(R&BigInt(4294967295));q[L+7]=re,re=re>>8,q[L+6]=re,re=re>>8,q[L+5]=re,re=re>>8,q[L+4]=re;let ae=Number(R>>BigInt(32)&BigInt(4294967295));return q[L+3]=ae,ae=ae>>8,q[L+2]=ae,ae=ae>>8,q[L+1]=ae,ae=ae>>8,q[L]=ae,L+8}a.prototype.writeBigUInt64LE=Ue(function(R,L=0){return G(this,R,L,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ue(function(R,L=0){return ue(this,R,L,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(R,L,J,ne){if(R=+R,L=L>>>0,!ne){const Ae=Math.pow(2,8*J-1);I(this,R,L,J,Ae-1,-Ae)}let re=0,ae=1,Ce=0;for(this[L]=R&255;++re<J&&(ae*=256);)R<0&&Ce===0&&this[L+re-1]!==0&&(Ce=1),this[L+re]=(R/ae>>0)-Ce&255;return L+J},a.prototype.writeIntBE=function(R,L,J,ne){if(R=+R,L=L>>>0,!ne){const Ae=Math.pow(2,8*J-1);I(this,R,L,J,Ae-1,-Ae)}let re=J-1,ae=1,Ce=0;for(this[L+re]=R&255;--re>=0&&(ae*=256);)R<0&&Ce===0&&this[L+re+1]!==0&&(Ce=1),this[L+re]=(R/ae>>0)-Ce&255;return L+J},a.prototype.writeInt8=function(R,L,J){return R=+R,L=L>>>0,J||I(this,R,L,1,127,-128),R<0&&(R=255+R+1),this[L]=R&255,L+1},a.prototype.writeInt16LE=function(R,L,J){return R=+R,L=L>>>0,J||I(this,R,L,2,32767,-32768),this[L]=R&255,this[L+1]=R>>>8,L+2},a.prototype.writeInt16BE=function(R,L,J){return R=+R,L=L>>>0,J||I(this,R,L,2,32767,-32768),this[L]=R>>>8,this[L+1]=R&255,L+2},a.prototype.writeInt32LE=function(R,L,J){return R=+R,L=L>>>0,J||I(this,R,L,4,2147483647,-2147483648),this[L]=R&255,this[L+1]=R>>>8,this[L+2]=R>>>16,this[L+3]=R>>>24,L+4},a.prototype.writeInt32BE=function(R,L,J){return R=+R,L=L>>>0,J||I(this,R,L,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[L]=R>>>24,this[L+1]=R>>>16,this[L+2]=R>>>8,this[L+3]=R&255,L+4},a.prototype.writeBigInt64LE=Ue(function(R,L=0){return G(this,R,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ue(function(R,L=0){return ue(this,R,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ie(q,R,L,J,ne,re){if(L+J>q.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function X(q,R,L,J,ne){return R=+R,L=L>>>0,ne||ie(q,R,L,4),n.write(q,R,L,J,23,4),L+4}a.prototype.writeFloatLE=function(R,L,J){return X(this,R,L,!0,J)},a.prototype.writeFloatBE=function(R,L,J){return X(this,R,L,!1,J)};function Q(q,R,L,J,ne){return R=+R,L=L>>>0,ne||ie(q,R,L,8),n.write(q,R,L,J,52,8),L+8}a.prototype.writeDoubleLE=function(R,L,J){return Q(this,R,L,!0,J)},a.prototype.writeDoubleBE=function(R,L,J){return Q(this,R,L,!1,J)},a.prototype.copy=function(R,L,J,ne){if(!a.isBuffer(R))throw new TypeError("argument should be a Buffer");if(J||(J=0),!ne&&ne!==0&&(ne=this.length),L>=R.length&&(L=R.length),L||(L=0),ne>0&&ne<J&&(ne=J),ne===J||R.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),R.length-L<ne-J&&(ne=R.length-L+J);const re=ne-J;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,J,ne):Uint8Array.prototype.set.call(R,this.subarray(J,ne),L),re},a.prototype.fill=function(R,L,J,ne){if(typeof R=="string"){if(typeof L=="string"?(ne=L,L=0,J=this.length):typeof J=="string"&&(ne=J,J=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!a.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(R.length===1){const ae=R.charCodeAt(0);(ne==="utf8"&&ae<128||ne==="latin1")&&(R=ae)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(L<0||this.length<L||this.length<J)throw new RangeError("Out of range index");if(J<=L)return this;L=L>>>0,J=J===void 0?this.length:J>>>0,R||(R=0);let re;if(typeof R=="number")for(re=L;re<J;++re)this[re]=R;else{const ae=a.isBuffer(R)?R:a.from(R,ne),Ce=ae.length;if(Ce===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(re=0;re<J-L;++re)this[re+L]=ae[re%Ce]}return this};const Y={};function ee(q,R,L){Y[q]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${q}]`,this.stack,delete this.name}get code(){return q}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${q}]: ${this.message}`}}}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(q){return q?`${q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(q,R){return`The "${q}" argument must be of type number. Received type ${typeof R}`},TypeError),ee("ERR_OUT_OF_RANGE",function(q,R,L){let J=`The value of "${q}" is out of range.`,ne=L;return Number.isInteger(L)&&Math.abs(L)>2**32?ne=N(String(L)):typeof L=="bigint"&&(ne=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(ne=N(ne)),ne+="n"),J+=` It must be ${R}. Received ${ne}`,J},RangeError);function N(q){let R="",L=q.length;const J=q[0]==="-"?1:0;for(;L>=J+4;L-=3)R=`_${q.slice(L-3,L)}${R}`;return`${q.slice(0,L)}${R}`}function j(q,R,L){se(R,"offset"),(q[R]===void 0||q[R+L]===void 0)&&ce(R,q.length-(L+1))}function K(q,R,L,J,ne,re){if(q>L||q<R){const ae=typeof R=="bigint"?"n":"";let Ce;throw R===0||R===BigInt(0)?Ce=`>= 0${ae} and < 2${ae} ** ${(re+1)*8}${ae}`:Ce=`>= -(2${ae} ** ${(re+1)*8-1}${ae}) and < 2 ** ${(re+1)*8-1}${ae}`,new Y.ERR_OUT_OF_RANGE("value",Ce,q)}j(J,ne,re)}function se(q,R){if(typeof q!="number")throw new Y.ERR_INVALID_ARG_TYPE(R,"number",q)}function ce(q,R,L){throw Math.floor(q)!==q?(se(q,L),new Y.ERR_OUT_OF_RANGE("offset","an integer",q)):R<0?new Y.ERR_BUFFER_OUT_OF_BOUNDS:new Y.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${R}`,q)}const pe=/[^+/0-9A-Za-z-_]/g;function Ee(q){if(q=q.split("=")[0],q=q.trim().replace(pe,""),q.length<2)return"";for(;q.length%4!==0;)q=q+"=";return q}function _e(q,R){R=R||1/0;let L;const J=q.length;let ne=null;const re=[];for(let ae=0;ae<J;++ae){if(L=q.charCodeAt(ae),L>55295&&L<57344){if(!ne){if(L>56319){(R-=3)>-1&&re.push(239,191,189);continue}else if(ae+1===J){(R-=3)>-1&&re.push(239,191,189);continue}ne=L;continue}if(L<56320){(R-=3)>-1&&re.push(239,191,189),ne=L;continue}L=(ne-55296<<10|L-56320)+65536}else ne&&(R-=3)>-1&&re.push(239,191,189);if(ne=null,L<128){if((R-=1)<0)break;re.push(L)}else if(L<2048){if((R-=2)<0)break;re.push(L>>6|192,L&63|128)}else if(L<65536){if((R-=3)<0)break;re.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((R-=4)<0)break;re.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return re}function He(q){const R=[];for(let L=0;L<q.length;++L)R.push(q.charCodeAt(L)&255);return R}function _t(q,R){let L,J,ne;const re=[];for(let ae=0;ae<q.length&&!((R-=2)<0);++ae)L=q.charCodeAt(ae),J=L>>8,ne=L%256,re.push(ne),re.push(J);return re}function Pe(q){return e.toByteArray(Ee(q))}function Re(q,R,L,J){let ne;for(ne=0;ne<J&&!(ne+L>=R.length||ne>=q.length);++ne)R[ne+L]=q[ne];return ne}function ze(q,R){return q instanceof R||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===R.name}function xe(q){return q!==q}const Te=function(){const q="0123456789abcdef",R=new Array(256);for(let L=0;L<16;++L){const J=L*16;for(let ne=0;ne<16;++ne)R[J+ne]=q[L]+q[ne]}return R}();function Ue(q){return typeof BigInt>"u"?ve:q}function ve(){throw new Error("BigInt not supported")}})(cp);var Lt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Lt||(Lt={}));var _2;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(_2||(_2={}));const ke=Lt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_a=t=>{switch(typeof t){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return isNaN(t)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(t)?ke.array:t===null?ke.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ke.promise:typeof Map<"u"&&t instanceof Map?ke.map:typeof Set<"u"&&t instanceof Set?ke.set:typeof Date<"u"&&t instanceof Date?ke.date:ke.object;default:return ke.unknown}},we=Lt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),fK=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Cs extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,u=0;for(;u<o.path.length;){const l=o.path[u];u===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],u++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Lt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Cs.create=t=>new Cs(t);const l0=(t,e)=>{let n;switch(t.code){case we.invalid_type:t.received===ke.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case we.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Lt.jsonStringifyReplacer)}`;break;case we.unrecognized_keys:n=`Unrecognized key(s) in object: ${Lt.joinValues(t.keys,", ")}`;break;case we.invalid_union:n="Invalid input";break;case we.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Lt.joinValues(t.options)}`;break;case we.invalid_enum_value:n=`Invalid enum value. Expected ${Lt.joinValues(t.options)}, received '${t.received}'`;break;case we.invalid_arguments:n="Invalid function arguments";break;case we.invalid_return_type:n="Invalid function return type";break;case we.invalid_date:n="Invalid date";break;case we.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Lt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case we.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case we.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case we.custom:n="Invalid input";break;case we.invalid_intersection_types:n="Intersection results could not be merged";break;case we.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case we.not_finite:n="Number must be finite";break;default:n=e.defaultError,Lt.assertNever(t)}return{message:n}};let RM=l0;function dK(t){RM=t}function I1(){return RM}const x1=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const u=r.filter(l=>!!l).slice().reverse();for(const l of u)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},pK=[];function Ne(t,e){const n=x1({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,I1(),l0].filter(r=>!!r)});t.common.issues.push(n)}class kr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return lt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return kr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return lt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const lt=Object.freeze({status:"aborted"}),kM=t=>({status:"dirty",value:t}),Ur=t=>({status:"valid",value:t}),w2=t=>t.status==="aborted",b2=t=>t.status==="dirty",c0=t=>t.status==="valid",T1=t=>typeof Promise<"u"&&t instanceof Promise;var Je;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Je||(Je={}));class mo{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const uI=(t,e)=>{if(c0(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Cs(t.common.issues);return this._error=n,this._error}}};function dt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class yt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return _a(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:_a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new kr,ctx:{common:e.parent.common,data:e.data,parsedType:_a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(T1(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_a(e)},s=this._parseSync({data:e,path:i.path,parent:i});return uI(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_a(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(T1(i)?i:Promise.resolve(i));return uI(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:we.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Ts({schema:this,typeName:Ye.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return $o.create(this,this._def)}nullable(){return El.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Is.create(this,this._def)}promise(){return Ih.create(this,this._def)}or(e){return p0.create([this,e],this._def)}and(e){return g0.create(this,e,this._def)}transform(e){return new Ts({...dt(this._def),schema:this,typeName:Ye.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new w0({...dt(this._def),innerType:this,defaultValue:n,typeName:Ye.ZodDefault})}brand(){return new MM({typeName:Ye.ZodBranded,type:this,...dt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new M1({...dt(this._def),innerType:this,catchValue:n,typeName:Ye.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return hp.create(this,e)}readonly(){return N1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gK=/^c[^\s-]{8,}$/i,mK=/^[a-z][a-z0-9]*$/,yK=/^[0-9A-HJKMNP-TV-Z]{26}$/,vK=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_K=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wK="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Lw;const bK=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,EK=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,AK=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function SK(t,e){return!!((e==="v4"||!e)&&bK.test(t)||(e==="v6"||!e)&&EK.test(t))}class bs extends yt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ke.string){const s=this._getOrReturnCtx(e);return Ne(s,{code:we.invalid_type,expected:ke.string,received:s.parsedType}),lt}const r=new kr;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Ne(i,{code:we.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Ne(i,{code:we.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Ne(i,{code:we.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Ne(i,{code:we.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")_K.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"email",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Lw||(Lw=new RegExp(wK,"u")),Lw.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"emoji",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")vK.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"uuid",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")gK.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"cuid",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")mK.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"cuid2",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")yK.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"ulid",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ne(i,{validation:"url",code:we.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"regex",code:we.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Ne(i,{code:we.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ne(i,{code:we.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ne(i,{code:we.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?AK(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{code:we.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?SK(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"ip",code:we.invalid_string,message:s.message}),r.dirty()):Lt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:we.invalid_string,...Je.errToObj(r)})}_addCheck(e){return new bs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Je.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Je.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Je.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Je.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Je.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Je.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Je.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Je.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...Je.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Je.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Je.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Je.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Je.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Je.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Je.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Je.errToObj(n)})}nonempty(e){return this.min(1,Je.errToObj(e))}trim(){return new bs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}bs.create=t=>{var e;return new bs({checks:[],typeName:Ye.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...dt(t)})};function CK(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class eu extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ke.number){const s=this._getOrReturnCtx(e);return Ne(s,{code:we.invalid_type,expected:ke.number,received:s.parsedType}),lt}let r;const i=new kr;for(const s of this._def.checks)s.kind==="int"?Lt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ne(r,{code:we.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Ne(r,{code:we.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Ne(r,{code:we.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?CK(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Ne(r,{code:we.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ne(r,{code:we.not_finite,message:s.message}),i.dirty()):Lt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Je.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Je.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Je.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Je.toString(n))}setLimit(e,n,r,i){return new eu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Je.toString(i)}]})}_addCheck(e){return new eu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Je.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Je.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Je.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Je.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Je.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Je.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Lt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}eu.create=t=>new eu({checks:[],typeName:Ye.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...dt(t)});class tu extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ke.bigint){const s=this._getOrReturnCtx(e);return Ne(s,{code:we.invalid_type,expected:ke.bigint,received:s.parsedType}),lt}let r;const i=new kr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Ne(r,{code:we.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Ne(r,{code:we.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ne(r,{code:we.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Lt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Je.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Je.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Je.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Je.toString(n))}setLimit(e,n,r,i){return new tu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Je.toString(i)}]})}_addCheck(e){return new tu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Je.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Je.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}tu.create=t=>{var e;return new tu({checks:[],typeName:Ye.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...dt(t)})};class h0 extends yt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ke.boolean){const r=this._getOrReturnCtx(e);return Ne(r,{code:we.invalid_type,expected:ke.boolean,received:r.parsedType}),lt}return Ur(e.data)}}h0.create=t=>new h0({typeName:Ye.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...dt(t)});class wl extends yt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ke.date){const s=this._getOrReturnCtx(e);return Ne(s,{code:we.invalid_type,expected:ke.date,received:s.parsedType}),lt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Ne(s,{code:we.invalid_date}),lt}const r=new kr;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Ne(i,{code:we.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Ne(i,{code:we.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Lt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new wl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Je.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Je.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}wl.create=t=>new wl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ye.ZodDate,...dt(t)});class R1 extends yt{_parse(e){if(this._getType(e)!==ke.symbol){const r=this._getOrReturnCtx(e);return Ne(r,{code:we.invalid_type,expected:ke.symbol,received:r.parsedType}),lt}return Ur(e.data)}}R1.create=t=>new R1({typeName:Ye.ZodSymbol,...dt(t)});class f0 extends yt{_parse(e){if(this._getType(e)!==ke.undefined){const r=this._getOrReturnCtx(e);return Ne(r,{code:we.invalid_type,expected:ke.undefined,received:r.parsedType}),lt}return Ur(e.data)}}f0.create=t=>new f0({typeName:Ye.ZodUndefined,...dt(t)});class d0 extends yt{_parse(e){if(this._getType(e)!==ke.null){const r=this._getOrReturnCtx(e);return Ne(r,{code:we.invalid_type,expected:ke.null,received:r.parsedType}),lt}return Ur(e.data)}}d0.create=t=>new d0({typeName:Ye.ZodNull,...dt(t)});class Ch extends yt{constructor(){super(...arguments),this._any=!0}_parse(e){return Ur(e.data)}}Ch.create=t=>new Ch({typeName:Ye.ZodAny,...dt(t)});class ul extends yt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ur(e.data)}}ul.create=t=>new ul({typeName:Ye.ZodUnknown,...dt(t)});class qo extends yt{_parse(e){const n=this._getOrReturnCtx(e);return Ne(n,{code:we.invalid_type,expected:ke.never,received:n.parsedType}),lt}}qo.create=t=>new qo({typeName:Ye.ZodNever,...dt(t)});class k1 extends yt{_parse(e){if(this._getType(e)!==ke.undefined){const r=this._getOrReturnCtx(e);return Ne(r,{code:we.invalid_type,expected:ke.void,received:r.parsedType}),lt}return Ur(e.data)}}k1.create=t=>new k1({typeName:Ye.ZodVoid,...dt(t)});class Is extends yt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ke.array)return Ne(n,{code:we.invalid_type,expected:ke.array,received:n.parsedType}),lt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(Ne(n,{code:o?we.too_big:we.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Ne(n,{code:we.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Ne(n,{code:we.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new mo(n,o,n.path,a)))).then(o=>kr.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new mo(n,o,n.path,a)));return kr.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Is({...this._def,minLength:{value:e,message:Je.toString(n)}})}max(e,n){return new Is({...this._def,maxLength:{value:e,message:Je.toString(n)}})}length(e,n){return new Is({...this._def,exactLength:{value:e,message:Je.toString(n)}})}nonempty(e){return this.min(1,e)}}Is.create=(t,e)=>new Is({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ye.ZodArray,...dt(e)});function gc(t){if(t instanceof dn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=$o.create(gc(r))}return new dn({...t._def,shape:()=>e})}else return t instanceof Is?new Is({...t._def,type:gc(t.element)}):t instanceof $o?$o.create(gc(t.unwrap())):t instanceof El?El.create(gc(t.unwrap())):t instanceof yo?yo.create(t.items.map(e=>gc(e))):t}class dn extends yt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Lt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ke.object){const l=this._getOrReturnCtx(e);return Ne(l,{code:we.invalid_type,expected:ke.object,received:l.parsedType}),lt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof qo&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const u=[];for(const l of o){const c=s[l],h=i.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new mo(i,h,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof qo){const l=this._def.unknownKeys;if(l==="passthrough")for(const c of a)u.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(l==="strict")a.length>0&&(Ne(i,{code:we.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const c of a){const h=i.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new mo(i,h,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const c of u){const h=await c.key;l.push({key:h,value:await c.value,alwaysSet:c.alwaysSet})}return l}).then(l=>kr.mergeObjectSync(r,l)):kr.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return Je.errToObj,new dn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Je.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new dn({...this._def,unknownKeys:"strip"})}passthrough(){return new dn({...this._def,unknownKeys:"passthrough"})}extend(e){return new dn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new dn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ye.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new dn({...this._def,catchall:e})}pick(e){const n={};return Lt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new dn({...this._def,shape:()=>n})}omit(e){const n={};return Lt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new dn({...this._def,shape:()=>n})}deepPartial(){return gc(this)}partial(e){const n={};return Lt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new dn({...this._def,shape:()=>n})}required(e){const n={};return Lt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof $o;)s=s._def.innerType;n[r]=s}}),new dn({...this._def,shape:()=>n})}keyof(){return PM(Lt.objectKeys(this.shape))}}dn.create=(t,e)=>new dn({shape:()=>t,unknownKeys:"strip",catchall:qo.create(),typeName:Ye.ZodObject,...dt(e)});dn.strictCreate=(t,e)=>new dn({shape:()=>t,unknownKeys:"strict",catchall:qo.create(),typeName:Ye.ZodObject,...dt(e)});dn.lazycreate=(t,e)=>new dn({shape:t,unknownKeys:"strip",catchall:qo.create(),typeName:Ye.ZodObject,...dt(e)});class p0 extends yt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Cs(a.ctx.common.issues));return Ne(n,{code:we.invalid_union,unionErrors:o}),lt}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const u of r){const l={...n,common:{...n.common,issues:[]},parent:null},c=u._parseSync({data:n.data,path:n.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(u=>new Cs(u));return Ne(n,{code:we.invalid_union,unionErrors:a}),lt}}get options(){return this._def.options}}p0.create=(t,e)=>new p0({options:t,typeName:Ye.ZodUnion,...dt(e)});const Mm=t=>t instanceof y0?Mm(t.schema):t instanceof Ts?Mm(t.innerType()):t instanceof v0?[t.value]:t instanceof nu?t.options:t instanceof _0?Object.keys(t.enum):t instanceof w0?Mm(t._def.innerType):t instanceof f0?[void 0]:t instanceof d0?[null]:null;class Wy extends yt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.object)return Ne(n,{code:we.invalid_type,expected:ke.object,received:n.parsedType}),lt;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(Ne(n,{code:we.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),lt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Mm(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new Wy({typeName:Ye.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...dt(r)})}}function E2(t,e){const n=_a(t),r=_a(e);if(t===e)return{valid:!0,data:t};if(n===ke.object&&r===ke.object){const i=Lt.objectKeys(e),s=Lt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const u=E2(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(n===ke.array&&r===ke.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],u=E2(o,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===ke.date&&r===ke.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class g0 extends yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(w2(s)||w2(o))return lt;const a=E2(s.value,o.value);return a.valid?((b2(s)||b2(o))&&n.dirty(),{status:n.value,value:a.data}):(Ne(r,{code:we.invalid_intersection_types}),lt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}g0.create=(t,e,n)=>new g0({left:t,right:e,typeName:Ye.ZodIntersection,...dt(n)});class yo extends yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.array)return Ne(r,{code:we.invalid_type,expected:ke.array,received:r.parsedType}),lt;if(r.data.length<this._def.items.length)return Ne(r,{code:we.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),lt;!this._def.rest&&r.data.length>this._def.items.length&&(Ne(r,{code:we.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const u=this._def.items[a]||this._def.rest;return u?u._parse(new mo(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>kr.mergeArray(n,o)):kr.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new yo({...this._def,rest:e})}}yo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new yo({items:t,typeName:Ye.ZodTuple,rest:null,...dt(e)})};class m0 extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.object)return Ne(r,{code:we.invalid_type,expected:ke.object,received:r.parsedType}),lt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new mo(r,a,r.path,a)),value:o._parse(new mo(r,r.data[a],r.path,a))});return r.common.async?kr.mergeObjectAsync(n,i):kr.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof yt?new m0({keyType:e,valueType:n,typeName:Ye.ZodRecord,...dt(r)}):new m0({keyType:bs.create(),valueType:e,typeName:Ye.ZodRecord,...dt(n)})}}class P1 extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.map)return Ne(r,{code:we.invalid_type,expected:ke.map,received:r.parsedType}),lt;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,u],l)=>({key:i._parse(new mo(r,a,r.path,[l,"key"])),value:s._parse(new mo(r,u,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const u of o){const l=await u.key,c=await u.value;if(l.status==="aborted"||c.status==="aborted")return lt;(l.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(l.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const u of o){const l=u.key,c=u.value;if(l.status==="aborted"||c.status==="aborted")return lt;(l.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(l.value,c.value)}return{status:n.value,value:a}}}}P1.create=(t,e,n)=>new P1({valueType:e,keyType:t,typeName:Ye.ZodMap,...dt(n)});class bl extends yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.set)return Ne(r,{code:we.invalid_type,expected:ke.set,received:r.parsedType}),lt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Ne(r,{code:we.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Ne(r,{code:we.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(u){const l=new Set;for(const c of u){if(c.status==="aborted")return lt;c.status==="dirty"&&n.dirty(),l.add(c.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((u,l)=>s._parse(new mo(r,u,r.path,l)));return r.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,n){return new bl({...this._def,minSize:{value:e,message:Je.toString(n)}})}max(e,n){return new bl({...this._def,maxSize:{value:e,message:Je.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}bl.create=(t,e)=>new bl({valueType:t,minSize:null,maxSize:null,typeName:Ye.ZodSet,...dt(e)});class Kc extends yt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.function)return Ne(n,{code:we.invalid_type,expected:ke.function,received:n.parsedType}),lt;function r(a,u){return x1({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,I1(),l0].filter(l=>!!l),issueData:{code:we.invalid_arguments,argumentsError:u}})}function i(a,u){return x1({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,I1(),l0].filter(l=>!!l),issueData:{code:we.invalid_return_type,returnTypeError:u}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ih){const a=this;return Ur(async function(...u){const l=new Cs([]),c=await a._def.args.parseAsync(u,s).catch(g=>{throw l.addIssue(r(u,g)),l}),h=await Reflect.apply(o,this,c);return await a._def.returns._def.type.parseAsync(h,s).catch(g=>{throw l.addIssue(i(h,g)),l})})}else{const a=this;return Ur(function(...u){const l=a._def.args.safeParse(u,s);if(!l.success)throw new Cs([r(u,l.error)]);const c=Reflect.apply(o,this,l.data),h=a._def.returns.safeParse(c,s);if(!h.success)throw new Cs([i(c,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Kc({...this._def,args:yo.create(e).rest(ul.create())})}returns(e){return new Kc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Kc({args:e||yo.create([]).rest(ul.create()),returns:n||ul.create(),typeName:Ye.ZodFunction,...dt(r)})}}class y0 extends yt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}y0.create=(t,e)=>new y0({getter:t,typeName:Ye.ZodLazy,...dt(e)});class v0 extends yt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ne(n,{received:n.data,code:we.invalid_literal,expected:this._def.value}),lt}return{status:"valid",value:e.data}}get value(){return this._def.value}}v0.create=(t,e)=>new v0({value:t,typeName:Ye.ZodLiteral,...dt(e)});function PM(t,e){return new nu({values:t,typeName:Ye.ZodEnum,...dt(e)})}class nu extends yt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ne(n,{expected:Lt.joinValues(r),received:n.parsedType,code:we.invalid_type}),lt}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Ne(n,{received:n.data,code:we.invalid_enum_value,options:r}),lt}return Ur(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return nu.create(e)}exclude(e){return nu.create(this.options.filter(n=>!e.includes(n)))}}nu.create=PM;class _0 extends yt{_parse(e){const n=Lt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ke.string&&r.parsedType!==ke.number){const i=Lt.objectValues(n);return Ne(r,{expected:Lt.joinValues(i),received:r.parsedType,code:we.invalid_type}),lt}if(n.indexOf(e.data)===-1){const i=Lt.objectValues(n);return Ne(r,{received:r.data,code:we.invalid_enum_value,options:i}),lt}return Ur(e.data)}get enum(){return this._def.values}}_0.create=(t,e)=>new _0({values:t,typeName:Ye.ZodNativeEnum,...dt(e)});class Ih extends yt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.promise&&n.common.async===!1)return Ne(n,{code:we.invalid_type,expected:ke.promise,received:n.parsedType}),lt;const r=n.parsedType===ke.promise?n.data:Promise.resolve(n.data);return Ur(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ih.create=(t,e)=>new Ih({type:t,typeName:Ye.ZodPromise,...dt(e)});class Ts extends yt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Ne(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const u=i.refinement(a,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?lt:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?lt:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!c0(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>c0(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Lt.assertNever(i)}}Ts.create=(t,e,n)=>new Ts({schema:t,typeName:Ye.ZodEffects,effect:e,...dt(n)});Ts.createWithPreprocess=(t,e,n)=>new Ts({schema:e,effect:{type:"preprocess",transform:t},typeName:Ye.ZodEffects,...dt(n)});class $o extends yt{_parse(e){return this._getType(e)===ke.undefined?Ur(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$o.create=(t,e)=>new $o({innerType:t,typeName:Ye.ZodOptional,...dt(e)});class El extends yt{_parse(e){return this._getType(e)===ke.null?Ur(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}El.create=(t,e)=>new El({innerType:t,typeName:Ye.ZodNullable,...dt(e)});class w0 extends yt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ke.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}w0.create=(t,e)=>new w0({innerType:t,typeName:Ye.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...dt(e)});class M1 extends yt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return T1(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Cs(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Cs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}M1.create=(t,e)=>new M1({innerType:t,typeName:Ye.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...dt(e)});class D1 extends yt{_parse(e){if(this._getType(e)!==ke.nan){const r=this._getOrReturnCtx(e);return Ne(r,{code:we.invalid_type,expected:ke.nan,received:r.parsedType}),lt}return{status:"valid",value:e.data}}}D1.create=t=>new D1({typeName:Ye.ZodNaN,...dt(t)});const IK=Symbol("zod_brand");class MM extends yt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class hp extends yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?lt:s.status==="dirty"?(n.dirty(),kM(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?lt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new hp({in:e,out:n,typeName:Ye.ZodPipeline})}}class N1 extends yt{_parse(e){const n=this._def.innerType._parse(e);return c0(n)&&(n.value=Object.freeze(n.value)),n}}N1.create=(t,e)=>new N1({innerType:t,typeName:Ye.ZodReadonly,...dt(e)});const DM=(t,e={},n)=>t?Ch.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:u})}}):Ch.create(),xK={object:dn.lazycreate};var Ye;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ye||(Ye={}));const TK=(t,e={message:`Input not instance of ${t.name}`})=>DM(n=>n instanceof t,e),NM=bs.create,OM=eu.create,RK=D1.create,kK=tu.create,LM=h0.create,PK=wl.create,MK=R1.create,DK=f0.create,NK=d0.create,OK=Ch.create,LK=ul.create,BK=qo.create,FK=k1.create,$K=Is.create,jK=dn.create,UK=dn.strictCreate,VK=p0.create,zK=Wy.create,HK=g0.create,WK=yo.create,qK=m0.create,GK=P1.create,KK=bl.create,QK=Kc.create,JK=y0.create,ZK=v0.create,YK=nu.create,XK=_0.create,eQ=Ih.create,lI=Ts.create,tQ=$o.create,nQ=El.create,rQ=Ts.createWithPreprocess,iQ=hp.create,sQ=()=>NM().optional(),oQ=()=>OM().optional(),aQ=()=>LM().optional(),uQ={string:t=>bs.create({...t,coerce:!0}),number:t=>eu.create({...t,coerce:!0}),boolean:t=>h0.create({...t,coerce:!0}),bigint:t=>tu.create({...t,coerce:!0}),date:t=>wl.create({...t,coerce:!0})},lQ=lt;var Oye=Object.freeze({__proto__:null,defaultErrorMap:l0,setErrorMap:dK,getErrorMap:I1,makeIssue:x1,EMPTY_PATH:pK,addIssueToContext:Ne,ParseStatus:kr,INVALID:lt,DIRTY:kM,OK:Ur,isAborted:w2,isDirty:b2,isValid:c0,isAsync:T1,get util(){return Lt},get objectUtil(){return _2},ZodParsedType:ke,getParsedType:_a,ZodType:yt,ZodString:bs,ZodNumber:eu,ZodBigInt:tu,ZodBoolean:h0,ZodDate:wl,ZodSymbol:R1,ZodUndefined:f0,ZodNull:d0,ZodAny:Ch,ZodUnknown:ul,ZodNever:qo,ZodVoid:k1,ZodArray:Is,ZodObject:dn,ZodUnion:p0,ZodDiscriminatedUnion:Wy,ZodIntersection:g0,ZodTuple:yo,ZodRecord:m0,ZodMap:P1,ZodSet:bl,ZodFunction:Kc,ZodLazy:y0,ZodLiteral:v0,ZodEnum:nu,ZodNativeEnum:_0,ZodPromise:Ih,ZodEffects:Ts,ZodTransformer:Ts,ZodOptional:$o,ZodNullable:El,ZodDefault:w0,ZodCatch:M1,ZodNaN:D1,BRAND:IK,ZodBranded:MM,ZodPipeline:hp,ZodReadonly:N1,custom:DM,Schema:yt,ZodSchema:yt,late:xK,get ZodFirstPartyTypeKind(){return Ye},coerce:uQ,any:OK,array:$K,bigint:kK,boolean:LM,date:PK,discriminatedUnion:zK,effect:lI,enum:YK,function:QK,instanceof:TK,intersection:HK,lazy:JK,literal:ZK,map:GK,nan:RK,nativeEnum:XK,never:BK,null:NK,nullable:nQ,number:OM,object:jK,oboolean:aQ,onumber:oQ,optional:tQ,ostring:sQ,pipeline:iQ,preprocess:rQ,promise:eQ,record:qK,set:KK,strictObject:UK,string:NM,symbol:MK,transformer:lI,tuple:WK,undefined:DK,union:VK,unknown:LK,void:FK,NEVER:lQ,ZodIssueCode:we,quotelessJson:fK,ZodError:Cs}),qy={},cQ=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},BM={},Ci={};let JA;const hQ=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ci.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Ci.getSymbolTotalCodewords=function(e){return hQ[e]};Ci.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Ci.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');JA=e};Ci.isKanjiModeEnabled=function(){return typeof JA<"u"};Ci.toSJIS=function(e){return JA(e)};var Gy={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(Gy);function FM(){this.buffer=[],this.length=0}FM.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var fQ=FM;function fp(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}fp.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};fp.prototype.get=function(t,e){return this.data[t*this.size+e]};fp.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};fp.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var dQ=fp,$M={};(function(t){const e=Ci.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let u=1;u<i-1;u++)a[u]=a[u-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let u=0;u<o;u++)a===0&&u===0||a===0&&u===o-1||a===o-1&&u===0||i.push([s[a],s[u]]);return i}})($M);var jM={};const pQ=Ci.getSymbolSize,cI=7;jM.getPositions=function(e){const n=pQ(e);return[[0,0],[n-cI,0],[0,n-cI]]};var UM={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,u=0,l=null,c=null;for(let h=0;h<s;h++){a=u=0,l=c=null;for(let f=0;f<s;f++){let g=i.get(h,f);g===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=g,a=1),g=i.get(f,h),g===c?u++:(u>=5&&(o+=e.N1+(u-5)),c=g,u=1)}a>=5&&(o+=e.N1+(a-5)),u>=5&&(o+=e.N1+(u-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let u=0;u<s-1;u++){const l=i.get(a,u)+i.get(a,u+1)+i.get(a+1,u)+i.get(a+1,u+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,u=0;for(let l=0;l<s;l++){a=u=0;for(let c=0;c<s;c++)a=a<<1&2047|i.get(l,c),c>=10&&(a===1488||a===93)&&o++,u=u<<1&2047|i.get(c,l),c>=10&&(u===1488||u===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let u=0;u<o;u++)s+=i.data[u];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let u=0;u<o;u++)s.isReserved(u,a)||s.xor(u,a,n(i,u,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,u=1/0;for(let l=0;l<o;l++){s(l),t.applyMask(l,i);const c=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),c<u&&(u=c,a=l)}return a}})(UM);var Ky={};const Pa=Gy,$g=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],jg=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ky.getBlocksCount=function(e,n){switch(n){case Pa.L:return $g[(e-1)*4+0];case Pa.M:return $g[(e-1)*4+1];case Pa.Q:return $g[(e-1)*4+2];case Pa.H:return $g[(e-1)*4+3];default:return}};Ky.getTotalCodewordsCount=function(e,n){switch(n){case Pa.L:return jg[(e-1)*4+0];case Pa.M:return jg[(e-1)*4+1];case Pa.Q:return jg[(e-1)*4+2];case Pa.H:return jg[(e-1)*4+3];default:return}};var VM={},Qy={};const dd=new Uint8Array(512),O1=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)dd[n]=e,O1[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)dd[n]=dd[n-255]})();Qy.log=function(e){if(e<1)throw new Error("log("+e+")");return O1[e]};Qy.exp=function(e){return dd[e]};Qy.mul=function(e,n){return e===0||n===0?0:dd[O1[e]+O1[n]]};(function(t){const e=Qy;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let u=0;u<i.length;u++)s[u]^=e.mul(i[u],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(VM);const zM=VM;function ZA(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}ZA.prototype.initialize=function(e){this.degree=e,this.genPoly=zM.generateECPolynomial(this.degree)};ZA.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=zM.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var gQ=ZA,HM={},gu={},YA={};YA.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var _o={};const WM="[0-9]+",mQ="[A-Z $%*+\\-./:]+";let b0="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";b0=b0.replace(/u/g,"\\u");const yQ="(?:(?![A-Z0-9 $%*+\\-./:]|"+b0+`)(?:.|[\r
]))+`;_o.KANJI=new RegExp(b0,"g");_o.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");_o.BYTE=new RegExp(yQ,"g");_o.NUMERIC=new RegExp(WM,"g");_o.ALPHANUMERIC=new RegExp(mQ,"g");const vQ=new RegExp("^"+b0+"$"),_Q=new RegExp("^"+WM+"$"),wQ=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");_o.testKanji=function(e){return vQ.test(e)};_o.testNumeric=function(e){return _Q.test(e)};_o.testAlphanumeric=function(e){return wQ.test(e)};(function(t){const e=YA,n=_o;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(gu);(function(t){const e=Ci,n=Ky,r=Gy,i=gu,s=YA,o=7973,a=e.getBCHDigit(o);function u(f,g,w){for(let P=1;P<=40;P++)if(g<=t.getCapacity(P,w,f))return P}function l(f,g){return i.getCharCountIndicator(f,g)+4}function c(f,g){let w=0;return f.forEach(function(P){const D=l(P.mode,g);w+=D+P.getBitsLength()}),w}function h(f,g){for(let w=1;w<=40;w++)if(c(f,w)<=t.getCapacity(w,g,i.MIXED))return w}t.from=function(g,w){return s.isValid(g)?parseInt(g,10):w},t.getCapacity=function(g,w,P){if(!s.isValid(g))throw new Error("Invalid QR Code version");typeof P>"u"&&(P=i.BYTE);const D=e.getSymbolTotalCodewords(g),E=n.getTotalCodewordsCount(g,w),_=(D-E)*8;if(P===i.MIXED)return _;const S=_-l(P,g);switch(P){case i.NUMERIC:return Math.floor(S/10*3);case i.ALPHANUMERIC:return Math.floor(S/11*2);case i.KANJI:return Math.floor(S/13);case i.BYTE:default:return Math.floor(S/8)}},t.getBestVersionForData=function(g,w){let P;const D=r.from(w,r.M);if(Array.isArray(g)){if(g.length>1)return h(g,D);if(g.length===0)return 1;P=g[0]}else P=g;return u(P.mode,P.getLength(),D)},t.getEncodedBits=function(g){if(!s.isValid(g)||g<7)throw new Error("Invalid QR Code version");let w=g<<12;for(;e.getBCHDigit(w)-a>=0;)w^=o<<e.getBCHDigit(w)-a;return g<<12|w}})(HM);var qM={};const A2=Ci,GM=1335,bQ=21522,hI=A2.getBCHDigit(GM);qM.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;A2.getBCHDigit(i)-hI>=0;)i^=GM<<A2.getBCHDigit(i)-hI;return(r<<10|i)^bQ};var KM={};const EQ=gu;function xh(t){this.mode=EQ.NUMERIC,this.data=t.toString()}xh.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};xh.prototype.getLength=function(){return this.data.length};xh.prototype.getBitsLength=function(){return xh.getBitsLength(this.data.length)};xh.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var AQ=xh;const SQ=gu,Bw=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Th(t){this.mode=SQ.ALPHANUMERIC,this.data=t}Th.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Th.prototype.getLength=function(){return this.data.length};Th.prototype.getBitsLength=function(){return Th.getBitsLength(this.data.length)};Th.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Bw.indexOf(this.data[n])*45;r+=Bw.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(Bw.indexOf(this.data[n]),6)};var CQ=Th,IQ=function(e){for(var n=[],r=e.length,i=0;i<r;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const xQ=IQ,TQ=gu;function Rh(t){this.mode=TQ.BYTE,typeof t=="string"&&(t=xQ(t)),this.data=new Uint8Array(t)}Rh.getBitsLength=function(e){return e*8};Rh.prototype.getLength=function(){return this.data.length};Rh.prototype.getBitsLength=function(){return Rh.getBitsLength(this.data.length)};Rh.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var RQ=Rh;const kQ=gu,PQ=Ci;function kh(t){this.mode=kQ.KANJI,this.data=t}kh.getBitsLength=function(e){return e*13};kh.prototype.getLength=function(){return this.data.length};kh.prototype.getBitsLength=function(){return kh.getBitsLength(this.data.length)};kh.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=PQ.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var MQ=kh,QM={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var u,l,c,h,f,g,w,P,D;!a.empty();){u=a.pop(),l=u.value,h=u.cost,f=n[l]||{};for(c in f)f.hasOwnProperty(c)&&(g=f[c],w=h+g,P=o[c],D=typeof o[c]>"u",(D||P>w)&&(o[c]=w,a.push(c,w),s[c]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var E=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(E)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(QM);var DQ=QM.exports;(function(t){const e=gu,n=AQ,r=CQ,i=RQ,s=MQ,o=_o,a=Ci,u=DQ;function l(E){return unescape(encodeURIComponent(E)).length}function c(E,_,S){const O=[];let $;for(;($=E.exec(S))!==null;)O.push({data:$[0],index:$.index,mode:_,length:$[0].length});return O}function h(E){const _=c(o.NUMERIC,e.NUMERIC,E),S=c(o.ALPHANUMERIC,e.ALPHANUMERIC,E);let O,$;return a.isKanjiModeEnabled()?(O=c(o.BYTE,e.BYTE,E),$=c(o.KANJI,e.KANJI,E)):(O=c(o.BYTE_KANJI,e.BYTE,E),$=[]),_.concat(S,O,$).sort(function(v,m){return v.index-m.index}).map(function(v){return{data:v.data,mode:v.mode,length:v.length}})}function f(E,_){switch(_){case e.NUMERIC:return n.getBitsLength(E);case e.ALPHANUMERIC:return r.getBitsLength(E);case e.KANJI:return s.getBitsLength(E);case e.BYTE:return i.getBitsLength(E)}}function g(E){return E.reduce(function(_,S){const O=_.length-1>=0?_[_.length-1]:null;return O&&O.mode===S.mode?(_[_.length-1].data+=S.data,_):(_.push(S),_)},[])}function w(E){const _=[];for(let S=0;S<E.length;S++){const O=E[S];switch(O.mode){case e.NUMERIC:_.push([O,{data:O.data,mode:e.ALPHANUMERIC,length:O.length},{data:O.data,mode:e.BYTE,length:O.length}]);break;case e.ALPHANUMERIC:_.push([O,{data:O.data,mode:e.BYTE,length:O.length}]);break;case e.KANJI:_.push([O,{data:O.data,mode:e.BYTE,length:l(O.data)}]);break;case e.BYTE:_.push([{data:O.data,mode:e.BYTE,length:l(O.data)}])}}return _}function P(E,_){const S={},O={start:{}};let $=["start"];for(let V=0;V<E.length;V++){const v=E[V],m=[];for(let b=0;b<v.length;b++){const T=v[b],B=""+V+b;m.push(B),S[B]={node:T,lastCount:0},O[B]={};for(let z=0;z<$.length;z++){const A=$[z];S[A]&&S[A].node.mode===T.mode?(O[A][B]=f(S[A].lastCount+T.length,T.mode)-f(S[A].lastCount,T.mode),S[A].lastCount+=T.length):(S[A]&&(S[A].lastCount=T.length),O[A][B]=f(T.length,T.mode)+4+e.getCharCountIndicator(T.mode,_))}}$=m}for(let V=0;V<$.length;V++)O[$[V]].end=0;return{map:O,table:S}}function D(E,_){let S;const O=e.getBestModeForData(E);if(S=e.from(_,O),S!==e.BYTE&&S.bit<O.bit)throw new Error('"'+E+'" cannot be encoded with mode '+e.toString(S)+`.
 Suggested mode is: `+e.toString(O));switch(S===e.KANJI&&!a.isKanjiModeEnabled()&&(S=e.BYTE),S){case e.NUMERIC:return new n(E);case e.ALPHANUMERIC:return new r(E);case e.KANJI:return new s(E);case e.BYTE:return new i(E)}}t.fromArray=function(_){return _.reduce(function(S,O){return typeof O=="string"?S.push(D(O,null)):O.data&&S.push(D(O.data,O.mode)),S},[])},t.fromString=function(_,S){const O=h(_,a.isKanjiModeEnabled()),$=w(O),V=P($,S),v=u.find_path(V.map,"start","end"),m=[];for(let b=1;b<v.length-1;b++)m.push(V.table[v[b]].node);return t.fromArray(g(m))},t.rawSplit=function(_){return t.fromArray(h(_,a.isKanjiModeEnabled()))}})(KM);const Jy=Ci,Fw=Gy,NQ=fQ,OQ=dQ,LQ=$M,BQ=jM,S2=UM,C2=Ky,FQ=gQ,L1=HM,$Q=qM,jQ=gu,$w=KM;function UQ(t,e){const n=t.size,r=BQ.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let u=-1;u<=7;u++)o+u<=-1||n<=o+u||(a>=0&&a<=6&&(u===0||u===6)||u>=0&&u<=6&&(a===0||a===6)||a>=2&&a<=4&&u>=2&&u<=4?t.set(s+a,o+u,!0,!0):t.set(s+a,o+u,!1,!0))}}function VQ(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function zQ(t,e){const n=LQ.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function HQ(t,e){const n=t.size,r=L1.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function jw(t,e,n){const r=t.size,i=$Q.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function WQ(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let u=0;u<2;u++)if(!t.isReserved(i,a-u)){let l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-u,l),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function qQ(t,e,n){const r=new NQ;n.forEach(function(u){r.put(u.mode.bit,4),r.put(u.getLength(),jQ.getCharCountIndicator(u.mode,t)),u.write(r)});const i=Jy.getSymbolTotalCodewords(t),s=C2.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let u=0;u<a;u++)r.put(u%2?17:236,8);return GQ(r,t,e)}function GQ(t,e,n){const r=Jy.getSymbolTotalCodewords(e),i=C2.getTotalCodewordsCount(e,n),s=r-i,o=C2.getBlocksCount(e,n),a=r%o,u=o-a,l=Math.floor(r/o),c=Math.floor(s/o),h=c+1,f=l-c,g=new FQ(f);let w=0;const P=new Array(o),D=new Array(o);let E=0;const _=new Uint8Array(t.buffer);for(let v=0;v<o;v++){const m=v<u?c:h;P[v]=_.slice(w,w+m),D[v]=g.encode(P[v]),w+=m,E=Math.max(E,m)}const S=new Uint8Array(r);let O=0,$,V;for($=0;$<E;$++)for(V=0;V<o;V++)$<P[V].length&&(S[O++]=P[V][$]);for($=0;$<f;$++)for(V=0;V<o;V++)S[O++]=D[V][$];return S}function KQ(t,e,n,r){let i;if(Array.isArray(t))i=$w.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const c=$w.rawSplit(t);l=L1.getBestVersionForData(c,n)}i=$w.fromString(t,l||40)}else throw new Error("Invalid data");const s=L1.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=qQ(e,n,i),a=Jy.getSymbolSize(e),u=new OQ(a);return UQ(u,e),VQ(u),zQ(u,e),jw(u,n,0),e>=7&&HQ(u,e),WQ(u,o),isNaN(r)&&(r=S2.getBestMask(u,jw.bind(null,u,n))),S2.applyMask(r,u),jw(u,n,r),{modules:u,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}BM.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Fw.M,i,s;return typeof n<"u"&&(r=Fw.from(n.errorCorrectionLevel,Fw.M),i=L1.from(n.version),s=S2.from(n.maskPattern),n.toSJISFunc&&Jy.setToSJISFunction(n.toSJISFunc)),KQ(e,i,r,s)};var JM={},XA={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,u=t.getScale(o,s),l=Math.floor((o+s.margin*2)*u),c=s.margin*u,h=[s.color.light,s.color.dark];for(let f=0;f<l;f++)for(let g=0;g<l;g++){let w=(f*l+g)*4,P=s.color.light;if(f>=c&&g>=c&&f<l-c&&g<l-c){const D=Math.floor((f-c)/u),E=Math.floor((g-c)/u);P=h[a[D*o+E]?1:0]}r[w++]=P.r,r[w++]=P.g,r[w++]=P.b,r[w]=P.a}}})(XA);(function(t){const e=XA;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let u=a,l=o;typeof u>"u"&&(!o||!o.getContext)&&(u=o,o=void 0),o||(l=r()),u=e.getOptions(u);const c=e.getImageWidth(s.modules.size,u),h=l.getContext("2d"),f=h.createImageData(c,c);return e.qrToImageData(f.data,s,u),n(h,l,c),h.putImageData(f,0,0),l},t.renderToDataURL=function(s,o,a){let u=a;typeof u>"u"&&(!o||!o.getContext)&&(u=o,o=void 0),u||(u={});const l=t.render(s,o,u),c=u.type||"image/png",h=u.rendererOpts||{};return l.toDataURL(c,h.quality)}})(JM);var ZM={};const QQ=XA;function fI(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Uw(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function JQ(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const u=Math.floor(a%e),l=Math.floor(a/e);!u&&!s&&(s=!0),t[a]?(o++,a>0&&u>0&&t[a-1]||(r+=s?Uw("M",u+n,.5+l+n):Uw("m",i,0),i=0,s=!1),u+1<e&&t[a+1]||(r+=Uw("h",o),o=0)):i++}return r}ZM.render=function(e,n,r){const i=QQ.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,u=i.color.light.a?"<path "+fI(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+fI(i.color.dark,"stroke")+' d="'+JQ(o,s,i.margin)+'"/>',c='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+c+' shape-rendering="crispEdges">'+u+l+`</svg>
`;return typeof r=="function"&&r(null,f),f};const ZQ=cQ,I2=BM,YM=JM,YQ=ZM;function eS(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!ZQ())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(u,l){try{const c=I2.create(n,r);u(t(c,e,r))}catch(c){l(c)}})}try{const u=I2.create(n,r);i(null,t(u,e,r))}catch(u){i(u)}}qy.create=I2.create;qy.toCanvas=eS.bind(null,YM.render);qy.toDataURL=eS.bind(null,YM.renderToDataURL);qy.toString=eS.bind(null,function(t,e,n){return YQ.render(t,n)});var XQ="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const dI=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),pI=4;function eJ(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let $=1;$<r;$++)s.push(i+=n());let o=n(),a=e;e+=o;let u=0,l=0;function c(){return u==0&&(l=l<<8|t[e++],u=8),l>>--u&1}const h=31,f=2**h,g=f>>>1,w=g>>1,P=f-1;let D=0;for(let $=0;$<h;$++)D=D<<1|c();let E=[],_=0,S=f;for(;;){let $=Math.floor(((D-_+1)*i-1)/S),V=0,v=r;for(;v-V>1;){let T=V+v>>>1;$<s[T]?v=T:V=T}if(V==0)break;E.push(V);let m=_+Math.floor(S*s[V]/i),b=_+Math.floor(S*s[V+1]/i)-1;for(;!((m^b)&g);)D=D<<1&P|c(),m=m<<1&P,b=b<<1&P|1;for(;m&~b&w;)D=D&g|D<<1&P>>>1|c(),m=m<<1^g,b=(b^g)<<1|g|1;_=m,S=1+b-m}let O=r-4;return E.map($=>{switch($-O){case 3:return O+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return O+256+(t[a++]<<8|t[a++]);case 1:return O+t[a++];default:return $-1}})}function tJ(t){let e=0;return()=>t[e++]}function XM(t){return tJ(eJ(nJ(t)))}function nJ(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function rJ(t){return t&1?~t>>1:t>>1}function iJ(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=rJ(e());return n}function E0(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function eD(t){return A0(()=>{let e=E0(t);if(e.length)return e})}function tD(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(sJ(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(oJ(n,t))}return e.flat()}function A0(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function nD(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)iJ(t,n).forEach((s,o)=>r[o].push(s));return r}function sJ(t,e){let n=1+e(),r=e(),i=A0(e);return nD(i.length,1+t,e).flatMap((o,a)=>{let[u,...l]=o;return Array(i[a]).fill().map((c,h)=>{let f=h*r;return[u+h*n,l.map(g=>g+f)]})})}function oJ(t,e){let n=1+e();return nD(n,1+t,e).map(i=>[i[0],i.slice(1)])}function aJ(t){let e=[],n=E0(t);return i(r([]),[]),e;function r(s){let o=t(),a=A0(()=>{let u=E0(t).map(l=>n[l]);if(u.length)return r(u)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,u){if(!(s&4&&u===a[a.length-1])){s&2&&(u=a[a.length-1]),s&1&&e.push(a);for(let l of o)for(let c of l.Q)i(l,[...a,c],u)}}}function uJ(t){return t.toString(16).toUpperCase().padStart(2,"0")}function rD(t){return`{${uJ(t)}}`}function lJ(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function Ph(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function cJ(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var hJ="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const S0=44032,B1=4352,F1=4449,$1=4519,iD=19,sD=21,Mh=28,j1=sD*Mh,fJ=iD*j1,dJ=S0+fJ,pJ=B1+iD,gJ=F1+sD,mJ=$1+Mh;function Yf(t){return t>>24&255}function oD(t){return t&16777215}let x2,gI,T2,Dm;function yJ(){let t=XM(hJ);x2=new Map(eD(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),gI=new Set(E0(t)),T2=new Map,Dm=new Map;for(let[e,n]of tD(t)){if(!gI.has(e)&&n.length==2){let[r,i]=n,s=Dm.get(r);s||(s=new Map,Dm.set(r,s)),s.set(i,e)}T2.set(e,n.reverse())}}function aD(t){return t>=S0&&t<dJ}function vJ(t,e){if(t>=B1&&t<pJ&&e>=F1&&e<gJ)return S0+(t-B1)*j1+(e-F1)*Mh;if(aD(t)&&e>$1&&e<mJ&&(t-S0)%Mh==0)return t+(e-$1);{let n=Dm.get(t);return n&&(n=n.get(e),n)?n:-1}}function uD(t){x2||yJ();let e=[],n=[],r=!1;function i(s){let o=x2.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(aD(s)){let o=s-S0,a=o/j1|0,u=o%j1/Mh|0,l=o%Mh;i(B1+a),i(F1+u),l>0&&i($1+l)}else{let o=T2.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=Yf(e[0]);for(let o=1;o<e.length;o++){let a=Yf(e[o]);if(a==0||s<=a){s=a;continue}let u=o-1;for(;;){let l=e[u+1];if(e[u+1]=e[u],e[u]=l,!u||(s=Yf(e[--u]),s<=a))break}s=Yf(e[o])}}return e}function _J(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=Yf(s),a=oD(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let u=vJ(r,a);u>=0?r=u:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function lD(t){return uD(t).map(oD)}function wJ(t){return _J(uD(t))}const mI=45,cD=".",hD=65039,fD=1,Oc=t=>Array.from(t);function C0(t,e){return t.P.has(e)||t.Q.has(e)}class bJ extends Array{get is_emoji(){return!0}}let R2,dD,Ku,k2,pD,Qc,Vw,mc,gD,yI,P2;function tS(){if(R2)return;let t=XM(XQ);const e=()=>E0(t),n=()=>new Set(e());R2=new Map(tD(t)),dD=n(),Ku=e(),k2=new Set(e().map(c=>Ku[c])),Ku=new Set(Ku),pD=n(),n();let r=eD(t),i=t();const s=()=>new Set(e().flatMap(c=>r[c]).concat(e()));Qc=A0(c=>{let h=A0(t).map(f=>f+96);if(h.length){let f=c>=i;h[0]-=32,h=Ph(h),f&&(h=`Restricted[${h}]`);let g=s(),w=s(),P=!t();return{N:h,P:g,Q:w,M:P,R:f}}}),Vw=n(),mc=new Map;let o=e().concat(Oc(Vw)).sort((c,h)=>c-h);o.forEach((c,h)=>{let f=t(),g=o[h]=f?o[h-f]:{V:[],M:new Map};g.V.push(c),Vw.has(c)||mc.set(c,g)});for(let{V:c,M:h}of new Set(mc.values())){let f=[];for(let w of c){let P=Qc.filter(E=>C0(E,w)),D=f.find(({G:E})=>P.some(_=>E.has(_)));D||(D={G:new Set,V:[]},f.push(D)),D.V.push(w),P.forEach(E=>D.G.add(E))}let g=f.flatMap(w=>Oc(w.G));for(let{G:w,V:P}of f){let D=new Set(g.filter(E=>!w.has(E)));for(let E of P)h.set(E,D)}}let a=new Set,u=new Set;const l=c=>a.has(c)?u.add(c):a.add(c);for(let c of Qc){for(let h of c.P)l(h);for(let h of c.Q)l(h)}for(let c of a)!mc.has(c)&&!u.has(c)&&mc.set(c,fD);gD=new Set(Oc(a).concat(Oc(lD(a)))),yI=aJ(t).map(c=>bJ.from(c)).sort(cJ),P2=new Map;for(let c of yI){let h=[P2];for(let f of c){let g=h.map(w=>{let P=w.get(f);return P||(P=new Map,w.set(f,P)),P});f===hD?h.push(...g):h=g}for(let f of h)f.V=c}}function nS(t){return(mD(t)?"":`${rS(Zy([t]))} `)+rD(t)}function rS(t){return`"${t}"‎`}function EJ(t){if(t.length>=4&&t[2]==mI&&t[3]==mI)throw new Error(`invalid label extension: "${Ph(t.slice(0,4))}"`)}function AJ(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function SJ(t){let e=t[0],n=dI.get(e);if(n)throw pd(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=dI.get(e);if(o){if(i==s)throw pd(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw pd(`trailing ${n}`)}function Zy(t,e=rD){let n=[];CJ(t[0])&&n.push("◌");let r=0,i=t.length;for(let s=0;s<i;s++){let o=t[s];mD(o)&&(n.push(Ph(t.slice(r,s))),n.push(e(o)),r=s+1)}return n.push(Ph(t.slice(r,i))),n.join("")}function CJ(t){return tS(),Ku.has(t)}function mD(t){return tS(),pD.has(t)}function IJ(t){return kJ(xJ(t,wJ,DJ))}function xJ(t,e,n){if(!t)return[];tS();let r=0;return t.split(cD).map(i=>{let s=lJ(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=MJ(s,e,n),u=a.length,l;if(!u)throw new Error("empty label");let c=o.output=a.flat();if(AJ(c),!(o.emoji=u>1||a[0].is_emoji)&&c.every(f=>f<128))EJ(c),l="ASCII";else{let f=a.flatMap(g=>g.is_emoji?[]:g);if(!f.length)l="Emoji";else{if(Ku.has(c[0]))throw pd("leading combining mark");for(let P=1;P<u;P++){let D=a[P];if(!D.is_emoji&&Ku.has(D[0]))throw pd(`emoji + combining mark: "${Ph(a[P-1])} + ${Zy([D[0]])}"`)}SJ(c);let g=Oc(new Set(f)),[w]=RJ(g);PJ(w,f),TJ(w,g),l=w.N}}o.type=l}catch(a){o.error=a}return o})}function TJ(t,e){let n,r=[];for(let i of e){let s=mc.get(i);if(s===fD)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):Oc(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>C0(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function RJ(t){let e=Qc;for(let n of t){let r=e.filter(i=>C0(i,n));if(!r.length)throw Qc.some(i=>C0(i,n))?vD(e[0],n):yD(n);if(e=r,r.length==1)break}return e}function kJ(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${rS(Zy(e))}: ${i}`)}return Ph(r)}).join(cD)}function yD(t){return new Error(`disallowed character: ${nS(t)}`)}function vD(t,e){let n=nS(e),r=Qc.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function pd(t){return new Error(`illegal placement: ${t}`)}function PJ(t,e){for(let n of e)if(!C0(t,n))throw vD(t,n);if(t.M){let n=lD(e);for(let r=1,i=n.length;r<i;r++)if(k2.has(n[r])){let s=r+1;for(let o;s<i&&k2.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${nS(o)}`);if(s-r>pI)throw new Error(`excessive non-spacing marks: ${rS(Zy(n.slice(r-1,s)))} (${s-r}/${pI})`);r=s}}}function MJ(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=NJ(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(gD.has(o))i.push(o);else{let a=R2.get(o);if(a)i.push(...a);else if(!dD.has(o))throw yD(o)}}}return i.length&&r.push(e(i)),r}function DJ(t){return t.filter(e=>e!=hD)}function NJ(t,e){let n=P2,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,t.length=i)}return r}function Lye(t){return IJ(t)}var _D={exports:{}},wD={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy=De,OJ=rK;function LJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var BJ=typeof Object.is=="function"?Object.is:LJ,FJ=OJ.useSyncExternalStore,$J=Yy.useRef,jJ=Yy.useEffect,UJ=Yy.useMemo,VJ=Yy.useDebugValue;wD.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=$J(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=UJ(function(){function u(g){if(!l){if(l=!0,c=g,g=r(g),i!==void 0&&o.hasValue){var w=o.value;if(i(w,g))return h=w}return h=g}if(w=h,BJ(c,g))return w;var P=r(g);return i!==void 0&&i(w,P)?w:(c=g,h=P)}var l=!1,c,h,f=n===void 0?null:n;return[function(){return u(e())},f===null?void 0:function(){return u(f())}]},[e,n,r,i]);var a=FJ(t,s[0],s[1]);return jJ(function(){o.hasValue=!0,o.value=a},[a]),VJ(a),a};_D.exports=wD;var Bye=_D.exports,dp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xy=typeof window>"u"||"Deno"in globalThis;function ms(){}function zJ(t,e){return typeof t=="function"?t(e):t}function HJ(t){return typeof t=="number"&&t>=0&&t!==1/0}function WJ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vI(t,e){return typeof t=="function"?t(e):t}function qJ(t,e){return typeof t=="function"?t(e):t}function _I(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==iS(o,e.options))return!1}else if(!I0(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function wI(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Al(e.options.mutationKey)!==Al(s))return!1}else if(!I0(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function iS(t,e){return((e==null?void 0:e.queryKeyHashFn)||Al)(t)}function Al(t){return JSON.stringify(t,(e,n)=>M2(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function I0(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!I0(t[n],e[n])):!1}function bD(t,e){if(t===e)return t;const n=bI(t)&&bI(e);if(n||M2(t)&&M2(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let u=0;for(let l=0;l<o;l++){const c=n?l:s[l];(!n&&r.includes(c)||n)&&t[c]===void 0&&e[c]===void 0?(a[c]=void 0,u++):(a[c]=bD(t[c],e[c]),a[c]===t[c]&&t[c]!==void 0&&u++)}return i===o&&u===i?t:a}return e}function GJ(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function bI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function M2(t){if(!EI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!EI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function EI(t){return Object.prototype.toString.call(t)==="[object Object]"}function KJ(t){return new Promise(e=>{setTimeout(e,t)})}function QJ(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?bD(t,e):e}function JJ(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function ZJ(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ED=Symbol(),AD=(t,e)=>!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ED?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn,el,Ea,rh,dR,YJ=(dR=class extends dp{constructor(){super();Ct(this,el);Ct(this,Ea);Ct(this,rh);st(this,rh,e=>{if(!Xy&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){fe(this,Ea)||this.setEventListener(fe(this,rh))}onUnsubscribe(){var e;this.hasListeners()||((e=fe(this,Ea))==null||e.call(this),st(this,Ea,void 0))}setEventListener(e){var n;st(this,rh,e),(n=fe(this,Ea))==null||n.call(this),st(this,Ea,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){fe(this,el)!==e&&(st(this,el,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof fe(this,el)=="boolean"?fe(this,el):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},el=new WeakMap,Ea=new WeakMap,rh=new WeakMap,dR),SD=new YJ,ih,Aa,sh,pR,XJ=(pR=class extends dp{constructor(){super();Ct(this,ih,!0);Ct(this,Aa);Ct(this,sh);st(this,sh,e=>{if(!Xy&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){fe(this,Aa)||this.setEventListener(fe(this,sh))}onUnsubscribe(){var e;this.hasListeners()||((e=fe(this,Aa))==null||e.call(this),st(this,Aa,void 0))}setEventListener(e){var n;st(this,sh,e),(n=fe(this,Aa))==null||n.call(this),st(this,Aa,e(this.setOnline.bind(this)))}setOnline(e){fe(this,ih)!==e&&(st(this,ih,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return fe(this,ih)}},ih=new WeakMap,Aa=new WeakMap,sh=new WeakMap,pR),U1=new XJ;function eZ(t){return Math.min(1e3*2**t,3e4)}function CD(t){return(t??"online")==="online"?U1.isOnline():!0}var ID=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function zw(t){return t instanceof ID}function xD(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((E,_)=>{s=E,o=_}),u=E=>{var _;r||(w(new ID(E)),(_=t.abort)==null||_.call(t))},l=()=>{e=!0},c=()=>{e=!1},h=()=>SD.isFocused()&&(t.networkMode==="always"||U1.isOnline())&&t.canRun(),f=()=>CD(t.networkMode)&&t.canRun(),g=E=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,E),i==null||i(),s(E))},w=E=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,E),i==null||i(),o(E))},P=()=>new Promise(E=>{var _;i=S=>{(r||h())&&E(S)},(_=t.onPause)==null||_.call(t)}).then(()=>{var E;i=void 0,r||(E=t.onContinue)==null||E.call(t)}),D=()=>{if(r)return;let E;const _=n===0?t.initialPromise:void 0;try{E=_??t.fn()}catch(S){E=Promise.reject(S)}Promise.resolve(E).then(g).catch(S=>{var m;if(r)return;const O=t.retry??(Xy?0:3),$=t.retryDelay??eZ,V=typeof $=="function"?$(n,S):$,v=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,S);if(e||!v){w(S);return}n++,(m=t.onFail)==null||m.call(t,n,S),KJ(V).then(()=>h()?void 0:P()).then(()=>{e?w(S):D()})})};return{promise:a,cancel:u,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?D():P().then(D),a)}}function tZ(){let t=[],e=0,n=f=>{f()},r=f=>{f()},i=f=>setTimeout(f,0);const s=f=>{i=f},o=f=>{let g;e++;try{g=f()}finally{e--,e||l()}return g},a=f=>{e?t.push(f):i(()=>{n(f)})},u=f=>(...g)=>{a(()=>{f(...g)})},l=()=>{const f=t;t=[],f.length&&i(()=>{r(()=>{f.forEach(g=>{n(g)})})})};return{batch:o,batchCalls:u,schedule:a,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f},setScheduler:s}}var ur=tZ(),tl,gR,TD=(gR=class{constructor(){Ct(this,tl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),HJ(this.gcTime)&&st(this,tl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Xy?1/0:5*60*1e3))}clearGcTimeout(){fe(this,tl)&&(clearTimeout(fe(this,tl)),st(this,tl,void 0))}},tl=new WeakMap,gR),oh,ah,Ui,Ar,K0,nl,ys,To,mR,nZ=(mR=class extends TD{constructor(n){super();Ct(this,ys);Ct(this,oh);Ct(this,ah);Ct(this,Ui);Ct(this,Ar);Ct(this,K0);Ct(this,nl);st(this,nl,!1),st(this,K0,n.defaultOptions),this.setOptions(n.options),this.observers=[],st(this,Ui,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,st(this,oh,n.state||iZ(this.options)),this.state=fe(this,oh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=fe(this,Ar))==null?void 0:n.promise}setOptions(n){this.options={...fe(this,K0),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&fe(this,Ui).remove(this)}setData(n,r){const i=QJ(this.state.data,n,this.options);return Sn(this,ys,To).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Sn(this,ys,To).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=fe(this,Ar))==null?void 0:i.promise;return(s=fe(this,Ar))==null||s.cancel(n),r?r.then(ms).catch(ms):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(fe(this,oh))}isActive(){return this.observers.some(n=>qJ(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!WJ(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=fe(this,Ar))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=fe(this,Ar))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),fe(this,Ui).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(fe(this,Ar)&&(fe(this,nl)?fe(this,Ar).cancel({revert:!0}):fe(this,Ar).cancelRetry()),this.scheduleGc()),fe(this,Ui).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Sn(this,ys,To).call(this,{type:"invalidate"})}fetch(n,r){var l,c,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(fe(this,Ar))return fe(this,Ar).continueRetry(),fe(this,Ar).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(g=>g.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(st(this,nl,!0),i.signal)})},o=()=>{const f=AD(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return s(g),st(this,nl,!1),this.options.persister?this.options.persister(f,g,this):f(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(l=this.options.behavior)==null||l.onFetch(a,this),st(this,ah,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&Sn(this,ys,To).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const u=f=>{var g,w,P,D;zw(f)&&f.silent||Sn(this,ys,To).call(this,{type:"error",error:f}),zw(f)||((w=(g=fe(this,Ui).config).onError)==null||w.call(g,f,this),(D=(P=fe(this,Ui).config).onSettled)==null||D.call(P,this.state.data,f,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return st(this,Ar,xD({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var g,w,P,D;if(f===void 0){u(new Error(`${this.queryHash} data is undefined`));return}this.setData(f),(w=(g=fe(this,Ui).config).onSuccess)==null||w.call(g,f,this),(D=(P=fe(this,Ui).config).onSettled)==null||D.call(P,f,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:u,onFail:(f,g)=>{Sn(this,ys,To).call(this,{type:"failed",failureCount:f,error:g})},onPause:()=>{Sn(this,ys,To).call(this,{type:"pause"})},onContinue:()=>{Sn(this,ys,To).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),fe(this,Ar).start()}},oh=new WeakMap,ah=new WeakMap,Ui=new WeakMap,Ar=new WeakMap,K0=new WeakMap,nl=new WeakMap,ys=new WeakSet,To=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...rZ(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return zw(s)&&s.revert&&fe(this,ah)?{...fe(this,ah),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),ur.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),fe(this,Ui).notify({query:this,type:"updated",action:n})})},mR);function rZ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function iZ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Js,yR,sZ=(yR=class extends dp{constructor(e={}){super();Ct(this,Js);this.config=e,st(this,Js,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??iS(i,n);let o=this.get(s);return o||(o=new nZ({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){fe(this,Js).has(e.queryHash)||(fe(this,Js).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=fe(this,Js).get(e.queryHash);n&&(e.destroy(),n===e&&fe(this,Js).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ur.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return fe(this,Js).get(e)}getAll(){return[...fe(this,Js).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>_I(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>_I(e,r)):n}notify(e){ur.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ur.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ur.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Js=new WeakMap,yR),Zs,Or,rl,Ys,da,vR,oZ=(vR=class extends TD{constructor(n){super();Ct(this,Ys);Ct(this,Zs);Ct(this,Or);Ct(this,rl);this.mutationId=n.mutationId,st(this,Or,n.mutationCache),st(this,Zs,[]),this.state=n.state||RD(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){fe(this,Zs).includes(n)||(fe(this,Zs).push(n),this.clearGcTimeout(),fe(this,Or).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){st(this,Zs,fe(this,Zs).filter(r=>r!==n)),this.scheduleGc(),fe(this,Or).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){fe(this,Zs).length||(this.state.status==="pending"?this.scheduleGc():fe(this,Or).remove(this))}continue(){var n;return((n=fe(this,rl))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,u,l,c,h,f,g,w,P,D,E,_,S,O,$,V,v,m;st(this,rl,xD({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(b,T)=>{Sn(this,Ys,da).call(this,{type:"failed",failureCount:b,error:T})},onPause:()=>{Sn(this,Ys,da).call(this,{type:"pause"})},onContinue:()=>{Sn(this,Ys,da).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>fe(this,Or).canRun(this)}));const r=this.state.status==="pending",i=!fe(this,rl).canStart();try{if(!r){Sn(this,Ys,da).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=fe(this,Or).config).onMutate)==null?void 0:o.call(s,n,this));const T=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,n));T!==this.state.context&&Sn(this,Ys,da).call(this,{type:"pending",context:T,variables:n,isPaused:i})}const b=await fe(this,rl).start();return await((c=(l=fe(this,Or).config).onSuccess)==null?void 0:c.call(l,b,n,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,b,n,this.state.context)),await((w=(g=fe(this,Or).config).onSettled)==null?void 0:w.call(g,b,null,this.state.variables,this.state.context,this)),await((D=(P=this.options).onSettled)==null?void 0:D.call(P,b,null,n,this.state.context)),Sn(this,Ys,da).call(this,{type:"success",data:b}),b}catch(b){try{throw await((_=(E=fe(this,Or).config).onError)==null?void 0:_.call(E,b,n,this.state.context,this)),await((O=(S=this.options).onError)==null?void 0:O.call(S,b,n,this.state.context)),await((V=($=fe(this,Or).config).onSettled)==null?void 0:V.call($,void 0,b,this.state.variables,this.state.context,this)),await((m=(v=this.options).onSettled)==null?void 0:m.call(v,void 0,b,n,this.state.context)),b}finally{Sn(this,Ys,da).call(this,{type:"error",error:b})}}finally{fe(this,Or).runNext(this)}}},Zs=new WeakMap,Or=new WeakMap,rl=new WeakMap,Ys=new WeakSet,da=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ur.batch(()=>{fe(this,Zs).forEach(i=>{i.onMutationUpdate(n)}),fe(this,Or).notify({mutation:this,type:"updated",action:n})})},vR);function RD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fi,Q0,_R,aZ=(_R=class extends dp{constructor(e={}){super();Ct(this,fi);Ct(this,Q0);this.config=e,st(this,fi,new Map),st(this,Q0,Date.now())}build(e,n,r){const i=new oZ({mutationCache:this,mutationId:++fg(this,Q0)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Ug(e),r=fe(this,fi).get(n)??[];r.push(e),fe(this,fi).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Ug(e);if(fe(this,fi).has(n)){const i=(r=fe(this,fi).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?fe(this,fi).delete(n):fe(this,fi).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=fe(this,fi).get(Ug(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=fe(this,fi).get(Ug(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ur.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...fe(this,fi).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>wI(n,r))}findAll(e={}){return this.getAll().filter(n=>wI(e,n))}notify(e){ur.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ur.batch(()=>Promise.all(e.map(n=>n.continue().catch(ms))))}},fi=new WeakMap,Q0=new WeakMap,_R);function Ug(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function uZ(t){return{onFetch:(e,n)=>{const r=async()=>{var w,P,D,E,_;const i=e.options,s=(D=(P=(w=e.fetchOptions)==null?void 0:w.meta)==null?void 0:P.fetchMore)==null?void 0:D.direction,o=((E=e.state.data)==null?void 0:E.pages)||[],a=((_=e.state.data)==null?void 0:_.pageParams)||[],u={pages:[],pageParams:[]};let l=!1;const c=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?l=!0:e.signal.addEventListener("abort",()=>{l=!0}),e.signal)})},h=AD(e.options,e.fetchOptions),f=async(S,O,$)=>{if(l)return Promise.reject();if(O==null&&S.pages.length)return Promise.resolve(S);const V={queryKey:e.queryKey,pageParam:O,direction:$?"backward":"forward",meta:e.options.meta};c(V);const v=await h(V),{maxPages:m}=e.options,b=$?ZJ:JJ;return{pages:b(S.pages,v,m),pageParams:b(S.pageParams,O,m)}};let g;if(s&&o.length){const S=s==="backward",O=S?lZ:AI,$={pages:o,pageParams:a},V=O(i,$);g=await f($,V,S)}else{g=await f(u,a[0]??i.initialPageParam);const S=t??o.length;for(let O=1;O<S;O++){const $=AI(i,g);g=await f(g,$)}}return g};e.options.persister?e.fetchFn=()=>{var i,s;return(s=(i=e.options).persister)==null?void 0:s.call(i,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function AI(t,{pages:e,pageParams:n}){const r=e.length-1;return t.getNextPageParam(e[r],e,n[r],n)}function lZ(t,{pages:e,pageParams:n}){var r;return(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n)}var bn,Sa,Ca,uh,lh,Ia,ch,hh,wR,jye=(wR=class{constructor(t={}){Ct(this,bn);Ct(this,Sa);Ct(this,Ca);Ct(this,uh);Ct(this,lh);Ct(this,Ia);Ct(this,ch);Ct(this,hh);st(this,bn,t.queryCache||new sZ),st(this,Sa,t.mutationCache||new aZ),st(this,Ca,t.defaultOptions||{}),st(this,uh,new Map),st(this,lh,new Map),st(this,Ia,0)}mount(){fg(this,Ia)._++,fe(this,Ia)===1&&(st(this,ch,SD.subscribe(async t=>{t&&(await this.resumePausedMutations(),fe(this,bn).onFocus())})),st(this,hh,U1.subscribe(async t=>{t&&(await this.resumePausedMutations(),fe(this,bn).onOnline())})))}unmount(){var t,e;fg(this,Ia)._--,fe(this,Ia)===0&&((t=fe(this,ch))==null||t.call(this),st(this,ch,void 0),(e=fe(this,hh))==null||e.call(this),st(this,hh,void 0))}isFetching(t){return fe(this,bn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return fe(this,Sa).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=fe(this,bn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=fe(this,bn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(vI(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return fe(this,bn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=fe(this,bn).get(r.queryHash),s=i==null?void 0:i.state.data,o=zJ(e,s);if(o!==void 0)return fe(this,bn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ur.batch(()=>fe(this,bn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=fe(this,bn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=fe(this,bn);ur.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=fe(this,bn),r={type:"active",...t};return ur.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=ur.batch(()=>fe(this,bn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ms).catch(ms)}invalidateQueries(t={},e={}){return ur.batch(()=>{if(fe(this,bn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=ur.batch(()=>fe(this,bn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(ms)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(ms)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=fe(this,bn).build(this,e);return n.isStaleByTime(vI(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ms).catch(ms)}fetchInfiniteQuery(t){return t.behavior=uZ(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ms).catch(ms)}resumePausedMutations(){return U1.isOnline()?fe(this,Sa).resumePausedMutations():Promise.resolve()}getQueryCache(){return fe(this,bn)}getMutationCache(){return fe(this,Sa)}getDefaultOptions(){return fe(this,Ca)}setDefaultOptions(t){st(this,Ca,t)}setQueryDefaults(t,e){fe(this,uh).set(Al(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...fe(this,uh).values()];let n={};return e.forEach(r=>{I0(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){fe(this,lh).set(Al(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...fe(this,lh).values()];let n={};return e.forEach(r=>{I0(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...fe(this,Ca).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=iS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===ED&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...fe(this,Ca).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){fe(this,bn).clear(),fe(this,Sa).clear()}},bn=new WeakMap,Sa=new WeakMap,Ca=new WeakMap,uh=new WeakMap,lh=new WeakMap,Ia=new WeakMap,ch=new WeakMap,hh=new WeakMap,wR),xa,Ta,Jr,Do,Uo,Nm,D2,bR,cZ=(bR=class extends dp{constructor(e,n){super();Ct(this,Uo);Ct(this,xa);Ct(this,Ta);Ct(this,Jr);Ct(this,Do);st(this,xa,e),this.setOptions(n),this.bindMethods(),Sn(this,Uo,Nm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const n=this.options;this.options=fe(this,xa).defaultMutationOptions(e),GJ(this.options,n)||fe(this,xa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:fe(this,Jr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Al(n.mutationKey)!==Al(this.options.mutationKey)?this.reset():((r=fe(this,Jr))==null?void 0:r.state.status)==="pending"&&fe(this,Jr).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=fe(this,Jr))==null||e.removeObserver(this)}onMutationUpdate(e){Sn(this,Uo,Nm).call(this),Sn(this,Uo,D2).call(this,e)}getCurrentResult(){return fe(this,Ta)}reset(){var e;(e=fe(this,Jr))==null||e.removeObserver(this),st(this,Jr,void 0),Sn(this,Uo,Nm).call(this),Sn(this,Uo,D2).call(this)}mutate(e,n){var r;return st(this,Do,n),(r=fe(this,Jr))==null||r.removeObserver(this),st(this,Jr,fe(this,xa).getMutationCache().build(fe(this,xa),this.options)),fe(this,Jr).addObserver(this),fe(this,Jr).execute(e)}},xa=new WeakMap,Ta=new WeakMap,Jr=new WeakMap,Do=new WeakMap,Uo=new WeakSet,Nm=function(){var n;const e=((n=fe(this,Jr))==null?void 0:n.state)??RD();st(this,Ta,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},D2=function(e){ur.batch(()=>{var n,r,i,s,o,a,u,l;if(fe(this,Do)&&this.hasListeners()){const c=fe(this,Ta).variables,h=fe(this,Ta).context;(e==null?void 0:e.type)==="success"?((r=(n=fe(this,Do)).onSuccess)==null||r.call(n,e.data,c,h),(s=(i=fe(this,Do)).onSettled)==null||s.call(i,e.data,null,c,h)):(e==null?void 0:e.type)==="error"&&((a=(o=fe(this,Do)).onError)==null||a.call(o,e.error,c,h),(l=(u=fe(this,Do)).onSettled)==null||l.call(u,void 0,e.error,c,h))}this.listeners.forEach(c=>{c(fe(this,Ta))})})},bR),kD=De.createContext(void 0),hZ=t=>{const e=De.useContext(kD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Uye=({client:t,children:e})=>(De.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),aF.jsx(kD.Provider,{value:t,children:e}));function fZ(t,e){return typeof t=="function"?t(...e):!!t}function dZ(){}function Vye(t,e){const n=hZ(),[r]=De.useState(()=>new cZ(n,t));De.useEffect(()=>{r.setOptions(t)},[r,t]);const i=De.useSyncExternalStore(De.useCallback(o=>r.subscribe(ur.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=De.useCallback((o,a)=>{r.mutate(o,a).catch(dZ)},[r]);if(i.error&&fZ(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x0.apply(this,arguments)}var Ma;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ma||(Ma={}));const SI="popstate";function pZ(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return N2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:MD(i)}return mZ(e,n,null,t)}function Dn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PD(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gZ(){return Math.random().toString(36).substr(2,8)}function CI(t,e){return{usr:t.state,key:t.key,idx:e}}function N2(t,e,n,r){return n===void 0&&(n=null),x0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?af(e):e,{state:n,key:e&&e.key||r||gZ()})}function MD(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function af(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mZ(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ma.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(x0({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Ma.Pop;let D=c(),E=D==null?null:D-l;l=D,u&&u({action:a,location:P.location,delta:E})}function f(D,E){a=Ma.Push;let _=N2(P.location,D,E);l=c()+1;let S=CI(_,l),O=P.createHref(_);try{o.pushState(S,"",O)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(O)}s&&u&&u({action:a,location:P.location,delta:1})}function g(D,E){a=Ma.Replace;let _=N2(P.location,D,E);l=c();let S=CI(_,l),O=P.createHref(_);o.replaceState(S,"",O),s&&u&&u({action:a,location:P.location,delta:0})}function w(D){let E=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof D=="string"?D:MD(D);return _=_.replace(/ $/,"%20"),Dn(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let P={get action(){return a},get location(){return t(i,o)},listen(D){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(SI,h),u=D,()=>{i.removeEventListener(SI,h),u=null}},createHref(D){return e(i,D)},createURL:w,encodeLocation(D){let E=w(D);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:g,go(D){return o.go(D)}};return P}var II;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(II||(II={}));function yZ(t,e,n){return n===void 0&&(n="/"),vZ(t,e,n,!1)}function vZ(t,e,n,r){let i=typeof e=="string"?af(e):e,s=OD(i.pathname||"/",n);if(s==null)return null;let o=DD(t);_Z(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let l=kZ(s);a=TZ(o[u],l,r)}return a}function DD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Dn(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=ll([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(Dn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),DD(s.children,e,c,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:IZ(l,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of ND(s.path))i(s,o,u)}),e}function ND(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ND(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function _Z(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wZ=/^:[\w-]+$/,bZ=3,EZ=2,AZ=1,SZ=10,CZ=-2,xI=t=>t==="*";function IZ(t,e){let n=t.split("/"),r=n.length;return n.some(xI)&&(r+=CZ),e&&(r+=EZ),n.filter(i=>!xI(i)).reduce((i,s)=>i+(wZ.test(s)?bZ:s===""?AZ:SZ),r)}function xZ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function TZ(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],l=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=TI({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},c),f=u.route;if(!h&&l&&n&&!r[r.length-1].route.index&&(h=TI({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ll([s,h.pathname]),pathnameBase:NZ(ll([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=ll([s,h.pathnameBase]))}return o}function TI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=RZ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,h)=>{let{paramName:f,isOptional:g}=c;if(f==="*"){let P=a[h]||"";o=s.slice(0,s.length-P.length).replace(/(.)\/+$/,"$1")}const w=a[h];return g&&!w?l[f]=void 0:l[f]=(w||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:t}}function RZ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),PD(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return PD(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function OD(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PZ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?af(t):t;return{pathname:n?n.startsWith("/")?n:MZ(n,e):e,search:OZ(r),hash:LZ(i)}}function MZ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DZ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LD(t,e){let n=DZ(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function BD(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=af(t):(i=x0({},t),Dn(!i.pathname||!i.pathname.includes("?"),Hw("?","pathname","search",i)),Dn(!i.pathname||!i.pathname.includes("#"),Hw("#","pathname","hash",i)),Dn(!i.search||!i.search.includes("#"),Hw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let u=PZ(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const ll=t=>t.join("/").replace(/\/\/+/g,"/"),NZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const FD=["post","put","patch","delete"];new Set(FD);const FZ=["get",...FD];new Set(FZ);/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T0.apply(this,arguments)}const sS=De.createContext(null),$Z=De.createContext(null),pp=De.createContext(null),ev=De.createContext(null),$l=De.createContext({outlet:null,matches:[],isDataRoute:!1}),$D=De.createContext(null);function gp(){return De.useContext(ev)!=null}function oS(){return gp()||Dn(!1),De.useContext(ev).location}function jD(t){De.useContext(pp).static||De.useLayoutEffect(t)}function jZ(){let{isDataRoute:t}=De.useContext($l);return t?XZ():UZ()}function UZ(){gp()||Dn(!1);let t=De.useContext(sS),{basename:e,future:n,navigator:r}=De.useContext(pp),{matches:i}=De.useContext($l),{pathname:s}=oS(),o=JSON.stringify(LD(i,n.v7_relativeSplatPath)),a=De.useRef(!1);return jD(()=>{a.current=!0}),De.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let h=BD(l,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ll([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,o,s,t])}function VZ(t,e){return zZ(t,e)}function zZ(t,e,n,r){gp()||Dn(!1);let{navigator:i}=De.useContext(pp),{matches:s}=De.useContext($l),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=oS(),c;if(e){var h;let D=typeof e=="string"?af(e):e;u==="/"||(h=D.pathname)!=null&&h.startsWith(u)||Dn(!1),c=D}else c=l;let f=c.pathname||"/",g=f;if(u!=="/"){let D=u.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(D.length).join("/")}let w=yZ(t,{pathname:g}),P=KZ(w&&w.map(D=>Object.assign({},D,{params:Object.assign({},a,D.params),pathname:ll([u,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?u:ll([u,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),s,n,r);return e&&P?De.createElement(ev.Provider,{value:{location:T0({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ma.Pop}},P):P}function HZ(){let t=YZ(),e=BZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return De.createElement(De.Fragment,null,De.createElement("h2",null,"Unexpected Application Error!"),De.createElement("h3",{style:{fontStyle:"italic"}},e),n?De.createElement("pre",{style:i},n):null,null)}const WZ=De.createElement(HZ,null);class qZ extends De.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?De.createElement($l.Provider,{value:this.props.routeContext},De.createElement($D.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GZ(t){let{routeContext:e,match:n,children:r}=t,i=De.useContext(sS);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),De.createElement($l.Provider,{value:e},r)}function KZ(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||Dn(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=c),h.route.id){let{loaderData:f,errors:g}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,h,f)=>{let g,w=!1,P=null,D=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,P=h.route.errorElement||WZ,u&&(l<0&&f===0?(w=!0,D=null):l===f&&(w=!0,D=h.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,f+1)),_=()=>{let S;return g?S=P:w?S=D:h.route.Component?S=De.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=c,De.createElement(GZ,{match:h,routeContext:{outlet:c,matches:E,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?De.createElement(qZ,{location:n.location,revalidation:n.revalidation,component:P,error:g,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var UD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(UD||{}),V1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(V1||{});function QZ(t){let e=De.useContext(sS);return e||Dn(!1),e}function JZ(t){let e=De.useContext($Z);return e||Dn(!1),e}function ZZ(t){let e=De.useContext($l);return e||Dn(!1),e}function VD(t){let e=ZZ(),n=e.matches[e.matches.length-1];return n.route.id||Dn(!1),n.route.id}function YZ(){var t;let e=De.useContext($D),n=JZ(V1.UseRouteError),r=VD(V1.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function XZ(){let{router:t}=QZ(UD.UseNavigateStable),e=VD(V1.UseNavigateStable),n=De.useRef(!1);return jD(()=>{n.current=!0}),De.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,T0({fromRouteId:e},s)))},[t,e])}function zye(t){let{to:e,replace:n,state:r,relative:i}=t;gp()||Dn(!1);let{future:s,static:o}=De.useContext(pp),{matches:a}=De.useContext($l),{pathname:u}=oS(),l=jZ(),c=BD(e,LD(a,s.v7_relativeSplatPath),u,i==="path"),h=JSON.stringify(c);return De.useEffect(()=>l(JSON.parse(h),{replace:n,state:r,relative:i}),[l,h,i,n,r]),null}function eY(t){Dn(!1)}function tY(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ma.Pop,navigator:s,static:o=!1,future:a}=t;gp()&&Dn(!1);let u=e.replace(/^\/*/,"/"),l=De.useMemo(()=>({basename:u,navigator:s,static:o,future:T0({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=af(r));let{pathname:c="/",search:h="",hash:f="",state:g=null,key:w="default"}=r,P=De.useMemo(()=>{let D=OD(c,u);return D==null?null:{location:{pathname:D,search:h,hash:f,state:g,key:w},navigationType:i}},[u,c,h,f,g,w,i]);return P==null?null:De.createElement(pp.Provider,{value:l},De.createElement(ev.Provider,{children:n,value:P}))}function Hye(t){let{children:e,location:n}=t;return VZ(O2(e),n)}new Promise(()=>{});function O2(t,e){e===void 0&&(e=[]);let n=[];return De.Children.forEach(t,(r,i)=>{if(!De.isValidElement(r))return;let s=[...e,i];if(r.type===De.Fragment){n.push.apply(n,O2(r.props.children,s));return}r.type!==eY&&Dn(!1),!r.props.index||!r.props.children||Dn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=O2(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const nY="6";try{window.__reactRouterVersion=nY}catch{}const rY="startTransition",RI=eF[rY];function Wye(t){let{basename:e,children:n,future:r,window:i}=t,s=De.useRef();s.current==null&&(s.current=pZ({window:i,v5Compat:!0}));let o=s.current,[a,u]=De.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},c=De.useCallback(h=>{l&&RI?RI(()=>u(h)):u(h)},[u,l]);return De.useLayoutEffect(()=>o.listen(c),[o,c]),De.createElement(tY,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var kI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kI||(kI={}));var PI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(PI||(PI={}));var MI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},HD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|l>>6,g=l&63;u||(g=64,o||(f=64)),r.push(n[c],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw new sY;const f=s<<2|a>>4;if(r.push(f),l!==64){const g=a<<4&240|l>>2;if(r.push(g),h!==64){const w=l<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oY=function(t){const e=zD(t);return HD.encodeByteArray(e,!0)},z1=function(t){return oY(t).replace(/\./g,"")},aY=function(t){try{return HD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lY=()=>uY().__FIREBASE_DEFAULTS__,cY=()=>{if(typeof process>"u"||typeof MI>"u")return;const t=MI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aY(t[1]);return e&&JSON.parse(e)},aS=()=>{try{return lY()||cY()||hY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fY=t=>{var e,n;return(n=(e=aS())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dY=t=>{const e=fY(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WD=()=>{var t;return(t=aS())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gY(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[z1(JSON.stringify(n)),z1(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mY(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yY(){var t;const e=(t=aS())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vY(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _Y(){return!yY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qD(){try{return typeof indexedDB=="object"}catch{return!1}}function GD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function wY(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bY="FirebaseError";class mu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bY,Object.setPrototypeOf(this,mu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tv.prototype.create)}}class tv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?EY(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new mu(i,a,r)}}function EY(t,e){return t.replace(AY,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const AY=/\{\$([^}]+)}/g;function H1(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(DI(s)&&DI(o)){if(!H1(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function DI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SY=1e3,CY=2,IY=4*60*60*1e3,xY=.5;function NI(t,e=SY,n=CY){const r=e*Math.pow(n,t),i=Math.round(xY*r*(Math.random()-.5)*2);return Math.min(IY,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(t){return t&&t._delegate?t._delegate:t}class Ko{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TY{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pY;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kY(e))try{this.getOrInitializeService({instanceIdentifier:Fu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fu){return this.instances.has(e)}getOptions(e=Fu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RY(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fu){return this.component?this.component.multipleInstances?e:Fu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RY(t){return t===Fu?void 0:t}function kY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Mt||(Mt={}));const MY={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},DY=Mt.INFO,NY={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},OY=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=NY[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uS{constructor(e){this.name=e,this._logLevel=DY,this._logHandler=OY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MY[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const LY=(t,e)=>e.some(n=>t instanceof n);let OI,LI;function BY(){return OI||(OI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FY(){return LI||(LI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KD=new WeakMap,L2=new WeakMap,QD=new WeakMap,Ww=new WeakMap,lS=new WeakMap;function $Y(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&KD.set(n,t)}).catch(()=>{}),lS.set(e,t),e}function jY(t){if(L2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});L2.set(t,e)}let B2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return L2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UY(t){B2=t(B2)}function VY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qw(this),e,...n);return QD.set(r,e.sort?e.sort():[e]),Wa(r)}:FY().includes(t)?function(...e){return t.apply(qw(this),e),Wa(KD.get(this))}:function(...e){return Wa(t.apply(qw(this),e))}}function zY(t){return typeof t=="function"?VY(t):(t instanceof IDBTransaction&&jY(t),LY(t,BY())?new Proxy(t,B2):t)}function Wa(t){if(t instanceof IDBRequest)return $Y(t);if(Ww.has(t))return Ww.get(t);const e=zY(t);return e!==t&&(Ww.set(t,e),lS.set(e,t)),e}const qw=t=>lS.get(t);function JD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Wa(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Wa(o.result),u.oldVersion,u.newVersion,Wa(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const HY=["get","getKey","getAll","getAllKeys","count"],WY=["put","add","delete","clear"],Gw=new Map;function BI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gw.get(e))return Gw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=WY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HY.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return Gw.set(e,s),s}UY(t=>({...t,get:(e,n,r)=>BI(e,n)||t.get(e,n,r),has:(e,n)=>!!BI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GY(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GY(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const F2="@firebase/app",FI="0.10.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=new uS("@firebase/app"),KY="@firebase/app-compat",QY="@firebase/analytics-compat",JY="@firebase/analytics",ZY="@firebase/app-check-compat",YY="@firebase/app-check",XY="@firebase/auth",eX="@firebase/auth-compat",tX="@firebase/database",nX="@firebase/database-compat",rX="@firebase/functions",iX="@firebase/functions-compat",sX="@firebase/installations",oX="@firebase/installations-compat",aX="@firebase/messaging",uX="@firebase/messaging-compat",lX="@firebase/performance",cX="@firebase/performance-compat",hX="@firebase/remote-config",fX="@firebase/remote-config-compat",dX="@firebase/storage",pX="@firebase/storage-compat",gX="@firebase/firestore",mX="@firebase/vertexai-preview",yX="@firebase/firestore-compat",vX="firebase",_X="10.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="[DEFAULT]",wX={[F2]:"fire-core",[KY]:"fire-core-compat",[JY]:"fire-analytics",[QY]:"fire-analytics-compat",[YY]:"fire-app-check",[ZY]:"fire-app-check-compat",[XY]:"fire-auth",[eX]:"fire-auth-compat",[tX]:"fire-rtdb",[nX]:"fire-rtdb-compat",[rX]:"fire-fn",[iX]:"fire-fn-compat",[sX]:"fire-iid",[oX]:"fire-iid-compat",[aX]:"fire-fcm",[uX]:"fire-fcm-compat",[lX]:"fire-perf",[cX]:"fire-perf-compat",[hX]:"fire-rc",[fX]:"fire-rc-compat",[dX]:"fire-gcs",[pX]:"fire-gcs-compat",[gX]:"fire-fst",[yX]:"fire-fst-compat",[mX]:"fire-vertex","fire-js":"fire-js",[vX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new Map,bX=new Map,j2=new Map;function $I(t,e){try{t.container.addComponent(e)}catch(n){Sl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ru(t){const e=t.name;if(j2.has(e))return Sl.debug(`There were multiple attempts to register component ${e}.`),!1;j2.set(e,t);for(const n of W1.values())$I(n,t);for(const n of bX.values())$I(n,t);return!0}function mp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qa=new tv("app","Firebase",EX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SX=_X;function CX(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$2,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qa.create("bad-app-name",{appName:String(i)});if(n||(n=WD()),!n)throw qa.create("no-options");const s=W1.get(i);if(s){if(H1(n,s.options)&&H1(r,s.config))return s;throw qa.create("duplicate-app",{appName:i})}const o=new PY(i);for(const u of j2.values())o.addComponent(u);const a=new AX(n,r,o);return W1.set(i,a),a}function ZD(t=$2){const e=W1.get(t);if(!e&&t===$2&&WD())return CX();if(!e)throw qa.create("no-app",{appName:t});return e}function lo(t,e,n){var r;let i=(r=wX[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sl.warn(a.join(" "));return}ru(new Ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IX="firebase-heartbeat-database",xX=1,R0="firebase-heartbeat-store";let Kw=null;function YD(){return Kw||(Kw=JD(IX,xX,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(R0)}catch(n){console.warn(n)}}}}).catch(t=>{throw qa.create("idb-open",{originalErrorMessage:t.message})})),Kw}async function TX(t){try{const n=(await YD()).transaction(R0),r=await n.objectStore(R0).get(XD(t));return await n.done,r}catch(e){if(e instanceof mu)Sl.warn(e.message);else{const n=qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sl.warn(n.message)}}}async function jI(t,e){try{const r=(await YD()).transaction(R0,"readwrite");await r.objectStore(R0).put(e,XD(t)),await r.done}catch(n){if(n instanceof mu)Sl.warn(n.message);else{const r=qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sl.warn(r.message)}}}function XD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX=1024,kX=30*24*60*60*1e3;class PX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=UI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=kX}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=UI(),{heartbeatsToSend:r,unsentEntries:i}=MX(this._heartbeatsCache.heartbeats),s=z1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function UI(){return new Date().toISOString().substring(0,10)}function MX(t,e=RX){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),VI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),VI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qD()?GD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TX(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function VI(t){return z1(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NX(t){ru(new Ko("platform-logger",e=>new qY(e),"PRIVATE")),ru(new Ko("heartbeat",e=>new PX(e),"PRIVATE")),lo(F2,FI,t),lo(F2,FI,"esm2017"),lo("fire-js","")}NX("");var OX="firebase",LX="10.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lo(OX,LX,"app");/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const BX={};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function Vg(t){return Object.isFrozen(t)&&Object.isFrozen(t.raw)}function zg(t){return t.toString().indexOf("`")===-1}zg(t=>t``)||zg(t=>t`\0`)||zg(t=>t`\n`)||zg(t=>t`\u0000`);Vg``&&Vg`\0`&&Vg`\n`&&Vg`\u0000`;/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */let eN="google#safe";function FX(){if(typeof window<"u")return window.trustedTypes}function tN(){var t;return eN!==""&&(t=FX())!==null&&t!==void 0?t:null}let Hg;function $X(){var t,e;if(Hg===void 0)try{Hg=(e=(t=tN())===null||t===void 0?void 0:t.createPolicy(eN,{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n}))!==null&&e!==void 0?e:null}catch{Hg=null}return Hg}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */class nN{constructor(e,n){this.privateDoNotAccessOrElseWrappedResourceUrl=e}toString(){return this.privateDoNotAccessOrElseWrappedResourceUrl.toString()}}function zI(t){var e;const n=t,r=(e=$X())===null||e===void 0?void 0:e.createScriptURL(n);return r??new nN(n,BX)}function jX(t){var e;if(!((e=tN())===null||e===void 0)&&e.isScriptURL(t))return t;if(t instanceof nN)return t.privateDoNotAccessOrElseWrappedResourceUrl;{let n="";throw new Error(n)}}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function UX(t,...e){if(e.length===0)return zI(t[0]);t[0].toLowerCase();let n=t[0];for(let r=0;r<e.length;r++)n+=encodeURIComponent(e[r])+t[r+1];return zI(n)}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function VX(t){return zX("script",t)}function zX(t,e){var n;const r=e.document,i=(n=r.querySelector)===null||n===void 0?void 0:n.call(r,`${t}[nonce]`);return i&&(i.nonce||i.getAttribute("nonce"))||""}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function HX(t){const e=t.ownerDocument&&t.ownerDocument.defaultView,n=VX(e||window);n&&t.setAttribute("nonce",n)}function WX(t,e,n){t.src=jX(e),HX(t)}const rN="@firebase/installations",cS="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=1e4,sN=`w:${cS}`,oN="FIS_v2",qX="https://firebaseinstallations.googleapis.com/v1",GX=60*60*1e3,KX="installations",QX="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JX={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Cl=new tv(KX,QX,JX);function aN(t){return t instanceof mu&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN({projectId:t}){return`${qX}/projects/${t}/installations`}function lN(t){return{token:t.token,requestStatus:2,expiresIn:YX(t.expiresIn),creationTime:Date.now()}}async function cN(t,e){const r=(await e.json()).error;return Cl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function hN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ZX(t,{refreshToken:e}){const n=hN(t);return n.append("Authorization",XX(e)),n}async function fN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function YX(t){return Number(t.replace("s","000"))}function XX(t){return`${oN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eee({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=uN(t),i=hN(t),s=e.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={fid:n,authVersion:oN,appId:t.appId,sdkVersion:sN},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await fN(()=>fetch(r,a));if(u.ok){const l=await u.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:lN(l.authToken)}}else throw await cN("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tee(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nee=/^[cdef][\w-]{21}$/,U2="";function ree(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=iee(t);return nee.test(n)?n:U2}catch{return U2}}function iee(t){return tee(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new Map;function gN(t,e){const n=nv(t);mN(n,e),see(n,e)}function mN(t,e){const n=pN.get(t);if(n)for(const r of n)r(e)}function see(t,e){const n=oee();n&&n.postMessage({key:t,fid:e}),aee()}let Qu=null;function oee(){return!Qu&&"BroadcastChannel"in self&&(Qu=new BroadcastChannel("[Firebase] FID Change"),Qu.onmessage=t=>{mN(t.data.key,t.data.fid)}),Qu}function aee(){pN.size===0&&Qu&&(Qu.close(),Qu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uee="firebase-installations-database",lee=1,Il="firebase-installations-store";let Qw=null;function hS(){return Qw||(Qw=JD(uee,lee,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Il)}}})),Qw}async function q1(t,e){const n=nv(t),i=(await hS()).transaction(Il,"readwrite"),s=i.objectStore(Il),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&gN(t,e.fid),e}async function yN(t){const e=nv(t),r=(await hS()).transaction(Il,"readwrite");await r.objectStore(Il).delete(e),await r.done}async function rv(t,e){const n=nv(t),i=(await hS()).transaction(Il,"readwrite"),s=i.objectStore(Il),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&gN(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(t){let e;const n=await rv(t.appConfig,r=>{const i=cee(r),s=hee(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===U2?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function cee(t){const e=t||{fid:ree(),registrationStatus:0};return vN(e)}function hee(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Cl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=fee(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:dee(t)}:{installationEntry:e}}async function fee(t,e){try{const n=await eee(t,e);return q1(t.appConfig,n)}catch(n){throw aN(n)&&n.customData.serverCode===409?await yN(t.appConfig):await q1(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function dee(t){let e=await HI(t.appConfig);for(;e.registrationStatus===1;)await dN(100),e=await HI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await fS(t);return r||n}return e}function HI(t){return rv(t,e=>{if(!e)throw Cl.create("installation-not-found");return vN(e)})}function vN(t){return pee(t)?{fid:t.fid,registrationStatus:0}:t}function pee(t){return t.registrationStatus===1&&t.registrationTime+iN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gee({appConfig:t,heartbeatServiceProvider:e},n){const r=mee(t,n),i=ZX(t,n),s=e.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={installation:{sdkVersion:sN,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await fN(()=>fetch(r,a));if(u.ok){const l=await u.json();return lN(l)}else throw await cN("Generate Auth Token",u)}function mee(t,{fid:e}){return`${uN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dS(t,e=!1){let n;const r=await rv(t.appConfig,s=>{if(!_N(s))throw Cl.create("not-registered");const o=s.authToken;if(!e&&_ee(o))return s;if(o.requestStatus===1)return n=yee(t,e),s;{if(!navigator.onLine)throw Cl.create("app-offline");const a=bee(s);return n=vee(t,a),a}});return n?await n:r.authToken}async function yee(t,e){let n=await WI(t.appConfig);for(;n.authToken.requestStatus===1;)await dN(100),n=await WI(t.appConfig);const r=n.authToken;return r.requestStatus===0?dS(t,e):r}function WI(t){return rv(t,e=>{if(!_N(e))throw Cl.create("not-registered");const n=e.authToken;return Eee(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function vee(t,e){try{const n=await gee(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await q1(t.appConfig,r),n}catch(n){if(aN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await yN(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await q1(t.appConfig,r)}throw n}}function _N(t){return t!==void 0&&t.registrationStatus===2}function _ee(t){return t.requestStatus===2&&!wee(t)}function wee(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+GX}function bee(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Eee(t){return t.requestStatus===1&&t.requestTime+iN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aee(t){const e=t,{installationEntry:n,registrationPromise:r}=await fS(e);return r?r.catch(console.error):dS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function See(t,e=!1){const n=t;return await Cee(n),(await dS(n,e)).token}async function Cee(t){const{registrationPromise:e}=await fS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iee(t){if(!t||!t.options)throw Jw("App Configuration");if(!t.name)throw Jw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Jw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Jw(t){return Cl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="installations",xee="installations-internal",Tee=t=>{const e=t.getProvider("app").getImmediate(),n=Iee(e),r=mp(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Ree=t=>{const e=t.getProvider("app").getImmediate(),n=mp(e,wN).getImmediate();return{getId:()=>Aee(n),getToken:i=>See(n,i)}};function kee(){ru(new Ko(wN,Tee,"PUBLIC")),ru(new Ko(xee,Ree,"PRIVATE"))}kee();lo(rN,cS);lo(rN,cS,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="analytics",Pee="firebase_id",Mee="origin",Dee=60*1e3,Nee="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Oee="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new uS("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Lee(t,e){const n=document.createElement("script"),r=UX`https://www.googletagmanager.com/gtag/js?l=${t}&id=${e}`;WX(n,r),n.async=!0,document.head.appendChild(n)}function Bee(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Fee(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const u=(await bN(n)).find(l=>l.measurementId===i);u&&await e[u.appId]}}catch(a){_i.error(a)}t("config",i,s)}async function $ee(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await bN(n);for(const u of o){const l=a.find(h=>h.measurementId===u),c=l&&e[l.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){_i.error(s)}}function jee(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,u]=o;await $ee(t,e,n,a,u)}else if(s==="config"){const[a,u]=o;await Fee(t,e,n,r,a,u)}else if(s==="consent"){const[a,u]=o;t("consent",a,u)}else if(s==="get"){const[a,u,l]=o;t("get",a,u,l)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){_i.error(a)}}return i}function Uee(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=jee(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function Vee(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Oee)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zee={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ji=new tv("analytics","Analytics",zee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hee=30,Wee=1e3;class qee{constructor(e={},n=Wee){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const EN=new qee;function Gee(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Kee(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Gee(r)},s=Nee.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw Ji.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Qee(t,e=EN,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ji.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ji.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Yee;return setTimeout(async()=>{a.abort()},Dee),AN({appId:r,apiKey:i,measurementId:s},o,a,e)}async function AN(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=EN){var s;const{appId:o,measurementId:a}=t;try{await Jee(r,e)}catch(u){if(a)return _i.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=await Kee(t);return i.deleteThrottleMetadata(o),u}catch(u){const l=u;if(!Zee(l)){if(i.deleteThrottleMetadata(o),a)return _i.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw u}const c=Number((s=l==null?void 0:l.customData)===null||s===void 0?void 0:s.httpStatus)===503?NI(n,i.intervalMillis,Hee):NI(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),_i.debug(`Calling attemptFetch again in ${c} millis`),AN(t,h,r,i)}}function Jee(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ji.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Zee(t){if(!(t instanceof mu)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Yee{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Xee(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ete(){if(qD())try{await GD()}catch(t){return _i.warn(Ji.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return _i.warn(Ji.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function tte(t,e,n,r,i,s,o){var a;const u=Qee(t);u.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&_i.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>_i.error(g)),e.push(u);const l=ete().then(g=>{if(g)return r.getId()}),[c,h]=await Promise.all([u,l]);Vee(s)||Lee(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[Mee]="firebase",f.update=!0,h!=null&&(f[Pee]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{constructor(e){this.app=e}_delete(){return delete gd[this.app.options.appId],Promise.resolve()}}let gd={},qI=[];const GI={};let Zw="dataLayer",rte="gtag",KI,SN,QI=!1;function ite(){const t=[];if(vY()&&t.push("This is a browser extension environment."),wY()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ji.create("invalid-analytics-context",{errorInfo:e});_i.warn(n.message)}}function ste(t,e,n){ite();const r=t.options.appId;if(!r)throw Ji.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)_i.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ji.create("no-api-key");if(gd[r]!=null)throw Ji.create("already-exists",{id:r});if(!QI){Bee(Zw);const{wrappedGtag:s,gtagCore:o}=Uee(gd,qI,GI,Zw,rte);SN=s,KI=o,QI=!0}return gd[r]=tte(t,qI,GI,e,KI,Zw,n),new nte(t)}function qye(t=ZD()){t=Go(t);const e=mp(t,G1);return e.isInitialized()?e.getImmediate():ote(t)}function ote(t,e={}){const n=mp(t,G1);if(n.isInitialized()){const i=n.getImmediate();if(H1(e,n.getOptions()))return i;throw Ji.create("already-initialized")}return n.initialize({options:e})}function ate(t,e,n,r){t=Go(t),Xee(SN,gd[t.app.options.appId],e,n,r).catch(i=>_i.error(i))}const JI="@firebase/analytics",ZI="0.10.6";function ute(){ru(new Ko(G1,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return ste(r,i,n)},"PUBLIC")),ru(new Ko("analytics-internal",t,"PRIVATE")),lo(JI,ZI),lo(JI,ZI,"esm2017");function t(e){try{const n=e.getProvider(G1).getImmediate();return{logEvent:(r,i,s)=>ate(n,r,i,s)}}catch(n){throw Ji.create("interop-component-reg-failed",{reason:n})}}}ute();var YI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cl,CN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,m){function b(){}b.prototype=m.prototype,v.D=m.prototype,v.prototype=new b,v.prototype.constructor=v,v.C=function(T,B,z){for(var A=Array(arguments.length-2),p=2;p<arguments.length;p++)A[p-2]=arguments[p];return m.prototype[B].apply(T,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(v,m,b){b||(b=0);var T=Array(16);if(typeof m=="string")for(var B=0;16>B;++B)T[B]=m.charCodeAt(b++)|m.charCodeAt(b++)<<8|m.charCodeAt(b++)<<16|m.charCodeAt(b++)<<24;else for(B=0;16>B;++B)T[B]=m[b++]|m[b++]<<8|m[b++]<<16|m[b++]<<24;m=v.g[0],b=v.g[1],B=v.g[2];var z=v.g[3],A=m+(z^b&(B^z))+T[0]+3614090360&4294967295;m=b+(A<<7&4294967295|A>>>25),A=z+(B^m&(b^B))+T[1]+3905402710&4294967295,z=m+(A<<12&4294967295|A>>>20),A=B+(b^z&(m^b))+T[2]+606105819&4294967295,B=z+(A<<17&4294967295|A>>>15),A=b+(m^B&(z^m))+T[3]+3250441966&4294967295,b=B+(A<<22&4294967295|A>>>10),A=m+(z^b&(B^z))+T[4]+4118548399&4294967295,m=b+(A<<7&4294967295|A>>>25),A=z+(B^m&(b^B))+T[5]+1200080426&4294967295,z=m+(A<<12&4294967295|A>>>20),A=B+(b^z&(m^b))+T[6]+2821735955&4294967295,B=z+(A<<17&4294967295|A>>>15),A=b+(m^B&(z^m))+T[7]+4249261313&4294967295,b=B+(A<<22&4294967295|A>>>10),A=m+(z^b&(B^z))+T[8]+1770035416&4294967295,m=b+(A<<7&4294967295|A>>>25),A=z+(B^m&(b^B))+T[9]+2336552879&4294967295,z=m+(A<<12&4294967295|A>>>20),A=B+(b^z&(m^b))+T[10]+4294925233&4294967295,B=z+(A<<17&4294967295|A>>>15),A=b+(m^B&(z^m))+T[11]+2304563134&4294967295,b=B+(A<<22&4294967295|A>>>10),A=m+(z^b&(B^z))+T[12]+1804603682&4294967295,m=b+(A<<7&4294967295|A>>>25),A=z+(B^m&(b^B))+T[13]+4254626195&4294967295,z=m+(A<<12&4294967295|A>>>20),A=B+(b^z&(m^b))+T[14]+2792965006&4294967295,B=z+(A<<17&4294967295|A>>>15),A=b+(m^B&(z^m))+T[15]+1236535329&4294967295,b=B+(A<<22&4294967295|A>>>10),A=m+(B^z&(b^B))+T[1]+4129170786&4294967295,m=b+(A<<5&4294967295|A>>>27),A=z+(b^B&(m^b))+T[6]+3225465664&4294967295,z=m+(A<<9&4294967295|A>>>23),A=B+(m^b&(z^m))+T[11]+643717713&4294967295,B=z+(A<<14&4294967295|A>>>18),A=b+(z^m&(B^z))+T[0]+3921069994&4294967295,b=B+(A<<20&4294967295|A>>>12),A=m+(B^z&(b^B))+T[5]+3593408605&4294967295,m=b+(A<<5&4294967295|A>>>27),A=z+(b^B&(m^b))+T[10]+38016083&4294967295,z=m+(A<<9&4294967295|A>>>23),A=B+(m^b&(z^m))+T[15]+3634488961&4294967295,B=z+(A<<14&4294967295|A>>>18),A=b+(z^m&(B^z))+T[4]+3889429448&4294967295,b=B+(A<<20&4294967295|A>>>12),A=m+(B^z&(b^B))+T[9]+568446438&4294967295,m=b+(A<<5&4294967295|A>>>27),A=z+(b^B&(m^b))+T[14]+3275163606&4294967295,z=m+(A<<9&4294967295|A>>>23),A=B+(m^b&(z^m))+T[3]+4107603335&4294967295,B=z+(A<<14&4294967295|A>>>18),A=b+(z^m&(B^z))+T[8]+1163531501&4294967295,b=B+(A<<20&4294967295|A>>>12),A=m+(B^z&(b^B))+T[13]+2850285829&4294967295,m=b+(A<<5&4294967295|A>>>27),A=z+(b^B&(m^b))+T[2]+4243563512&4294967295,z=m+(A<<9&4294967295|A>>>23),A=B+(m^b&(z^m))+T[7]+1735328473&4294967295,B=z+(A<<14&4294967295|A>>>18),A=b+(z^m&(B^z))+T[12]+2368359562&4294967295,b=B+(A<<20&4294967295|A>>>12),A=m+(b^B^z)+T[5]+4294588738&4294967295,m=b+(A<<4&4294967295|A>>>28),A=z+(m^b^B)+T[8]+2272392833&4294967295,z=m+(A<<11&4294967295|A>>>21),A=B+(z^m^b)+T[11]+1839030562&4294967295,B=z+(A<<16&4294967295|A>>>16),A=b+(B^z^m)+T[14]+4259657740&4294967295,b=B+(A<<23&4294967295|A>>>9),A=m+(b^B^z)+T[1]+2763975236&4294967295,m=b+(A<<4&4294967295|A>>>28),A=z+(m^b^B)+T[4]+1272893353&4294967295,z=m+(A<<11&4294967295|A>>>21),A=B+(z^m^b)+T[7]+4139469664&4294967295,B=z+(A<<16&4294967295|A>>>16),A=b+(B^z^m)+T[10]+3200236656&4294967295,b=B+(A<<23&4294967295|A>>>9),A=m+(b^B^z)+T[13]+681279174&4294967295,m=b+(A<<4&4294967295|A>>>28),A=z+(m^b^B)+T[0]+3936430074&4294967295,z=m+(A<<11&4294967295|A>>>21),A=B+(z^m^b)+T[3]+3572445317&4294967295,B=z+(A<<16&4294967295|A>>>16),A=b+(B^z^m)+T[6]+76029189&4294967295,b=B+(A<<23&4294967295|A>>>9),A=m+(b^B^z)+T[9]+3654602809&4294967295,m=b+(A<<4&4294967295|A>>>28),A=z+(m^b^B)+T[12]+3873151461&4294967295,z=m+(A<<11&4294967295|A>>>21),A=B+(z^m^b)+T[15]+530742520&4294967295,B=z+(A<<16&4294967295|A>>>16),A=b+(B^z^m)+T[2]+3299628645&4294967295,b=B+(A<<23&4294967295|A>>>9),A=m+(B^(b|~z))+T[0]+4096336452&4294967295,m=b+(A<<6&4294967295|A>>>26),A=z+(b^(m|~B))+T[7]+1126891415&4294967295,z=m+(A<<10&4294967295|A>>>22),A=B+(m^(z|~b))+T[14]+2878612391&4294967295,B=z+(A<<15&4294967295|A>>>17),A=b+(z^(B|~m))+T[5]+4237533241&4294967295,b=B+(A<<21&4294967295|A>>>11),A=m+(B^(b|~z))+T[12]+1700485571&4294967295,m=b+(A<<6&4294967295|A>>>26),A=z+(b^(m|~B))+T[3]+2399980690&4294967295,z=m+(A<<10&4294967295|A>>>22),A=B+(m^(z|~b))+T[10]+4293915773&4294967295,B=z+(A<<15&4294967295|A>>>17),A=b+(z^(B|~m))+T[1]+2240044497&4294967295,b=B+(A<<21&4294967295|A>>>11),A=m+(B^(b|~z))+T[8]+1873313359&4294967295,m=b+(A<<6&4294967295|A>>>26),A=z+(b^(m|~B))+T[15]+4264355552&4294967295,z=m+(A<<10&4294967295|A>>>22),A=B+(m^(z|~b))+T[6]+2734768916&4294967295,B=z+(A<<15&4294967295|A>>>17),A=b+(z^(B|~m))+T[13]+1309151649&4294967295,b=B+(A<<21&4294967295|A>>>11),A=m+(B^(b|~z))+T[4]+4149444226&4294967295,m=b+(A<<6&4294967295|A>>>26),A=z+(b^(m|~B))+T[11]+3174756917&4294967295,z=m+(A<<10&4294967295|A>>>22),A=B+(m^(z|~b))+T[2]+718787259&4294967295,B=z+(A<<15&4294967295|A>>>17),A=b+(z^(B|~m))+T[9]+3951481745&4294967295,v.g[0]=v.g[0]+m&4294967295,v.g[1]=v.g[1]+(B+(A<<21&4294967295|A>>>11))&4294967295,v.g[2]=v.g[2]+B&4294967295,v.g[3]=v.g[3]+z&4294967295}r.prototype.u=function(v,m){m===void 0&&(m=v.length);for(var b=m-this.blockSize,T=this.B,B=this.h,z=0;z<m;){if(B==0)for(;z<=b;)i(this,v,z),z+=this.blockSize;if(typeof v=="string"){for(;z<m;)if(T[B++]=v.charCodeAt(z++),B==this.blockSize){i(this,T),B=0;break}}else for(;z<m;)if(T[B++]=v[z++],B==this.blockSize){i(this,T),B=0;break}}this.h=B,this.o+=m},r.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var m=1;m<v.length-8;++m)v[m]=0;var b=8*this.o;for(m=v.length-8;m<v.length;++m)v[m]=b&255,b/=256;for(this.u(v),v=Array(16),m=b=0;4>m;++m)for(var T=0;32>T;T+=8)v[b++]=this.g[m]>>>T&255;return v};function s(v,m){var b=a;return Object.prototype.hasOwnProperty.call(b,v)?b[v]:b[v]=m(v)}function o(v,m){this.h=m;for(var b=[],T=!0,B=v.length-1;0<=B;B--){var z=v[B]|0;T&&z==m||(b[B]=z,T=!1)}this.g=b}var a={};function u(v){return-128<=v&&128>v?s(v,function(m){return new o([m|0],0>m?-1:0)}):new o([v|0],0>v?-1:0)}function l(v){if(isNaN(v)||!isFinite(v))return h;if(0>v)return D(l(-v));for(var m=[],b=1,T=0;v>=b;T++)m[T]=v/b|0,b*=4294967296;return new o(m,0)}function c(v,m){if(v.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(v.charAt(0)=="-")return D(c(v.substring(1),m));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=l(Math.pow(m,8)),T=h,B=0;B<v.length;B+=8){var z=Math.min(8,v.length-B),A=parseInt(v.substring(B,B+z),m);8>z?(z=l(Math.pow(m,z)),T=T.j(z).add(l(A))):(T=T.j(b),T=T.add(l(A)))}return T}var h=u(0),f=u(1),g=u(16777216);t=o.prototype,t.m=function(){if(P(this))return-D(this).m();for(var v=0,m=1,b=0;b<this.g.length;b++){var T=this.i(b);v+=(0<=T?T:4294967296+T)*m,m*=4294967296}return v},t.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w(this))return"0";if(P(this))return"-"+D(this).toString(v);for(var m=l(Math.pow(v,6)),b=this,T="";;){var B=O(b,m).g;b=E(b,B.j(m));var z=((0<b.g.length?b.g[0]:b.h)>>>0).toString(v);if(b=B,w(b))return z+T;for(;6>z.length;)z="0"+z;T=z+T}},t.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function w(v){if(v.h!=0)return!1;for(var m=0;m<v.g.length;m++)if(v.g[m]!=0)return!1;return!0}function P(v){return v.h==-1}t.l=function(v){return v=E(this,v),P(v)?-1:w(v)?0:1};function D(v){for(var m=v.g.length,b=[],T=0;T<m;T++)b[T]=~v.g[T];return new o(b,~v.h).add(f)}t.abs=function(){return P(this)?D(this):this},t.add=function(v){for(var m=Math.max(this.g.length,v.g.length),b=[],T=0,B=0;B<=m;B++){var z=T+(this.i(B)&65535)+(v.i(B)&65535),A=(z>>>16)+(this.i(B)>>>16)+(v.i(B)>>>16);T=A>>>16,z&=65535,A&=65535,b[B]=A<<16|z}return new o(b,b[b.length-1]&-2147483648?-1:0)};function E(v,m){return v.add(D(m))}t.j=function(v){if(w(this)||w(v))return h;if(P(this))return P(v)?D(this).j(D(v)):D(D(this).j(v));if(P(v))return D(this.j(D(v)));if(0>this.l(g)&&0>v.l(g))return l(this.m()*v.m());for(var m=this.g.length+v.g.length,b=[],T=0;T<2*m;T++)b[T]=0;for(T=0;T<this.g.length;T++)for(var B=0;B<v.g.length;B++){var z=this.i(T)>>>16,A=this.i(T)&65535,p=v.i(B)>>>16,y=v.i(B)&65535;b[2*T+2*B]+=A*y,_(b,2*T+2*B),b[2*T+2*B+1]+=z*y,_(b,2*T+2*B+1),b[2*T+2*B+1]+=A*p,_(b,2*T+2*B+1),b[2*T+2*B+2]+=z*p,_(b,2*T+2*B+2)}for(T=0;T<m;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=m;T<2*m;T++)b[T]=0;return new o(b,0)};function _(v,m){for(;(v[m]&65535)!=v[m];)v[m+1]+=v[m]>>>16,v[m]&=65535,m++}function S(v,m){this.g=v,this.h=m}function O(v,m){if(w(m))throw Error("division by zero");if(w(v))return new S(h,h);if(P(v))return m=O(D(v),m),new S(D(m.g),D(m.h));if(P(m))return m=O(v,D(m)),new S(D(m.g),m.h);if(30<v.g.length){if(P(v)||P(m))throw Error("slowDivide_ only works with positive integers.");for(var b=f,T=m;0>=T.l(v);)b=$(b),T=$(T);var B=V(b,1),z=V(T,1);for(T=V(T,2),b=V(b,2);!w(T);){var A=z.add(T);0>=A.l(v)&&(B=B.add(b),z=A),T=V(T,1),b=V(b,1)}return m=E(v,B.j(m)),new S(B,m)}for(B=h;0<=v.l(m);){for(b=Math.max(1,Math.floor(v.m()/m.m())),T=Math.ceil(Math.log(b)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),z=l(b),A=z.j(m);P(A)||0<A.l(v);)b-=T,z=l(b),A=z.j(m);w(z)&&(z=f),B=B.add(z),v=E(v,A)}return new S(B,v)}t.A=function(v){return O(this,v).h},t.and=function(v){for(var m=Math.max(this.g.length,v.g.length),b=[],T=0;T<m;T++)b[T]=this.i(T)&v.i(T);return new o(b,this.h&v.h)},t.or=function(v){for(var m=Math.max(this.g.length,v.g.length),b=[],T=0;T<m;T++)b[T]=this.i(T)|v.i(T);return new o(b,this.h|v.h)},t.xor=function(v){for(var m=Math.max(this.g.length,v.g.length),b=[],T=0;T<m;T++)b[T]=this.i(T)^v.i(T);return new o(b,this.h^v.h)};function $(v){for(var m=v.g.length+1,b=[],T=0;T<m;T++)b[T]=v.i(T)<<1|v.i(T-1)>>>31;return new o(b,v.h)}function V(v,m){var b=m>>5;m%=32;for(var T=v.g.length-b,B=[],z=0;z<T;z++)B[z]=0<m?v.i(z+b)>>>m|v.i(z+b+1)<<32-m:v.i(z+b);return new o(B,v.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=c,cl=o}).apply(typeof YI<"u"?YI:typeof self<"u"?self:typeof window<"u"?window:{});var Wg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IN,xN,Xf,TN,Om,V2,RN,kN,PN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,M,H){return d==Array.prototype||d==Object.prototype||(d[M]=H.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wg=="object"&&Wg];for(var M=0;M<d.length;++M){var H=d[M];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var r=n(this);function i(d,M){if(M)e:{var H=r;d=d.split(".");for(var Z=0;Z<d.length-1;Z++){var le=d[Z];if(!(le in H))break e;H=H[le]}d=d[d.length-1],Z=H[d],M=M(Z),M!=Z&&M!=null&&e(H,d,{configurable:!0,writable:!0,value:M})}}function s(d,M){d instanceof String&&(d+="");var H=0,Z=!1,le={next:function(){if(!Z&&H<d.length){var he=H++;return{value:M(he,d[he]),done:!1}}return Z=!0,{done:!0,value:void 0}}};return le[Symbol.iterator]=function(){return le},le}i("Array.prototype.values",function(d){return d||function(){return s(this,function(M,H){return H})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(d){var M=typeof d;return M=M!="object"?M:d?Array.isArray(d)?"array":M:"null",M=="array"||M=="object"&&typeof d.length=="number"}function l(d){var M=typeof d;return M=="object"&&d!=null||M=="function"}function c(d,M,H){return d.call.apply(d.bind,arguments)}function h(d,M,H){if(!d)throw Error();if(2<arguments.length){var Z=Array.prototype.slice.call(arguments,2);return function(){var le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(le,Z),d.apply(M,le)}}return function(){return d.apply(M,arguments)}}function f(d,M,H){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,f.apply(null,arguments)}function g(d,M){var H=Array.prototype.slice.call(arguments,1);return function(){var Z=H.slice();return Z.push.apply(Z,arguments),d.apply(this,Z)}}function w(d,M){function H(){}H.prototype=M.prototype,d.aa=M.prototype,d.prototype=new H,d.prototype.constructor=d,d.Qb=function(Z,le,he){for(var Se=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)Se[Qt-2]=arguments[Qt];return M.prototype[le].apply(Z,Se)}}function P(d){const M=d.length;if(0<M){const H=Array(M);for(let Z=0;Z<M;Z++)H[Z]=d[Z];return H}return[]}function D(d,M){for(let H=1;H<arguments.length;H++){const Z=arguments[H];if(u(Z)){const le=d.length||0,he=Z.length||0;d.length=le+he;for(let Se=0;Se<he;Se++)d[le+Se]=Z[Se]}else d.push(Z)}}class E{constructor(M,H){this.i=M,this.j=H,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}function _(d){return/^[\s\xa0]*$/.test(d)}function S(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function O(d){return O[" "](d),d}O[" "]=function(){};var $=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function V(d,M,H){for(const Z in d)M.call(H,d[Z],Z,d)}function v(d,M){for(const H in d)M.call(void 0,d[H],H,d)}function m(d){const M={};for(const H in d)M[H]=d[H];return M}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(d,M){let H,Z;for(let le=1;le<arguments.length;le++){Z=arguments[le];for(H in Z)d[H]=Z[H];for(let he=0;he<b.length;he++)H=b[he],Object.prototype.hasOwnProperty.call(Z,H)&&(d[H]=Z[H])}}function B(d){var M=1;d=d.split(":");const H=[];for(;0<M&&d.length;)H.push(d.shift()),M--;return d.length&&H.push(d.join(":")),H}function z(d){a.setTimeout(()=>{throw d},0)}function A(){var d=F;let M=null;return d.g&&(M=d.g,d.g=d.g.next,d.g||(d.h=null),M.next=null),M}class p{constructor(){this.h=this.g=null}add(M,H){const Z=y.get();Z.set(M,H),this.h?this.h.next=Z:this.g=Z,this.h=Z}}var y=new E(()=>new x,d=>d.reset());class x{constructor(){this.next=this.g=this.h=null}set(M,H){this.h=M,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let k,C=!1,F=new p,W=()=>{const d=a.Promise.resolve(void 0);k=()=>{d.then(U)}};var U=()=>{for(var d;d=A();){try{d.h.call(d.g)}catch(H){z(H)}var M=y;M.j(d),100>M.h&&(M.h++,d.next=M.g,M.g=d)}C=!1};function I(){this.s=this.s,this.C=this.C}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(d,M){this.type=d,this.g=this.target=M,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,M=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const H=()=>{};a.addEventListener("test",H,M),a.removeEventListener("test",H,M)}catch{}return d}();function ie(d,M){if(G.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var H=this.type=d.type,Z=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=M,M=d.relatedTarget){if($){e:{try{O(M.nodeName);var le=!0;break e}catch{}le=!1}le||(M=null)}}else H=="mouseover"?M=d.fromElement:H=="mouseout"&&(M=d.toElement);this.relatedTarget=M,Z?(this.clientX=Z.clientX!==void 0?Z.clientX:Z.pageX,this.clientY=Z.clientY!==void 0?Z.clientY:Z.pageY,this.screenX=Z.screenX||0,this.screenY=Z.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:X[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ie.aa.h.call(this)}}w(ie,G);var X={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),Y=0;function ee(d,M,H,Z,le){this.listener=d,this.proxy=null,this.src=M,this.type=H,this.capture=!!Z,this.ha=le,this.key=++Y,this.da=this.fa=!1}function N(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function j(d){this.src=d,this.g={},this.h=0}j.prototype.add=function(d,M,H,Z,le){var he=d.toString();d=this.g[he],d||(d=this.g[he]=[],this.h++);var Se=se(d,M,Z,le);return-1<Se?(M=d[Se],H||(M.fa=!1)):(M=new ee(M,this.src,he,!!Z,le),M.fa=H,d.push(M)),M};function K(d,M){var H=M.type;if(H in d.g){var Z=d.g[H],le=Array.prototype.indexOf.call(Z,M,void 0),he;(he=0<=le)&&Array.prototype.splice.call(Z,le,1),he&&(N(M),d.g[H].length==0&&(delete d.g[H],d.h--))}}function se(d,M,H,Z){for(var le=0;le<d.length;++le){var he=d[le];if(!he.da&&he.listener==M&&he.capture==!!H&&he.ha==Z)return le}return-1}var ce="closure_lm_"+(1e6*Math.random()|0),pe={};function Ee(d,M,H,Z,le){if(Array.isArray(M)){for(var he=0;he<M.length;he++)Ee(d,M[he],H,Z,le);return null}return H=Ue(H),d&&d[Q]?d.K(M,H,l(Z)?!!Z.capture:!!Z,le):_e(d,M,H,!1,Z,le)}function _e(d,M,H,Z,le,he){if(!M)throw Error("Invalid event type");var Se=l(le)?!!le.capture:!!le,Qt=xe(d);if(Qt||(d[ce]=Qt=new j(d)),H=Qt.add(M,H,Z,Se,he),H.proxy)return H;if(Z=He(),H.proxy=Z,Z.src=d,Z.listener=H,d.addEventListener)ue||(le=Se),le===void 0&&(le=!1),d.addEventListener(M.toString(),Z,le);else if(d.attachEvent)d.attachEvent(Re(M.toString()),Z);else if(d.addListener&&d.removeListener)d.addListener(Z);else throw Error("addEventListener and attachEvent are unavailable.");return H}function He(){function d(H){return M.call(d.src,d.listener,H)}const M=ze;return d}function _t(d,M,H,Z,le){if(Array.isArray(M))for(var he=0;he<M.length;he++)_t(d,M[he],H,Z,le);else Z=l(Z)?!!Z.capture:!!Z,H=Ue(H),d&&d[Q]?(d=d.i,M=String(M).toString(),M in d.g&&(he=d.g[M],H=se(he,H,Z,le),-1<H&&(N(he[H]),Array.prototype.splice.call(he,H,1),he.length==0&&(delete d.g[M],d.h--)))):d&&(d=xe(d))&&(M=d.g[M.toString()],d=-1,M&&(d=se(M,H,Z,le)),(H=-1<d?M[d]:null)&&Pe(H))}function Pe(d){if(typeof d!="number"&&d&&!d.da){var M=d.src;if(M&&M[Q])K(M.i,d);else{var H=d.type,Z=d.proxy;M.removeEventListener?M.removeEventListener(H,Z,d.capture):M.detachEvent?M.detachEvent(Re(H),Z):M.addListener&&M.removeListener&&M.removeListener(Z),(H=xe(M))?(K(H,d),H.h==0&&(H.src=null,M[ce]=null)):N(d)}}}function Re(d){return d in pe?pe[d]:pe[d]="on"+d}function ze(d,M){if(d.da)d=!0;else{M=new ie(M,this);var H=d.listener,Z=d.ha||d.src;d.fa&&Pe(d),d=H.call(Z,M)}return d}function xe(d){return d=d[ce],d instanceof j?d:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ue(d){return typeof d=="function"?d:(d[Te]||(d[Te]=function(M){return d.handleEvent(M)}),d[Te])}function ve(){I.call(this),this.i=new j(this),this.M=this,this.F=null}w(ve,I),ve.prototype[Q]=!0,ve.prototype.removeEventListener=function(d,M,H,Z){_t(this,d,M,H,Z)};function q(d,M){var H,Z=d.F;if(Z)for(H=[];Z;Z=Z.F)H.push(Z);if(d=d.M,Z=M.type||M,typeof M=="string")M=new G(M,d);else if(M instanceof G)M.target=M.target||d;else{var le=M;M=new G(Z,d),T(M,le)}if(le=!0,H)for(var he=H.length-1;0<=he;he--){var Se=M.g=H[he];le=R(Se,Z,!0,M)&&le}if(Se=M.g=d,le=R(Se,Z,!0,M)&&le,le=R(Se,Z,!1,M)&&le,H)for(he=0;he<H.length;he++)Se=M.g=H[he],le=R(Se,Z,!1,M)&&le}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var d=this.i,M;for(M in d.g){for(var H=d.g[M],Z=0;Z<H.length;Z++)N(H[Z]);delete d.g[M],d.h--}}this.F=null},ve.prototype.K=function(d,M,H,Z){return this.i.add(String(d),M,!1,H,Z)},ve.prototype.L=function(d,M,H,Z){return this.i.add(String(d),M,!0,H,Z)};function R(d,M,H,Z){if(M=d.i.g[String(M)],!M)return!0;M=M.concat();for(var le=!0,he=0;he<M.length;++he){var Se=M[he];if(Se&&!Se.da&&Se.capture==H){var Qt=Se.listener,nr=Se.ha||Se.src;Se.fa&&K(d.i,Se),le=Qt.call(nr,Z)!==!1&&le}}return le&&!Z.defaultPrevented}function L(d,M,H){if(typeof d=="function")H&&(d=f(d,H));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(M)?-1:a.setTimeout(d,M||0)}function J(d){d.g=L(()=>{d.g=null,d.i&&(d.i=!1,J(d))},d.l);const M=d.h;d.h=null,d.m.apply(null,M)}class ne extends I{constructor(M,H){super(),this.m=M,this.l=H,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:J(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function re(d){I.call(this),this.h=d,this.g={}}w(re,I);var ae=[];function Ce(d){V(d.g,function(M,H){this.g.hasOwnProperty(H)&&Pe(M)},d),d.g={}}re.prototype.N=function(){re.aa.N.call(this),Ce(this)},re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ae=a.JSON.stringify,Fe=a.JSON.parse,ft=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Le(){}Le.prototype.h=null;function gt(d){return d.h||(d.h=d.i())}function er(){}var Et={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tt(){G.call(this,"d")}w(Tt,G);function Bt(){G.call(this,"c")}w(Bt,G);var Ge={},Xe=null;function Nt(){return Xe=Xe||new ve}Ge.La="serverreachability";function et(d){G.call(this,Ge.La,d)}w(et,G);function Qe(d){const M=Nt();q(M,new et(M))}Ge.STAT_EVENT="statevent";function Ht(d,M){G.call(this,Ge.STAT_EVENT,d),this.stat=M}w(Ht,G);function Ve(d){const M=Nt();q(M,new Ht(M,d))}Ge.Ma="timingevent";function tt(d,M){G.call(this,Ge.Ma,d),this.size=M}w(tt,G);function Ft(d,M){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},M)}function Ze(){this.g=!0}Ze.prototype.xa=function(){this.g=!1};function nt(d,M,H,Z,le,he){d.info(function(){if(d.g)if(he)for(var Se="",Qt=he.split("&"),nr=0;nr<Qt.length;nr++){var Ot=Qt[nr].split("=");if(1<Ot.length){var mr=Ot[0];Ot=Ot[1];var yr=mr.split("_");Se=2<=yr.length&&yr[1]=="type"?Se+(mr+"="+Ot+"&"):Se+(mr+"=redacted&")}}else Se=null;else Se=he;return"XMLHTTP REQ ("+Z+") [attempt "+le+"]: "+M+`
`+H+`
`+Se})}function Ut(d,M,H,Z,le,he,Se){d.info(function(){return"XMLHTTP RESP ("+Z+") [ attempt "+le+"]: "+M+`
`+H+`
`+he+" "+Se})}function We(d,M,H,Z){d.info(function(){return"XMLHTTP TEXT ("+M+"): "+qt(d,H)+(Z?" "+Z:"")})}function it(d,M){d.info(function(){return"TIMEOUT: "+M})}Ze.prototype.info=function(){};function qt(d,M){if(!d.g)return M;if(!M)return null;try{var H=JSON.parse(M);if(H){for(d=0;d<H.length;d++)if(Array.isArray(H[d])){var Z=H[d];if(!(2>Z.length)){var le=Z[1];if(Array.isArray(le)&&!(1>le.length)){var he=le[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Se=1;Se<le.length;Se++)le[Se]=""}}}}return Ae(H)}catch{return M}}var $t={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ii;function vt(){}w(vt,Le),vt.prototype.g=function(){return new XMLHttpRequest},vt.prototype.i=function(){return{}},Ii=new vt;function St(d,M,H,Z){this.j=d,this.i=M,this.l=H,this.R=Z||1,this.U=new re(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xi}function xi(){this.i=null,this.g="",this.h=!1}var Ti={},si={};function oi(d,M,H){d.L=1,d.v=Eu(ss(M)),d.m=H,d.P=!0,Un(d,null)}function Un(d,M){d.F=Date.now(),Wr(d),d.A=ss(d.v);var H=d.A,Z=d.R;Array.isArray(Z)||(Z=[String(Z)]),sg(H.i,"t",Z),d.C=0,H=d.j.J,d.h=new xi,d.g=eC(d.j,H?M:null,!d.m),0<d.O&&(d.M=new ne(f(d.Y,d,d.g),d.O)),M=d.U,H=d.g,Z=d.ca;var le="readystatechange";Array.isArray(le)||(le&&(ae[0]=le.toString()),le=ae);for(var he=0;he<le.length;he++){var Se=Ee(H,le[he],Z||M.handleEvent,!1,M.h||M);if(!Se)break;M.g[Se.key]=Se}M=d.H?m(d.H):{},d.m?(d.u||(d.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,M)):(d.u="GET",d.g.ea(d.A,d.u,null,M)),Qe(),nt(d.i,d.u,d.A,d.l,d.R,d.m)}St.prototype.ca=function(d){d=d.target;const M=this.M;M&&ln(d)==3?M.j():this.Y(d)},St.prototype.Y=function(d){try{if(d==this.g)e:{const yr=ln(this.g);var M=this.g.Ba();const ec=this.g.Z();if(!(3>yr)&&(yr!=3||this.g&&(this.h.h||this.g.oa()||qr(this.g)))){this.J||yr!=4||M==7||(M==8||0>=ec?Qe(3):Qe(2)),ai(this);var H=this.g.Z();this.X=H;t:if(Ri(this)){var Z=qr(this.g);d="";var le=Z.length,he=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tr(this),Vn(this);var Se="";break t}this.h.i=new a.TextDecoder}for(M=0;M<le;M++)this.h.h=!0,d+=this.h.i.decode(Z[M],{stream:!(he&&M==le-1)});Z.length=0,this.h.g+=d,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=H==200,Ut(this.i,this.u,this.A,this.l,this.R,yr,H),this.o){if(this.T&&!this.K){t:{if(this.g){var Qt,nr=this.g;if((Qt=nr.g?nr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Qt)){var Ot=Qt;break t}}Ot=null}if(H=Ot)We(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ui(this,H);else{this.o=!1,this.s=3,Ve(12),tr(this),Vn(this);break e}}if(this.P){H=!0;let ls;for(;!this.J&&this.C<Se.length;)if(ls=is(this,Se),ls==si){yr==4&&(this.s=4,Ve(14),H=!1),We(this.i,this.l,null,"[Incomplete Response]");break}else if(ls==Ti){this.s=4,Ve(15),We(this.i,this.l,Se,"[Invalid Chunk]"),H=!1;break}else We(this.i,this.l,ls,null),ui(this,ls);if(Ri(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yr!=4||Se.length!=0||this.h.h||(this.s=1,Ve(16),H=!1),this.o=this.o&&H,!H)We(this.i,this.l,Se,"[Invalid Chunked Response]"),tr(this),Vn(this);else if(0<Se.length&&!this.W){this.W=!0;var mr=this.j;mr.g==this&&mr.ba&&!mr.M&&(mr.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),H_(mr),mr.M=!0,Ve(11))}}else We(this.i,this.l,Se,null),ui(this,Se);yr==4&&tr(this),this.o&&!this.J&&(yr==4?J5(this.j,this):(this.o=!1,Wr(this)))}else Hn(this.g),H==400&&0<Se.indexOf("Unknown SID")?(this.s=3,Ve(12)):(this.s=0,Ve(13)),tr(this),Vn(this)}}}catch{}finally{}};function Ri(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function is(d,M){var H=d.C,Z=M.indexOf(`
`,H);return Z==-1?si:(H=Number(M.substring(H,Z)),isNaN(H)?Ti:(Z+=1,Z+H>M.length?si:(M=M.slice(Z,Z+H),d.C=Z+H,M)))}St.prototype.cancel=function(){this.J=!0,tr(this)};function Wr(d){d.S=Date.now()+d.I,ki(d,d.I)}function ki(d,M){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ft(f(d.ba,d),M)}function ai(d){d.B&&(a.clearTimeout(d.B),d.B=null)}St.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(it(this.i,this.A),this.L!=2&&(Qe(),Ve(17)),tr(this),this.s=2,Vn(this)):ki(this,this.S-d)};function Vn(d){d.j.G==0||d.J||J5(d.j,d)}function tr(d){ai(d);var M=d.M;M&&typeof M.ma=="function"&&M.ma(),d.M=null,Ce(d.U),d.g&&(M=d.g,d.g=null,M.abort(),M.ma())}function ui(d,M){try{var H=d.j;if(H.G!=0&&(H.g==d||Eo(H.h,d))){if(!d.K&&Eo(H.h,d)&&H.G==3){try{var Z=H.Da.g.parse(M)}catch{Z=null}if(Array.isArray(Z)&&Z.length==3){var le=Z;if(le[0]==0){e:if(!H.u){if(H.g)if(H.g.F+3e3<d.F)lg(H),Gr(H);else break e;z_(H),Ve(18)}}else H.za=le[1],0<H.za-H.T&&37500>le[2]&&H.F&&H.v==0&&!H.C&&(H.C=Ft(f(H.Za,H),6e3));if(1>=oa(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else Ru(H,11)}else if((d.K||H.g==d)&&lg(H),!_(M))for(le=H.Da.g.parse(M),M=0;M<le.length;M++){let Ot=le[M];if(H.T=Ot[0],Ot=Ot[1],H.G==2)if(Ot[0]=="c"){H.K=Ot[1],H.ia=Ot[2];const mr=Ot[3];mr!=null&&(H.la=mr,H.j.info("VER="+H.la));const yr=Ot[4];yr!=null&&(H.Aa=yr,H.j.info("SVER="+H.Aa));const ec=Ot[5];ec!=null&&typeof ec=="number"&&0<ec&&(Z=1.5*ec,H.L=Z,H.j.info("backChannelRequestTimeoutMs_="+Z)),Z=H;const ls=d.g;if(ls){const hg=ls.g?ls.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hg){var he=Z.h;he.g||hg.indexOf("spdy")==-1&&hg.indexOf("quic")==-1&&hg.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(Ao(he,he.h),he.h=null))}if(Z.D){const W_=ls.g?ls.g.getResponseHeader("X-HTTP-Session-Id"):null;W_&&(Z.ya=W_,Gt(Z.I,Z.D,W_))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-d.F,H.j.info("Handshake RTT: "+H.R+"ms")),Z=H;var Se=d;if(Z.qa=X5(Z,Z.J?Z.ia:null,Z.W),Se.K){ng(Z.h,Se);var Qt=Se,nr=Z.L;nr&&(Qt.I=nr),Qt.B&&(ai(Qt),Wr(Qt)),Z.g=Se}else K5(Z);0<H.i.length&&xu(H)}else Ot[0]!="stop"&&Ot[0]!="close"||Ru(H,7);else H.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?Ru(H,7):Mi(H):Ot[0]!="noop"&&H.l&&H.l.ta(Ot),H.v=0)}}Qe(4)}catch{}}var zn=class{constructor(d,M){this.g=d,this.map=M}};function ia(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sa(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function oa(d){return d.h?1:d.g?d.g.size:0}function Eo(d,M){return d.h?d.h==M:d.g?d.g.has(M):!1}function Ao(d,M){d.g?d.g.add(M):d.h=M}function ng(d,M){d.h&&d.h==M?d.h=null:d.g&&d.g.has(M)&&d.g.delete(M)}ia.prototype.cancel=function(){if(this.i=_u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function _u(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let M=d.i;for(const H of d.g.values())M=M.concat(H.D);return M}return P(d.i)}function O_(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(u(d)){for(var M=[],H=d.length,Z=0;Z<H;Z++)M.push(d[Z]);return M}M=[],H=0;for(Z in d)M[H++]=d[Z];return M}function wu(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(u(d)||typeof d=="string"){var M=[];d=d.length;for(var H=0;H<d;H++)M.push(H);return M}M=[],H=0;for(const Z in d)M[H++]=Z;return M}}}function Af(d,M){if(d.forEach&&typeof d.forEach=="function")d.forEach(M,void 0);else if(u(d)||typeof d=="string")Array.prototype.forEach.call(d,M,void 0);else for(var H=wu(d),Z=O_(d),le=Z.length,he=0;he<le;he++)M.call(void 0,Z[he],H&&H[he],d)}var Sf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function L_(d,M){if(d){d=d.split("&");for(var H=0;H<d.length;H++){var Z=d[H].indexOf("="),le=null;if(0<=Z){var he=d[H].substring(0,Z);le=d[H].substring(Z+1)}else he=d[H];M(he,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function So(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof So){this.h=d.h,Zl(this,d.j),this.o=d.o,this.g=d.g,bu(this,d.s),this.l=d.l;var M=d.i,H=new Au;H.i=M.i,M.g&&(H.g=new Map(M.g),H.h=M.h),rg(this,H),this.m=d.m}else d&&(M=String(d).match(Sf))?(this.h=!1,Zl(this,M[1]||"",!0),this.o=Ns(M[2]||""),this.g=Ns(M[3]||"",!0),bu(this,M[4]),this.l=Ns(M[5]||"",!0),rg(this,M[6]||"",!0),this.m=Ns(M[7]||"")):(this.h=!1,this.i=new Au(null,this.h))}So.prototype.toString=function(){var d=[],M=this.j;M&&d.push(Pi(M,ig,!0),":");var H=this.g;return(H||M=="file")&&(d.push("//"),(M=this.o)&&d.push(Pi(M,ig,!0),"@"),d.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.s,H!=null&&d.push(":",String(H))),(H=this.l)&&(this.g&&H.charAt(0)!="/"&&d.push("/"),d.push(Pi(H,H.charAt(0)=="/"?F_:Os,!0))),(H=this.i.toString())&&d.push("?",H),(H=this.m)&&d.push("#",Pi(H,j_)),d.join("")};function ss(d){return new So(d)}function Zl(d,M,H){d.j=H?Ns(M,!0):M,d.j&&(d.j=d.j.replace(/:$/,""))}function bu(d,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);d.s=M}else d.s=null}function rg(d,M,H){M instanceof Au?(d.i=M,U_(d.i,d.h)):(H||(M=Pi(M,$_)),d.i=new Au(M,d.h))}function Gt(d,M,H){d.i.set(M,H)}function Eu(d){return Gt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ns(d,M){return d?M?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Pi(d,M,H){return typeof d=="string"?(d=encodeURI(d).replace(M,B_),H&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function B_(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ig=/[#\/\?@]/g,Os=/[#\?:]/g,F_=/[#\?]/g,$_=/[#\?@]/g,j_=/#/g;function Au(d,M){this.h=this.g=null,this.i=d||null,this.j=!!M}function Ls(d){d.g||(d.g=new Map,d.h=0,d.i&&L_(d.i,function(M,H){d.add(decodeURIComponent(M.replace(/\+/g," ")),H)}))}t=Au.prototype,t.add=function(d,M){Ls(this),this.i=null,d=os(this,d);var H=this.g.get(d);return H||this.g.set(d,H=[]),H.push(M),this.h+=1,this};function Bs(d,M){Ls(d),M=os(d,M),d.g.has(M)&&(d.i=null,d.h-=d.g.get(M).length,d.g.delete(M))}function Cf(d,M){return Ls(d),M=os(d,M),d.g.has(M)}t.forEach=function(d,M){Ls(this),this.g.forEach(function(H,Z){H.forEach(function(le){d.call(M,le,Z,this)},this)},this)},t.na=function(){Ls(this);const d=Array.from(this.g.values()),M=Array.from(this.g.keys()),H=[];for(let Z=0;Z<M.length;Z++){const le=d[Z];for(let he=0;he<le.length;he++)H.push(M[Z])}return H},t.V=function(d){Ls(this);let M=[];if(typeof d=="string")Cf(this,d)&&(M=M.concat(this.g.get(os(this,d))));else{d=Array.from(this.g.values());for(let H=0;H<d.length;H++)M=M.concat(d[H])}return M},t.set=function(d,M){return Ls(this),this.i=null,d=os(this,d),Cf(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[M]),this.h+=1,this},t.get=function(d,M){return d?(d=this.V(d),0<d.length?String(d[0]):M):M};function sg(d,M,H){Bs(d,M),0<H.length&&(d.i=null,d.g.set(os(d,M),P(H)),d.h+=H.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],M=Array.from(this.g.keys());for(var H=0;H<M.length;H++){var Z=M[H];const he=encodeURIComponent(String(Z)),Se=this.V(Z);for(Z=0;Z<Se.length;Z++){var le=he;Se[Z]!==""&&(le+="="+encodeURIComponent(String(Se[Z]))),d.push(le)}}return this.i=d.join("&")};function os(d,M){return M=String(M),d.j&&(M=M.toLowerCase()),M}function U_(d,M){M&&!d.j&&(Ls(d),d.i=null,d.g.forEach(function(H,Z){var le=Z.toLowerCase();Z!=le&&(Bs(this,Z),sg(this,le,H))},d)),d.j=M}function If(d,M){const H=new Ze;if(a.Image){const Z=new Image;Z.onload=g(as,H,"TestLoadImage: loaded",!0,M,Z),Z.onerror=g(as,H,"TestLoadImage: error",!1,M,Z),Z.onabort=g(as,H,"TestLoadImage: abort",!1,M,Z),Z.ontimeout=g(as,H,"TestLoadImage: timeout",!1,M,Z),a.setTimeout(function(){Z.ontimeout&&Z.ontimeout()},1e4),Z.src=d}else M(!1)}function V_(d,M){const H=new Ze,Z=new AbortController,le=setTimeout(()=>{Z.abort(),as(H,"TestPingServer: timeout",!1,M)},1e4);fetch(d,{signal:Z.signal}).then(he=>{clearTimeout(le),he.ok?as(H,"TestPingServer: ok",!0,M):as(H,"TestPingServer: server error",!1,M)}).catch(()=>{clearTimeout(le),as(H,"TestPingServer: error",!1,M)})}function as(d,M,H,Z,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),Z(H)}catch{}}function og(){this.g=new ft}function ag(d,M,H){const Z=H||"";try{Af(d,function(le,he){let Se=le;l(le)&&(Se=Ae(le)),M.push(Z+he+"="+encodeURIComponent(Se))})}catch(le){throw M.push(Z+"type="+encodeURIComponent("_badmap")),le}}function us(d){this.l=d.Ub||null,this.j=d.eb||!1}w(us,Le),us.prototype.g=function(){return new Su(this.l,this.j)},us.prototype.i=function(d){return function(){return d}}({});function Su(d,M){ve.call(this),this.D=d,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Su,ve),t=Su.prototype,t.open=function(d,M){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=M,this.readyState=1,Iu(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(M.body=d),(this.D||a).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cu(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Iu(this)),this.g&&(this.readyState=3,Iu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ug(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function ug(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var M=d.value?d.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!d.done}))&&(this.response=this.responseText+=M)}d.done?Cu(this):Iu(this),this.readyState==3&&ug(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Cu(this))},t.Qa=function(d){this.g&&(this.response=d,Cu(this))},t.ga=function(){this.g&&Cu(this)};function Cu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Iu(d)}t.setRequestHeader=function(d,M){this.u.append(d,M)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],M=this.h.entries();for(var H=M.next();!H.done;)H=H.value,d.push(H[0]+": "+H[1]),H=M.next();return d.join(`\r
`)};function Iu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Su.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function te(d){let M="";return V(d,function(H,Z){M+=Z,M+=":",M+=H,M+=`\r
`}),M}function oe(d,M,H){e:{for(Z in H){var Z=!1;break e}Z=!0}Z||(H=te(H),typeof d=="string"?H!=null&&encodeURIComponent(String(H)):Gt(d,M,H))}function de(d){ve.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(de,ve);var Me=/^https?$/i,Kt=["POST","PUT"];t=de.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,M,H,Z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);M=M?M.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ii.g(),this.v=this.o?gt(this.o):gt(Ii),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(M,String(d),!0),this.B=!1}catch(he){at(this,he);return}if(d=H||"",H=new Map(this.headers),Z)if(Object.getPrototypeOf(Z)===Object.prototype)for(var le in Z)H.set(le,Z[le]);else if(typeof Z.keys=="function"&&typeof Z.get=="function")for(const he of Z.keys())H.set(he,Z.get(he));else throw Error("Unknown input type for opt_headers: "+String(Z));Z=Array.from(H.keys()).find(he=>he.toLowerCase()=="content-type"),le=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Kt,M,void 0))||Z||le||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Se]of H)this.g.setRequestHeader(he,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zt(this),this.u=!0,this.g.send(d),this.u=!1}catch(he){at(this,he)}};function at(d,M){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=M,d.m=5,tn(d),wn(d)}function tn(d){d.A||(d.A=!0,q(d,"complete"),q(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,q(this,"complete"),q(this,"abort"),wn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wn(this,!0)),de.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?An(this):this.bb())},t.bb=function(){An(this)};function An(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ln(d)!=4||d.Z()!=2)){if(d.u&&ln(d)==4)L(d.Ea,0,d);else if(q(d,"readystatechange"),ln(d)==4){d.h=!1;try{const Se=d.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var H;if(!(H=M)){var Z;if(Z=Se===0){var le=String(d.D).match(Sf)[1]||null;!le&&a.self&&a.self.location&&(le=a.self.location.protocol.slice(0,-1)),Z=!Me.test(le?le.toLowerCase():"")}H=Z}if(H)q(d,"complete"),q(d,"success");else{d.m=6;try{var he=2<ln(d)?d.g.statusText:""}catch{he=""}d.l=he+" ["+d.Z()+"]",tn(d)}}finally{wn(d)}}}}function wn(d,M){if(d.g){Zt(d);const H=d.g,Z=d.v[0]?()=>{}:null;d.g=null,d.v=null,M||q(d,"ready");try{H.onreadystatechange=Z}catch{}}}function Zt(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ln(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var M=this.g.responseText;return d&&M.indexOf(d)==0&&(M=M.substring(d.length)),Fe(M)}};function qr(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Hn(d){const M={};d=(d.g&&2<=ln(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let Z=0;Z<d.length;Z++){if(_(d[Z]))continue;var H=B(d[Z]);const le=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const he=M[le]||[];M[le]=he,he.push(H)}v(M,function(Z){return Z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wn(d,M,H){return H&&H.internalChannelParams&&H.internalChannelParams[d]||M}function Dr(d){this.Aa=0,this.i=[],this.j=new Ze,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wn("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wn("baseRetryDelayMs",5e3,d),this.cb=Wn("retryDelaySeedMs",1e4,d),this.Wa=Wn("forwardChannelMaxRetries",2,d),this.wa=Wn("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ia(d&&d.concurrentRequestLimit),this.Da=new og,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Dr.prototype,t.la=8,t.G=1,t.connect=function(d,M,H,Z){Ve(0),this.W=d,this.H=M||{},H&&Z!==void 0&&(this.H.OSID=H,this.H.OAID=Z),this.F=this.X,this.I=X5(this,null,this.W),xu(this)};function Mi(d){if(Fs(d),d.G==3){var M=d.U++,H=ss(d.I);if(Gt(H,"SID",d.K),Gt(H,"RID",M),Gt(H,"TYPE","terminate"),xf(d,H),M=new St(d,d.j,M),M.L=2,M.v=Eu(ss(H)),H=!1,a.navigator&&a.navigator.sendBeacon)try{H=a.navigator.sendBeacon(M.v.toString(),"")}catch{}!H&&a.Image&&(new Image().src=M.v,H=!0),H||(M.g=eC(M.j,null),M.g.ea(M.v)),M.F=Date.now(),Wr(M)}Y5(d)}function Gr(d){d.g&&(H_(d),d.g.cancel(),d.g=null)}function Fs(d){Gr(d),d.u&&(a.clearTimeout(d.u),d.u=null),lg(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function xu(d){if(!sa(d.h)&&!d.s){d.s=!0;var M=d.Ga;k||W(),C||(k(),C=!0),F.add(M,d),d.B=0}}function Yl(d,M){return oa(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=M.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ft(f(d.Ga,d,M),Z5(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const le=new St(this,this.j,d);let he=this.o;if(this.S&&(he?(he=m(he),T(he,this.S)):he=this.S),this.m!==null||this.O||(le.H=he,he=null),this.P)e:{for(var M=0,H=0;H<this.i.length;H++){t:{var Z=this.i[H];if("__data__"in Z.map&&(Z=Z.map.__data__,typeof Z=="string")){Z=Z.length;break t}Z=void 0}if(Z===void 0)break;if(M+=Z,4096<M){M=H;break e}if(M===4096||H===this.i.length-1){M=H+1;break e}}M=1e3}else M=1e3;M=G5(this,le,M),H=ss(this.I),Gt(H,"RID",d),Gt(H,"CVER",22),this.D&&Gt(H,"X-HTTP-Session-Id",this.D),xf(this,H),he&&(this.O?M="headers="+encodeURIComponent(String(te(he)))+"&"+M:this.m&&oe(H,this.m,he)),Ao(this.h,le),this.Ua&&Gt(H,"TYPE","init"),this.P?(Gt(H,"$req",M),Gt(H,"SID","null"),le.T=!0,oi(le,H,null)):oi(le,H,M),this.G=2}}else this.G==3&&(d?Tu(this,d):this.i.length==0||sa(this.h)||Tu(this))};function Tu(d,M){var H;M?H=M.l:H=d.U++;const Z=ss(d.I);Gt(Z,"SID",d.K),Gt(Z,"RID",H),Gt(Z,"AID",d.T),xf(d,Z),d.m&&d.o&&oe(Z,d.m,d.o),H=new St(d,d.j,H,d.B+1),d.m===null&&(H.H=d.o),M&&(d.i=M.D.concat(d.i)),M=G5(d,H,1e3),H.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ao(d.h,H),oi(H,Z,M)}function xf(d,M){d.H&&V(d.H,function(H,Z){Gt(M,Z,H)}),d.l&&Af({},function(H,Z){Gt(M,Z,H)})}function G5(d,M,H){H=Math.min(d.i.length,H);var Z=d.l?f(d.l.Na,d.l,d):null;e:{var le=d.i;let he=-1;for(;;){const Se=["count="+H];he==-1?0<H?(he=le[0].g,Se.push("ofs="+he)):he=0:Se.push("ofs="+he);let Qt=!0;for(let nr=0;nr<H;nr++){let Ot=le[nr].g;const mr=le[nr].map;if(Ot-=he,0>Ot)he=Math.max(0,le[nr].g-100),Qt=!1;else try{ag(mr,Se,"req"+Ot+"_")}catch{Z&&Z(mr)}}if(Qt){Z=Se.join("&");break e}}}return d=d.i.splice(0,H),M.D=d,Z}function K5(d){if(!d.g&&!d.u){d.Y=1;var M=d.Fa;k||W(),C||(k(),C=!0),F.add(M,d),d.v=0}}function z_(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ft(f(d.Fa,d),Z5(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Q5(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ft(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ve(10),Gr(this),Q5(this))};function H_(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Q5(d){d.g=new St(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var M=ss(d.qa);Gt(M,"RID","rpc"),Gt(M,"SID",d.K),Gt(M,"AID",d.T),Gt(M,"CI",d.F?"0":"1"),!d.F&&d.ja&&Gt(M,"TO",d.ja),Gt(M,"TYPE","xmlhttp"),xf(d,M),d.m&&d.o&&oe(M,d.m,d.o),d.L&&(d.g.I=d.L);var H=d.g;d=d.ia,H.L=1,H.v=Eu(ss(M)),H.m=null,H.P=!0,Un(H,d)}t.Za=function(){this.C!=null&&(this.C=null,Gr(this),z_(this),Ve(19))};function lg(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function J5(d,M){var H=null;if(d.g==M){lg(d),H_(d),d.g=null;var Z=2}else if(Eo(d.h,M))H=M.D,ng(d.h,M),Z=1;else return;if(d.G!=0){if(M.o)if(Z==1){H=M.m?M.m.length:0,M=Date.now()-M.F;var le=d.B;Z=Nt(),q(Z,new tt(Z,H)),xu(d)}else K5(d);else if(le=M.s,le==3||le==0&&0<M.X||!(Z==1&&Yl(d,M)||Z==2&&z_(d)))switch(H&&0<H.length&&(M=d.h,M.i=M.i.concat(H)),le){case 1:Ru(d,5);break;case 4:Ru(d,10);break;case 3:Ru(d,6);break;default:Ru(d,2)}}}function Z5(d,M){let H=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(H*=2),H*M}function Ru(d,M){if(d.j.info("Error code "+M),M==2){var H=f(d.fb,d),Z=d.Xa;const le=!Z;Z=new So(Z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zl(Z,"https"),Eu(Z),le?If(Z.toString(),H):V_(Z.toString(),H)}else Ve(2);d.G=0,d.l&&d.l.sa(M),Y5(d),Fs(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function Y5(d){if(d.G=0,d.ka=[],d.l){const M=_u(d.h);(M.length!=0||d.i.length!=0)&&(D(d.ka,M),D(d.ka,d.i),d.h.i.length=0,P(d.i),d.i.length=0),d.l.ra()}}function X5(d,M,H){var Z=H instanceof So?ss(H):new So(H);if(Z.g!="")M&&(Z.g=M+"."+Z.g),bu(Z,Z.s);else{var le=a.location;Z=le.protocol,M=M?M+"."+le.hostname:le.hostname,le=+le.port;var he=new So(null);Z&&Zl(he,Z),M&&(he.g=M),le&&bu(he,le),H&&(he.l=H),Z=he}return H=d.D,M=d.ya,H&&M&&Gt(Z,H,M),Gt(Z,"VER",d.la),xf(d,Z),Z}function eC(d,M,H){if(M&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return M=d.Ca&&!d.pa?new de(new us({eb:H})):new de(d.pa),M.Ha(d.J),M}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tC(){}t=tC.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function cg(){}cg.prototype.g=function(d,M){return new li(d,M)};function li(d,M){ve.call(this),this.g=new Dr(M),this.l=d,this.h=M&&M.messageUrlParams||null,d=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(d?d["X-WebChannel-Content-Type"]=M.messageContentType:d={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(d?d["X-WebChannel-Client-Profile"]=M.va:d={"X-WebChannel-Client-Profile":M.va}),this.g.S=d,(d=M&&M.Sb)&&!_(d)&&(this.g.m=d),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!_(M)&&(this.g.D=M,d=this.h,d!==null&&M in d&&(d=this.h,M in d&&delete d[M])),this.j=new Xl(this)}w(li,ve),li.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},li.prototype.close=function(){Mi(this.g)},li.prototype.o=function(d){var M=this.g;if(typeof d=="string"){var H={};H.__data__=d,d=H}else this.u&&(H={},H.__data__=Ae(d),d=H);M.i.push(new zn(M.Ya++,d)),M.G==3&&xu(M)},li.prototype.N=function(){this.g.l=null,delete this.j,Mi(this.g),delete this.g,li.aa.N.call(this)};function nC(d){Tt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var M=d.__sm__;if(M){e:{for(const H in M){d=H;break e}d=void 0}(this.i=d)&&(d=this.i,M=M!==null&&d in M?M[d]:void 0),this.data=M}else this.data=d}w(nC,Tt);function rC(){Bt.call(this),this.status=1}w(rC,Bt);function Xl(d){this.g=d}w(Xl,tC),Xl.prototype.ua=function(){q(this.g,"a")},Xl.prototype.ta=function(d){q(this.g,new nC(d))},Xl.prototype.sa=function(d){q(this.g,new rC)},Xl.prototype.ra=function(){q(this.g,"b")},cg.prototype.createWebChannel=cg.prototype.g,li.prototype.send=li.prototype.o,li.prototype.open=li.prototype.m,li.prototype.close=li.prototype.close,PN=function(){return new cg},kN=function(){return Nt()},RN=Ge,V2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$t.NO_ERROR=0,$t.TIMEOUT=8,$t.HTTP_ERROR=6,Om=$t,Vt.COMPLETE="complete",TN=Vt,er.EventType=Et,Et.OPEN="a",Et.CLOSE="b",Et.ERROR="c",Et.MESSAGE="d",ve.prototype.listen=ve.prototype.K,Xf=er,xN=us,de.prototype.listenOnce=de.prototype.L,de.prototype.getLastError=de.prototype.Ka,de.prototype.getLastErrorCode=de.prototype.Ba,de.prototype.getStatus=de.prototype.Z,de.prototype.getResponseJson=de.prototype.Oa,de.prototype.getResponseText=de.prototype.oa,de.prototype.send=de.prototype.ea,de.prototype.setWithCredentials=de.prototype.Ha,IN=de}).apply(typeof Wg<"u"?Wg:typeof self<"u"?self:typeof window<"u"?window:{});const XI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sr.UNAUTHENTICATED=new Sr(null),Sr.GOOGLE_CREDENTIALS=new Sr("google-credentials-uid"),Sr.FIRST_PARTY=new Sr("first-party-uid"),Sr.MOCK_USER=new Sr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=new uS("@firebase/firestore");function $f(){return xl.logLevel}function je(t,...e){if(xl.logLevel<=Mt.DEBUG){const n=e.map(pS);xl.debug(`Firestore (${uf}): ${t}`,...n)}}function Qo(t,...e){if(xl.logLevel<=Mt.ERROR){const n=e.map(pS);xl.error(`Firestore (${uf}): ${t}`,...n)}}function Dh(t,...e){if(xl.logLevel<=Mt.WARN){const n=e.map(pS);xl.warn(`Firestore (${uf}): ${t}`,...n)}}function pS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t="Unexpected state"){const e=`FIRESTORE (${uf}) INTERNAL ASSERTION FAILED: `+t;throw Qo(e),new Error(e)}function en(t,e){t||rt()}function ht(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends mu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Sr.UNAUTHENTICATED))}shutdown(){}}class cte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hte{constructor(e){this.t=e,this.currentUser=Sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ga;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ga,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ga)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(en(typeof r.accessToken=="string"),new MN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return en(e===null||typeof e=="string"),new Sr(e)}}class fte{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Sr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dte{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fte(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Sr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pte{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gte{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(en(typeof n.token=="string"),this.R=n.token,new pte(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=mte(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function jt(t,e){return t<e?-1:t>e?1:0}function Nh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Be(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Be(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Be(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $n.fromMillis(Date.now())}static fromDate(e){return $n.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $n(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ut(e)}static min(){return new ut(new $n(0,0))}static max(){return new ut(new $n(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(),r===void 0?r=e.length-n:r>e.length-n&&rt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return k0.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof k0?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class sn extends k0{construct(e,n,r){return new sn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new sn(n)}static emptyPath(){return new sn([])}}const yte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends k0{construct(e,n,r){return new lr(e,n,r)}static isValidIdentifier(e){return yte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new lr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Be(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Be(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Be(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Be(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lr(n)}static emptyPath(){return new lr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(sn.fromString(e))}static fromName(e){return new Ke(sn.fromString(e).popFirst(5))}static empty(){return new Ke(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&sn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return sn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new sn(e.slice()))}}function vte(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ut.fromTimestamp(r===1e9?new $n(n+1,0):new $n(n,r));return new iu(i,Ke.empty(),e)}function _te(t){return new iu(t.readTime,t.key,-1)}class iu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new iu(ut.min(),Ke.empty(),-1)}static max(){return new iu(ut.max(),Ke.empty(),-1)}}function wte(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ke.comparator(t.documentKey,e.documentKey),n!==0?n:jt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ete{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yp(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==bte)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):me.reject(n)}static resolve(e){return new me((n,r)=>{n(e)})}static reject(e){return new me((n,r)=>{r(e)})}static waitFor(e){return new me((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=me.resolve(!1);for(const r of e)n=n.next(i=>i?me.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new me((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new me((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ate(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}gS.oe=-1;function iv(t){return t==null}function K1(t){return t===0&&1/t==-1/0}function Ste(t){return typeof t=="number"&&Number.isInteger(t)&&!K1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n){this.comparator=e,this.root=n||or.EMPTY}insert(e,n){return new _n(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,or.BLACK,null,null))}remove(e){return new _n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,or.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qg(this.root,e,this.comparator,!1)}getReverseIterator(){return new qg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qg(this.root,e,this.comparator,!0)}}class qg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class or{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??or.RED,this.left=i??or.EMPTY,this.right=s??or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new or(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return or.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}or.EMPTY=null,or.RED=!0,or.BLACK=!1;or.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new or(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.comparator=e,this.data=new _n(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t4(this.data.getIterator())}getIteratorFrom(e){return new t4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dr(this.comparator);return n.data=e,n}}class t4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new Es([])}unionWith(e){let n=new dr(lr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Es(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Nh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ON("Invalid base64 string: "+s):s}}(e);return new Pr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Pr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const Cte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function su(t){if(en(!!t),typeof t=="string"){let e=0;const n=Cte.exec(t);if(en(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kn(t.seconds),nanos:kn(t.nanos)}}function kn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Tl(t){return typeof t=="string"?Pr.fromBase64String(t):Pr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function yS(t){const e=t.mapValue.fields.__previous_value__;return mS(e)?yS(e):e}function P0(t){const e=su(t.mapValue.fields.__local_write_time__.timestampValue);return new $n(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class M0{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new M0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof M0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Rl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mS(t)?4:xte(t)?9007199254740991:10:rt()}function vo(t,e){if(t===e)return!0;const n=Rl(t);if(n!==Rl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return P0(t).isEqual(P0(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=su(i.timestampValue),a=su(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Tl(i.bytesValue).isEqual(Tl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return kn(i.geoPointValue.latitude)===kn(s.geoPointValue.latitude)&&kn(i.geoPointValue.longitude)===kn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return kn(i.integerValue)===kn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=kn(i.doubleValue),a=kn(s.doubleValue);return o===a?K1(o)===K1(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Nh(t.arrayValue.values||[],e.arrayValue.values||[],vo);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(e4(o)!==e4(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!vo(o[u],a[u])))return!1;return!0}(t,e);default:return rt()}}function D0(t,e){return(t.values||[]).find(n=>vo(n,e))!==void 0}function Oh(t,e){if(t===e)return 0;const n=Rl(t),r=Rl(e);if(n!==r)return jt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=kn(s.integerValue||s.doubleValue),u=kn(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return n4(t.timestampValue,e.timestampValue);case 4:return n4(P0(t),P0(e));case 5:return jt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Tl(s),u=Tl(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=jt(a[l],u[l]);if(c!==0)return c}return jt(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=jt(kn(s.latitude),kn(o.latitude));return a!==0?a:jt(kn(s.longitude),kn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=Oh(a[l],u[l]);if(c)return c}return jt(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Gg.mapValue&&o===Gg.mapValue)return 0;if(s===Gg.mapValue)return 1;if(o===Gg.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let h=0;h<u.length&&h<c.length;++h){const f=jt(u[h],c[h]);if(f!==0)return f;const g=Oh(a[u[h]],l[c[h]]);if(g!==0)return g}return jt(u.length,c.length)}(t.mapValue,e.mapValue);default:throw rt()}}function n4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return jt(t,e);const n=su(t),r=su(e),i=jt(n.seconds,r.seconds);return i!==0?i:jt(n.nanos,r.nanos)}function Lh(t){return z2(t)}function z2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=su(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Tl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ke.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=z2(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${z2(n.fields[o])}`;return i+"}"}(t.mapValue):rt()}function r4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function H2(t){return!!t&&"integerValue"in t}function vS(t){return!!t&&"arrayValue"in t}function i4(t){return!!t&&"nullValue"in t}function s4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lm(t){return!!t&&"mapValue"in t}function md(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lf(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=md(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=md(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xte(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=md(n)}setAll(e){let n=lr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=md(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Lm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){lf(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Hi(md(this.value))}}function LN(t){const e=[];return lf(t.fields,(n,r)=>{const i=new lr([n]);if(Lm(r)){const s=LN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Es(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ir(e,0,ut.min(),ut.min(),ut.min(),Hi.empty(),0)}static newFoundDocument(e,n,r,i){return new Ir(e,1,n,ut.min(),r,i,0)}static newNoDocument(e,n){return new Ir(e,2,n,ut.min(),ut.min(),Hi.empty(),0)}static newUnknownDocument(e,n){return new Ir(e,3,n,ut.min(),ut.min(),Hi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n){this.position=e,this.inclusive=n}}function o4(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ke.comparator(Ke.fromName(o.referenceValue),n.key):r=Oh(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function a4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n="asc"){this.field=e,this.dir=n}}function Tte(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{}class Mn extends BN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kte(e,n,r):n==="array-contains"?new Dte(e,r):n==="in"?new Nte(e,r):n==="not-in"?new Ote(e,r):n==="array-contains-any"?new Lte(e,r):new Mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Pte(e,r):new Mte(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Oh(n,this.value)):n!==null&&Rl(this.value)===Rl(n)&&this.matchesComparison(Oh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rs extends BN{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Rs(e,n)}matches(e){return FN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function FN(t){return t.op==="and"}function $N(t){return Rte(t)&&FN(t)}function Rte(t){for(const e of t.filters)if(e instanceof Rs)return!1;return!0}function W2(t){if(t instanceof Mn)return t.field.canonicalString()+t.op.toString()+Lh(t.value);if($N(t))return t.filters.map(e=>W2(e)).join(",");{const e=t.filters.map(n=>W2(n)).join(",");return`${t.op}(${e})`}}function jN(t,e){return t instanceof Mn?function(r,i){return i instanceof Mn&&r.op===i.op&&r.field.isEqual(i.field)&&vo(r.value,i.value)}(t,e):t instanceof Rs?function(r,i){return i instanceof Rs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&jN(o,i.filters[a]),!0):!1}(t,e):void rt()}function UN(t){return t instanceof Mn?function(n){return`${n.field.canonicalString()} ${n.op} ${Lh(n.value)}`}(t):t instanceof Rs?function(n){return n.op.toString()+" {"+n.getFilters().map(UN).join(" ,")+"}"}(t):"Filter"}class kte extends Mn{constructor(e,n,r){super(e,n,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const n=Ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class Pte extends Mn{constructor(e,n){super(e,"in",n),this.keys=VN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Mte extends Mn{constructor(e,n){super(e,"not-in",n),this.keys=VN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class Dte extends Mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vS(n)&&D0(n.arrayValue,this.value)}}class Nte extends Mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&D0(this.value.arrayValue,n)}}class Ote extends Mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(D0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!D0(this.value.arrayValue,n)}}class Lte extends Mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>D0(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function u4(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Bte(t,e,n,r,i,s,o)}function _S(t){const e=ht(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>W2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),iv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Lh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Lh(r)).join(",")),e.ue=n}return e.ue}function wS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Tte(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a4(t.startAt,e.startAt)&&a4(t.endAt,e.endAt)}function q2(t){return Ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Fte(t,e,n,r,i,s,o,a){return new cf(t,e,n,r,i,s,o,a)}function bS(t){return new cf(t)}function l4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zN(t){return t.collectionGroup!==null}function yd(t){const e=ht(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new dr(lr.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new N0(s,r))}),n.has(lr.keyField().canonicalString())||e.ce.push(new N0(lr.keyField(),r))}return e.ce}function co(t){const e=ht(t);return e.le||(e.le=$te(e,yd(t))),e.le}function $te(t,e){if(t.limitType==="F")return u4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new N0(i.field,s)});const n=t.endAt?new Q1(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Q1(t.startAt.position,t.startAt.inclusive):null;return u4(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function G2(t,e){const n=t.filters.concat([e]);return new cf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function K2(t,e,n){return new cf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sv(t,e){return wS(co(t),co(e))&&t.limitType===e.limitType}function HN(t){return`${_S(co(t))}|lt:${t.limitType}`}function yc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>UN(i)).join(", ")}]`),iv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Lh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Lh(i)).join(",")),`Target(${r})`}(co(t))}; limitType=${t.limitType})`}function ov(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ke.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of yd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=o4(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,yd(r),i)||r.endAt&&!function(o,a,u){const l=o4(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,yd(r),i))}(t,e)}function jte(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WN(t){return(e,n)=>{let r=!1;for(const i of yd(t)){const s=Ute(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Ute(t,e,n){const r=t.field.isKeyField()?Ke.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Oh(u,l):rt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lf(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return NN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vte=new _n(Ke.comparator);function Jo(){return Vte}const qN=new _n(Ke.comparator);function ed(...t){let e=qN;for(const n of t)e=e.insert(n.key,n);return e}function GN(t){let e=qN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ju(){return vd()}function KN(){return vd()}function vd(){return new hf(t=>t.toString(),(t,e)=>t.isEqual(e))}const zte=new _n(Ke.comparator),Hte=new dr(Ke.comparator);function At(...t){let e=Hte;for(const n of t)e=e.add(n);return e}const Wte=new dr(jt);function qte(){return Wte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:K1(e)?"-0":e}}function JN(t){return{integerValue:""+t}}function Gte(t,e){return Ste(e)?JN(e):QN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this._=void 0}}function Kte(t,e,n){return t instanceof J1?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&mS(s)&&(s=yS(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof O0?YN(t,e):t instanceof L0?XN(t,e):function(i,s){const o=ZN(i,s),a=c4(o)+c4(i.Pe);return H2(o)&&H2(i.Pe)?JN(a):QN(i.serializer,a)}(t,e)}function Qte(t,e,n){return t instanceof O0?YN(t,e):t instanceof L0?XN(t,e):n}function ZN(t,e){return t instanceof Z1?function(r){return H2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class J1 extends av{}class O0 extends av{constructor(e){super(),this.elements=e}}function YN(t,e){const n=eO(e);for(const r of t.elements)n.some(i=>vo(i,r))||n.push(r);return{arrayValue:{values:n}}}class L0 extends av{constructor(e){super(),this.elements=e}}function XN(t,e){let n=eO(e);for(const r of t.elements)n=n.filter(i=>!vo(i,r));return{arrayValue:{values:n}}}class Z1 extends av{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function c4(t){return kn(t.integerValue||t.doubleValue)}function eO(t){return vS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Jte(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof O0&&i instanceof O0||r instanceof L0&&i instanceof L0?Nh(r.elements,i.elements,vo):r instanceof Z1&&i instanceof Z1?vo(r.Pe,i.Pe):r instanceof J1&&i instanceof J1}(t.transform,e.transform)}class Zte{constructor(e,n){this.version=e,this.transformResults=n}}class jo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jo}static exists(e){return new jo(void 0,e)}static updateTime(e){return new jo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class uv{}function tO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rO(t.key,jo.none()):new _p(t.key,t.data,jo.none());{const n=t.data,r=Hi.empty();let i=new dr(lr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new jl(t.key,r,new Es(i.toArray()),jo.none())}}function Yte(t,e,n){t instanceof _p?function(i,s,o){const a=i.value.clone(),u=f4(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof jl?function(i,s,o){if(!Bm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=f4(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(nO(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function _d(t,e,n,r){return t instanceof _p?function(s,o,a,u){if(!Bm(s.precondition,o))return a;const l=s.value.clone(),c=d4(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof jl?function(s,o,a,u){if(!Bm(s.precondition,o))return a;const l=d4(s.fieldTransforms,u,o),c=o.data;return c.setAll(nO(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Bm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Xte(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ZN(r.transform,i||null);s!=null&&(n===null&&(n=Hi.empty()),n.set(r.field,s))}return n||null}function h4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Nh(r,i,(s,o)=>Jte(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _p extends uv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class jl extends uv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function nO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function f4(t,e,n){const r=new Map;en(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Qte(o,a,n[i]))}return r}function d4(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Kte(s,o,e))}return r}class rO extends uv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ene extends uv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Yte(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_d(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_d(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=tO(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ut.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),At())}isEqual(e){return this.batchId===e.batchId&&Nh(this.mutations,e.mutations,(n,r)=>h4(n,r))&&Nh(this.baseMutations,e.baseMutations,(n,r)=>h4(n,r))}}class ES{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){en(e.mutations.length===r.length);let i=function(){return zte}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ES(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,It;function ine(t){switch(t){default:return rt();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function iO(t){if(t===void 0)return Qo("GRPC error has no .code"),ge.UNKNOWN;switch(t){case Rn.OK:return ge.OK;case Rn.CANCELLED:return ge.CANCELLED;case Rn.UNKNOWN:return ge.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return ge.INTERNAL;case Rn.UNAVAILABLE:return ge.UNAVAILABLE;case Rn.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Rn.NOT_FOUND:return ge.NOT_FOUND;case Rn.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Rn.ABORTED:return ge.ABORTED;case Rn.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Rn.DATA_LOSS:return ge.DATA_LOSS;default:return rt()}}(It=Rn||(Rn={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sne(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const one=new cl([4294967295,4294967295],0);function p4(t){const e=sne().encode(t),n=new CN;return n.update(e),new Uint8Array(n.digest())}function g4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cl([n,r],0),new cl([i,s],0)]}class AS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new td(`Invalid padding: ${n}`);if(r<0)throw new td(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new td(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new td(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=cl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(cl.fromNumber(r)));return i.compare(one)===1&&(i=new cl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=p4(e),[r,i]=g4(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new AS(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=p4(e),[r,i]=g4(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lv(ut.min(),i,new _n(jt),Jo(),At())}}class wp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wp(r,n,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class sO{constructor(e,n){this.targetId=e,this.me=n}}class oO{constructor(e,n,r=Pr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class m4{constructor(){this.fe=0,this.ge=v4(),this.pe=Pr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=At(),n=At(),r=At();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new wp(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=v4()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,en(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ane{constructor(e){this.Le=e,this.Be=new Map,this.ke=Jo(),this.qe=y4(),this.Qe=new _n(jt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:rt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(q2(s))if(r===0){const o=new Ke(s.path);this.Ue(n,o,Ir.newNoDocument(o,ut.min()))}else en(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Tl(r).toUint8Array()}catch(u){if(u instanceof ON)return Dh("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new AS(o,i,s)}catch(u){return Dh(u instanceof td?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&q2(a.target)){const u=new Ke(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Ir.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=At();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new lv(e,n,this.Qe,this.ke,r);return this.ke=Jo(),this.qe=y4(),this.Qe=new _n(jt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new m4,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dr(jt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||je("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new m4),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function y4(){return new _n(Ke.comparator)}function v4(){return new _n(Ke.comparator)}const une={asc:"ASCENDING",desc:"DESCENDING"},lne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cne={and:"AND",or:"OR"};class hne{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Q2(t,e){return t.useProto3Json||iv(e)?e:{value:e}}function Y1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fne(t,e){return Y1(t,e.toTimestamp())}function ho(t){return en(!!t),ut.fromTimestamp(function(n){const r=su(n);return new $n(r.seconds,r.nanos)}(t))}function SS(t,e){return J2(t,e).canonicalString()}function J2(t,e){const n=function(i){return new sn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uO(t){const e=sn.fromString(t);return en(dO(e)),e}function Z2(t,e){return SS(t.databaseId,e.path)}function Yw(t,e){const n=uO(e);if(n.get(1)!==t.databaseId.projectId)throw new Be(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Be(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ke(cO(n))}function lO(t,e){return SS(t.databaseId,e)}function dne(t){const e=uO(t);return e.length===4?sn.emptyPath():cO(e)}function Y2(t){return new sn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cO(t){return en(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _4(t,e,n){return{name:Z2(t,e),fields:n.value.mapValue.fields}}function pne(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:rt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(en(c===void 0||typeof c=="string"),Pr.fromBase64String(c||"")):(en(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Pr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?ge.UNKNOWN:iO(l.code);return new Be(c,l.message||"")}(o);n=new oO(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Yw(t,r.document.name),s=ho(r.document.updateTime),o=r.document.createTime?ho(r.document.createTime):ut.min(),a=new Hi({mapValue:{fields:r.document.fields}}),u=Ir.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Fm(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Yw(t,r.document),s=r.readTime?ho(r.readTime):ut.min(),o=Ir.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Fm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Yw(t,r.document),s=r.removedTargetIds||[];n=new Fm([],s,i,null)}else{if(!("filter"in e))return rt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new rne(i,s),a=r.targetId;n=new sO(a,o)}}return n}function gne(t,e){let n;if(e instanceof _p)n={update:_4(t,e.key,e.value)};else if(e instanceof rO)n={delete:Z2(t,e.key)};else if(e instanceof jl)n={update:_4(t,e.key,e.data),updateMask:Sne(e.fieldMask)};else{if(!(e instanceof ene))return rt();n={verify:Z2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof J1)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof O0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof L0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Z1)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw rt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:fne(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:rt()}(t,e.precondition)),n}function mne(t,e){return t&&t.length>0?(en(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ho(i.updateTime):ho(s);return o.isEqual(ut.min())&&(o=ho(s)),new Zte(o,i.transformResults||[])}(n,e))):[]}function yne(t,e){return{documents:[lO(t,e.path)]}}function vne(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lO(t,i);const s=function(l){if(l.length!==0)return fO(Rs.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(c=>function(f){return{field:vc(f.field),direction:bne(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Q2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function _ne(t){let e=dne(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){en(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=hO(h);return f instanceof Rs&&$N(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(w){return new N0(_c(w.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,iv(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(h){const f=!!h.before,g=h.values||[];return new Q1(g,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,g=h.values||[];return new Q1(g,f)}(n.endAt)),Fte(e,i,o,s,a,"F",u,l)}function wne(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_c(n.unaryFilter.field);return Mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_c(n.unaryFilter.field);return Mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_c(n.unaryFilter.field);return Mn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_c(n.unaryFilter.field);return Mn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(t):t.fieldFilter!==void 0?function(n){return Mn.create(_c(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rs.create(n.compositeFilter.filters.map(r=>hO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return rt()}}(n.compositeFilter.op))}(t):rt()}function bne(t){return une[t]}function Ene(t){return lne[t]}function Ane(t){return cne[t]}function vc(t){return{fieldPath:t.canonicalString()}}function _c(t){return lr.fromServerFormat(t.fieldPath)}function fO(t){return t instanceof Mn?function(n){if(n.op==="=="){if(s4(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NAN"}};if(i4(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s4(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NOT_NAN"}};if(i4(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(n.field),op:Ene(n.op),value:n.value}}}(t):t instanceof Rs?function(n){const r=n.getFilters().map(i=>fO(i));return r.length===1?r[0]:{compositeFilter:{op:Ane(n.op),filters:r}}}(t):rt()}function Sne(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,r,i,s=ut.min(),o=ut.min(),a=Pr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cne{constructor(e){this.ct=e}}function Ine(t){const e=_ne({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?K2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xne{constructor(){this._n=new Tne}addToCollectionParentIndex(e,n){return this._n.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(iu.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(iu.min())}updateCollectionGroup(e,n,r){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class Tne{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dr(sn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dr(sn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Bh(0)}static Ln(){return new Bh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(){this.changes=new hf(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ir.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pne{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_d(r.mutation,i,Es.empty(),$n.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,At()).next(()=>r))}getLocalViewOfDocuments(e,n,r=At()){const i=Ju();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ed();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ju();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,At()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Jo();const o=vd(),a=function(){return vd()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof jl)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),_d(c.mutation,l,c.mutation.getFieldMask(),$n.now())):o.set(l.key,Es.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var h;return a.set(l,new kne(c,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=vd();let i=new _n((o,a)=>o-a),s=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Es.empty();c=a.applyToLocalView(l,c),r.set(u,c);const h=(i.get(a.batchId)||At()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,h=KN();c.forEach(f=>{if(!s.has(f)){const g=tO(n.get(f),r.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return me.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ke.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):me.resolve(Ju());let a=-1,u=s;return o.next(l=>me.forEach(l,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?me.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{u=u.insert(c,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,At())).next(c=>({batchId:a,changes:GN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ke(n)).next(r=>{let i=ed();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ed();return this.indexManager.getCollectionParents(e,s).next(a=>me.forEach(a,u=>{const l=function(h,f){return new cf(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,Ir.newInvalidDocument(c)))});let a=ed();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&_d(c.mutation,l,Es.empty(),$n.now()),ov(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mne{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return me.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ho(i.createTime)}}(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Ine(i.bundledQuery),readTime:ho(i.readTime)}}(n)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dne{constructor(){this.overlays=new _n(Ke.comparator),this.hr=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ju();return me.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),me.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),me.resolve()}getOverlaysForCollection(e,n,r){const i=Ju(),s=n.length+1,o=new Ke(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return me.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _n((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=Ju(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Ju(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return me.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nne(n,r));let s=this.hr.get(n);s===void 0&&(s=At(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.Pr=new dr(Jn.Ir),this.Tr=new dr(Jn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Jn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Jn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Ke(new sn([])),r=new Jn(n,e),i=new Jn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Ke(new sn([])),r=new Jn(n,e),i=new Jn(n,e+1);let s=At();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Jn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Ke.comparator(e.key,n.key)||jt(e.pr,n.pr)}static Er(e,n){return jt(e.pr,n.pr)||Ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nne{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new dr(Jn.Ir)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tne(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Jn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return me.resolve(o)}lookupMutationBatch(e,n){return me.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return me.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jn(n,0),i=new Jn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),me.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dr(jt);return n.forEach(i=>{const s=new Jn(i,0),o=new Jn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),me.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ke.isDocumentKey(s)||(s=s.child(""));const o=new Jn(new Ke(s),0);let a=new dr(jt);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),me.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){en(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return me.forEach(n.mutations,i=>{const s=new Jn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Jn(n,0),i=this.wr.firstAfterOrEqual(r);return me.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class One{constructor(e){this.vr=e,this.docs=function(){return new _n(Ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return me.resolve(r?r.document.mutableCopy():Ir.newInvalidDocument(n))}getEntries(e,n){let r=Jo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ir.newInvalidDocument(i))}),me.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Jo();const o=n.path,a=new Ke(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||wte(_te(c),r)<=0||(i.has(c.key)||ov(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return me.resolve(s)}getAllFromCollectionGroup(e,n,r,i){rt()}Fr(e,n){return me.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Lne(this)}getSize(e){return me.resolve(this.size)}}class Lne extends Rne{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),me.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(e){this.persistence=e,this.Mr=new hf(n=>_S(n),wS),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.Or=0,this.Nr=new CS,this.targetCount=0,this.Lr=Bh.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),me.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Bh(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.qn(n),me.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),me.waitFor(s).next(()=>i)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return me.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),me.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),me.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return me.resolve(r)}containsKey(e,n){return me.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{constructor(e,n){this.Br={},this.overlays={},this.kr=new gS(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Bne(this),this.indexManager=new xne,this.remoteDocumentCache=function(i){return new One(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Cne(n),this.$r=new Mne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Dne,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Nne(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){je("MemoryPersistence","Starting transaction:",e);const i=new $ne(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return me.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class $ne extends Ete{constructor(e){super(),this.currentSequenceNumber=e}}class IS{constructor(e){this.persistence=e,this.zr=new CS,this.jr=null}static Hr(e){return new IS(e)}get Jr(){if(this.jr)return this.jr;throw rt()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),me.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),me.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Jr,r=>{const i=Ke.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ut.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return me.or([()=>me.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=At(),i=At();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new xS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Une{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return _Y()?8:Ate(mY())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new jne;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?($f()<=Mt.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",yc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),me.resolve()):($f()<=Mt.DEBUG&&je("QueryEngine","Query:",yc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?($f()<=Mt.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",yc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,co(n))):me.resolve())}ji(e,n){if(l4(n))return me.resolve(null);let r=co(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=K2(n,null,"F"),r=co(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=At(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Zi(n,a);return this.Xi(n,l,o,u.readTime)?this.ji(e,K2(n,null,"F")):this.es(e,l,n,u)}))})))}Hi(e,n,r,i){return l4(n)||i.isEqual(ut.min())?me.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?me.resolve(null):($f()<=Mt.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yc(n)),this.es(e,o,n,vte(i,-1)).next(a=>a))})}Zi(e,n){let r=new dr(WN(e));return n.forEach((i,s)=>{ov(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return $f()<=Mt.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",yc(n)),this.zi.getDocumentsMatchingQuery(e,n,iu.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new _n(jt),this.rs=new hf(s=>_S(s),wS),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pne(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function zne(t,e,n,r){return new Vne(t,e,n,r)}async function pO(t,e){const n=ht(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=At();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})}function Hne(t,e){const n=ht(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const h=l.batch,f=h.keys();let g=me.resolve();return f.forEach(w=>{g=g.next(()=>c.getEntry(u,w)).next(P=>{const D=l.docVersions.get(w);en(D!==null),P.version.compareTo(D)<0&&(h.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),c.addEntry(P)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=At();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function gO(t){const e=ht(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Wne(t,e){const n=ht(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,h)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Pr.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(h,g),function(P,D,E){return P.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,g,c)&&a.push(n.Qr.updateTargetData(s,g))});let u=Jo(),l=At();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(qne(s,o,e.documentUpdates).next(c=>{u=c.cs,l=c.ls})),!r.isEqual(ut.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return me.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ns=i,s))}function qne(t,e,n){let r=At(),i=At();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Jo();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ut.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):je("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}function Gne(t,e){const n=ht(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Kne(t,e){const n=ht(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,me.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Da(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function X2(t,e,n){const r=ht(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!vp(o))throw o;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function w4(t,e,n){const r=ht(t);let i=ut.min(),s=At();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const h=ht(u),f=h.rs.get(c);return f!==void 0?me.resolve(h.ns.get(f)):h.Qr.getTargetData(l,c)}(r,o,co(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ut.min(),n?s:At())).next(a=>(Qne(r,jte(e),a),{documents:a,hs:s})))}function Qne(t,e,n){let r=t.ss.get(e)||ut.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class b4{constructor(){this.activeTargetIds=qte()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jne{constructor(){this.no=new b4,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new b4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zne{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kg=null;function Xw(){return Kg===null?Kg=function(){return 268435456+Math.round(2147483648*Math.random())}():Kg++,"0x"+Kg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xne{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="WebChannelConnection";class ere extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=Xw(),u=this.vo(n,r.toUriEncodedString());je("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,s,o),this.Mo(n,u,l,i).then(c=>(je("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Dh("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uf}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=Yne[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Xw();return new Promise((o,a)=>{const u=new IN;u.setWithCredentials(!0),u.listenOnce(TN.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Om.NO_ERROR:const c=u.getResponseJson();je(br,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Om.TIMEOUT:je(br,`RPC '${e}' ${s} timed out`),a(new Be(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Om.HTTP_ERROR:const h=u.getStatus();if(je(br,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const w=function(D){const E=D.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(E)>=0?E:ge.UNKNOWN}(g.status);a(new Be(w,g.message))}else a(new Be(ge.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Be(ge.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{je(br,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);je(br,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Oo(e,n,r){const i=Xw(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=PN(),a=kN(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new xN({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");je(br,`Creating RPC '${e}' stream ${i}: ${c}`,u);const h=o.createWebChannel(c,u);let f=!1,g=!1;const w=new Xne({lo:D=>{g?je(br,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(f||(je(br,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),je(br,`RPC '${e}' stream ${i} sending:`,D),h.send(D))},ho:()=>h.close()}),P=(D,E,_)=>{D.listen(E,S=>{try{_(S)}catch(O){setTimeout(()=>{throw O},0)}})};return P(h,Xf.EventType.OPEN,()=>{g||(je(br,`RPC '${e}' stream ${i} transport opened.`),w.mo())}),P(h,Xf.EventType.CLOSE,()=>{g||(g=!0,je(br,`RPC '${e}' stream ${i} transport closed`),w.po())}),P(h,Xf.EventType.ERROR,D=>{g||(g=!0,Dh(br,`RPC '${e}' stream ${i} transport errored:`,D),w.po(new Be(ge.UNAVAILABLE,"The operation could not be completed")))}),P(h,Xf.EventType.MESSAGE,D=>{var E;if(!g){const _=D.data[0];en(!!_);const S=_,O=S.error||((E=S[0])===null||E===void 0?void 0:E.error);if(O){je(br,`RPC '${e}' stream ${i} received error:`,O);const $=O.status;let V=function(b){const T=Rn[b];if(T!==void 0)return iO(T)}($),v=O.message;V===void 0&&(V=ge.INTERNAL,v="Unknown error status: "+$+" with message "+O.message),g=!0,w.po(new Be(V,v)),h.close()}else je(br,`RPC '${e}' stream ${i} received:`,_),w.yo(_)}}),P(a,RN.STAT_EVENT,D=>{D.stat===V2.PROXY?je(br,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===V2.NOPROXY&&je(br,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.fo()},0),w}}function eb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t){return new hne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n,r,i,s,o,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new mO(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(Qo(n.toString()),Qo("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new Be(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tre extends yO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=pne(this.serializer,e),r=function(s){if(!("targetChange"in s))return ut.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ut.min():o.readTime?ho(o.readTime):ut.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=Y2(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=q2(u)?{documents:yne(s,u)}:{query:vne(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=aO(s,o.resumeToken);const l=Q2(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ut.min())>0){a.readTime=Y1(s,o.snapshotVersion.toTimestamp());const l=Q2(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=wne(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=Y2(this.serializer),n.removeTarget=e,this.i_(n)}}class nre extends yO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(en(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=mne(e.writeResults,e.commitTime),r=ho(e.commitTime);return this.listener.A_(r,n)}return en(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Y2(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gne(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Be(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,J2(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Be(ge.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,J2(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Be(ge.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class ire{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Qo(n),this.y_=!1):je("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Ul(this)&&(je("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=ht(u);l.M_.add(4),await bp(l),l.N_.set("Unknown"),l.M_.delete(4),await hv(l)}(this))})}),this.N_=new ire(r,i)}}async function hv(t){if(Ul(t))for(const e of t.x_)await e(!0)}async function bp(t){for(const e of t.x_)await e(!1)}function vO(t,e){const n=ht(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),PS(n)?kS(n):ff(n).Xo()&&RS(n,e))}function TS(t,e){const n=ht(t),r=ff(n);n.F_.delete(e),r.Xo()&&_O(n,e),n.F_.size===0&&(r.Xo()?r.n_():Ul(n)&&n.N_.set("Unknown"))}function RS(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ut.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ff(t).P_(e)}function _O(t,e){t.L_.xe(e),ff(t).I_(e)}function kS(t){t.L_=new ane({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ff(t).start(),t.N_.w_()}function PS(t){return Ul(t)&&!ff(t).Zo()&&t.F_.size>0}function Ul(t){return ht(t).M_.size===0}function wO(t){t.L_=void 0}async function ore(t){t.N_.set("Online")}async function are(t){t.F_.forEach((e,n)=>{RS(t,e)})}async function ure(t,e){wO(t),PS(t)?(t.N_.D_(e),kS(t)):t.N_.set("Unknown")}async function lre(t,e,n){if(t.N_.set("Online"),e instanceof oO&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await X1(t,r)}else if(e instanceof Fm?t.L_.Ke(e):e instanceof sO?t.L_.He(e):t.L_.We(e),!n.isEqual(ut.min()))try{const r=await gO(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.F_.get(l);c&&s.F_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.F_.get(u);if(!c)return;s.F_.set(u,c.withResumeToken(Pr.EMPTY_BYTE_STRING,c.snapshotVersion)),_O(s,u);const h=new Da(c.target,u,l,c.sequenceNumber);RS(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){je("RemoteStore","Failed to raise snapshot:",r),await X1(t,r)}}async function X1(t,e,n){if(!vp(e))throw e;t.M_.add(1),await bp(t),t.N_.set("Offline"),n||(n=()=>gO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{je("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await hv(t)})}function bO(t,e){return e().catch(n=>X1(t,n,e))}async function fv(t){const e=ht(t),n=ou(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;cre(e);)try{const i=await Gne(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,hre(e,i)}catch(i){await X1(e,i)}EO(e)&&AO(e)}function cre(t){return Ul(t)&&t.v_.length<10}function hre(t,e){t.v_.push(e);const n=ou(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function EO(t){return Ul(t)&&!ou(t).Zo()&&t.v_.length>0}function AO(t){ou(t).start()}async function fre(t){ou(t).V_()}async function dre(t){const e=ou(t);for(const n of t.v_)e.d_(n.mutations)}async function pre(t,e,n){const r=t.v_.shift(),i=ES.from(r,e,n);await bO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await fv(t)}async function gre(t,e){e&&ou(t).E_&&await async function(r,i){if(function(o){return ine(o)&&o!==ge.ABORTED}(i.code)){const s=r.v_.shift();ou(r).t_(),await bO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await fv(r)}}(t,e),EO(t)&&AO(t)}async function A4(t,e){const n=ht(t);n.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=Ul(n);n.M_.add(3),await bp(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await hv(n)}async function mre(t,e){const n=ht(t);e?(n.M_.delete(2),await hv(n)):e||(n.M_.add(2),await bp(n),n.N_.set("Unknown"))}function ff(t){return t.B_||(t.B_=function(n,r,i){const s=ht(n);return s.f_(),new tre(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:ore.bind(null,t),To:are.bind(null,t),Ao:ure.bind(null,t),h_:lre.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),PS(t)?kS(t):t.N_.set("Unknown")):(await t.B_.stop(),wO(t))})),t.B_}function ou(t){return t.k_||(t.k_=function(n,r,i){const s=ht(n);return s.f_(),new nre(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:fre.bind(null,t),Ao:gre.bind(null,t),R_:dre.bind(null,t),A_:pre.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await fv(t)):(await t.k_.stop(),t.v_.length>0&&(je("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new MS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function DS(t,e){if(Qo("AsyncQueue",`${e}: ${t}`),vp(t))return new Be(ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ke.comparator(n.key,r.key):(n,r)=>Ke.comparator(n.key,r.key),this.keyedMap=ed(),this.sortedSet=new _n(this.comparator)}static emptySet(e){return new Jc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Jc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.q_=new _n(Ke.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):rt():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fh{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Fh(e,n,Jc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yre{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class vre{constructor(){this.queries=new hf(e=>HN(e),sv),this.onlineState="Unknown",this.z_=new Set}}async function SO(t,e){const n=ht(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new yre,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=DS(o,`Initialization of query '${yc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&NS(n)}async function CO(t,e){const n=ht(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _re(t,e){const n=ht(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&NS(n)}function wre(t,e,n){const r=ht(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function NS(t){t.z_.forEach(e=>{e.next()})}var e3,C4;(C4=e3||(e3={})).J_="default",C4.Cache="cache";class IO{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Fh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==e3.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.key=e}}class TO{constructor(e){this.key=e}}class bre{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=At(),this.mutatedKeys=At(),this.Ia=WN(e),this.Ta=new Jc(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new S4,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),g=ov(this.query,h)?h:null,w=!!f&&this.mutatedKeys.has(f.key),P=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let D=!1;f&&g?f.data.isEqual(g.data)?w!==P&&(r.track({type:3,doc:g}),D=!0):this.Ra(f,g)||(r.track({type:2,doc:g}),D=!0,(u&&this.Ia(g,u)>0||l&&this.Ia(g,l)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),D=!0):f&&!g&&(r.track({type:1,doc:f}),D=!0,(u||l)&&(a=!0)),D&&(g?(o=o.add(g),s=P?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((c,h)=>function(g,w){const P=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return P(g)-P(w)}(c.type,h.type)||this.Ia(c.doc,h.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,l=u!==this.ha;return this.ha=u,o.length!==0||l?{snapshot:new Fh(this.query,e.Ta,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new S4,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=At(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new TO(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new xO(r))}),n}pa(e){this.la=e.hs,this.Pa=At();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Fh.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class Ere{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Are{constructor(e){this.key=e,this.wa=!1}}class Sre{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new hf(a=>HN(a),sv),this.Da=new Map,this.Ca=new Set,this.va=new _n(Ke.comparator),this.Fa=new Map,this.Ma=new CS,this.xa={},this.Oa=new Map,this.Na=Bh.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function Cre(t,e,n=!0){const r=NO(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await RO(r,e,n,!0),i}async function Ire(t,e){const n=NO(t);await RO(n,e,!0,!1)}async function RO(t,e,n,r){const i=await Kne(t.localStore,co(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await xre(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&vO(t.remoteStore,i),a}async function xre(t,e,n,r,i){t.Ba=(h,f,g)=>async function(P,D,E,_){let S=D.view.da(E);S.Xi&&(S=await w4(P.localStore,D.query,!1).then(({documents:v})=>D.view.da(v,S)));const O=_&&_.targetChanges.get(D.targetId),$=_&&_.targetMismatches.get(D.targetId)!=null,V=D.view.applyChanges(S,P.isPrimaryClient,O,$);return x4(P,D.targetId,V.fa),V.snapshot}(t,h,f,g);const s=await w4(t.localStore,e,!0),o=new bre(e,s.hs),a=o.da(s.documents),u=wp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);x4(t,n,l.fa);const c=new Ere(e,n,o);return t.ba.set(e,c),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),l.snapshot}async function Tre(t,e,n){const r=ht(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!sv(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await X2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&TS(r.remoteStore,i.targetId),t3(r,i.targetId)}).catch(yp)):(t3(r,i.targetId),await X2(r.localStore,i.targetId,!0))}async function Rre(t,e){const n=ht(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),TS(n.remoteStore,r.targetId))}async function kre(t,e,n){const r=Bre(t);try{const i=await function(o,a){const u=ht(o),l=$n.now(),c=a.reduce((g,w)=>g.add(w.key),At());let h,f;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Jo(),P=At();return u.os.getEntries(g,c).next(D=>{w=D,w.forEach((E,_)=>{_.isValidDocument()||(P=P.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,w)).next(D=>{h=D;const E=[];for(const _ of a){const S=Xte(_,h.get(_.key).overlayedDocument);S!=null&&E.push(new jl(_.key,S,LN(S.value.mapValue),jo.exists(!0)))}return u.mutationQueue.addMutationBatch(g,l,E,a)}).next(D=>{f=D;const E=D.applyToLocalDocumentSet(h,P);return u.documentOverlayCache.saveOverlays(g,D.batchId,E)})}).then(()=>({batchId:f.batchId,changes:GN(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.xa[o.currentUser.toKey()];l||(l=new _n(jt)),l=l.insert(a,u),o.xa[o.currentUser.toKey()]=l}(r,i.batchId,n),await Ep(r,i.changes),await fv(r.remoteStore)}catch(i){const s=DS(i,"Failed to persist write");n.reject(s)}}async function kO(t,e){const n=ht(t);try{const r=await Wne(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(en(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?en(o.wa):i.removedDocuments.size>0&&(en(o.wa),o.wa=!1))}),await Ep(n,r,e)}catch(r){await yp(r)}}function I4(t,e,n){const r=ht(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=ht(o);u.onlineState=a;let l=!1;u.queries.forEach((c,h)=>{for(const f of h.U_)f.j_(a)&&(l=!0)}),l&&NS(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Pre(t,e,n){const r=ht(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new _n(Ke.comparator);o=o.insert(s,Ir.newNoDocument(s,ut.min()));const a=At().add(s),u=new lv(ut.min(),new Map,new _n(jt),o,a);await kO(r,u),r.va=r.va.remove(s),r.Fa.delete(e),OS(r)}else await X2(r.localStore,e,!1).then(()=>t3(r,e,n)).catch(yp)}async function Mre(t,e){const n=ht(t),r=e.batch.batchId;try{const i=await Hne(n.localStore,e);MO(n,r,null),PO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ep(n,i)}catch(i){await yp(i)}}async function Dre(t,e,n){const r=ht(t);try{const i=await function(o,a){const u=ht(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(h=>(en(h!==null),c=h.keys(),u.mutationQueue.removeMutationBatch(l,h))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);MO(r,e,n),PO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ep(r,i)}catch(i){await yp(i)}}function PO(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function MO(t,e,n){const r=ht(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function t3(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||DO(t,r)})}function DO(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(TS(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),OS(t))}function x4(t,e,n){for(const r of n)r instanceof xO?(t.Ma.addReference(r.key,e),Nre(t,r)):r instanceof TO?(je("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||DO(t,r.key)):rt()}function Nre(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(je("SyncEngine","New document in limbo: "+n),t.Ca.add(r),OS(t))}function OS(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new Ke(sn.fromString(e)),r=t.Na.next();t.Fa.set(r,new Are(n)),t.va=t.va.insert(n,r),vO(t.remoteStore,new Da(co(bS(n.path)),r,"TargetPurposeLimboResolution",gS.oe))}}async function Ep(t,e,n){const r=ht(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{o.push(r.Ba(u,e,n).then(l=>{var c;if((l||n)&&r.isPrimaryClient){const h=l?!l.fromCache:(c=n==null?void 0:n.targetChanges.get(u.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){i.push(l);const h=xS.Ki(u.targetId,l);s.push(h)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(u,l){const c=ht(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>me.forEach(l,f=>me.forEach(f.qi,g=>c.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>me.forEach(f.Qi,g=>c.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!vp(h))throw h;je("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const g=c.ns.get(f),w=g.snapshotVersion,P=g.withLastLimboFreeSnapshotVersion(w);c.ns=c.ns.insert(f,P)}}}(r.localStore,s))}async function Ore(t,e){const n=ht(t);if(!n.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=await pO(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(u=>{u.reject(new Be(ge.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ep(n,r.us)}}function Lre(t,e){const n=ht(t),r=n.Fa.get(e);if(r&&r.wa)return At().add(r.key);{let i=At();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function NO(t){const e=ht(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pre.bind(null,e),e.Sa.h_=_re.bind(null,e.eventManager),e.Sa.ka=wre.bind(null,e.eventManager),e}function Bre(t){const e=ht(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dre.bind(null,e),e}class T4{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=cv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return zne(this.persistence,new Une,e.initialUser,this.serializer)}createPersistence(e){return new Fne(IS.Hr,this.serializer)}createSharedClientState(e){return new Jne}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Fre{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>I4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ore.bind(null,this.syncEngine),await mre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vre}()}createDatastore(e){const n=cv(e.databaseInfo.databaseId),r=function(s){return new ere(s)}(e.databaseInfo);return function(s,o,a,u){return new rre(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new sre(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>I4(this.syncEngine,n,0),function(){return E4.D()?new E4:new Zne}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,c){const h=new Sre(i,s,o,a,u,l);return c&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ht(r);je("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await bp(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Qo("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Sr.UNAUTHENTICATED,this.clientId=DN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{je("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(je("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=DS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tb(t,e){t.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await pO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function R4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ure(t);je("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>A4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>A4(e.remoteStore,i)),t._onlineComponents=e}function jre(t){return t.name==="FirebaseError"?t.code===ge.FAILED_PRECONDITION||t.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Ure(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je("FirestoreClient","Using user provided OfflineComponentProvider");try{await tb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!jre(n))throw n;Dh("Error using user provided cache. Falling back to memory cache: "+n),await tb(t,new T4)}}else je("FirestoreClient","Using default OfflineComponentProvider"),await tb(t,new T4);return t._offlineComponents}async function LO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je("FirestoreClient","Using user provided OnlineComponentProvider"),await R4(t,t._uninitializedComponentsProvider._online)):(je("FirestoreClient","Using default OnlineComponentProvider"),await R4(t,new Fre))),t._onlineComponents}function Vre(t){return LO(t).then(e=>e.syncEngine)}async function n3(t){const e=await LO(t),n=e.eventManager;return n.onListen=Cre.bind(null,e.syncEngine),n.onUnlisten=Tre.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ire.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Rre.bind(null,e.syncEngine),n}function zre(t,e,n={}){const r=new Ga;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new OO({next:f=>{o.enqueueAndForget(()=>CO(s,h)),f.fromCache&&u.source==="server"?l.reject(new Be(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new IO(a,c,{includeMetadataChanges:!0,ra:!0});return SO(s,h)}(await n3(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t,e,n){if(!n)throw new Be(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Hre(t,e,n,r){if(e===!0&&r===!0)throw new Be(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function P4(t){if(!Ke.isDocumentKey(t))throw new Be(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function M4(t){if(Ke.isDocumentKey(t))throw new Be(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt()}function hl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Be(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dv(t);throw new Be(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Be(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Be(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Be(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Be(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Be(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Be(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Be(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D4(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lte;switch(r.type){case"firstParty":return new dte(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Be(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=k4.get(n);r&&(je("ComponentProvider","Removing Datastore"),k4.delete(n),r.terminate())}(this),Promise.resolve()}}function Wre(t,e,n,r={}){var i;const s=(t=hl(t,pv))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Dh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Sr.MOCK_USER;else{a=gY(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Be(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Sr(l)}t._authCredentials=new cte(new MN(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yu(this.firestore,e,this._query)}}class wi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wi(this.firestore,e,this._key)}}class Ka extends yu{constructor(e,n,r){super(e,n,bS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wi(this.firestore,null,new Ke(e))}withConverter(e){return new Ka(this.firestore,e,this._path)}}function Jye(t,e,...n){if(t=Go(t),FO("collection","path",e),t instanceof pv){const r=sn.fromString(e,...n);return M4(r),new Ka(t,null,r)}{if(!(t instanceof wi||t instanceof Ka))throw new Be(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(sn.fromString(e,...n));return M4(r),new Ka(t.firestore,null,r)}}function qre(t,e,...n){if(t=Go(t),arguments.length===1&&(e=DN.newId()),FO("doc","path",e),t instanceof pv){const r=sn.fromString(e,...n);return P4(r),new wi(t,null,new Ke(r))}{if(!(t instanceof wi||t instanceof Ka))throw new Be(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(sn.fromString(e,...n));return P4(r),new wi(t.firestore,t instanceof Ka?t.converter:null,new Ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gre{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new mO(this,"async_queue_retry"),this.hu=()=>{const n=eb();n&&je("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=eb();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=eb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Ga;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!vp(e))throw e;je("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Qo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=MS.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&rt()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function N4(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class B0 extends pv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Gre}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$O(this),this._firestoreClient.terminate()}}function Zye(t,e){const n=typeof t=="object"?t:ZD(),r=typeof t=="string"?t:"(default)",i=mp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=dY("firestore");s&&Wre(i,...s)}return i}function LS(t){return t._firestoreClient||$O(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $O(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,l,c){return new Ite(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,BO(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new $re(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $h(Pr.fromBase64String(e))}catch(n){throw new Be(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $h(Pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Be(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Be(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Be(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kre=/^__.*__$/;class Qre{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new jl(e,this.data,this.fieldMask,n,this.fieldTransforms):new _p(e,this.data,n,this.fieldTransforms)}}function UO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class $S{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new $S(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return ey(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(UO(this.fu)&&Kre.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Jre{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cv(e)}Fu(e,n,r,i=!1){return new $S({fu:e,methodName:n,vu:r,path:lr.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VO(t){const e=t._freezeSettings(),n=cv(t._databaseId);return new Jre(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Zre(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);WO("Data must be an object, but it was:",o,r);const a=zO(r,o);let u,l;if(s.merge)u=new Es(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=Xre(e,h,n);if(!o.contains(f))throw new Be(ge.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);tie(c,f)||c.push(f)}u=new Es(c),l=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,l=o.fieldTransforms;return new Qre(new Hi(a),u,l)}function Yre(t,e,n,r=!1){return jS(n,t.Fu(r?4:3,e))}function jS(t,e){if(HO(t=Go(t)))return WO("Unsupported field value:",e,t),zO(t,e);if(t instanceof jO)return function(r,i){if(!UO(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=jS(a,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Go(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Gte(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=$n.fromDate(r);return{timestampValue:Y1(i.serializer,s)}}if(r instanceof $n){const s=new $n(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Y1(i.serializer,s)}}if(r instanceof FS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $h)return{bytesValue:aO(i.serializer,r._byteString)};if(r instanceof wi){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:SS(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${dv(r)}`)}(t,e)}function zO(t,e){const n={};return NN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lf(t,(r,i)=>{const s=jS(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function HO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $n||t instanceof FS||t instanceof $h||t instanceof wi||t instanceof jO)}function WO(t,e,n){if(!HO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=dv(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Xre(t,e,n){if((e=Go(e))instanceof BS)return e._internalPath;if(typeof e=="string")return qO(t,e);throw ey("Field path arguments must be of type string or ",t,!1,void 0,n)}const eie=new RegExp("[~\\*/\\[\\]]");function qO(t,e,n){if(e.search(eie)>=0)throw ey(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new BS(...e.split("."))._internalPath}catch{throw ey(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ey(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Be(ge.INVALID_ARGUMENT,a+t+u)}function tie(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new wi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nie extends GO{data(){return super.data()}}function gv(t,e){return typeof e=="string"?qO(t,e):e instanceof BS?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Be(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class US{}class QO extends US{}function Yye(t,e,...n){let r=[];e instanceof US&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof VS).length,a=s.filter(u=>u instanceof mv).length;if(o>1||o>0&&a>0)throw new Be(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class mv extends QO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mv(e,n,r)}_apply(e){const n=this._parse(e);return JO(e._query,n),new yu(e.firestore,e.converter,G2(e._query,n))}_parse(e){const n=VO(e.firestore);return function(s,o,a,u,l,c,h){let f;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Be(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){L4(h,c);const g=[];for(const w of h)g.push(O4(u,s,w));f={arrayValue:{values:g}}}else f=O4(u,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||L4(h,c),f=Yre(a,o,h,c==="in"||c==="not-in");return Mn.create(l,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Xye(t,e,n){const r=e,i=gv("where",t);return mv._create(i,r,n)}class VS extends US{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new VS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)JO(o,u),o=G2(o,u)}(e._query,n),new yu(e.firestore,e.converter,G2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zS extends QO{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zS(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Be(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Be(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new N0(s,o)}(e._query,this._field,this._direction);return new yu(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new cf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function eve(t,e="asc"){const n=e,r=gv("orderBy",t);return zS._create(r,n)}function O4(t,e,n){if(typeof(n=Go(n))=="string"){if(n==="")throw new Be(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zN(e)&&n.indexOf("/")!==-1)throw new Be(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(sn.fromString(n));if(!Ke.isDocumentKey(r))throw new Be(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return r4(t,new Ke(r))}if(n instanceof wi)return r4(t,n._key);throw new Be(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dv(n)}.`)}function L4(t,e){if(!Array.isArray(t)||t.length===0)throw new Be(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JO(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Be(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Be(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rie{convertValue(e,n="none"){switch(Rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw rt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return lf(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new FS(kn(e.latitude),kn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(P0(e));default:return null}}convertTimestamp(e){const n=su(e);return new $n(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=sn.fromString(e);en(dO(r));const i=new M0(r.get(1),r.get(3)),s=new Ke(r.popFirst(5));return i.isEqual(n)||Qo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iie(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZO extends GO{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $m(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $m extends ZO{data(e={}){return super.data(e)}}class YO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new nd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $m(this._firestore,this._userDataWriter,r.key,r,new nd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Be(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new $m(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new $m(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:sie(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}class HS extends rie{constructor(e){super(),this.firestore=e}convertBytes(e){return new $h(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wi(this.firestore,null,n)}}function tve(t){t=hl(t,yu);const e=hl(t.firestore,B0),n=LS(e),r=new HS(e);return KO(t._query),zre(n,t._query).then(i=>new YO(e,r,t,i))}function nve(t,e){const n=hl(t.firestore,B0),r=qre(t),i=iie(t.converter,e);return oie(n,[Zre(VO(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,jo.exists(!1))]).then(()=>r)}function rve(t,...e){var n,r,i;t=Go(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||N4(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(N4(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,l,c;if(t instanceof wi)l=hl(t.firestore,B0),c=bS(t._key.path),u={next:h=>{e[o]&&e[o](aie(l,t,h))},error:e[o+1],complete:e[o+2]};else{const h=hl(t,yu);l=hl(h.firestore,B0),c=h._query;const f=new HS(l);u={next:g=>{e[o]&&e[o](new YO(l,f,h,g))},error:e[o+1],complete:e[o+2]},KO(t._query)}return function(f,g,w,P){const D=new OO(P),E=new IO(g,D,w);return f.asyncQueue.enqueueAndForget(async()=>SO(await n3(f),E)),()=>{D.$a(),f.asyncQueue.enqueueAndForget(async()=>CO(await n3(f),E))}}(LS(l),c,a,u)}function oie(t,e){return function(r,i){const s=new Ga;return r.asyncQueue.enqueueAndForget(async()=>kre(await Vre(r),i,s)),s.promise}(LS(t),e)}function aie(t,e,n){const r=n.docs.get(e._key),i=new HS(t);return new ZO(t,i,e._key,r,new nd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){uf=i})(SX),ru(new Ko("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new B0(new hte(r.getProvider("auth-internal")),new gte(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Be(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new M0(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),lo(XI,"4.6.4",e),lo(XI,"4.6.4","esm2017")})();var XO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},B4=Oa.createContext&&Oa.createContext(XO),uie=["attr","size","title"];function lie(t,e){if(t==null)return{};var n=cie(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ty.apply(this,arguments)}function F4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ny(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(n),!0).forEach(function(r){hie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hie(t,e,n){return e=fie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fie(t){var e=die(t,"string");return typeof e=="symbol"?e:e+""}function die(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eL(t){return t&&t.map((e,n)=>Oa.createElement(e.tag,ny({key:n},e.attr),eL(e.child)))}function WS(t){return e=>Oa.createElement(pie,ty({attr:ny({},t.attr)},e),eL(t.child))}function pie(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=lie(t,uie),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Oa.createElement("svg",ty({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:ny(ny({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Oa.createElement("title",null,s),t.children)};return B4!==void 0?Oa.createElement(B4.Consumer,null,n=>e(n)):e(XO)}function ive(t){return WS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}function sve(t){return WS({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 0C229.232 0 0 229.232 0 512c0 282.784 229.232 512 512 512 282.784 0 512-229.216 512-512C1024 229.232 794.784 0 512 0zm0 961.008c-247.024 0-448-201.984-448-449.01 0-247.024 200.976-448 448-448s448 200.977 448 448-200.976 449.01-448 449.01zm181.008-630.016c-12.496-12.496-32.752-12.496-45.248 0L512 466.752l-135.76-135.76c-12.496-12.496-32.752-12.496-45.264 0-12.496 12.496-12.496 32.752 0 45.248L466.736 512l-135.76 135.76c-12.496 12.48-12.496 32.769 0 45.249 12.496 12.496 32.752 12.496 45.264 0L512 557.249l135.76 135.76c12.496 12.496 32.752 12.496 45.248 0 12.496-12.48 12.496-32.769 0-45.249L557.248 512l135.76-135.76c12.512-12.512 12.512-32.768 0-45.248z"},child:[]}]})(t)}function ove(t){return WS({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M532.528 661.408c-12.512 12.496-12.513 32.752-.001 45.248 6.256 6.256 14.432 9.376 22.624 9.376s16.368-3.12 22.624-9.376l189.008-194L577.775 318.64c-12.496-12.496-32.752-12.496-45.248 0-12.512 12.496-12.512 32.752 0 45.248l115.744 115.76H31.839c-17.68 0-32 14.336-32 32s14.32 32 32 32h618.448zM960.159 0h-576c-35.36 0-64.017 28.656-64.017 64v288h64.432V103.024c0-21.376 17.344-38.72 38.72-38.72h496.704c21.408 0 38.72 17.344 38.72 38.72l1.007 818.288c0 21.376-17.311 38.72-38.72 38.72H423.31c-21.376 0-38.72-17.344-38.72-38.72V670.944l-64.432.08V960c0 35.344 28.656 64 64.017 64h576c35.344 0 64-28.656 64-64V64c-.016-35.344-28.672-64-64.016-64z"},child:[]}]})(t)}var tL={},F0={},yv={};Object.defineProperty(yv,"__esModule",{value:!0});yv.walletLogo=void 0;const gie=(t,e)=>{let n;switch(t){case"standard":return n=e,`data:image/svg+xml,%3Csvg width='${e}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return n=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${n}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return n=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return n=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return n=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return n=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return n=e,`data:image/svg+xml,%3Csvg width='${e}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};yv.walletLogo=gie;var vv={};const nL=ta(OG);var wo={},Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.errorValues=Zo.standardErrorCodes=void 0;Zo.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};Zo.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var _v={},qS={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=t.getErrorCode=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Zo,n="Unspecified error message.";t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function r(f,g=n){if(f&&Number.isInteger(f)){const w=f.toString();if(c(e.errorValues,w))return e.errorValues[w].message;if(u(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return g}t.getMessageFromCode=r;function i(f){if(!Number.isInteger(f))return!1;const g=f.toString();return!!(e.errorValues[g]||u(f))}t.isValidCode=i;function s(f){var g;if(typeof f=="number")return f;if(o(f))return(g=f.code)!==null&&g!==void 0?g:f.errorCode}t.getErrorCode=s;function o(f){return typeof f=="object"&&f!==null&&(typeof f.code=="number"||typeof f.errorCode=="number")}function a(f,{shouldIncludeStack:g=!1}={}){const w={};if(f&&typeof f=="object"&&!Array.isArray(f)&&c(f,"code")&&i(f.code)){const P=f;w.code=P.code,P.message&&typeof P.message=="string"?(w.message=P.message,c(P,"data")&&(w.data=P.data)):(w.message=r(w.code),w.data={originalError:l(f)})}else w.code=e.standardErrorCodes.rpc.internal,w.message=h(f,"message")?f.message:n,w.data={originalError:l(f)};return g&&(w.stack=h(f,"stack")?f.stack:void 0),w}t.serialize=a;function u(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function c(f,g){return Object.prototype.hasOwnProperty.call(f,g)}function h(f,g){return typeof f=="object"&&f!==null&&g in f&&typeof f[g]=="string"}})(qS);Object.defineProperty(_v,"__esModule",{value:!0});_v.standardErrors=void 0;const rr=Zo,rL=qS;_v.standardErrors={rpc:{parse:t=>Ni(rr.standardErrorCodes.rpc.parse,t),invalidRequest:t=>Ni(rr.standardErrorCodes.rpc.invalidRequest,t),invalidParams:t=>Ni(rr.standardErrorCodes.rpc.invalidParams,t),methodNotFound:t=>Ni(rr.standardErrorCodes.rpc.methodNotFound,t),internal:t=>Ni(rr.standardErrorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ni(e,t)},invalidInput:t=>Ni(rr.standardErrorCodes.rpc.invalidInput,t),resourceNotFound:t=>Ni(rr.standardErrorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Ni(rr.standardErrorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Ni(rr.standardErrorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Ni(rr.standardErrorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Ni(rr.standardErrorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>sc(rr.standardErrorCodes.provider.userRejectedRequest,t),unauthorized:t=>sc(rr.standardErrorCodes.provider.unauthorized,t),unsupportedMethod:t=>sc(rr.standardErrorCodes.provider.unsupportedMethod,t),disconnected:t=>sc(rr.standardErrorCodes.provider.disconnected,t),chainDisconnected:t=>sc(rr.standardErrorCodes.provider.chainDisconnected,t),unsupportedChain:t=>sc(rr.standardErrorCodes.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new oL(e,n,r)}}};function Ni(t,e){const[n,r]=iL(e);return new sL(t,n||(0,rL.getMessageFromCode)(t),r)}function sc(t,e){const[n,r]=iL(e);return new oL(t,n||(0,rL.getMessageFromCode)(t),r)}function iL(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}let sL=class extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}},oL=class extends sL{constructor(e,n,r){if(!mie(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}};function mie(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.standardErrors=t.standardErrorCodes=void 0;var e=Zo;Object.defineProperty(t,"standardErrorCodes",{enumerable:!0,get:function(){return e.standardErrorCodes}});var n=_v;Object.defineProperty(t,"standardErrors",{enumerable:!0,get:function(){return n.standardErrors}})})(wo);var wv={},df={};Object.defineProperty(df,"__esModule",{value:!0});df.isErrorResponse=void 0;function yie(t){return t.errorMessage!==void 0}df.isErrorResponse=yie;var Vl={};Object.defineProperty(Vl,"__esModule",{value:!0});Vl.LIB_VERSION=void 0;Vl.LIB_VERSION="4.0.4";Object.defineProperty(wv,"__esModule",{value:!0});wv.serializeError=void 0;const vie=df,_ie=Vl,wie=Zo,bie=qS;function Eie(t,e){const n=(0,bie.serialize)(Aie(t),{shouldIncludeStack:!0}),r=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");r.searchParams.set("version",_ie.LIB_VERSION),r.searchParams.set("code",n.code.toString());const i=Sie(n.data,e);return i&&r.searchParams.set("method",i),r.searchParams.set("message",n.message),Object.assign(Object.assign({},n),{docUrl:r.href})}wv.serializeError=Eie;function Aie(t){return typeof t=="string"?{message:t,code:wie.standardErrorCodes.rpc.internal}:(0,vie.isErrorResponse)(t)?Object.assign(Object.assign({},t),{message:t.errorMessage,code:t.errorCode,data:{method:t.method}}):t}function Sie(t,e){const n=t==null?void 0:t.method;if(n)return n;if(e!==void 0){if(typeof e=="string")return e;if(Array.isArray(e)){if(e.length>0)return e[0].method}else return e.method}}var xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.RegExpString=xr.IntNumber=xr.BigIntString=xr.AddressString=xr.HexString=xr.OpaqueType=void 0;function Ap(){return t=>t}xr.OpaqueType=Ap;xr.HexString=Ap();xr.AddressString=Ap();xr.BigIntString=Ap();function Cie(t){return Math.floor(t)}xr.IntNumber=Cie;xr.RegExpString=Ap();var qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.areAddressArraysEqual=qe.getFavicon=qe.range=qe.isBigNumber=qe.ensureParsedJSONObject=qe.ensureBigInt=qe.ensureRegExpString=qe.ensureIntNumber=qe.ensureBuffer=qe.ensureAddressString=qe.ensureEvenLengthHexString=qe.ensureHexString=qe.isHexString=qe.prepend0x=qe.strip0x=qe.has0xPrefix=qe.hexStringFromIntNumber=qe.intNumberFromHexString=qe.bigIntStringFromBigInt=qe.hexStringFromBuffer=qe.hexStringToUint8Array=qe.uint8ArrayToHex=qe.randomBytesHex=void 0;const zl=wo,Zi=xr,aL=/^[0-9]*$/,uL=/^[a-f0-9]*$/;function Iie(t){return lL(crypto.getRandomValues(new Uint8Array(t)))}qe.randomBytesHex=Iie;function lL(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}qe.uint8ArrayToHex=lL;function xie(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}qe.hexStringToUint8Array=xie;function Tie(t,e=!1){const n=t.toString("hex");return(0,Zi.HexString)(e?`0x${n}`:n)}qe.hexStringFromBuffer=Tie;function Rie(t){return(0,Zi.BigIntString)(t.toString(10))}qe.bigIntStringFromBigInt=Rie;function kie(t){return(0,Zi.IntNumber)(Number(BigInt(Cp(t,!0))))}qe.intNumberFromHexString=kie;function Pie(t){return(0,Zi.HexString)(`0x${BigInt(t).toString(16)}`)}qe.hexStringFromIntNumber=Pie;function GS(t){return t.startsWith("0x")||t.startsWith("0X")}qe.has0xPrefix=GS;function bv(t){return GS(t)?t.slice(2):t}qe.strip0x=bv;function cL(t){return GS(t)?`0x${t.slice(2)}`:`0x${t}`}qe.prepend0x=cL;function Sp(t){if(typeof t!="string")return!1;const e=bv(t).toLowerCase();return uL.test(e)}qe.isHexString=Sp;function hL(t,e=!1){if(typeof t=="string"){const n=bv(t).toLowerCase();if(uL.test(n))return(0,Zi.HexString)(e?`0x${n}`:n)}throw zl.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}qe.ensureHexString=hL;function Cp(t,e=!1){let n=hL(t,!1);return n.length%2===1&&(n=(0,Zi.HexString)(`0${n}`)),e?(0,Zi.HexString)(`0x${n}`):n}qe.ensureEvenLengthHexString=Cp;function Mie(t){if(typeof t=="string"){const e=bv(t).toLowerCase();if(Sp(e)&&e.length===40)return(0,Zi.AddressString)(cL(e))}throw zl.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}qe.ensureAddressString=Mie;function Die(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(Sp(t)){const e=Cp(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw zl.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}qe.ensureBuffer=Die;function fL(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Zi.IntNumber)(t);if(typeof t=="string"){if(aL.test(t))return(0,Zi.IntNumber)(Number(t));if(Sp(t))return(0,Zi.IntNumber)(Number(BigInt(Cp(t,!0))))}throw zl.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}qe.ensureIntNumber=fL;function Nie(t){if(t instanceof RegExp)return(0,Zi.RegExpString)(t.toString());throw zl.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}qe.ensureRegExpString=Nie;function Oie(t){if(t!==null&&(typeof t=="bigint"||dL(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(fL(t));if(typeof t=="string"){if(aL.test(t))return BigInt(t);if(Sp(t))return BigInt(Cp(t,!0))}throw zl.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}qe.ensureBigInt=Oie;function Lie(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw zl.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}qe.ensureParsedJSONObject=Lie;function dL(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}qe.isBigNumber=dL;function Bie(t,e){return Array.from({length:e-t},(n,r)=>t+r)}qe.range=Bie;function Fie(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:n}=document.location,r=t?t.getAttribute("href"):null;return!r||r.startsWith("javascript:")||r.startsWith("vbscript:")?null:r.startsWith("http://")||r.startsWith("https://")||r.startsWith("data:")?r:r.startsWith("//")?e+r:`${e}//${n}${r}`}qe.getFavicon=Fie;function $ie(t,e){return t.length===e.length&&t.every((n,r)=>n===e[r])}qe.areAddressArraysEqual=$ie;var no={},Ev={},Av={},On={};Object.defineProperty(On,"__esModule",{value:!0});On.decryptContent=On.encryptContent=On.importKeyFromHexString=On.exportKeyToHexString=On.decrypt=On.encrypt=On.deriveSharedSecret=On.generateKeyPair=void 0;const pL=qe;async function jie(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}On.generateKeyPair=jie;async function Uie(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}On.deriveSharedSecret=Uie;async function gL(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}On.encrypt=gL;async function mL(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}On.decrypt=mL;function yL(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function Vie(t,e){const n=yL(t),r=await crypto.subtle.exportKey(n,e);return(0,pL.uint8ArrayToHex)(new Uint8Array(r))}On.exportKeyToHexString=Vie;async function zie(t,e){const n=yL(t),r=(0,pL.hexStringToUint8Array)(e).buffer;return await crypto.subtle.importKey(n,r,{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}On.importKeyFromHexString=zie;async function Hie(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return gL(e,n)}On.encryptContent=Hie;async function Wie(t,e){return JSON.parse(await mL(e,t))}On.decryptContent=Wie;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.ScopedLocalStorage=void 0;let qie=class r3{constructor(e,n){this.scope=e,this.module=n}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new r3("CBWSDK").clear(),new r3("walletlink").clear()}};bo.ScopedLocalStorage=qie;Object.defineProperty(Av,"__esModule",{value:!0});Av.SCWKeyManager=void 0;const Qg=On,Gie=bo,nb={storageKey:"ownPrivateKey",keyType:"private"},rb={storageKey:"ownPublicKey",keyType:"public"},ib={storageKey:"peerPublicKey",keyType:"public"};class Kie{constructor(){this.storage=new Gie.ScopedLocalStorage("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(ib,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(rb.storageKey),this.storage.removeItem(nb.storageKey),this.storage.removeItem(ib.storageKey)}async generateKeyPair(){const e=await(0,Qg.generateKeyPair)();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(nb,e.privateKey),await this.storeKey(rb,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(nb)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(rb)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(ib)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await(0,Qg.deriveSharedSecret)(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?(0,Qg.importKeyFromHexString)(e.keyType,n):null}async storeKey(e,n){const r=await(0,Qg.exportKeyToHexString)(e.keyType,n);this.storage.setItem(e.storageKey,r)}}Av.SCWKeyManager=Kie;var Sv={};Object.defineProperty(Sv,"__esModule",{value:!0});Sv.SCWStateManager=void 0;const Qie=bo,$4="accounts",j4="activeChain",U4="availableChains",V4="walletCapabilities";class Jie{get accounts(){return this._accounts}get activeChain(){return this._activeChain}get walletCapabilities(){return this._walletCapabilities}constructor(e){var n,r;this.storage=new Qie.ScopedLocalStorage("CBWSDK","SCWStateManager"),this.updateListener=e.updateListener,this.availableChains=this.loadItemFromStorage(U4),this._walletCapabilities=this.loadItemFromStorage(V4);const i=this.loadItemFromStorage($4),s=this.loadItemFromStorage(j4);i&&this.updateListener.onAccountsUpdate({accounts:i,source:"storage"}),s&&this.updateListener.onChainUpdate({chain:s,source:"storage"}),this._accounts=i||[],this._activeChain=s||{id:(r=(n=e.appChainIds)===null||n===void 0?void 0:n[0])!==null&&r!==void 0?r:1}}updateAccounts(e){this._accounts=e,this.storeItemToStorage($4,e),this.updateListener.onAccountsUpdate({accounts:e,source:"wallet"})}switchChain(e){var n;const r=(n=this.availableChains)===null||n===void 0?void 0:n.find(i=>i.id===e);return r?(r===this._activeChain||(this._activeChain=r,this.storeItemToStorage(j4,r),this.updateListener.onChainUpdate({chain:r,source:"wallet"})),!0):!1}updateAvailableChains(e){if(!e||Object.keys(e).length===0)return;const n=Object.entries(e).map(([r,i])=>({id:Number(r),rpcUrl:i}));this.availableChains=n,this.storeItemToStorage(U4,n),this.switchChain(this._activeChain.id)}updateWalletCapabilities(e){this._walletCapabilities=e,this.storeItemToStorage(V4,e)}storeItemToStorage(e,n){this.storage.setItem(e,JSON.stringify(n))}loadItemFromStorage(e){const n=this.storage.getItem(e);return n?JSON.parse(n):void 0}clear(){this.storage.clear()}}Sv.SCWStateManager=Jie;Object.defineProperty(Ev,"__esModule",{value:!0});Ev.SCWSigner=void 0;const Zie=Av,Yie=Sv,Jg=wo,z4=qe,Zg=On;class Xie{constructor(e){this.metadata=e.metadata,this.communicator=e.communicator,this.keyManager=new Zie.SCWKeyManager,this.stateManager=new Yie.SCWStateManager({appChainIds:this.metadata.appChainIds,updateListener:e.updateListener}),this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(){const e=await this.createRequestMessage({handshake:{method:"eth_requestAccounts",params:this.metadata}}),n=await this.communicator.postRequestAndWaitForResponse(e);if("failure"in n.content)throw n.content.failure;const r=await(0,Zg.importKeyFromHexString)("public",n.sender);await this.keyManager.setPeerPublicKey(r);const i=await this.decryptResponseMessage(n);this.updateInternalState({method:"eth_requestAccounts"},i);const s=i.result;if("error"in s)throw s.error;return this.stateManager.accounts}async request(e){const n=this.tryLocalHandling(e);if(n!==void 0){if(n instanceof Error)throw n;return n}await this.communicator.waitForPopupLoaded();const r=await this.sendEncryptedRequest(e),i=await this.decryptResponseMessage(r);this.updateInternalState(e,i);const s=i.result;if("error"in s)throw s.error;return s.value}async disconnect(){this.stateManager.clear(),await this.keyManager.clear()}tryLocalHandling(e){var n;switch(e.method){case"wallet_switchEthereumChain":{const r=e.params;if(!r||!(!((n=r[0])===null||n===void 0)&&n.chainId))throw Jg.standardErrors.rpc.invalidParams();const i=(0,z4.ensureIntNumber)(r[0].chainId);return this.stateManager.switchChain(i)?null:void 0}case"wallet_getCapabilities":{const r=this.stateManager.walletCapabilities;if(!r)throw Jg.standardErrors.provider.unauthorized("No wallet capabilities found, please disconnect and reconnect");return r}default:return}}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw Jg.standardErrors.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await(0,Zg.encryptContent)({action:e,chainId:this.stateManager.activeChain.id},n),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const n=await(0,Zg.exportKeyToHexString)("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){const n=e.content;if("failure"in n)throw n.failure;const r=await this.keyManager.getSharedSecret();if(!r)throw Jg.standardErrors.provider.unauthorized("Invalid session");return(0,Zg.decryptContent)(n.encrypted,r)}updateInternalState(e,n){var r,i;const s=(r=n.data)===null||r===void 0?void 0:r.chains;s&&this.stateManager.updateAvailableChains(s);const o=(i=n.data)===null||i===void 0?void 0:i.capabilities;o&&this.stateManager.updateWalletCapabilities(o);const a=n.result;if(!("error"in a))switch(e.method){case"eth_requestAccounts":{const u=a.value;this.stateManager.updateAccounts(u);break}case"wallet_switchEthereumChain":{if(a.value!==null)return;const u=e.params,l=(0,z4.ensureIntNumber)(u[0].chainId);this.stateManager.switchChain(l);break}}}}Ev.SCWSigner=Xie;var Cv={},i3={exports:{}},vL=tp.EventEmitter,sb,H4;function ese(){if(H4)return sb;H4=1;function t(w,P){var D=Object.keys(w);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(w);P&&(E=E.filter(function(_){return Object.getOwnPropertyDescriptor(w,_).enumerable})),D.push.apply(D,E)}return D}function e(w){for(var P=1;P<arguments.length;P++){var D=arguments[P]!=null?arguments[P]:{};P%2?t(Object(D),!0).forEach(function(E){n(w,E,D[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(D)):t(Object(D)).forEach(function(E){Object.defineProperty(w,E,Object.getOwnPropertyDescriptor(D,E))})}return w}function n(w,P,D){return P=o(P),P in w?Object.defineProperty(w,P,{value:D,enumerable:!0,configurable:!0,writable:!0}):w[P]=D,w}function r(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")}function i(w,P){for(var D=0;D<P.length;D++){var E=P[D];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,o(E.key),E)}}function s(w,P,D){return P&&i(w.prototype,P),Object.defineProperty(w,"prototype",{writable:!1}),w}function o(w){var P=a(w,"string");return typeof P=="symbol"?P:String(P)}function a(w,P){if(typeof w!="object"||w===null)return w;var D=w[Symbol.toPrimitive];if(D!==void 0){var E=D.call(w,P||"default");if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(w)}var u=cp,l=u.Buffer,c=Oy,h=c.inspect,f=h&&h.custom||"inspect";function g(w,P,D){l.prototype.copy.call(w,P,D)}return sb=function(){function w(){r(this,w),this.head=null,this.tail=null,this.length=0}return s(w,[{key:"push",value:function(D){var E={data:D,next:null};this.length>0?this.tail.next=E:this.head=E,this.tail=E,++this.length}},{key:"unshift",value:function(D){var E={data:D,next:this.head};this.length===0&&(this.tail=E),this.head=E,++this.length}},{key:"shift",value:function(){if(this.length!==0){var D=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,D}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(D){if(this.length===0)return"";for(var E=this.head,_=""+E.data;E=E.next;)_+=D+E.data;return _}},{key:"concat",value:function(D){if(this.length===0)return l.alloc(0);for(var E=l.allocUnsafe(D>>>0),_=this.head,S=0;_;)g(_.data,E,S),S+=_.data.length,_=_.next;return E}},{key:"consume",value:function(D,E){var _;return D<this.head.data.length?(_=this.head.data.slice(0,D),this.head.data=this.head.data.slice(D)):D===this.head.data.length?_=this.shift():_=E?this._getString(D):this._getBuffer(D),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(D){var E=this.head,_=1,S=E.data;for(D-=S.length;E=E.next;){var O=E.data,$=D>O.length?O.length:D;if($===O.length?S+=O:S+=O.slice(0,D),D-=$,D===0){$===O.length?(++_,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=O.slice($));break}++_}return this.length-=_,S}},{key:"_getBuffer",value:function(D){var E=l.allocUnsafe(D),_=this.head,S=1;for(_.data.copy(E),D-=_.data.length;_=_.next;){var O=_.data,$=D>O.length?O.length:D;if(O.copy(E,E.length-D,0,$),D-=$,D===0){$===O.length?(++S,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=O.slice($));break}++S}return this.length-=S,E}},{key:f,value:function(D,E){return h(this,e(e({},E),{},{depth:0,customInspect:!1}))}}]),w}(),sb}function tse(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(s3,this,t)):process.nextTick(s3,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?n._writableState?n._writableState.errorEmitted?process.nextTick(jm,n):(n._writableState.errorEmitted=!0,process.nextTick(W4,n,s)):process.nextTick(W4,n,s):e?(process.nextTick(jm,n),e(s)):process.nextTick(jm,n)}),this)}function W4(t,e){s3(t,e),jm(t)}function jm(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function nse(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s3(t,e){t.emit("error",e)}function rse(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}var _L={destroy:tse,undestroy:nse,errorOrDestroy:rse},Hl={};function ise(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var wL={};function rs(t,e,n){n||(n=Error);function r(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){ise(o,s);function o(a,u,l){return s.call(this,r(a,u,l))||this}return o}(n);i.prototype.name=n.name,i.prototype.code=t,wL[t]=i}function q4(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map(function(r){return String(r)}),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:n===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function sse(t,e,n){return t.substr(0,e.length)===e}function ose(t,e,n){return(n===void 0||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}function ase(t,e,n){return typeof n!="number"&&(n=0),n+e.length>t.length?!1:t.indexOf(e,n)!==-1}rs("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);rs("ERR_INVALID_ARG_TYPE",function(t,e,n){var r;typeof e=="string"&&sse(e,"not ")?(r="must not be",e=e.replace(/^not /,"")):r="must be";var i;if(ose(t," argument"))i="The ".concat(t," ").concat(r," ").concat(q4(e,"type"));else{var s=ase(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(r," ").concat(q4(e,"type"))}return i+=". Received type ".concat(typeof n),i},TypeError);rs("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");rs("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});rs("ERR_STREAM_PREMATURE_CLOSE","Premature close");rs("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});rs("ERR_MULTIPLE_CALLBACK","Callback called multiple times");rs("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");rs("ERR_STREAM_WRITE_AFTER_END","write after end");rs("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);rs("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);rs("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Hl.codes=wL;var use=Hl.codes.ERR_INVALID_OPT_VALUE;function lse(t,e,n){return t.highWaterMark!=null?t.highWaterMark:e?t[n]:null}function cse(t,e,n,r){var i=lse(e,r,n);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=r?n:"highWaterMark";throw new use(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var bL={getHighWaterMark:cse},o3={exports:{}};typeof Object.create=="function"?o3.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:o3.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var Ps=o3.exports,hse=fse;function fse(t,e){if(ob("noDeprecation"))return t;var n=!1;function r(){if(!n){if(ob("throwDeprecation"))throw new Error(e);ob("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}return r}function ob(t){try{if(!Ie.localStorage)return!1}catch{return!1}var e=Ie.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var ab,G4;function EL(){if(G4)return ab;G4=1,ab=m;function t(X){var Q=this;this.next=null,this.entry=null,this.finish=function(){ie(Q,X)}}var e;m.WritableState=V;var n={deprecate:hse},r=vL,i=cp.Buffer,s=(typeof Ie<"u"?Ie:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(X){return i.from(X)}function a(X){return i.isBuffer(X)||X instanceof s}var u=_L,l=bL,c=l.getHighWaterMark,h=Hl.codes,f=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,w=h.ERR_MULTIPLE_CALLBACK,P=h.ERR_STREAM_CANNOT_PIPE,D=h.ERR_STREAM_DESTROYED,E=h.ERR_STREAM_NULL_VALUES,_=h.ERR_STREAM_WRITE_AFTER_END,S=h.ERR_UNKNOWN_ENCODING,O=u.errorOrDestroy;Ps(m,r);function $(){}function V(X,Q,Y){e=e||jh(),X=X||{},typeof Y!="boolean"&&(Y=Q instanceof e),this.objectMode=!!X.objectMode,Y&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=c(this,X,"writableHighWaterMark",Y),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ee=X.decodeStrings===!1;this.decodeStrings=!ee,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){x(Q,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}V.prototype.getBuffer=function(){for(var Q=this.bufferedRequest,Y=[];Q;)Y.push(Q),Q=Q.next;return Y},function(){try{Object.defineProperty(V.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var v;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(Q){return v.call(this,Q)?!0:this!==m?!1:Q&&Q._writableState instanceof V}})):v=function(Q){return Q instanceof this};function m(X){e=e||jh();var Q=this instanceof e;if(!Q&&!v.call(m,this))return new m(X);this._writableState=new V(X,this,Q),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),r.call(this)}m.prototype.pipe=function(){O(this,new P)};function b(X,Q){var Y=new _;O(X,Y),process.nextTick(Q,Y)}function T(X,Q,Y,ee){var N;return Y===null?N=new E:typeof Y!="string"&&!Q.objectMode&&(N=new f("chunk",["string","Buffer"],Y)),N?(O(X,N),process.nextTick(ee,N),!1):!0}m.prototype.write=function(X,Q,Y){var ee=this._writableState,N=!1,j=!ee.objectMode&&a(X);return j&&!i.isBuffer(X)&&(X=o(X)),typeof Q=="function"&&(Y=Q,Q=null),j?Q="buffer":Q||(Q=ee.defaultEncoding),typeof Y!="function"&&(Y=$),ee.ending?b(this,Y):(j||T(this,ee,X,Y))&&(ee.pendingcb++,N=z(this,ee,j,X,Q,Y)),N},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&F(this,X))},m.prototype.setDefaultEncoding=function(Q){if(typeof Q=="string"&&(Q=Q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Q+"").toLowerCase())>-1))throw new S(Q);return this._writableState.defaultEncoding=Q,this},Object.defineProperty(m.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function B(X,Q,Y){return!X.objectMode&&X.decodeStrings!==!1&&typeof Q=="string"&&(Q=i.from(Q,Y)),Q}Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function z(X,Q,Y,ee,N,j){if(!Y){var K=B(Q,ee,N);ee!==K&&(Y=!0,N="buffer",ee=K)}var se=Q.objectMode?1:ee.length;Q.length+=se;var ce=Q.length<Q.highWaterMark;if(ce||(Q.needDrain=!0),Q.writing||Q.corked){var pe=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:ee,encoding:N,isBuf:Y,callback:j,next:null},pe?pe.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else A(X,Q,!1,se,ee,N,j);return ce}function A(X,Q,Y,ee,N,j,K){Q.writelen=ee,Q.writecb=K,Q.writing=!0,Q.sync=!0,Q.destroyed?Q.onwrite(new D("write")):Y?X._writev(N,Q.onwrite):X._write(N,j,Q.onwrite),Q.sync=!1}function p(X,Q,Y,ee,N){--Q.pendingcb,Y?(process.nextTick(N,ee),process.nextTick(G,X,Q),X._writableState.errorEmitted=!0,O(X,ee)):(N(ee),X._writableState.errorEmitted=!0,O(X,ee),G(X,Q))}function y(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function x(X,Q){var Y=X._writableState,ee=Y.sync,N=Y.writecb;if(typeof N!="function")throw new w;if(y(Y),Q)p(X,Y,ee,Q,N);else{var j=W(Y)||X.destroyed;!j&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&F(X,Y),ee?process.nextTick(k,X,Y,j,N):k(X,Y,j,N)}}function k(X,Q,Y,ee){Y||C(X,Q),Q.pendingcb--,ee(),G(X,Q)}function C(X,Q){Q.length===0&&Q.needDrain&&(Q.needDrain=!1,X.emit("drain"))}function F(X,Q){Q.bufferProcessing=!0;var Y=Q.bufferedRequest;if(X._writev&&Y&&Y.next){var ee=Q.bufferedRequestCount,N=new Array(ee),j=Q.corkedRequestsFree;j.entry=Y;for(var K=0,se=!0;Y;)N[K]=Y,Y.isBuf||(se=!1),Y=Y.next,K+=1;N.allBuffers=se,A(X,Q,!0,Q.length,N,"",j.finish),Q.pendingcb++,Q.lastBufferedRequest=null,j.next?(Q.corkedRequestsFree=j.next,j.next=null):Q.corkedRequestsFree=new t(Q),Q.bufferedRequestCount=0}else{for(;Y;){var ce=Y.chunk,pe=Y.encoding,Ee=Y.callback,_e=Q.objectMode?1:ce.length;if(A(X,Q,!1,_e,ce,pe,Ee),Y=Y.next,Q.bufferedRequestCount--,Q.writing)break}Y===null&&(Q.lastBufferedRequest=null)}Q.bufferedRequest=Y,Q.bufferProcessing=!1}m.prototype._write=function(X,Q,Y){Y(new g("_write()"))},m.prototype._writev=null,m.prototype.end=function(X,Q,Y){var ee=this._writableState;return typeof X=="function"?(Y=X,X=null,Q=null):typeof Q=="function"&&(Y=Q,Q=null),X!=null&&this.write(X,Q),ee.corked&&(ee.corked=1,this.uncork()),ee.ending||ue(this,ee,Y),this},Object.defineProperty(m.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function W(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function U(X,Q){X._final(function(Y){Q.pendingcb--,Y&&O(X,Y),Q.prefinished=!0,X.emit("prefinish"),G(X,Q)})}function I(X,Q){!Q.prefinished&&!Q.finalCalled&&(typeof X._final=="function"&&!Q.destroyed?(Q.pendingcb++,Q.finalCalled=!0,process.nextTick(U,X,Q)):(Q.prefinished=!0,X.emit("prefinish")))}function G(X,Q){var Y=W(Q);if(Y&&(I(X,Q),Q.pendingcb===0&&(Q.finished=!0,X.emit("finish"),Q.autoDestroy))){var ee=X._readableState;(!ee||ee.autoDestroy&&ee.endEmitted)&&X.destroy()}return Y}function ue(X,Q,Y){Q.ending=!0,G(X,Q),Y&&(Q.finished?process.nextTick(Y):X.once("finish",Y)),Q.ended=!0,X.writable=!1}function ie(X,Q,Y){var ee=X.entry;for(X.entry=null;ee;){var N=ee.callback;Q.pendingcb--,N(Y),ee=ee.next}Q.corkedRequestsFree.next=X}return Object.defineProperty(m.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Q){this._writableState&&(this._writableState.destroyed=Q)}}),m.prototype.destroy=u.destroy,m.prototype._undestroy=u.undestroy,m.prototype._destroy=function(X,Q){Q(X)},ab}var ub,K4;function jh(){if(K4)return ub;K4=1;var t=Object.keys||function(l){var c=[];for(var h in l)c.push(h);return c};ub=o;var e=SL(),n=EL();Ps(o,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var s=r[i];o.prototype[s]||(o.prototype[s]=n.prototype[s])}function o(l){if(!(this instanceof o))return new o(l);e.call(this,l),n.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(u,this)}function u(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),ub}var lb={},a3={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=cp,r=n.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,u){return r(o,a,u)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=r(o);return a!==void 0?typeof u=="string"?l.fill(a,u):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(a3,a3.exports);var vu=a3.exports,Q4;function J4(){if(Q4)return lb;Q4=1;var t=vu.Buffer,e=t.isEncoding||function(E){switch(E=""+E,E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(E){if(!E)return"utf8";for(var _;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(_)return;E=(""+E).toLowerCase(),_=!0}}function r(E){var _=n(E);if(typeof _!="string"&&(t.isEncoding===e||!e(E)))throw new Error("Unknown encoding: "+E);return _||E}lb.StringDecoder=i;function i(E){this.encoding=r(E);var _;switch(this.encoding){case"utf16le":this.text=h,this.end=f,_=4;break;case"utf8":this.fillLast=u,_=4;break;case"base64":this.text=g,this.end=w,_=3;break;default:this.write=P,this.end=D;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(_)}i.prototype.write=function(E){if(E.length===0)return"";var _,S;if(this.lastNeed){if(_=this.fillLast(E),_===void 0)return"";S=this.lastNeed,this.lastNeed=0}else S=0;return S<E.length?_?_+this.text(E,S):this.text(E,S):_||""},i.prototype.end=c,i.prototype.text=l,i.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length};function s(E){return E<=127?0:E>>5===6?2:E>>4===14?3:E>>3===30?4:E>>6===2?-1:-2}function o(E,_,S){var O=_.length-1;if(O<S)return 0;var $=s(_[O]);return $>=0?($>0&&(E.lastNeed=$-1),$):--O<S||$===-2?0:($=s(_[O]),$>=0?($>0&&(E.lastNeed=$-2),$):--O<S||$===-2?0:($=s(_[O]),$>=0?($>0&&($===2?$=0:E.lastNeed=$-3),$):0))}function a(E,_,S){if((_[0]&192)!==128)return E.lastNeed=0,"�";if(E.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return E.lastNeed=1,"�";if(E.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return E.lastNeed=2,"�"}}function u(E){var _=this.lastTotal-this.lastNeed,S=a(this,E);if(S!==void 0)return S;if(this.lastNeed<=E.length)return E.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,_,0,E.length),this.lastNeed-=E.length}function l(E,_){var S=o(this,E,_);if(!this.lastNeed)return E.toString("utf8",_);this.lastTotal=S;var O=E.length-(S-this.lastNeed);return E.copy(this.lastChar,0,O),E.toString("utf8",_,O)}function c(E){var _=E&&E.length?this.write(E):"";return this.lastNeed?_+"�":_}function h(E,_){if((E.length-_)%2===0){var S=E.toString("utf16le",_);if(S){var O=S.charCodeAt(S.length-1);if(O>=55296&&O<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],S.slice(0,-1)}return S}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",_,E.length-1)}function f(E){var _=E&&E.length?this.write(E):"";if(this.lastNeed){var S=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,S)}return _}function g(E,_){var S=(E.length-_)%3;return S===0?E.toString("base64",_):(this.lastNeed=3-S,this.lastTotal=3,S===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",_,E.length-S))}function w(E){var _=E&&E.length?this.write(E):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function P(E){return E.toString(this.encoding)}function D(E){return E&&E.length?this.write(E):""}return lb}var Z4=Hl.codes.ERR_STREAM_PREMATURE_CLOSE;function dse(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}function pse(){}function gse(t){return t.setHeader&&typeof t.abort=="function"}function AL(t,e,n){if(typeof e=="function")return AL(t,null,e);e||(e={}),n=dse(n||pse);var r=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,r||n.call(t)},u=t._readableState&&t._readableState.endEmitted,l=function(){r=!1,u=!0,i||n.call(t)},c=function(w){n.call(t,w)},h=function(){var w;if(r&&!u)return(!t._readableState||!t._readableState.ended)&&(w=new Z4),n.call(t,w);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(w=new Z4),n.call(t,w)},f=function(){t.req.on("finish",a)};return gse(t)?(t.on("complete",a),t.on("abort",h),t.req?f():t.on("request",f)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",c),t.on("close",h),function(){t.removeListener("complete",a),t.removeListener("abort",h),t.removeListener("request",f),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",c),t.removeListener("close",h)}}var KS=AL,cb,Y4;function mse(){if(Y4)return cb;Y4=1;var t;function e(S,O,$){return O=n(O),O in S?Object.defineProperty(S,O,{value:$,enumerable:!0,configurable:!0,writable:!0}):S[O]=$,S}function n(S){var O=r(S,"string");return typeof O=="symbol"?O:String(O)}function r(S,O){if(typeof S!="object"||S===null)return S;var $=S[Symbol.toPrimitive];if($!==void 0){var V=$.call(S,O||"default");if(typeof V!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(S)}var i=KS,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),c=Symbol("handlePromise"),h=Symbol("stream");function f(S,O){return{value:S,done:O}}function g(S){var O=S[s];if(O!==null){var $=S[h].read();$!==null&&(S[l]=null,S[s]=null,S[o]=null,O(f($,!1)))}}function w(S){process.nextTick(g,S)}function P(S,O){return function($,V){S.then(function(){if(O[u]){$(f(void 0,!0));return}O[c]($,V)},V)}}var D=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((t={get stream(){return this[h]},next:function(){var O=this,$=this[a];if($!==null)return Promise.reject($);if(this[u])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise(function(b,T){process.nextTick(function(){O[a]?T(O[a]):b(f(void 0,!0))})});var V=this[l],v;if(V)v=new Promise(P(V,this));else{var m=this[h].read();if(m!==null)return Promise.resolve(f(m,!1));v=new Promise(this[c])}return this[l]=v,v}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var O=this;return new Promise(function($,V){O[h].destroy(null,function(v){if(v){V(v);return}$(f(void 0,!0))})})}),t),D),_=function(O){var $,V=Object.create(E,($={},e($,h,{value:O,writable:!0}),e($,s,{value:null,writable:!0}),e($,o,{value:null,writable:!0}),e($,a,{value:null,writable:!0}),e($,u,{value:O._readableState.endEmitted,writable:!0}),e($,c,{value:function(m,b){var T=V[h].read();T?(V[l]=null,V[s]=null,V[o]=null,m(f(T,!1))):(V[s]=m,V[o]=b)},writable:!0}),$));return V[l]=null,i(O,function(v){if(v&&v.code!=="ERR_STREAM_PREMATURE_CLOSE"){var m=V[o];m!==null&&(V[l]=null,V[s]=null,V[o]=null,m(v)),V[a]=v;return}var b=V[s];b!==null&&(V[l]=null,V[s]=null,V[o]=null,b(f(void 0,!0))),V[u]=!0}),O.on("readable",w.bind(null,V)),V};return cb=_,cb}var hb,X4;function yse(){return X4||(X4=1,hb=function(){throw new Error("Readable.from is not available in the browser")}),hb}var fb,ex;function SL(){if(ex)return fb;ex=1,fb=b;var t;b.ReadableState=m,tp.EventEmitter;var e=function(K,se){return K.listeners(se).length},n=vL,r=cp.Buffer,i=(typeof Ie<"u"?Ie:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(j){return r.from(j)}function o(j){return r.isBuffer(j)||j instanceof i}var a=Oy,u;a&&a.debuglog?u=a.debuglog("stream"):u=function(){};var l=ese(),c=_L,h=bL,f=h.getHighWaterMark,g=Hl.codes,w=g.ERR_INVALID_ARG_TYPE,P=g.ERR_STREAM_PUSH_AFTER_EOF,D=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,_,S,O;Ps(b,n);var $=c.errorOrDestroy,V=["error","close","destroy","pause","resume"];function v(j,K,se){if(typeof j.prependListener=="function")return j.prependListener(K,se);!j._events||!j._events[K]?j.on(K,se):Array.isArray(j._events[K])?j._events[K].unshift(se):j._events[K]=[se,j._events[K]]}function m(j,K,se){t=t||jh(),j=j||{},typeof se!="boolean"&&(se=K instanceof t),this.objectMode=!!j.objectMode,se&&(this.objectMode=this.objectMode||!!j.readableObjectMode),this.highWaterMark=f(this,j,"readableHighWaterMark",se),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(_||(_=J4().StringDecoder),this.decoder=new _(j.encoding),this.encoding=j.encoding)}function b(j){if(t=t||jh(),!(this instanceof b))return new b(j);var K=this instanceof t;this._readableState=new m(j,this,K),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),n.call(this)}Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),b.prototype.destroy=c.destroy,b.prototype._undestroy=c.undestroy,b.prototype._destroy=function(j,K){K(j)},b.prototype.push=function(j,K){var se=this._readableState,ce;return se.objectMode?ce=!0:typeof j=="string"&&(K=K||se.defaultEncoding,K!==se.encoding&&(j=r.from(j,K),K=""),ce=!0),T(this,j,K,!1,ce)},b.prototype.unshift=function(j){return T(this,j,null,!0,!1)};function T(j,K,se,ce,pe){u("readableAddChunk",K);var Ee=j._readableState;if(K===null)Ee.reading=!1,x(j,Ee);else{var _e;if(pe||(_e=z(Ee,K)),_e)$(j,_e);else if(Ee.objectMode||K&&K.length>0)if(typeof K!="string"&&!Ee.objectMode&&Object.getPrototypeOf(K)!==r.prototype&&(K=s(K)),ce)Ee.endEmitted?$(j,new E):B(j,Ee,K,!0);else if(Ee.ended)$(j,new P);else{if(Ee.destroyed)return!1;Ee.reading=!1,Ee.decoder&&!se?(K=Ee.decoder.write(K),Ee.objectMode||K.length!==0?B(j,Ee,K,!1):F(j,Ee)):B(j,Ee,K,!1)}else ce||(Ee.reading=!1,F(j,Ee))}return!Ee.ended&&(Ee.length<Ee.highWaterMark||Ee.length===0)}function B(j,K,se,ce){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,j.emit("data",se)):(K.length+=K.objectMode?1:se.length,ce?K.buffer.unshift(se):K.buffer.push(se),K.needReadable&&k(j)),F(j,K)}function z(j,K){var se;return!o(K)&&typeof K!="string"&&K!==void 0&&!j.objectMode&&(se=new w("chunk",["string","Buffer","Uint8Array"],K)),se}b.prototype.isPaused=function(){return this._readableState.flowing===!1},b.prototype.setEncoding=function(j){_||(_=J4().StringDecoder);var K=new _(j);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,ce="";se!==null;)ce+=K.write(se.data),se=se.next;return this._readableState.buffer.clear(),ce!==""&&this._readableState.buffer.push(ce),this._readableState.length=ce.length,this};var A=1073741824;function p(j){return j>=A?j=A:(j--,j|=j>>>1,j|=j>>>2,j|=j>>>4,j|=j>>>8,j|=j>>>16,j++),j}function y(j,K){return j<=0||K.length===0&&K.ended?0:K.objectMode?1:j!==j?K.flowing&&K.length?K.buffer.head.data.length:K.length:(j>K.highWaterMark&&(K.highWaterMark=p(j)),j<=K.length?j:K.ended?K.length:(K.needReadable=!0,0))}b.prototype.read=function(j){u("read",j),j=parseInt(j,10);var K=this._readableState,se=j;if(j!==0&&(K.emittedReadable=!1),j===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return u("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?Y(this):k(this),null;if(j=y(j,K),j===0&&K.ended)return K.length===0&&Y(this),null;var ce=K.needReadable;u("need readable",ce),(K.length===0||K.length-j<K.highWaterMark)&&(ce=!0,u("length less than watermark",ce)),K.ended||K.reading?(ce=!1,u("reading or ended",ce)):ce&&(u("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(j=y(se,K)));var pe;return j>0?pe=Q(j,K):pe=null,pe===null?(K.needReadable=K.length<=K.highWaterMark,j=0):(K.length-=j,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),se!==j&&K.ended&&Y(this)),pe!==null&&this.emit("data",pe),pe};function x(j,K){if(u("onEofChunk"),!K.ended){if(K.decoder){var se=K.decoder.end();se&&se.length&&(K.buffer.push(se),K.length+=K.objectMode?1:se.length)}K.ended=!0,K.sync?k(j):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,C(j)))}}function k(j){var K=j._readableState;u("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(u("emitReadable",K.flowing),K.emittedReadable=!0,process.nextTick(C,j))}function C(j){var K=j._readableState;u("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(j.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,X(j)}function F(j,K){K.readingMore||(K.readingMore=!0,process.nextTick(W,j,K))}function W(j,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var se=K.length;if(u("maybeReadMore read 0"),j.read(0),se===K.length)break}K.readingMore=!1}b.prototype._read=function(j){$(this,new D("_read()"))},b.prototype.pipe=function(j,K){var se=this,ce=this._readableState;switch(ce.pipesCount){case 0:ce.pipes=j;break;case 1:ce.pipes=[ce.pipes,j];break;default:ce.pipes.push(j);break}ce.pipesCount+=1,u("pipe count=%d opts=%j",ce.pipesCount,K);var pe=(!K||K.end!==!1)&&j!==process.stdout&&j!==process.stderr,Ee=pe?He:ve;ce.endEmitted?process.nextTick(Ee):se.once("end",Ee),j.on("unpipe",_e);function _e(q,R){u("onunpipe"),q===se&&R&&R.hasUnpiped===!1&&(R.hasUnpiped=!0,Re())}function He(){u("onend"),j.end()}var _t=U(se);j.on("drain",_t);var Pe=!1;function Re(){u("cleanup"),j.removeListener("close",Te),j.removeListener("finish",Ue),j.removeListener("drain",_t),j.removeListener("error",xe),j.removeListener("unpipe",_e),se.removeListener("end",He),se.removeListener("end",ve),se.removeListener("data",ze),Pe=!0,ce.awaitDrain&&(!j._writableState||j._writableState.needDrain)&&_t()}se.on("data",ze);function ze(q){u("ondata");var R=j.write(q);u("dest.write",R),R===!1&&((ce.pipesCount===1&&ce.pipes===j||ce.pipesCount>1&&N(ce.pipes,j)!==-1)&&!Pe&&(u("false write response, pause",ce.awaitDrain),ce.awaitDrain++),se.pause())}function xe(q){u("onerror",q),ve(),j.removeListener("error",xe),e(j,"error")===0&&$(j,q)}v(j,"error",xe);function Te(){j.removeListener("finish",Ue),ve()}j.once("close",Te);function Ue(){u("onfinish"),j.removeListener("close",Te),ve()}j.once("finish",Ue);function ve(){u("unpipe"),se.unpipe(j)}return j.emit("pipe",se),ce.flowing||(u("pipe resume"),se.resume()),j};function U(j){return function(){var se=j._readableState;u("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&e(j,"data")&&(se.flowing=!0,X(j))}}b.prototype.unpipe=function(j){var K=this._readableState,se={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return j&&j!==K.pipes?this:(j||(j=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,j&&j.emit("unpipe",this,se),this);if(!j){var ce=K.pipes,pe=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var Ee=0;Ee<pe;Ee++)ce[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}var _e=N(K.pipes,j);return _e===-1?this:(K.pipes.splice(_e,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),j.emit("unpipe",this,se),this)},b.prototype.on=function(j,K){var se=n.prototype.on.call(this,j,K),ce=this._readableState;return j==="data"?(ce.readableListening=this.listenerCount("readable")>0,ce.flowing!==!1&&this.resume()):j==="readable"&&!ce.endEmitted&&!ce.readableListening&&(ce.readableListening=ce.needReadable=!0,ce.flowing=!1,ce.emittedReadable=!1,u("on readable",ce.length,ce.reading),ce.length?k(this):ce.reading||process.nextTick(G,this)),se},b.prototype.addListener=b.prototype.on,b.prototype.removeListener=function(j,K){var se=n.prototype.removeListener.call(this,j,K);return j==="readable"&&process.nextTick(I,this),se},b.prototype.removeAllListeners=function(j){var K=n.prototype.removeAllListeners.apply(this,arguments);return(j==="readable"||j===void 0)&&process.nextTick(I,this),K};function I(j){var K=j._readableState;K.readableListening=j.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:j.listenerCount("data")>0&&j.resume()}function G(j){u("readable nexttick read 0"),j.read(0)}b.prototype.resume=function(){var j=this._readableState;return j.flowing||(u("resume"),j.flowing=!j.readableListening,ue(this,j)),j.paused=!1,this};function ue(j,K){K.resumeScheduled||(K.resumeScheduled=!0,process.nextTick(ie,j,K))}function ie(j,K){u("resume",K.reading),K.reading||j.read(0),K.resumeScheduled=!1,j.emit("resume"),X(j),K.flowing&&!K.reading&&j.read(0)}b.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(j){var K=j._readableState;for(u("flow",K.flowing);K.flowing&&j.read()!==null;);}b.prototype.wrap=function(j){var K=this,se=this._readableState,ce=!1;j.on("end",function(){if(u("wrapped end"),se.decoder&&!se.ended){var _e=se.decoder.end();_e&&_e.length&&K.push(_e)}K.push(null)}),j.on("data",function(_e){if(u("wrapped data"),se.decoder&&(_e=se.decoder.write(_e)),!(se.objectMode&&_e==null)&&!(!se.objectMode&&(!_e||!_e.length))){var He=K.push(_e);He||(ce=!0,j.pause())}});for(var pe in j)this[pe]===void 0&&typeof j[pe]=="function"&&(this[pe]=function(He){return function(){return j[He].apply(j,arguments)}}(pe));for(var Ee=0;Ee<V.length;Ee++)j.on(V[Ee],this.emit.bind(this,V[Ee]));return this._read=function(_e){u("wrapped _read",_e),ce&&(ce=!1,j.resume())},this},typeof Symbol=="function"&&(b.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=mse()),S(this)}),Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(b.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(b.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(K){this._readableState&&(this._readableState.flowing=K)}}),b._fromList=Q,Object.defineProperty(b.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Q(j,K){if(K.length===0)return null;var se;return K.objectMode?se=K.buffer.shift():!j||j>=K.length?(K.decoder?se=K.buffer.join(""):K.buffer.length===1?se=K.buffer.first():se=K.buffer.concat(K.length),K.buffer.clear()):se=K.buffer.consume(j,K.decoder),se}function Y(j){var K=j._readableState;u("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,process.nextTick(ee,K,j))}function ee(j,K){if(u("endReadableNT",j.endEmitted,j.length),!j.endEmitted&&j.length===0&&(j.endEmitted=!0,K.readable=!1,K.emit("end"),j.autoDestroy)){var se=K._writableState;(!se||se.autoDestroy&&se.finished)&&K.destroy()}}typeof Symbol=="function"&&(b.from=function(j,K){return O===void 0&&(O=yse()),O(b,j,K)});function N(j,K){for(var se=0,ce=j.length;se<ce;se++)if(j[se]===K)return se;return-1}return fb}var CL=Yo,Iv=Hl.codes,vse=Iv.ERR_METHOD_NOT_IMPLEMENTED,_se=Iv.ERR_MULTIPLE_CALLBACK,wse=Iv.ERR_TRANSFORM_ALREADY_TRANSFORMING,bse=Iv.ERR_TRANSFORM_WITH_LENGTH_0,xv=jh();Ps(Yo,xv);function Ese(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit("error",new _se);n.writechunk=null,n.writecb=null,e!=null&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Yo(t){if(!(this instanceof Yo))return new Yo(t);xv.call(this,t),this._transformState={afterTransform:Ese.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Ase)}function Ase(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,n){tx(t,e,n)}):tx(this,null,null)}Yo.prototype.push=function(t,e){return this._transformState.needTransform=!1,xv.prototype.push.call(this,t,e)};Yo.prototype._transform=function(t,e,n){n(new vse("_transform()"))};Yo.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Yo.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Yo.prototype._destroy=function(t,e){xv.prototype._destroy.call(this,t,function(n){e(n)})};function tx(t,e,n){if(e)return t.emit("error",e);if(n!=null&&t.push(n),t._writableState.length)throw new bse;if(t._transformState.transforming)throw new wse;return t.push(null)}var Sse=$0,IL=CL;Ps($0,IL);function $0(t){if(!(this instanceof $0))return new $0(t);IL.call(this,t)}$0.prototype._transform=function(t,e,n){n(null,t)};var db;function Cse(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var xL=Hl.codes,Ise=xL.ERR_MISSING_ARGS,xse=xL.ERR_STREAM_DESTROYED;function nx(t){if(t)throw t}function Tse(t){return t.setHeader&&typeof t.abort=="function"}function Rse(t,e,n,r){r=Cse(r);var i=!1;t.on("close",function(){i=!0}),db===void 0&&(db=KS),db(t,{readable:e,writable:n},function(o){if(o)return r(o);i=!0,r()});var s=!1;return function(o){if(!i&&!s){if(s=!0,Tse(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();r(o||new xse("pipe"))}}}function rx(t){t()}function kse(t,e){return t.pipe(e)}function Pse(t){return!t.length||typeof t[t.length-1]!="function"?nx:t.pop()}function Mse(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Pse(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Ise("streams");var i,s=e.map(function(o,a){var u=a<e.length-1,l=a>0;return Rse(o,u,l,function(c){i||(i=c),c&&s.forEach(rx),!u&&(s.forEach(rx),r(i))})});return e.reduce(kse)}var Dse=Mse;(function(t,e){e=t.exports=SL(),e.Stream=e,e.Readable=e,e.Writable=EL(),e.Duplex=jh(),e.Transform=CL,e.PassThrough=Sse,e.finished=KS,e.pipeline=Dse})(i3,i3.exports);var TL=i3.exports;const{Transform:Nse}=TL;var Ose=t=>class RL extends Nse{constructor(n,r,i,s,o){super(o),this._rate=n,this._capacity=r,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(n,r),this._finalized=!1}_transform(n,r,i){let s=null;try{this.update(n,r)}catch(o){s=o}i(s)}_flush(n){let r=null;try{this.push(this.digest())}catch(i){r=i}n(r)}update(n,r){if(!Buffer.isBuffer(n)&&typeof n!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(n)||(n=Buffer.from(n,r)),this._state.absorb(n),this}digest(n){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let r=this._state.squeeze(this._hashBitLength/8);return n!==void 0&&(r=r.toString(n)),this._resetState(),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const n=new RL(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(n._state),n._finalized=this._finalized,n}};const{Transform:Lse}=TL;var Bse=t=>class kL extends Lse{constructor(n,r,i,s){super(s),this._rate=n,this._capacity=r,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(n,r),this._finalized=!1}_transform(n,r,i){let s=null;try{this.update(n,r)}catch(o){s=o}i(s)}_flush(){}_read(n){this.push(this.squeeze(n))}update(n,r){if(!Buffer.isBuffer(n)&&typeof n!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(n)||(n=Buffer.from(n,r)),this._state.absorb(n),this}squeeze(n,r){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(n);return r!==void 0&&(i=i.toString(r)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const n=new kL(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(n._state),n._finalized=this._finalized,n}};const Fse=Ose,$se=Bse;var jse=function(t){const e=Fse(t),n=$se(t);return function(r,i){switch(typeof r=="string"?r.toLowerCase():r){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new n(1344,256,31,i);case"shake256":return new n(1088,512,31,i);default:throw new Error("Invald algorithm: "+r)}}},PL={};const ix=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];PL.p1600=function(t){for(let e=0;e<24;++e){const n=t[0]^t[10]^t[20]^t[30]^t[40],r=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],c=t[8]^t[18]^t[28]^t[38]^t[48],h=t[9]^t[19]^t[29]^t[39]^t[49];let f=c^(i<<1|s>>>31),g=h^(s<<1|i>>>31);const w=t[0]^f,P=t[1]^g,D=t[10]^f,E=t[11]^g,_=t[20]^f,S=t[21]^g,O=t[30]^f,$=t[31]^g,V=t[40]^f,v=t[41]^g;f=n^(o<<1|a>>>31),g=r^(a<<1|o>>>31);const m=t[2]^f,b=t[3]^g,T=t[12]^f,B=t[13]^g,z=t[22]^f,A=t[23]^g,p=t[32]^f,y=t[33]^g,x=t[42]^f,k=t[43]^g;f=i^(u<<1|l>>>31),g=s^(l<<1|u>>>31);const C=t[4]^f,F=t[5]^g,W=t[14]^f,U=t[15]^g,I=t[24]^f,G=t[25]^g,ue=t[34]^f,ie=t[35]^g,X=t[44]^f,Q=t[45]^g;f=o^(c<<1|h>>>31),g=a^(h<<1|c>>>31);const Y=t[6]^f,ee=t[7]^g,N=t[16]^f,j=t[17]^g,K=t[26]^f,se=t[27]^g,ce=t[36]^f,pe=t[37]^g,Ee=t[46]^f,_e=t[47]^g;f=u^(n<<1|r>>>31),g=l^(r<<1|n>>>31);const He=t[8]^f,_t=t[9]^g,Pe=t[18]^f,Re=t[19]^g,ze=t[28]^f,xe=t[29]^g,Te=t[38]^f,Ue=t[39]^g,ve=t[48]^f,q=t[49]^g,R=w,L=P,J=E<<4|D>>>28,ne=D<<4|E>>>28,re=_<<3|S>>>29,ae=S<<3|_>>>29,Ce=$<<9|O>>>23,Ae=O<<9|$>>>23,Fe=V<<18|v>>>14,ft=v<<18|V>>>14,Le=m<<1|b>>>31,gt=b<<1|m>>>31,er=B<<12|T>>>20,Et=T<<12|B>>>20,Tt=z<<10|A>>>22,Bt=A<<10|z>>>22,Ge=y<<13|p>>>19,Xe=p<<13|y>>>19,Nt=x<<2|k>>>30,et=k<<2|x>>>30,Qe=F<<30|C>>>2,Ht=C<<30|F>>>2,Ve=W<<6|U>>>26,tt=U<<6|W>>>26,Ft=G<<11|I>>>21,Ze=I<<11|G>>>21,nt=ue<<15|ie>>>17,Ut=ie<<15|ue>>>17,We=Q<<29|X>>>3,it=X<<29|Q>>>3,qt=Y<<28|ee>>>4,$t=ee<<28|Y>>>4,Vt=j<<23|N>>>9,Ii=N<<23|j>>>9,vt=K<<25|se>>>7,St=se<<25|K>>>7,xi=ce<<21|pe>>>11,Ti=pe<<21|ce>>>11,si=_e<<24|Ee>>>8,oi=Ee<<24|_e>>>8,Un=He<<27|_t>>>5,Ri=_t<<27|He>>>5,is=Pe<<20|Re>>>12,Wr=Re<<20|Pe>>>12,ki=xe<<7|ze>>>25,ai=ze<<7|xe>>>25,Vn=Te<<8|Ue>>>24,tr=Ue<<8|Te>>>24,ui=ve<<14|q>>>18,zn=q<<14|ve>>>18;t[0]=R^~er&Ft,t[1]=L^~Et&Ze,t[10]=qt^~is&re,t[11]=$t^~Wr&ae,t[20]=Le^~Ve&vt,t[21]=gt^~tt&St,t[30]=Un^~J&Tt,t[31]=Ri^~ne&Bt,t[40]=Qe^~Vt&ki,t[41]=Ht^~Ii&ai,t[2]=er^~Ft&xi,t[3]=Et^~Ze&Ti,t[12]=is^~re&Ge,t[13]=Wr^~ae&Xe,t[22]=Ve^~vt&Vn,t[23]=tt^~St&tr,t[32]=J^~Tt&nt,t[33]=ne^~Bt&Ut,t[42]=Vt^~ki&Ce,t[43]=Ii^~ai&Ae,t[4]=Ft^~xi&ui,t[5]=Ze^~Ti&zn,t[14]=re^~Ge&We,t[15]=ae^~Xe&it,t[24]=vt^~Vn&Fe,t[25]=St^~tr&ft,t[34]=Tt^~nt&si,t[35]=Bt^~Ut&oi,t[44]=ki^~Ce&Nt,t[45]=ai^~Ae&et,t[6]=xi^~ui&R,t[7]=Ti^~zn&L,t[16]=Ge^~We&qt,t[17]=Xe^~it&$t,t[26]=Vn^~Fe&Le,t[27]=tr^~ft&gt,t[36]=nt^~si&Un,t[37]=Ut^~oi&Ri,t[46]=Ce^~Nt&Qe,t[47]=Ae^~et&Ht,t[8]=ui^~R&er,t[9]=zn^~L&Et,t[18]=We^~qt&is,t[19]=it^~$t&Wr,t[28]=Fe^~Le&Ve,t[29]=ft^~gt&tt,t[38]=si^~Un&J,t[39]=oi^~Ri&ne,t[48]=Nt^~Qe&Vt,t[49]=et^~Ht&Ii,t[0]^=ix[e*2],t[1]^=ix[e*2+1]}};const ry=PL;function pf(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}pf.prototype.initialize=function(t,e){for(let n=0;n<50;++n)this.state[n]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};pf.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(ry.p1600(this.state),this.count=0)};pf.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&ry.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),ry.p1600(this.state),this.count=0,this.squeezing=!0};pf.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let n=0;n<t;++n)e[n]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(ry.p1600(this.state),this.count=0);return e};pf.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var Use=pf,ML=jse(Use);const Vse=ML;function DL(t){return Buffer.allocUnsafe(t).fill(0)}function zse(t){return t.toString(2).length}function NL(t,e){let n=t.toString(16);n.length%2!==0&&(n="0"+n);const r=n.match(/.{1,2}/g).map(i=>parseInt(i,16));for(;r.length<e;)r.unshift(0);return Buffer.from(r)}function Hse(t,e){const n=t<0n;let r;if(n){const i=(1n<<BigInt(e))-1n;r=(~t&i)+1n}else r=t;return r&=(1n<<BigInt(e))-1n,r}function OL(t,e,n){const r=DL(e);return t=Tv(t),n?t.length<e?(t.copy(r),r):t.slice(0,e):t.length<e?(t.copy(r,e-t.length),r):t.slice(-e)}function Wse(t,e){return OL(t,e,!0)}function Tv(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")LL(t)?t=Buffer.from(Kse(BL(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(typeof t=="bigint")t=NL(t);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function qse(t){return t=Tv(t),"0x"+t.toString("hex")}function Gse(t,e){return t=Tv(t),e||(e=256),Vse("keccak"+e).update(t).digest()}function Kse(t){return t.length%2?"0"+t:t}function LL(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function BL(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var FL={zeros:DL,setLength:OL,setLengthRight:Wse,isHexString:LL,stripHexPrefix:BL,toBuffer:Tv,bufferToHex:qse,keccak:Gse,bitLengthFromBigInt:zse,bufferBEFromBigInt:NL,twosFromBigInt:Hse};const Fr=FL;function $L(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Zc(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function sx(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function jL(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Uu(t){var e=typeof t;if(e==="string"||e==="number")return BigInt(t);if(e==="bigint")return t;throw new Error("Argument is not a number")}function qs(t,e){var n,r,i,s;if(t==="address")return qs("uint160",Uu(e));if(t==="bool")return qs("uint8",e?1:0);if(t==="string")return qs("bytes",new Buffer(e,"utf8"));if(Jse(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(n=jL(t),n!=="dynamic"&&n!==0&&e.length>n)throw new Error("Elements exceed array size: "+n);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(qs(t,e[s]));if(n==="dynamic"){var o=qs("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([qs("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Fr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(n=Zc(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return Fr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(n=Zc(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=Uu(e);const a=Fr.bitLengthFromBigInt(r);if(a>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a);if(r<0)throw new Error("Supplied uint is negative");return Fr.bufferBEFromBigInt(r,32)}else if(t.startsWith("int")){if(n=Zc(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=Uu(e);const a=Fr.bitLengthFromBigInt(r);if(a>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a);const u=Fr.twosFromBigInt(r,256);return Fr.bufferBEFromBigInt(u,32)}else if(t.startsWith("ufixed")){if(n=sx(t),r=Uu(e),r<0)throw new Error("Supplied ufixed is negative");return qs("uint256",r*BigInt(2)**BigInt(n[1]))}else if(t.startsWith("fixed"))return n=sx(t),qs("int256",Uu(e)*BigInt(2)**BigInt(n[1]))}throw new Error("Unsupported or invalid type: "+t)}function Qse(t){return t==="string"||t==="bytes"||jL(t)==="dynamic"}function Jse(t){return t.lastIndexOf("]")===t.length-1}function Zse(t,e){var n=[],r=[],i=32*t.length;for(var s in t){var o=$L(t[s]),a=e[s],u=qs(o,a);Qse(o)?(n.push(qs("uint256",i)),r.push(u),i+=u.length):n.push(u)}return Buffer.concat(n.concat(r))}function UL(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var n,r,i=[],s=0;s<t.length;s++){var o=$L(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Fr.setLength(a,20));else if(o.startsWith("bytes")){if(n=Zc(o),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(Fr.setLengthRight(a,n))}else if(o.startsWith("uint")){if(n=Zc(o),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=Uu(a);const u=Fr.bitLengthFromBigInt(r);if(u>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+u);i.push(Fr.bufferBEFromBigInt(r,n/8))}else if(o.startsWith("int")){if(n=Zc(o),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=Uu(a);const u=Fr.bitLengthFromBigInt(r);if(u>n)throw new Error("Supplied int exceeds width: "+n+" vs "+u);const l=Fr.twosFromBigInt(r,n);i.push(Fr.bufferBEFromBigInt(l,n/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function Yse(t,e){return Fr.keccak(UL(t,e))}var Xse={rawEncode:Zse,solidityPack:UL,soliditySHA3:Yse};const ds=FL,wd=Xse,VL={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},pb={encodeData(t,e,n,r=!0){const i=["bytes32"],s=[this.hashType(t,n)];if(r){const o=(a,u,l)=>{if(n[u]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":ds.keccak(this.encodeData(u,l,n,r))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${u}`);if(u==="bytes")return["bytes32",ds.keccak(l)];if(u==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",ds.keccak(l)];if(u.lastIndexOf("]")===u.length-1){const c=u.slice(0,u.lastIndexOf("[")),h=l.map(f=>o(a,c,f));return["bytes32",ds.keccak(wd.rawEncode(h.map(([f])=>f),h.map(([,f])=>f)))]}return[u,l]};for(const a of n[t]){const[u,l]=o(a.name,a.type,e[a.name]);i.push(u),s.push(l)}}else for(const o of n[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=ds.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=ds.keccak(a),s.push(a);else if(n[o.type]!==void 0)i.push("bytes32"),a=ds.keccak(this.encodeData(o.type,a,n,r)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return wd.rawEncode(i,s)},encodeType(t,e){let n="",r=this.findTypeDependencies(t,e).filter(i=>i!==t);r=[t].concat(r.sort());for(const i of r){if(!e[i])throw new Error("No type definition specified: "+i);n+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return n},findTypeDependencies(t,e,n=[]){if(t=t.match(/^\w*/)[0],n.includes(t)||e[t]===void 0)return n;n.push(t);for(const r of e[t])for(const i of this.findTypeDependencies(r.type,e,n))!n.includes(i)&&n.push(i);return n},hashStruct(t,e,n,r=!0){return ds.keccak(this.encodeData(t,e,n,r))},hashType(t,e){return ds.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const n in VL.properties)t[n]&&(e[n]=t[n]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const n=this.sanitizeData(t),r=[Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",n.domain,n.types,e)),n.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(n.primaryType,n.message,n.types,e)),ds.keccak(Buffer.concat(r))}};var eoe={TYPED_MESSAGE_SCHEMA:VL,TypedDataUtils:pb,hashForSignTypedDataLegacy:function(t){return toe(t.data)},hashForSignTypedData_v3:function(t){return pb.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return pb.hash(t.data)}};function toe(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const n=t.map(function(s){return s.type==="bytes"?ds.toBuffer(s.value):s.value}),r=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return wd.soliditySHA3(["bytes32","bytes32"],[wd.soliditySHA3(new Array(t.length).fill("string"),i),wd.soliditySHA3(r,n)])}var fo={};Object.defineProperty(fo,"__esModule",{value:!0});fo.APP_VERSION_KEY=fo.LOCAL_STORAGE_ADDRESSES_KEY=fo.WALLET_USER_NAME_KEY=void 0;fo.WALLET_USER_NAME_KEY="walletUsername";fo.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";fo.APP_VERSION_KEY="AppVersion";var Ip={};Object.defineProperty(Ip,"__esModule",{value:!0});Ip.RelayEventManager=void 0;const noe=qe;let roe=class{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=(0,noe.prepend0x)(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}};Ip.RelayEventManager=roe;var Rv={},kv={},Pv={};Object.defineProperty(Pv,"__esModule",{value:!0});Pv.WalletLinkCipher=void 0;const Yg=qe;class ioe{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",(0,Yg.hexStringToUint8Array)(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),a=16,u=o.slice(o.byteLength-a),l=o.slice(0,o.byteLength-a),c=new Uint8Array(u),h=new Uint8Array(l),f=new Uint8Array([...r,...c,...h]);return(0,Yg.uint8ArrayToHex)(f)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",(0,Yg.hexStringToUint8Array)(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=(0,Yg.hexStringToUint8Array)(e),a=o.slice(0,12),u=o.slice(12,28),l=o.slice(28),c=new Uint8Array([...l,...u]),h={name:"AES-GCM",iv:new Uint8Array(a)};try{const f=await window.crypto.subtle.decrypt(h,s,c),g=new TextDecoder;r(g.decode(f))}catch(f){i(f)}})()})}}Pv.WalletLinkCipher=ioe;var Mv={};Object.defineProperty(Mv,"__esModule",{value:!0});Mv.WalletLinkHTTP=void 0;let soe=class{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r==null?void 0:r.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}};Mv.WalletLinkHTTP=soe;var Uh={};Object.defineProperty(Uh,"__esModule",{value:!0});Uh.WalletLinkWebSocket=Uh.ConnectionState=void 0;var Lc;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(Lc||(Uh.ConnectionState=Lc={}));let ooe=class{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,Lc.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),n(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Lc.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Lc.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(u=>this.sendData(u)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const u=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,u)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,Lc.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}};Uh.WalletLinkWebSocket=ooe;Object.defineProperty(kv,"__esModule",{value:!0});kv.WalletLinkConnection=void 0;const ox=fo,aoe=Pv,uoe=Mv,Xg=Uh,oc=xr,ax=1e4,loe=6e4;let coe=class{constructor({session:e,linkAPIUrl:n,listener:r,WebSocketClass:i=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,oc.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=o=>{if(!o)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",u=>o.JsonRpcUrl&&this.handleChainUpdated(u,o.JsonRpcUrl)]]).forEach((u,l)=>{const c=o[l];c!==void 0&&u(c)})},this.handleDestroyed=o=>{var a;o==="1"&&((a=this.listener)===null||a===void 0||a.resetAndReload())},this.handleAccountUpdated=async o=>{var a;{const u=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.accountUpdated(u)}},this.handleMetadataUpdated=async(o,a)=>{var u;{const l=await this.cipher.decrypt(a);(u=this.listener)===null||u===void 0||u.metadataUpdated(o,l)}},this.handleWalletUsernameUpdated=async o=>{this.handleMetadataUpdated(ox.WALLET_USER_NAME_KEY,o)},this.handleAppVersionUpdated=async o=>{this.handleMetadataUpdated(ox.APP_VERSION_KEY,o)},this.handleChainUpdated=async(o,a)=>{var u;{const l=await this.cipher.decrypt(o),c=await this.cipher.decrypt(a);(u=this.listener)===null||u===void 0||u.chainUpdated(l,c)}},this.session=e,this.cipher=new aoe.WalletLinkCipher(e.secret),this.listener=r;const s=new Xg.WalletLinkWebSocket(`${n}/rpc`,i);s.setConnectionStateListener(async o=>{let a=!1;switch(o){case Xg.ConnectionState.DISCONNECTED:if(!this.destroyed){const u=async()=>{await new Promise(l=>setTimeout(l,5e3)),this.destroyed||s.connect().catch(()=>{u()})};u()}break;case Xg.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),a=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},ax),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case Xg.ConnectionState.CONNECTING:break}this.connected!==a&&(this.connected=a)}),s.setIncomingDataListener(o=>{var a;switch(o.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const u=o.type==="IsLinkedOK"?o.linked:void 0;this.linked=u||o.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(o.metadata);break}case"Event":{this.handleIncomingEvent(o);break}}o.id!==void 0&&((a=this.requestResolutions.get(o.id))===null||a===void 0||a(o))}),this.ws=s,this.http=new uoe.WalletLinkHTTP(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}destroy(){this.destroyed=!0,this.ws.disconnect(),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(e){var n;this._connected=e,e&&((n=this.onceConnected)===null||n===void 0||n.call(this))}setOnceConnected(e){return new Promise(n=>{this.connected?e().then(n):this.onceConnected=()=>{e().then(n),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(!(e.type!=="Event"||e.event!=="Web3Response")){const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(i)}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async setSessionMetadata(e,n){const r={type:"SetSessionConfig",id:(0,oc.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[e]:n}};return this.setOnceConnected(async()=>{const i=await this.makeRequest(r);if(i.type==="Fail")throw new Error(i.error||"failed to set session metadata")})}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:(0,oc.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>ax*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n=loe){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${r} timed out`))},n)}),new Promise(s=>{this.requestResolutions.set(r,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(r)})})])}async authenticate(){const e={type:"HostSession",id:(0,oc.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},n=await this.makeRequest(e);if(n.type==="Fail")throw new Error(n.error||"failed to authenticate")}sendIsLinked(){const e={type:"IsLinked",id:(0,oc.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}sendGetSessionConfig(){const e={type:"GetSessionConfig",id:(0,oc.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}};kv.WalletLinkConnection=coe;var Dv={},zL={exports:{}},HL=vu.Buffer;function Nv(t,e){this._block=HL.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Nv.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=HL.from(t,e));for(var n=this._block,r=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%r,u=Math.min(i-o,r-a),l=0;l<u;l++)n[a+l]=t[o+l];s+=u,o+=u,s%r===0&&this._update(n)}return this._len+=i,this};Nv.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=this._len*8;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(n&4294967295)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};Nv.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var gf=Nv,hoe=Ps,WL=gf,foe=vu.Buffer,doe=[1518500249,1859775393,-1894007588,-899497514],poe=new Array(80);function xp(){this.init(),this._w=poe,WL.call(this,64,56)}hoe(xp,WL);xp.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function goe(t){return t<<5|t>>>27}function moe(t){return t<<30|t>>>2}function yoe(t,e,n,r){return t===0?e&n|~e&r:t===2?e&n|e&r|n&r:e^n^r}xp.prototype._update=function(t){for(var e=this._w,n=this._a|0,r=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var u=0;u<80;++u){var l=~~(u/20),c=goe(n)+yoe(l,r,i,s)+o+e[u]+doe[l]|0;o=s,s=i,i=moe(r),r=n,n=c}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};xp.prototype._hash=function(){var t=foe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var voe=xp,_oe=Ps,qL=gf,woe=vu.Buffer,boe=[1518500249,1859775393,-1894007588,-899497514],Eoe=new Array(80);function Tp(){this.init(),this._w=Eoe,qL.call(this,64,56)}_oe(Tp,qL);Tp.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Aoe(t){return t<<1|t>>>31}function Soe(t){return t<<5|t>>>27}function Coe(t){return t<<30|t>>>2}function Ioe(t,e,n,r){return t===0?e&n|~e&r:t===2?e&n|e&r|n&r:e^n^r}Tp.prototype._update=function(t){for(var e=this._w,n=this._a|0,r=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=Aoe(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var u=0;u<80;++u){var l=~~(u/20),c=Soe(n)+Ioe(l,r,i,s)+o+e[u]+boe[l]|0;o=s,s=i,i=Coe(r),r=n,n=c}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Tp.prototype._hash=function(){var t=woe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var xoe=Tp,Toe=Ps,GL=gf,Roe=vu.Buffer,koe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Poe=new Array(64);function Rp(){this.init(),this._w=Poe,GL.call(this,64,56)}Toe(Rp,GL);Rp.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Moe(t,e,n){return n^t&(e^n)}function Doe(t,e,n){return t&e|n&(t|e)}function Noe(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Ooe(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Loe(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Boe(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Rp.prototype._update=function(t){for(var e=this._w,n=this._a|0,r=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,u=this._g|0,l=this._h|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<64;++c)e[c]=Boe(e[c-2])+e[c-7]+Loe(e[c-15])+e[c-16]|0;for(var h=0;h<64;++h){var f=l+Ooe(o)+Moe(o,a,u)+koe[h]+e[h]|0,g=Noe(n)+Doe(n,r,i)|0;l=u,u=a,a=o,o=s+f|0,s=i,i=r,r=n,n=f+g|0}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=u+this._g|0,this._h=l+this._h|0};Rp.prototype._hash=function(){var t=Roe.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var KL=Rp,Foe=Ps,$oe=KL,joe=gf,Uoe=vu.Buffer,Voe=new Array(64);function Ov(){this.init(),this._w=Voe,joe.call(this,64,56)}Foe(Ov,$oe);Ov.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Ov.prototype._hash=function(){var t=Uoe.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var zoe=Ov,Hoe=Ps,QL=gf,Woe=vu.Buffer,ux=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],qoe=new Array(160);function kp(){this.init(),this._w=qoe,QL.call(this,128,112)}Hoe(kp,QL);kp.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function lx(t,e,n){return n^t&(e^n)}function cx(t,e,n){return t&e|n&(t|e)}function hx(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function fx(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Goe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Koe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Qoe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Joe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Gn(t,e){return t>>>0<e>>>0?1:0}kp.prototype._update=function(t){for(var e=this._w,n=this._ah|0,r=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,u=this._gh|0,l=this._hh|0,c=this._al|0,h=this._bl|0,f=this._cl|0,g=this._dl|0,w=this._el|0,P=this._fl|0,D=this._gl|0,E=this._hl|0,_=0;_<32;_+=2)e[_]=t.readInt32BE(_*4),e[_+1]=t.readInt32BE(_*4+4);for(;_<160;_+=2){var S=e[_-30],O=e[_-15*2+1],$=Goe(S,O),V=Koe(O,S);S=e[_-2*2],O=e[_-2*2+1];var v=Qoe(S,O),m=Joe(O,S),b=e[_-7*2],T=e[_-7*2+1],B=e[_-16*2],z=e[_-16*2+1],A=V+T|0,p=$+b+Gn(A,V)|0;A=A+m|0,p=p+v+Gn(A,m)|0,A=A+z|0,p=p+B+Gn(A,z)|0,e[_]=p,e[_+1]=A}for(var y=0;y<160;y+=2){p=e[y],A=e[y+1];var x=cx(n,r,i),k=cx(c,h,f),C=hx(n,c),F=hx(c,n),W=fx(o,w),U=fx(w,o),I=ux[y],G=ux[y+1],ue=lx(o,a,u),ie=lx(w,P,D),X=E+U|0,Q=l+W+Gn(X,E)|0;X=X+ie|0,Q=Q+ue+Gn(X,ie)|0,X=X+G|0,Q=Q+I+Gn(X,G)|0,X=X+A|0,Q=Q+p+Gn(X,A)|0;var Y=F+k|0,ee=C+x+Gn(Y,F)|0;l=u,E=D,u=a,D=P,a=o,P=w,w=g+X|0,o=s+Q+Gn(w,g)|0,s=i,g=f,i=r,f=h,r=n,h=c,c=X+Y|0,n=Q+ee+Gn(c,X)|0}this._al=this._al+c|0,this._bl=this._bl+h|0,this._cl=this._cl+f|0,this._dl=this._dl+g|0,this._el=this._el+w|0,this._fl=this._fl+P|0,this._gl=this._gl+D|0,this._hl=this._hl+E|0,this._ah=this._ah+n+Gn(this._al,c)|0,this._bh=this._bh+r+Gn(this._bl,h)|0,this._ch=this._ch+i+Gn(this._cl,f)|0,this._dh=this._dh+s+Gn(this._dl,g)|0,this._eh=this._eh+o+Gn(this._el,w)|0,this._fh=this._fh+a+Gn(this._fl,P)|0,this._gh=this._gh+u+Gn(this._gl,D)|0,this._hh=this._hh+l+Gn(this._hl,E)|0};kp.prototype._hash=function(){var t=Woe.allocUnsafe(64);function e(n,r,i){t.writeInt32BE(n,i),t.writeInt32BE(r,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var JL=kp,Zoe=Ps,Yoe=JL,Xoe=gf,eae=vu.Buffer,tae=new Array(160);function Lv(){this.init(),this._w=tae,Xoe.call(this,128,112)}Zoe(Lv,Yoe);Lv.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Lv.prototype._hash=function(){var t=eae.allocUnsafe(48);function e(n,r,i){t.writeInt32BE(n,i),t.writeInt32BE(r,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var nae=Lv,Wl=zL.exports=function(e){e=e.toLowerCase();var n=Wl[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n};Wl.sha=voe;Wl.sha1=xoe;Wl.sha224=zoe;Wl.sha256=KL;Wl.sha384=nae;Wl.sha512=JL;var ZL=zL.exports;Object.defineProperty(Dv,"__esModule",{value:!0});Dv.WalletLinkSession=void 0;const rae=ZL,dx=qe,px="session:id",gx="session:secret",mx="session:linked";class QS{constructor(e,n,r,i){this._storage=e,this._id=n||(0,dx.randomBytesHex)(16),this._secret=r||(0,dx.randomBytesHex)(32),this._key=new rae.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const n=e.getItem(px),r=e.getItem(mx),i=e.getItem(gx);return n&&i?new QS(e,n,i,r==="1"):null}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(px,this._id),this._storage.setItem(gx,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(mx,this._linked?"1":"0")}}Dv.WalletLinkSession=QS;var gi={};Object.defineProperty(gi,"__esModule",{value:!0});gi.isDarkMode=gi.isMobileWeb=gi.getLocation=gi.createQrUrl=void 0;function iae(t,e,n,r,i,s){const o=r?"parent-id":"id",a=new URLSearchParams({[o]:t,secret:e,server:n,v:i,chainId:s.toString()}).toString();return`${n}/#/link?${a}`}gi.createQrUrl=iae;function sae(){try{return window.frameElement!==null}catch{return!1}}function oae(){try{return sae()&&window.top?window.top.location:window.location}catch{return window.location}}gi.getLocation=oae;function aae(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)}gi.isMobileWeb=aae;function uae(){var t,e;return(e=(t=window==null?void 0:window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}gi.isDarkMode=uae;var Bv={},Pp={},JS={};Object.defineProperty(JS,"__esModule",{value:!0});JS.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var lae=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pp,"__esModule",{value:!0});Pp.injectCssReset=void 0;const cae=lae(JS);function hae(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(cae.default)),document.documentElement.appendChild(t)}Pp.injectCssReset=hae;var ZS={};function YL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=YL(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function yx(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=YL(t))&&(r&&(r+=" "),r+=e);return r}const fae=Object.freeze(Object.defineProperty({__proto__:null,clsx:yx,default:yx},Symbol.toStringTag,{value:"Module"})),ql=ta(fae);var Mp,un,XL,e9,Vu,vx,t9,u3,YS,l3,c3,n9,j0={},r9=[],dae=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Fv=Array.isArray;function Lo(t,e){for(var n in e)t[n]=e[n];return t}function i9(t){var e=t.parentNode;e&&e.removeChild(t)}function h3(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Mp.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return bd(t,o,r,i,null)}function bd(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++XL,__i:-1,__u:0};return i==null&&un.vnode!=null&&un.vnode(s),s}function pae(){return{current:null}}function Dp(t){return t.children}function Ed(t,e){this.props=t,this.context=e}function kl(t,e){if(e==null)return t.__?kl(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?kl(t):null}function s9(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return s9(t)}}function f3(t){(!t.__d&&(t.__d=!0)&&Vu.push(t)&&!iy.__r++||vx!==un.debounceRendering)&&((vx=un.debounceRendering)||t9)(iy)}function iy(){var t,e,n,r,i,s,o,a;for(Vu.sort(u3);t=Vu.shift();)t.__d&&(e=Vu.length,r=void 0,s=(i=(n=t).__v).__e,o=[],a=[],n.__P&&((r=Lo({},i)).__v=i.__v+1,un.vnode&&un.vnode(r),XS(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,o,s??kl(i),!!(32&i.__u),a),r.__v=i.__v,r.__.__k[r.__i]=r,l9(o,r,a),r.__e!=s&&s9(r)),Vu.length>e&&Vu.sort(u3));iy.__r=0}function o9(t,e,n,r,i,s,o,a,u,l,c){var h,f,g,w,P,D=r&&r.__k||r9,E=e.length;for(n.__d=u,gae(n,e,D),u=n.__d,h=0;h<E;h++)(g=n.__k[h])!=null&&typeof g!="boolean"&&typeof g!="function"&&(f=g.__i===-1?j0:D[g.__i]||j0,g.__i=h,XS(t,g,f,i,s,o,a,u,l,c),w=g.__e,g.ref&&f.ref!=g.ref&&(f.ref&&e5(f.ref,null,g),c.push(g.ref,g.__c||w,g)),P==null&&w!=null&&(P=w),65536&g.__u||f.__k===g.__k?(u&&typeof g.type=="string"&&!t.contains(u)&&(u=kl(f)),u=a9(g,u,t)):typeof g.type=="function"&&g.__d!==void 0?u=g.__d:w&&(u=w.nextSibling),g.__d=void 0,g.__u&=-196609);n.__d=u,n.__e=P}function gae(t,e,n){var r,i,s,o,a,u=e.length,l=n.length,c=l,h=0;for(t.__k=[],r=0;r<u;r++)o=r+h,(i=t.__k[r]=(i=e[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?bd(null,i,null,null,null):Fv(i)?bd(Dp,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?bd(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=t,i.__b=t.__b+1,a=mae(i,n,o,c),i.__i=a,s=null,a!==-1&&(c--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&h--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a==o-1?h=a-o:a==o+1?h++:a>o?c>u-o?h+=a-o:h--:a<o&&h++,a!==r+h&&(i.__u|=65536))):(s=n[o])&&s.key==null&&s.__e&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=kl(s)),d3(s,s,!1),n[o]=null,c--);if(c)for(r=0;r<l;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=kl(s)),d3(s,s))}function a9(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=a9(r[i],e,n));return e}t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function u9(t,e){return e=e||[],t==null||typeof t=="boolean"||(Fv(t)?t.some(function(n){u9(n,e)}):e.push(t)),e}function mae(t,e,n,r){var i=t.key,s=t.type,o=n-1,a=n+1,u=e[n];if(u===null||u&&i==u.key&&s===u.type&&!(131072&u.__u))return n;if(r>(u!=null&&!(131072&u.__u)?1:0))for(;o>=0||a<e.length;){if(o>=0){if((u=e[o])&&!(131072&u.__u)&&i==u.key&&s===u.type)return o;o--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&i==u.key&&s===u.type)return a;a++}}return-1}function _x(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||dae.test(e)?n:n+"px"}function em(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||_x(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||_x(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=YS,t.addEventListener(e,s?c3:l3,s)):t.removeEventListener(e,s?c3:l3,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function wx(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=YS++;else if(e.t<n.u)return;return n(un.event?un.event(e):e)}}}function XS(t,e,n,r,i,s,o,a,u,l){var c,h,f,g,w,P,D,E,_,S,O,$,V,v,m,b,T=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),s=[a=e.__e=n.__e]),(c=un.__b)&&c(e);e:if(typeof T=="function")try{if(E=e.props,_="prototype"in T&&T.prototype.render,S=(c=T.contextType)&&r[c.__c],O=c?S?S.props.value:c.__:r,n.__c?D=(h=e.__c=n.__c).__=h.__E:(_?e.__c=h=new T(E,O):(e.__c=h=new Ed(E,O),h.constructor=T,h.render=vae),S&&S.sub(h),h.props=E,h.state||(h.state={}),h.context=O,h.__n=r,f=h.__d=!0,h.__h=[],h._sb=[]),_&&h.__s==null&&(h.__s=h.state),_&&T.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Lo({},h.__s)),Lo(h.__s,T.getDerivedStateFromProps(E,h.__s))),g=h.props,w=h.state,h.__v=e,f)_&&T.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),_&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(_&&T.getDerivedStateFromProps==null&&E!==g&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(E,O),!h.__e&&(h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(E,h.__s,O)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(h.props=E,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(B){B&&(B.__=e)}),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(E,h.__s,O),_&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(g,w,P)})}if(h.context=O,h.props=E,h.__P=t,h.__e=!1,V=un.__r,v=0,_){for(h.state=h.__s,h.__d=!1,V&&V(e),c=h.render(h.props,h.state,h.context),m=0;m<h._sb.length;m++)h.__h.push(h._sb[m]);h._sb=[]}else do h.__d=!1,V&&V(e),c=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++v<25);h.state=h.__s,h.getChildContext!=null&&(r=Lo(Lo({},r),h.getChildContext())),_&&!f&&h.getSnapshotBeforeUpdate!=null&&(P=h.getSnapshotBeforeUpdate(g,w)),o9(t,Fv(b=c!=null&&c.type===Dp&&c.key==null?c.props.children:c)?b:[b],e,n,r,i,s,o,a,u,l),h.base=e.__e,e.__u&=-161,h.__h.length&&o.push(h),D&&(h.__E=h.__=null)}catch(B){e.__v=null,u||s!=null?(e.__e=a,e.__u|=u?160:32,s[s.indexOf(a)]=null):(e.__e=n.__e,e.__k=n.__k),un.__e(B,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=yae(n.__e,e,n,r,i,s,o,u,l);(c=un.diffed)&&c(e)}function l9(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)e5(n[r],n[++r],n[++r]);un.__c&&un.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){un.__e(s,i.__v)}})}function yae(t,e,n,r,i,s,o,a,u){var l,c,h,f,g,w,P,D=n.props,E=e.props,_=e.type;if(_==="svg"?i="http://www.w3.org/2000/svg":_==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(l=0;l<s.length;l++)if((g=s[l])&&"setAttribute"in g==!!_&&(_?g.localName===_:g.nodeType===3)){t=g,s[l]=null;break}}if(t==null){if(_===null)return document.createTextNode(E);t=document.createElementNS(i,_,E.is&&E),s=null,a=!1}if(_===null)D===E||a&&t.data===E||(t.data=E);else{if(s=s&&Mp.call(t.childNodes),D=n.props||j0,!a&&s!=null)for(D={},l=0;l<t.attributes.length;l++)D[(g=t.attributes[l]).name]=g.value;for(l in D)if(g=D[l],l!="children"){if(l=="dangerouslySetInnerHTML")h=g;else if(l!=="key"&&!(l in E)){if(l=="value"&&"defaultValue"in E||l=="checked"&&"defaultChecked"in E)continue;em(t,l,null,g,i)}}for(l in E)g=E[l],l=="children"?f=g:l=="dangerouslySetInnerHTML"?c=g:l=="value"?w=g:l=="checked"?P=g:l==="key"||a&&typeof g!="function"||D[l]===g||em(t,l,g,D[l],i);if(c)a||h&&(c.__html===h.__html||c.__html===t.innerHTML)||(t.innerHTML=c.__html),e.__k=[];else if(h&&(t.innerHTML=""),o9(t,Fv(f)?f:[f],e,n,r,_==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:n.__k&&kl(n,0),a,u),s!=null)for(l=s.length;l--;)s[l]!=null&&i9(s[l]);a||(l="value",w!==void 0&&(w!==t[l]||_==="progress"&&!w||_==="option"&&w!==D[l])&&em(t,l,w,D[l],i),l="checked",P!==void 0&&P!==t[l]&&em(t,l,P,D[l],i))}return t}function e5(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){un.__e(r,n)}}function d3(t,e,n){var r,i;if(un.unmount&&un.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||e5(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){un.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&d3(r[i],e,n||typeof t.type!="function");n||t.__e==null||i9(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function vae(t,e,n){return this.constructor(t,n)}function c9(t,e,n){var r,i,s,o;un.__&&un.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],o=[],XS(e,t=(!r&&n||e).__k=h3(Dp,null,[t]),i||j0,j0,e.namespaceURI,!r&&n?[n]:i?null:e.firstChild?Mp.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r,o),l9(s,t,o)}function h9(t,e){c9(t,e,h9)}function _ae(t,e,n){var r,i,s,o,a=Lo({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?Mp.call(arguments,2):n),bd(t.type,a,r||t.key,i||t.ref,null)}function wae(t,e){var n={__c:e="__cC"+n9++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,f3(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i&&i.splice(i.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Mp=r9.slice,un={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},XL=0,e9=function(t){return t!=null&&t.constructor==null},Ed.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Lo({},this.state),typeof t=="function"&&(t=t(Lo({},n),this.props)),t&&Lo(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),f3(this))},Ed.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),f3(this))},Ed.prototype.render=Dp,Vu=[],t9=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u3=function(t,e){return t.__v.__b-e.__v.__b},iy.__r=0,YS=0,l3=wx(!1),c3=wx(!0),n9=0;const bae=Object.freeze(Object.defineProperty({__proto__:null,Component:Ed,Fragment:Dp,cloneElement:_ae,createContext:wae,createElement:h3,createRef:pae,h:h3,hydrate:h9,get isValidElement(){return e9},get options(){return un},render:c9,toChildArray:u9},Symbol.toStringTag,{value:"Module"})),Mr=ta(bae);var Xo,Jt,gb,bx,Vh=0,f9=[],pn=un,Ex=pn.__b,Ax=pn.__r,Sx=pn.diffed,Cx=pn.__c,Ix=pn.unmount,xx=pn.__;function Gl(t,e){pn.__h&&pn.__h(Jt,t,Vh||e),Vh=0;var n=Jt.__H||(Jt.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function d9(t){return Vh=1,p9(m9,t)}function p9(t,e,n){var r=Gl(Xo++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):m9(void 0,e),function(a){var u=r.__N?r.__N[0]:r.__[0],l=r.t(u,a);u!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=Jt,!Jt.u)){var i=function(a,u,l){if(!r.__c.__H)return!0;var c=r.__c.__H.__.filter(function(f){return!!f.__c});if(c.every(function(f){return!f.__N}))return!s||s.call(this,a,u,l);var h=!1;return c.forEach(function(f){if(f.__N){var g=f.__[0];f.__=f.__N,f.__N=void 0,g!==f.__[0]&&(h=!0)}}),!(!h&&r.__c.props===a)&&(!s||s.call(this,a,u,l))};Jt.u=!0;var s=Jt.shouldComponentUpdate,o=Jt.componentWillUpdate;Jt.componentWillUpdate=function(a,u,l){if(this.__e){var c=s;s=void 0,i(a,u,l),s=c}o&&o.call(this,a,u,l)},Jt.shouldComponentUpdate=i}return r.__N||r.__}function Eae(t,e){var n=Gl(Xo++,3);!pn.__s&&n5(n.__H,e)&&(n.__=t,n.i=e,Jt.__H.__h.push(n))}function g9(t,e){var n=Gl(Xo++,4);!pn.__s&&n5(n.__H,e)&&(n.__=t,n.i=e,Jt.__h.push(n))}function Aae(t){return Vh=5,t5(function(){return{current:t}},[])}function Sae(t,e,n){Vh=6,g9(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},n==null?n:n.concat(t))}function t5(t,e){var n=Gl(Xo++,7);return n5(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function Cae(t,e){return Vh=8,t5(function(){return t},e)}function Iae(t){var e=Jt.context[t.__c],n=Gl(Xo++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(Jt)),e.props.value):t.__}function xae(t,e){pn.useDebugValue&&pn.useDebugValue(e?e(t):t)}function Tae(t){var e=Gl(Xo++,10),n=d9();return e.__=t,Jt.componentDidCatch||(Jt.componentDidCatch=function(r,i){e.__&&e.__(r,i),n[1](r)}),[n[0],function(){n[1](void 0)}]}function Rae(){var t=Gl(Xo++,11);if(!t.__){for(var e=Jt.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function kae(){for(var t;t=f9.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Um),t.__H.__h.forEach(p3),t.__H.__h=[]}catch(e){t.__H.__h=[],pn.__e(e,t.__v)}}pn.__b=function(t){Jt=null,Ex&&Ex(t)},pn.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),xx&&xx(t,e)},pn.__r=function(t){Ax&&Ax(t),Xo=0;var e=(Jt=t.__c).__H;e&&(gb===Jt?(e.__h=[],Jt.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(Um),e.__h.forEach(p3),e.__h=[],Xo=0)),gb=Jt},pn.diffed=function(t){Sx&&Sx(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(f9.push(e)!==1&&bx===pn.requestAnimationFrame||((bx=pn.requestAnimationFrame)||Pae)(kae)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),gb=Jt=null},pn.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Um),n.__h=n.__h.filter(function(r){return!r.__||p3(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],pn.__e(r,n.__v)}}),Cx&&Cx(t,e)},pn.unmount=function(t){Ix&&Ix(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Um(r)}catch(i){e=i}}),n.__H=void 0,e&&pn.__e(e,n.__v))};var Tx=typeof requestAnimationFrame=="function";function Pae(t){var e,n=function(){clearTimeout(r),Tx&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Tx&&(e=requestAnimationFrame(n))}function Um(t){var e=Jt,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Jt=e}function p3(t){var e=Jt;t.__c=t.__(),Jt=e}function n5(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function m9(t,e){return typeof e=="function"?e(t):e}const Mae=Object.freeze(Object.defineProperty({__proto__:null,useCallback:Cae,useContext:Iae,useDebugValue:xae,useEffect:Eae,useErrorBoundary:Tae,useId:Rae,useImperativeHandle:Sae,useLayoutEffect:g9,useMemo:t5,useReducer:p9,useRef:Aae,useState:d9},Symbol.toStringTag,{value:"Module"})),Np=ta(Mae);var r5={};Object.defineProperty(r5,"__esModule",{value:!0});r5.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=Ie&&Ie.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const n=e(ql),r=Mr,i=Np,s=gi,o=e(r5),a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",u="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class l{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=(0,s.isDarkMode)()}attach(g){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",g.appendChild(this.root),this.render()}presentItem(g){const w=this.nextItemKey++;return this.items.set(w,g),this.render(),()=>{this.items.delete(w),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,r.render)((0,r.h)("div",null,(0,r.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([g,w])=>(0,r.h)(t.SnackbarInstance,Object.assign({},w,{key:g}))))),this.root)}}t.Snackbar=l;const c=f=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-container")},(0,r.h)("style",null,o.default),(0,r.h)("div",{class:"-cbwsdk-snackbar"},f.children));t.SnackbarContainer=c;const h=({autoExpand:f,message:g,menuItems:w})=>{const[P,D]=(0,i.useState)(!0),[E,_]=(0,i.useState)(f??!1);(0,i.useEffect)(()=>{const O=[window.setTimeout(()=>{D(!1)},1),window.setTimeout(()=>{_(!0)},1e4)];return()=>{O.forEach(window.clearTimeout)}});const S=()=>{_(!E)};return(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance",P&&"-cbwsdk-snackbar-instance-hidden",E&&"-cbwsdk-snackbar-instance-expanded")},(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:S},(0,r.h)("img",{src:a,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},g),(0,r.h)("div",{class:"-gear-container"},!E&&(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,r.h)("img",{src:u,class:"-gear-icon",title:"Expand"}))),w&&w.length>0&&(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},w.map((O,$)=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item",O.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:O.onClick,key:$},(0,r.h)("svg",{width:O.svgWidth,height:O.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":O.defaultFillRule,"clip-rule":O.defaultClipRule,d:O.path,fill:"#AAAAAA"})),(0,r.h)("span",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item-info",O.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},O.info)))))};t.SnackbarInstance=h})(ZS);Object.defineProperty(Bv,"__esModule",{value:!0});Bv.WalletLinkRelayUI=void 0;const Dae=Pp,Nae=ZS;let Oae=class{constructor(){this.attached=!1,this.snackbar=new Nae.Snackbar}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,(0,Dae.injectCssReset)()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}};Bv.WalletLinkRelayUI=Oae;var $v={},jv={},i5={};Object.defineProperty(i5,"__esModule",{value:!0});i5.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";var y9=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jv,"__esModule",{value:!0});jv.RedirectDialog=void 0;const Lae=y9(ql),Ks=Mr,Bae=Pp,Fae=ZS,$ae=gi,jae=y9(i5);let Uae=class{constructor(){this.root=null,this.darkMode=(0,$ae.isDarkMode)()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),(0,Bae.injectCssReset)()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&((0,Ks.render)(null,this.root),e&&(0,Ks.render)((0,Ks.h)(Vae,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}};jv.RedirectDialog=Uae;const Vae=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return(0,Ks.h)(Fae.SnackbarContainer,{darkMode:n},(0,Ks.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,Ks.h)("style",null,jae.default),(0,Ks.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),(0,Ks.h)("div",{class:(0,Lae.default)("-cbwsdk-redirect-dialog-box",s)},(0,Ks.h)("p",null,t),(0,Ks.h)("button",{onClick:r},e))))};var po={};Object.defineProperty(po,"__esModule",{value:!0});po.CBW_MOBILE_DEEPLINK_URL=po.WALLETLINK_URL=po.CB_KEYS_URL=void 0;po.CB_KEYS_URL="https://keys.coinbase.com/connect";po.WALLETLINK_URL="https://www.walletlink.org";po.CBW_MOBILE_DEEPLINK_URL="https://go.cb-w.com/walletlink";Object.defineProperty($v,"__esModule",{value:!0});$v.WLMobileRelayUI=void 0;const zae=jv,Hae=gi,Wae=po;class qae{constructor(){this.attached=!1,this.redirectDialog=new zae.RedirectDialog}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(Wae.CBW_MOBILE_DEEPLINK_URL);n.searchParams.append("redirect_url",(0,Hae.getLocation)().href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}$v.WLMobileRelayUI=qae;Object.defineProperty(Rv,"__esModule",{value:!0});Rv.WalletLinkRelay=void 0;const Gae=kv,Kae=fo,Qae=Ip,mb=Dv,ac=df,Jae=gi,Zae=Bv,Rx=$v,Yae=wo,Cn=qe,Xae=bo;let v9=class $u{constructor(e){this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.isMobileWeb=(0,Jae.isMobileWeb)(),this.appName="",this.appLogoUrl=null,this.linkedUpdated=s=>{this.isLinked=s;const o=this.storage.getItem(Kae.LOCAL_STORAGE_ADDRESSES_KEY);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),u=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!s&&this._session.linked&&!u&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,o)=>{this.storage.setItem(s,o)},this.chainUpdated=(s,o)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:s,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(s,o))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),$u.accountRequestCallbackIds.size>0&&(Array.from($u.accountRequestCallbackIds.values()).forEach(o=>{const a={type:"WEB3_RESPONSE",id:o,response:{method:"requestEthereumAccounts",result:[s]}};this.invokeCallback(Object.assign(Object.assign({},a),{id:o}))}),$u.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new Qae.RelayEventManager,this.ui=r}subscribe(){const e=mb.WalletLinkSession.load(this.storage)||new mb.WalletLinkSession(this.storage).save(),{linkAPIUrl:n}=this,r=new Gae.WalletLinkConnection({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new Rx.WLMobileRelayUI:new Zae.WalletLinkRelayUI;return r.connect(),{session:e,ui:i,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(e=>setTimeout(()=>e(null),1e3))]).then(()=>{this.connection.destroy();const e=mb.WalletLinkSession.load(this.storage);(e==null?void 0:e.id)===this._session.id&&Xae.ScopedLocalStorage.clearAll(),document.location.reload()}).catch(e=>{})}setAppInfo(e,n){this.appName=e,this.appLogoUrl=n}getStorageItem(e){return this.storage.getItem(e)}setStorageItem(e,n){this.storage.setItem(e,n)}signEthereumMessage(e,n,r,i){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,Cn.hexStringFromBuffer)(e,!0),address:n,addPrefix:r,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,n,r){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,Cn.hexStringFromBuffer)(e,!0),signature:(0,Cn.hexStringFromBuffer)(n,!0),addPrefix:r}})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Cn.bigIntStringFromBigInt)(e.weiValue),data:(0,Cn.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Cn.bigIntStringFromBigInt)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,Cn.bigIntStringFromBigInt)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,Cn.bigIntStringFromBigInt)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,Cn.bigIntStringFromBigInt)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Cn.bigIntStringFromBigInt)(e.weiValue),data:(0,Cn.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Cn.bigIntStringFromBigInt)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,Cn.bigIntStringFromBigInt)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,Cn.bigIntStringFromBigInt)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,Cn.bigIntStringFromBigInt)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,Cn.hexStringFromBuffer)(e,!0),chainId:n}})}scanQRCode(e){return this.sendRequest({method:"scanQRCode",params:{regExp:e}})}getWalletLinkSession(){return this._session}genericRequest(e,n){return this.sendRequest({method:"generic",params:{action:n,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let n=null;const r=(0,Cn.randomBytesHex)(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s),n==null||n()};return new Promise((s,o)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,a=>{if(n==null||n(),(0,ac.isErrorResponse)(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(r,e)})}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChain=e}publishWeb3RequestEvent(e,n){const r={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:r.id,response:{method:n.method,errorMessage:i.message}})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof Rx.WLMobileRelayUI)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e){const{response:n}=e;if(n.method==="requestEthereumAccounts"){$u.accountRequestCallbackIds.forEach(r=>this.invokeCallback(Object.assign(Object.assign({},e),{id:r}))),$u.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,n,r){var i;const s=(i=r==null?void 0:r.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:{method:n,errorMessage:s}})}invokeCallback(e){const n=this.relayEventManager.callbacks.get(e.id);n&&(n(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},n=(0,Cn.randomBytesHex)(8);return new Promise((r,i)=>{this.relayEventManager.callbacks.set(n,s=>{if((0,ac.isErrorResponse)(s))return i(new Error(s.errorMessage));r(s)}),$u.accountRequestCallbackIds.add(n),this.publishWeb3RequestEvent(n,e)})}watchAsset(e,n,r,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:o}};let u=null;const l=(0,Cn.randomBytesHex)(8),c=h=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,h),u==null||u()};return u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:c,onResetConnection:this.resetAndReload}),new Promise((h,f)=>{this.relayEventManager.callbacks.set(l,g=>{if(u==null||u(),(0,ac.isErrorResponse)(g))return f(new Error(g.errorMessage));h(g)}),this.publishWeb3RequestEvent(l,a)})}addEthereumChain(e,n,r,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:o}};let u=null;const l=(0,Cn.randomBytesHex)(8),c=h=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,h),u==null||u()};return u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:c,onResetConnection:this.resetAndReload}),new Promise((h,f)=>{this.relayEventManager.callbacks.set(l,g=>{if(u==null||u(),(0,ac.isErrorResponse)(g))return f(new Error(g.errorMessage));h(g)}),this.publishWeb3RequestEvent(l,a)})}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})},i=(0,Cn.randomBytesHex)(8);return new Promise((s,o)=>{this.relayEventManager.callbacks.set(i,a=>{if((0,ac.isErrorResponse)(a)&&a.errorCode)return o(Yae.standardErrors.provider.custom({code:a.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,ac.isErrorResponse)(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(i,r)})}};Rv.WalletLinkRelay=v9;v9.accountRequestCallbackIds=new Set;var eue=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cv,"__esModule",{value:!0});Cv.WalletLinkSigner=void 0;const yb=eue(eoe),kx=fo,tue=Ip,xo=df,nue=Rv,Px=po,Kn=wo,xt=qe,rue=bo,vb="DefaultChainId",Mx="DefaultJsonRpcUrl";class iue{constructor(e){var n,r;this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1;const{appName:i,appLogoUrl:s}=e.metadata;this._appName=i,this._appLogoUrl=s,this._storage=new rue.ScopedLocalStorage("walletlink",Px.WALLETLINK_URL),this.updateListener=e.updateListener,this._relayEventManager=new tue.RelayEventManager,this._jsonRpcUrlFromOpts="";const o=this._storage.getItem(kx.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const u=o.split(" ");u[0]!==""&&(this._addresses=u.map(l=>(0,xt.ensureAddressString)(l)),(n=this.updateListener)===null||n===void 0||n.onAccountsUpdate({accounts:this._addresses,source:"storage"}))}this._storage.getItem(vb)&&((r=this.updateListener)===null||r===void 0||r.onChainUpdate({chain:{id:this.getChainId(),rpcUrl:this.jsonRpcUrl},source:"storage"}),this.hasMadeFirstChainChangedEmission=!0),this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:r}=e.getWalletLinkSession();return{id:n,secret:r}}async handshake(){return await this.request({method:"eth_requestAccounts"})}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Mx))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Mx,e)}updateProviderInfo(e,n){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(vb,n.toString(10)),((0,xt.ensureIntNumber)(n)!==i||!this.hasMadeFirstChainChangedEmission)&&((r=this.updateListener)===null||r===void 0||r.onChainUpdate({chain:{id:n,rpcUrl:e},source:"wallet"}),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,n,r,i,s,o){const u=await this.initializeRelay().watchAsset(e,n,r,i,s,o==null?void 0:o.toString());return(0,xo.isErrorResponse)(u)?!1:!!u.result}async addEthereumChain(e,n,r,i,s,o){var a,u;if((0,xt.ensureIntNumber)(e)===this.getChainId())return!1;const l=this.initializeRelay();this._isAuthorized()||await l.requestEthereumAccounts();const c=await l.addEthereumChain(e.toString(),n,s,r,i,o);return(0,xo.isErrorResponse)(c)?!1:(((a=c.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(n[0],e),((u=c.result)===null||u===void 0?void 0:u.isApproved)===!0)}async switchEthereumChain(e){const r=await this.initializeRelay().switchEthereumChain(e.toString(10),this.selectedAddress||void 0);if((0,xo.isErrorResponse)(r)){if(!r.errorCode)return;throw r.errorCode===Kn.standardErrorCodes.provider.unsupportedChain?Kn.standardErrors.provider.unsupportedChain():Kn.standardErrors.provider.custom({message:r.errorMessage,code:r.errorCode})}const i=r.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}async disconnect(){this._relay&&this._relay.resetAndReload(),this._storage.clear()}async request(e){try{return this._request(e).catch(n=>{throw n})}catch(n){return Promise.reject(n)}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Kn.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:n,params:r}=e;if(typeof n!="string"||n.length===0)throw Kn.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw Kn.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=r===void 0?[]:r,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:n,params:i,jsonrpc:"2.0",id:s})).result}_setAddresses(e,n){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>(0,xt.ensureAddressString)(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.updateListener)===null||r===void 0||r.onAccountsUpdate({accounts:i,source:"wallet"}),this._storage.setItem(kx.LOCAL_STORAGE_ADDRESSES_KEY,i.join(" ")))}_sendRequestAsync(e){return new Promise((n,r)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return n({jsonrpc:"2.0",id:e.id,result:i})}catch(i){return r(i)}this._handleAsynchronousMethods(e).then(i=>i&&n(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>r(i))})}_handleSynchronousMethods(e){const{method:n}=e;switch(n){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:n}=e,r=e.params||[];switch(n){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(r);case"eth_ecRecover":return this._eth_ecRecover(r);case"personal_sign":return this._personal_sign(r);case"personal_ecRecover":return this._personal_ecRecover(r);case"eth_signTransaction":return this._eth_signTransaction(r);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(r);case"eth_sendTransaction":return this._eth_sendTransaction(r);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(r);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(r);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(r);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(r);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(r);case"wallet_watchAsset":return this._wallet_watchAsset(r);default:return this._throwUnsupportedMethodError()}}_isKnownAddress(e){try{const n=(0,xt.ensureAddressString)(e);return this._addresses.map(i=>(0,xt.ensureAddressString)(i)).includes(n)}catch{}return!1}_ensureKnownAddress(e){if(!this._isKnownAddress(e))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?(0,xt.ensureAddressString)(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?(0,xt.ensureAddressString)(e.to):null,i=e.value!=null?(0,xt.ensureBigInt)(e.value):BigInt(0),s=e.data?(0,xt.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,xt.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,xt.ensureBigInt)(e.gasPrice):null,u=e.maxFeePerGas!=null?(0,xt.ensureBigInt)(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?(0,xt.ensureBigInt)(e.maxPriorityFeePerGas):null,c=e.gas!=null?(0,xt.ensureBigInt)(e.gas):null,h=e.chainId?(0,xt.ensureIntNumber)(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:u,maxPriorityFeePerGas:l,gasLimit:c,chainId:h}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Kn.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Kn.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,n,r,i){this._ensureKnownAddress(n);try{const o=await this.initializeRelay().signEthereumMessage(e,n,r,i);if((0,xo.isErrorResponse)(o))throw new Error(o.errorMessage);return{jsonrpc:"2.0",id:0,result:o.result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Kn.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,n,r){const s=await this.initializeRelay().ethereumAddressFromSignedMessage(e,n,r);if((0,xo.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,xt.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(vb);if(!e)return(0,xt.ensureIntNumber)(1);const n=parseInt(e,10);return(0,xt.ensureIntNumber)(n)}async _eth_requestAccounts(){if(this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let e;try{if(e=await this.initializeRelay().requestEthereumAccounts(),(0,xo.isErrorResponse)(e))throw new Error(e.errorMessage)}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Kn.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!e.result)throw new Error("accounts received is empty");return this._setAddresses(e.result),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const n=(0,xt.ensureAddressString)(e[0]),r=(0,xt.ensureBuffer)(e[1]);return this._signEthereumMessage(r,n,!1)}_eth_ecRecover(e){const n=(0,xt.ensureBuffer)(e[0]),r=(0,xt.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(n,r,!1)}_personal_sign(e){this._requireAuthorization();const n=(0,xt.ensureBuffer)(e[0]),r=(0,xt.ensureAddressString)(e[1]);return this._signEthereumMessage(n,r,!0)}_personal_ecRecover(e){const n=(0,xt.ensureBuffer)(e[0]),r=(0,xt.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(n,r,!0)}async _eth_signTransaction(e){this._requireAuthorization();const n=this._prepareTransactionParams(e[0]||{});try{const i=await this.initializeRelay().signEthereumTransaction(n);if((0,xo.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?Kn.standardErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_sendRawTransaction(e){const n=(0,xt.ensureBuffer)(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if((0,xo.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(e){this._requireAuthorization();const n=this._prepareTransactionParams(e[0]||{});try{const i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if((0,xo.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?Kn.standardErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_signTypedData_v1(e){this._requireAuthorization();const n=(0,xt.ensureParsedJSONObject)(e[0]),r=(0,xt.ensureAddressString)(e[1]);this._ensureKnownAddress(r);const i=yb.default.hashForSignTypedDataLegacy({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const n=(0,xt.ensureAddressString)(e[0]),r=(0,xt.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(n);const i=yb.default.hashForSignTypedData_v3({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const n=(0,xt.ensureAddressString)(e[0]),r=(0,xt.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(n);const i=yb.default.hashForSignTypedData_v4({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _wallet_addEthereumChain(e){var n,r,i,s;const o=e[0];if(((n=o.rpcUrls)===null||n===void 0?void 0:n.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw Kn.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw Kn.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(r=o.rpcUrls)!==null&&r!==void 0?r:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const n=e[0];return await this.switchEthereumChain(parseInt(n.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw Kn.standardErrors.rpc.invalidParams("Type is required");if((n==null?void 0:n.type)!=="ERC20")throw Kn.standardErrors.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!(n!=null&&n.options))throw Kn.standardErrors.rpc.invalidParams("Options are required");if(!(n!=null&&n.options.address))throw Kn.standardErrors.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=n.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(n.type,i,s,a,o,r)}}initializeRelay(){if(!this._relay){const e=new nue.WalletLinkRelay({linkAPIUrl:Px.WALLETLINK_URL,storage:this._storage});e.setAppInfo(this._appName,this._appLogoUrl),e.attachUI(),e.setAccountsCallback((n,r)=>this._setAddresses(n,r)),e.setChainCallback((n,r)=>{this.updateProviderInfo(r,parseInt(n,10))}),this._relay=e}return this._relay}}Cv.WalletLinkSigner=iue;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.checkErrorForInvalidRequestArgs=Gi.getCoinbaseInjectedProvider=Gi.getCoinbaseInjectedSigner=Gi.fetchRPCRequest=void 0;const sue=Vl,Vm=wo;async function oue(t,e){if(!e.rpcUrl)throw Vm.standardErrors.rpc.internal("No RPC URL set for chain");const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()});return(await(await window.fetch(e.rpcUrl,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":sue.LIB_VERSION}})).json()).result}Gi.fetchRPCRequest=oue;function _9(){return globalThis.coinbaseWalletSigner}Gi.getCoinbaseInjectedSigner=_9;function aue(){return globalThis.coinbaseWalletExtension}function uue(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function lue({metadata:t,preference:e}){var n;if(e.options!=="smartWalletOnly"){if(_9())return;const s=aue();if(s){const{appName:o,appLogoUrl:a,appChainIds:u}=t;return(n=s.setAppInfo)===null||n===void 0||n.call(s,o,a,u),s}}const r=uue();if(r!=null&&r.isCoinbaseBrowser)return r}Gi.getCoinbaseInjectedProvider=lue;function cue(t){if(!t||typeof t!="object"||Array.isArray(t))return Vm.standardErrors.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)return Vm.standardErrors.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))return Vm.standardErrors.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t})}Gi.checkErrorForInvalidRequestArgs=cue;Object.defineProperty(no,"__esModule",{value:!0});no.createSigner=no.fetchSignerType=no.storeSignerType=no.loadSignerType=void 0;const hue=Ev,w9=Cv,fue=wo,due=Gi,pue=bo,b9="SignerType",E9=new pue.ScopedLocalStorage("CBWSDK","SignerConfigurator");function gue(){return E9.getItem(b9)}no.loadSignerType=gue;function mue(t){E9.setItem(b9,t)}no.storeSignerType=mue;async function yue(t){const{communicator:e,metadata:n}=t;_ue(e,n).catch(()=>{});const r={id:crypto.randomUUID(),event:"selectSignerType",data:t.preference},{data:i}=await e.postRequestAndWaitForResponse(r);return i}no.fetchSignerType=yue;function vue(t){const{signerType:e,metadata:n,communicator:r,updateListener:i}=t;switch(e){case"scw":return new hue.SCWSigner({metadata:n,updateListener:i,communicator:r});case"walletlink":return new w9.WalletLinkSigner({metadata:n,updateListener:i});case"extension":{const s=(0,due.getCoinbaseInjectedSigner)();if(!s)throw fue.standardErrors.rpc.internal("injected signer not found");return s}}}no.createSigner=vue;async function _ue(t,e){await t.onMessage(({event:r})=>r==="WalletLinkSessionRequest");const n=new w9.WalletLinkSigner({metadata:e});t.postMessage({event:"WalletLinkUpdate",data:{session:n.getSession()}}),await n.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}var Uv={},zh={};Object.defineProperty(zh,"__esModule",{value:!0});zh.closePopup=zh.openPopup=void 0;const wue=wo,Dx=420,Nx=540;function bue(t){const e=(window.innerWidth-Dx)/2+window.screenX,n=(window.innerHeight-Nx)/2+window.screenY,r=window.open(t,"Smart Wallet",`width=${Dx}, height=${Nx}, left=${e}, top=${n}`);if(r==null||r.focus(),!r)throw wue.standardErrors.rpc.internal("Pop up window failed to open");return r}zh.openPopup=bue;function Eue(t){t&&!t.closed&&t.close()}zh.closePopup=Eue;Object.defineProperty(Uv,"__esModule",{value:!0});Uv.Communicator=void 0;const Aue=Vl,Ox=zh,Sue=po,Lx=wo;class Cue{constructor(e=Sue.CB_KEYS_URL){this.popup=null,this.listeners=new Map,this.postMessage=async n=>{(await this.waitForPopupLoaded()).postMessage(n,this.url.origin)},this.postRequestAndWaitForResponse=async n=>{const r=this.onMessage(({requestId:i})=>i===n.id);return this.postMessage(n),await r},this.onMessage=async n=>new Promise((r,i)=>{const s=o=>{if(o.origin!==this.url.origin)return;const a=o.data;n(a)&&(r(a),window.removeEventListener("message",s),this.listeners.delete(s))};window.addEventListener("message",s),this.listeners.set(s,{reject:i})}),this.disconnect=()=>{(0,Ox.closePopup)(this.popup),this.popup=null,this.listeners.forEach(({reject:n},r)=>{n(Lx.standardErrors.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",r)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=(0,Ox.openPopup)(this.url),this.onMessage(({event:n})=>n==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:n})=>n==="PopupLoaded").then(n=>{this.postMessage({requestId:n.id,data:{version:Aue.LIB_VERSION}})}).then(()=>{if(!this.popup)throw Lx.standardErrors.rpc.internal();return this.popup})),this.url=new URL(e)}}Uv.Communicator=Cue;var Vv={};Object.defineProperty(Vv,"__esModule",{value:!0});Vv.determineMethodCategory=void 0;const Bx={handshake:["eth_requestAccounts"],sign:["eth_ecRecover","personal_sign","personal_ecRecover","eth_signTransaction","eth_sendTransaction","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4","eth_signTypedData","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_watchAsset","wallet_getCapabilities","wallet_sendCalls","wallet_showCallsStatus"],state:["eth_chainId","eth_accounts","eth_coinbase","net_version"],deprecated:["eth_sign","eth_signTypedData_v2"],unsupported:["eth_subscribe","eth_unsubscribe"],fetch:[]};function Iue(t){for(const e in Bx){const n=e;if(Bx[n].includes(t))return n}}Vv.determineMethodCategory=Iue;var xue=Ie&&Ie.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Tue=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vv,"__esModule",{value:!0});vv.CoinbaseWalletProvider=void 0;const Rue=Tue(nL),uc=wo,kue=wv,tm=xr,jf=qe,nm=no,Fx=Gi,Pue=Uv,Mue=Vv,Due=bo;let Nue=class extends Rue.default{constructor(e){var n,r,{metadata:i}=e,s=e.preference,{keysUrl:o}=s,a=xue(s,["keysUrl"]);super(),this.accounts=[],this.handlers={handshake:async l=>{try{if(this.connected)return this.emit("connect",{chainId:(0,jf.hexStringFromIntNumber)((0,tm.IntNumber)(this.chain.id))}),this.accounts;const c=await this.requestSignerSelection(),h=this.initSigner(c),f=await h.handshake();return this.signer=h,(0,nm.storeSignerType)(c),this.emit("connect",{chainId:(0,jf.hexStringFromIntNumber)((0,tm.IntNumber)(this.chain.id))}),f}catch(c){throw this.handleUnauthorizedError(c),c}},sign:async l=>{if(!this.connected||!this.signer)throw uc.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods");try{return await this.signer.request(l)}catch(c){throw this.handleUnauthorizedError(c),c}},fetch:l=>(0,Fx.fetchRPCRequest)(l,this.chain),state:l=>{const c=()=>{if(this.connected)return this.accounts;throw uc.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")};switch(l.method){case"eth_chainId":return(0,jf.hexStringFromIntNumber)((0,tm.IntNumber)(this.chain.id));case"net_version":return this.chain.id;case"eth_accounts":return c();case"eth_coinbase":return c()[0];default:return this.handlers.unsupported(l)}},deprecated:({method:l})=>{throw uc.standardErrors.rpc.methodNotSupported(`Method ${l} is deprecated.`)},unsupported:({method:l})=>{throw uc.standardErrors.rpc.methodNotSupported(`Method ${l} is not supported.`)}},this.isCoinbaseWallet=!0,this.updateListener={onAccountsUpdate:({accounts:l,source:c})=>{(0,jf.areAddressArraysEqual)(this.accounts,l)||(this.accounts=l,c!=="storage"&&this.emit("accountsChanged",this.accounts))},onChainUpdate:({chain:l,source:c})=>{l.id===this.chain.id&&l.rpcUrl===this.chain.rpcUrl||(this.chain=l,c!=="storage"&&this.emit("chainChanged",(0,jf.hexStringFromIntNumber)((0,tm.IntNumber)(l.id))))}},this.metadata=i,this.preference=a,this.communicator=new Pue.Communicator(o),this.chain={id:(r=(n=i.appChainIds)===null||n===void 0?void 0:n[0])!==null&&r!==void 0?r:1};const u=(0,nm.loadSignerType)();this.signer=u?this.initSigner(u):null}get connected(){return this.accounts.length>0}async request(e){var n;try{const r=(0,Fx.checkErrorForInvalidRequestArgs)(e);if(r)throw r;const i=(n=(0,Mue.determineMethodCategory)(e.method))!==null&&n!==void 0?n:"fetch";return this.handlers[i](e)}catch(r){return Promise.reject((0,kue.serializeError)(r,e.method))}}handleUnauthorizedError(e){e.code===uc.standardErrorCodes.provider.unauthorized&&this.disconnect()}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){this.accounts=[],this.chain={id:1},Due.ScopedLocalStorage.clearAll(),this.emit("disconnect",uc.standardErrors.provider.disconnected("User initiated disconnection"))}requestSignerSelection(){return(0,nm.fetchSignerType)({communicator:this.communicator,preference:this.preference,metadata:this.metadata})}initSigner(e){return(0,nm.createSigner)({signerType:e,metadata:this.metadata,communicator:this.communicator,updateListener:this.updateListener})}};vv.CoinbaseWalletProvider=Nue;Object.defineProperty(F0,"__esModule",{value:!0});F0.CoinbaseWalletSDK=void 0;const Oue=yv,Lue=vv,Bue=bo,Fue=Vl,$ue=qe,jue=Gi;let Uue=class{constructor(e){this.metadata={appName:e.appName||"Dapp",appLogoUrl:e.appLogoUrl||(0,$ue.getFavicon)(),appChainIds:e.appChainIds||[]},this.storeLatestVersion()}makeWeb3Provider(e={options:"all"}){var n;const r={metadata:this.metadata,preference:e};return(n=(0,jue.getCoinbaseInjectedProvider)(r))!==null&&n!==void 0?n:new Lue.CoinbaseWalletProvider(r)}getCoinbaseWalletLogo(e,n=240){return(0,Oue.walletLogo)(e,n)}storeLatestVersion(){new Bue.ScopedLocalStorage("CBWSDK").setItem("VERSION",Fue.LIB_VERSION)}};F0.CoinbaseWalletSDK=Uue;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletSDK=void 0;const e=F0;t.default=e.CoinbaseWalletSDK;var n=F0;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}})})(tL);const Vue=ns(tL),yve=Object.freeze(Object.defineProperty({__proto__:null,default:Vue},Symbol.toStringTag,{value:"Module"}));var A9={},U0={},zv={};Object.defineProperty(zv,"__esModule",{value:!0});zv.walletLogo=void 0;const zue=(t,e)=>{let n;switch(t){case"standard":return n=e,`data:image/svg+xml,%3Csvg width='${e}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return n=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${n}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return n=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return n=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return n=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return n=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return n=e,`data:image/svg+xml,%3Csvg width='${e}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};zv.walletLogo=zue;var Hv={};Object.defineProperty(Hv,"__esModule",{value:!0});Hv.LINK_API_URL=void 0;Hv.LINK_API_URL="https://www.walletlink.org";var $e={},s5={exports:{}};s5.exports;(function(t){(function(e,n){function r(A,p){if(!A)throw new Error(p||"Assertion failed")}function i(A,p){A.super_=p;var y=function(){};y.prototype=p.prototype,A.prototype=new y,A.prototype.constructor=A}function s(A,p,y){if(s.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((p==="le"||p==="be")&&(y=p,p=10),this._init(A||0,p||10,y||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Oy.Buffer}catch{}s.isBN=function(p){return p instanceof s?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===s.wordSize&&Array.isArray(p.words)},s.max=function(p,y){return p.cmp(y)>0?p:y},s.min=function(p,y){return p.cmp(y)<0?p:y},s.prototype._init=function(p,y,x){if(typeof p=="number")return this._initNumber(p,y,x);if(typeof p=="object")return this._initArray(p,y,x);y==="hex"&&(y=16),r(y===(y|0)&&y>=2&&y<=36),p=p.toString().replace(/\s+/g,"");var k=0;p[0]==="-"&&(k++,this.negative=1),k<p.length&&(y===16?this._parseHex(p,k,x):(this._parseBase(p,y,k),x==="le"&&this._initArray(this.toArray(),y,x)))},s.prototype._initNumber=function(p,y,x){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(r(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),y,x)},s.prototype._initArray=function(p,y,x){if(r(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var C,F,W=0;if(x==="be")for(k=p.length-1,C=0;k>=0;k-=3)F=p[k]|p[k-1]<<8|p[k-2]<<16,this.words[C]|=F<<W&67108863,this.words[C+1]=F>>>26-W&67108863,W+=24,W>=26&&(W-=26,C++);else if(x==="le")for(k=0,C=0;k<p.length;k+=3)F=p[k]|p[k+1]<<8|p[k+2]<<16,this.words[C]|=F<<W&67108863,this.words[C+1]=F>>>26-W&67108863,W+=24,W>=26&&(W-=26,C++);return this._strip()};function a(A,p){var y=A.charCodeAt(p);if(y>=48&&y<=57)return y-48;if(y>=65&&y<=70)return y-55;if(y>=97&&y<=102)return y-87;r(!1,"Invalid character in "+A)}function u(A,p,y){var x=a(A,y);return y-1>=p&&(x|=a(A,y-1)<<4),x}s.prototype._parseHex=function(p,y,x){this.length=Math.ceil((p.length-y)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var C=0,F=0,W;if(x==="be")for(k=p.length-1;k>=y;k-=2)W=u(p,y,k)<<C,this.words[F]|=W&67108863,C>=18?(C-=18,F+=1,this.words[F]|=W>>>26):C+=8;else{var U=p.length-y;for(k=U%2===0?y+1:y;k<p.length;k+=2)W=u(p,y,k)<<C,this.words[F]|=W&67108863,C>=18?(C-=18,F+=1,this.words[F]|=W>>>26):C+=8}this._strip()};function l(A,p,y,x){for(var k=0,C=0,F=Math.min(A.length,y),W=p;W<F;W++){var U=A.charCodeAt(W)-48;k*=x,U>=49?C=U-49+10:U>=17?C=U-17+10:C=U,r(U>=0&&C<x,"Invalid character"),k+=C}return k}s.prototype._parseBase=function(p,y,x){this.words=[0],this.length=1;for(var k=0,C=1;C<=67108863;C*=y)k++;k--,C=C/y|0;for(var F=p.length-x,W=F%k,U=Math.min(F,F-W)+x,I=0,G=x;G<U;G+=k)I=l(p,G,G+k,y),this.imuln(C),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(W!==0){var ue=1;for(I=l(p,G,p.length,y),G=0;G<W;G++)ue*=y;this.imuln(ue),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this._strip()},s.prototype.copy=function(p){p.words=new Array(this.length);for(var y=0;y<this.length;y++)p.words[y]=this.words[y];p.length=this.length,p.negative=this.negative,p.red=this.red};function c(A,p){A.words=p.words,A.length=p.length,A.negative=p.negative,A.red=p.red}if(s.prototype._move=function(p){c(p,this)},s.prototype.clone=function(){var p=new s(null);return this.copy(p),p},s.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(p,y){p=p||10,y=y|0||1;var x;if(p===16||p==="hex"){x="";for(var k=0,C=0,F=0;F<this.length;F++){var W=this.words[F],U=((W<<k|C)&16777215).toString(16);C=W>>>24-k&16777215,k+=2,k>=26&&(k-=26,F--),C!==0||F!==this.length-1?x=f[6-U.length]+U+x:x=U+x}for(C!==0&&(x=C.toString(16)+x);x.length%y!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(p===(p|0)&&p>=2&&p<=36){var I=g[p],G=w[p];x="";var ue=this.clone();for(ue.negative=0;!ue.isZero();){var ie=ue.modrn(G).toString(p);ue=ue.idivn(G),ue.isZero()?x=ie+x:x=f[I-ie.length]+ie+x}for(this.isZero()&&(x="0"+x);x.length%y!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(p,y){return this.toArrayLike(o,p,y)}),s.prototype.toArray=function(p,y){return this.toArrayLike(Array,p,y)};var P=function(p,y){return p.allocUnsafe?p.allocUnsafe(y):new p(y)};s.prototype.toArrayLike=function(p,y,x){this._strip();var k=this.byteLength(),C=x||Math.max(1,k);r(k<=C,"byte array longer than desired length"),r(C>0,"Requested array length <= 0");var F=P(p,C),W=y==="le"?"LE":"BE";return this["_toArrayLike"+W](F,k),F},s.prototype._toArrayLikeLE=function(p,y){for(var x=0,k=0,C=0,F=0;C<this.length;C++){var W=this.words[C]<<F|k;p[x++]=W&255,x<p.length&&(p[x++]=W>>8&255),x<p.length&&(p[x++]=W>>16&255),F===6?(x<p.length&&(p[x++]=W>>24&255),k=0,F=0):(k=W>>>24,F+=2)}if(x<p.length)for(p[x++]=k;x<p.length;)p[x++]=0},s.prototype._toArrayLikeBE=function(p,y){for(var x=p.length-1,k=0,C=0,F=0;C<this.length;C++){var W=this.words[C]<<F|k;p[x--]=W&255,x>=0&&(p[x--]=W>>8&255),x>=0&&(p[x--]=W>>16&255),F===6?(x>=0&&(p[x--]=W>>24&255),k=0,F=0):(k=W>>>24,F+=2)}if(x>=0)for(p[x--]=k;x>=0;)p[x--]=0},Math.clz32?s.prototype._countBits=function(p){return 32-Math.clz32(p)}:s.prototype._countBits=function(p){var y=p,x=0;return y>=4096&&(x+=13,y>>>=13),y>=64&&(x+=7,y>>>=7),y>=8&&(x+=4,y>>>=4),y>=2&&(x+=2,y>>>=2),x+y},s.prototype._zeroBits=function(p){if(p===0)return 26;var y=p,x=0;return y&8191||(x+=13,y>>>=13),y&127||(x+=7,y>>>=7),y&15||(x+=4,y>>>=4),y&3||(x+=2,y>>>=2),y&1||x++,x},s.prototype.bitLength=function(){var p=this.words[this.length-1],y=this._countBits(p);return(this.length-1)*26+y};function D(A){for(var p=new Array(A.bitLength()),y=0;y<p.length;y++){var x=y/26|0,k=y%26;p[y]=A.words[x]>>>k&1}return p}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,y=0;y<this.length;y++){var x=this._zeroBits(this.words[y]);if(p+=x,x!==26)break}return p},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},s.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var y=0;y<p.length;y++)this.words[y]=this.words[y]|p.words[y];return this._strip()},s.prototype.ior=function(p){return r((this.negative|p.negative)===0),this.iuor(p)},s.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},s.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},s.prototype.iuand=function(p){var y;this.length>p.length?y=p:y=this;for(var x=0;x<y.length;x++)this.words[x]=this.words[x]&p.words[x];return this.length=y.length,this._strip()},s.prototype.iand=function(p){return r((this.negative|p.negative)===0),this.iuand(p)},s.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},s.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},s.prototype.iuxor=function(p){var y,x;this.length>p.length?(y=this,x=p):(y=p,x=this);for(var k=0;k<x.length;k++)this.words[k]=y.words[k]^x.words[k];if(this!==y)for(;k<y.length;k++)this.words[k]=y.words[k];return this.length=y.length,this._strip()},s.prototype.ixor=function(p){return r((this.negative|p.negative)===0),this.iuxor(p)},s.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},s.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},s.prototype.inotn=function(p){r(typeof p=="number"&&p>=0);var y=Math.ceil(p/26)|0,x=p%26;this._expand(y),x>0&&y--;for(var k=0;k<y;k++)this.words[k]=~this.words[k]&67108863;return x>0&&(this.words[k]=~this.words[k]&67108863>>26-x),this._strip()},s.prototype.notn=function(p){return this.clone().inotn(p)},s.prototype.setn=function(p,y){r(typeof p=="number"&&p>=0);var x=p/26|0,k=p%26;return this._expand(x+1),y?this.words[x]=this.words[x]|1<<k:this.words[x]=this.words[x]&~(1<<k),this._strip()},s.prototype.iadd=function(p){var y;if(this.negative!==0&&p.negative===0)return this.negative=0,y=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,y=this.isub(p),p.negative=1,y._normSign();var x,k;this.length>p.length?(x=this,k=p):(x=p,k=this);for(var C=0,F=0;F<k.length;F++)y=(x.words[F]|0)+(k.words[F]|0)+C,this.words[F]=y&67108863,C=y>>>26;for(;C!==0&&F<x.length;F++)y=(x.words[F]|0)+C,this.words[F]=y&67108863,C=y>>>26;if(this.length=x.length,C!==0)this.words[this.length]=C,this.length++;else if(x!==this)for(;F<x.length;F++)this.words[F]=x.words[F];return this},s.prototype.add=function(p){var y;return p.negative!==0&&this.negative===0?(p.negative=0,y=this.sub(p),p.negative^=1,y):p.negative===0&&this.negative!==0?(this.negative=0,y=p.sub(this),this.negative=1,y):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},s.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var y=this.iadd(p);return p.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var x=this.cmp(p);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,C;x>0?(k=this,C=p):(k=p,C=this);for(var F=0,W=0;W<C.length;W++)y=(k.words[W]|0)-(C.words[W]|0)+F,F=y>>26,this.words[W]=y&67108863;for(;F!==0&&W<k.length;W++)y=(k.words[W]|0)+F,F=y>>26,this.words[W]=y&67108863;if(F===0&&W<k.length&&k!==this)for(;W<k.length;W++)this.words[W]=k.words[W];return this.length=Math.max(this.length,W),k!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(p){return this.clone().isub(p)};function E(A,p,y){y.negative=p.negative^A.negative;var x=A.length+p.length|0;y.length=x,x=x-1|0;var k=A.words[0]|0,C=p.words[0]|0,F=k*C,W=F&67108863,U=F/67108864|0;y.words[0]=W;for(var I=1;I<x;I++){for(var G=U>>>26,ue=U&67108863,ie=Math.min(I,p.length-1),X=Math.max(0,I-A.length+1);X<=ie;X++){var Q=I-X|0;k=A.words[Q]|0,C=p.words[X]|0,F=k*C+ue,G+=F/67108864|0,ue=F&67108863}y.words[I]=ue|0,U=G|0}return U!==0?y.words[I]=U|0:y.length--,y._strip()}var _=function(p,y,x){var k=p.words,C=y.words,F=x.words,W=0,U,I,G,ue=k[0]|0,ie=ue&8191,X=ue>>>13,Q=k[1]|0,Y=Q&8191,ee=Q>>>13,N=k[2]|0,j=N&8191,K=N>>>13,se=k[3]|0,ce=se&8191,pe=se>>>13,Ee=k[4]|0,_e=Ee&8191,He=Ee>>>13,_t=k[5]|0,Pe=_t&8191,Re=_t>>>13,ze=k[6]|0,xe=ze&8191,Te=ze>>>13,Ue=k[7]|0,ve=Ue&8191,q=Ue>>>13,R=k[8]|0,L=R&8191,J=R>>>13,ne=k[9]|0,re=ne&8191,ae=ne>>>13,Ce=C[0]|0,Ae=Ce&8191,Fe=Ce>>>13,ft=C[1]|0,Le=ft&8191,gt=ft>>>13,er=C[2]|0,Et=er&8191,Tt=er>>>13,Bt=C[3]|0,Ge=Bt&8191,Xe=Bt>>>13,Nt=C[4]|0,et=Nt&8191,Qe=Nt>>>13,Ht=C[5]|0,Ve=Ht&8191,tt=Ht>>>13,Ft=C[6]|0,Ze=Ft&8191,nt=Ft>>>13,Ut=C[7]|0,We=Ut&8191,it=Ut>>>13,qt=C[8]|0,$t=qt&8191,Vt=qt>>>13,Ii=C[9]|0,vt=Ii&8191,St=Ii>>>13;x.negative=p.negative^y.negative,x.length=19,U=Math.imul(ie,Ae),I=Math.imul(ie,Fe),I=I+Math.imul(X,Ae)|0,G=Math.imul(X,Fe);var xi=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(xi>>>26)|0,xi&=67108863,U=Math.imul(Y,Ae),I=Math.imul(Y,Fe),I=I+Math.imul(ee,Ae)|0,G=Math.imul(ee,Fe),U=U+Math.imul(ie,Le)|0,I=I+Math.imul(ie,gt)|0,I=I+Math.imul(X,Le)|0,G=G+Math.imul(X,gt)|0;var Ti=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,U=Math.imul(j,Ae),I=Math.imul(j,Fe),I=I+Math.imul(K,Ae)|0,G=Math.imul(K,Fe),U=U+Math.imul(Y,Le)|0,I=I+Math.imul(Y,gt)|0,I=I+Math.imul(ee,Le)|0,G=G+Math.imul(ee,gt)|0,U=U+Math.imul(ie,Et)|0,I=I+Math.imul(ie,Tt)|0,I=I+Math.imul(X,Et)|0,G=G+Math.imul(X,Tt)|0;var si=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(si>>>26)|0,si&=67108863,U=Math.imul(ce,Ae),I=Math.imul(ce,Fe),I=I+Math.imul(pe,Ae)|0,G=Math.imul(pe,Fe),U=U+Math.imul(j,Le)|0,I=I+Math.imul(j,gt)|0,I=I+Math.imul(K,Le)|0,G=G+Math.imul(K,gt)|0,U=U+Math.imul(Y,Et)|0,I=I+Math.imul(Y,Tt)|0,I=I+Math.imul(ee,Et)|0,G=G+Math.imul(ee,Tt)|0,U=U+Math.imul(ie,Ge)|0,I=I+Math.imul(ie,Xe)|0,I=I+Math.imul(X,Ge)|0,G=G+Math.imul(X,Xe)|0;var oi=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(oi>>>26)|0,oi&=67108863,U=Math.imul(_e,Ae),I=Math.imul(_e,Fe),I=I+Math.imul(He,Ae)|0,G=Math.imul(He,Fe),U=U+Math.imul(ce,Le)|0,I=I+Math.imul(ce,gt)|0,I=I+Math.imul(pe,Le)|0,G=G+Math.imul(pe,gt)|0,U=U+Math.imul(j,Et)|0,I=I+Math.imul(j,Tt)|0,I=I+Math.imul(K,Et)|0,G=G+Math.imul(K,Tt)|0,U=U+Math.imul(Y,Ge)|0,I=I+Math.imul(Y,Xe)|0,I=I+Math.imul(ee,Ge)|0,G=G+Math.imul(ee,Xe)|0,U=U+Math.imul(ie,et)|0,I=I+Math.imul(ie,Qe)|0,I=I+Math.imul(X,et)|0,G=G+Math.imul(X,Qe)|0;var Un=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(Un>>>26)|0,Un&=67108863,U=Math.imul(Pe,Ae),I=Math.imul(Pe,Fe),I=I+Math.imul(Re,Ae)|0,G=Math.imul(Re,Fe),U=U+Math.imul(_e,Le)|0,I=I+Math.imul(_e,gt)|0,I=I+Math.imul(He,Le)|0,G=G+Math.imul(He,gt)|0,U=U+Math.imul(ce,Et)|0,I=I+Math.imul(ce,Tt)|0,I=I+Math.imul(pe,Et)|0,G=G+Math.imul(pe,Tt)|0,U=U+Math.imul(j,Ge)|0,I=I+Math.imul(j,Xe)|0,I=I+Math.imul(K,Ge)|0,G=G+Math.imul(K,Xe)|0,U=U+Math.imul(Y,et)|0,I=I+Math.imul(Y,Qe)|0,I=I+Math.imul(ee,et)|0,G=G+Math.imul(ee,Qe)|0,U=U+Math.imul(ie,Ve)|0,I=I+Math.imul(ie,tt)|0,I=I+Math.imul(X,Ve)|0,G=G+Math.imul(X,tt)|0;var Ri=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,U=Math.imul(xe,Ae),I=Math.imul(xe,Fe),I=I+Math.imul(Te,Ae)|0,G=Math.imul(Te,Fe),U=U+Math.imul(Pe,Le)|0,I=I+Math.imul(Pe,gt)|0,I=I+Math.imul(Re,Le)|0,G=G+Math.imul(Re,gt)|0,U=U+Math.imul(_e,Et)|0,I=I+Math.imul(_e,Tt)|0,I=I+Math.imul(He,Et)|0,G=G+Math.imul(He,Tt)|0,U=U+Math.imul(ce,Ge)|0,I=I+Math.imul(ce,Xe)|0,I=I+Math.imul(pe,Ge)|0,G=G+Math.imul(pe,Xe)|0,U=U+Math.imul(j,et)|0,I=I+Math.imul(j,Qe)|0,I=I+Math.imul(K,et)|0,G=G+Math.imul(K,Qe)|0,U=U+Math.imul(Y,Ve)|0,I=I+Math.imul(Y,tt)|0,I=I+Math.imul(ee,Ve)|0,G=G+Math.imul(ee,tt)|0,U=U+Math.imul(ie,Ze)|0,I=I+Math.imul(ie,nt)|0,I=I+Math.imul(X,Ze)|0,G=G+Math.imul(X,nt)|0;var is=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(is>>>26)|0,is&=67108863,U=Math.imul(ve,Ae),I=Math.imul(ve,Fe),I=I+Math.imul(q,Ae)|0,G=Math.imul(q,Fe),U=U+Math.imul(xe,Le)|0,I=I+Math.imul(xe,gt)|0,I=I+Math.imul(Te,Le)|0,G=G+Math.imul(Te,gt)|0,U=U+Math.imul(Pe,Et)|0,I=I+Math.imul(Pe,Tt)|0,I=I+Math.imul(Re,Et)|0,G=G+Math.imul(Re,Tt)|0,U=U+Math.imul(_e,Ge)|0,I=I+Math.imul(_e,Xe)|0,I=I+Math.imul(He,Ge)|0,G=G+Math.imul(He,Xe)|0,U=U+Math.imul(ce,et)|0,I=I+Math.imul(ce,Qe)|0,I=I+Math.imul(pe,et)|0,G=G+Math.imul(pe,Qe)|0,U=U+Math.imul(j,Ve)|0,I=I+Math.imul(j,tt)|0,I=I+Math.imul(K,Ve)|0,G=G+Math.imul(K,tt)|0,U=U+Math.imul(Y,Ze)|0,I=I+Math.imul(Y,nt)|0,I=I+Math.imul(ee,Ze)|0,G=G+Math.imul(ee,nt)|0,U=U+Math.imul(ie,We)|0,I=I+Math.imul(ie,it)|0,I=I+Math.imul(X,We)|0,G=G+Math.imul(X,it)|0;var Wr=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,U=Math.imul(L,Ae),I=Math.imul(L,Fe),I=I+Math.imul(J,Ae)|0,G=Math.imul(J,Fe),U=U+Math.imul(ve,Le)|0,I=I+Math.imul(ve,gt)|0,I=I+Math.imul(q,Le)|0,G=G+Math.imul(q,gt)|0,U=U+Math.imul(xe,Et)|0,I=I+Math.imul(xe,Tt)|0,I=I+Math.imul(Te,Et)|0,G=G+Math.imul(Te,Tt)|0,U=U+Math.imul(Pe,Ge)|0,I=I+Math.imul(Pe,Xe)|0,I=I+Math.imul(Re,Ge)|0,G=G+Math.imul(Re,Xe)|0,U=U+Math.imul(_e,et)|0,I=I+Math.imul(_e,Qe)|0,I=I+Math.imul(He,et)|0,G=G+Math.imul(He,Qe)|0,U=U+Math.imul(ce,Ve)|0,I=I+Math.imul(ce,tt)|0,I=I+Math.imul(pe,Ve)|0,G=G+Math.imul(pe,tt)|0,U=U+Math.imul(j,Ze)|0,I=I+Math.imul(j,nt)|0,I=I+Math.imul(K,Ze)|0,G=G+Math.imul(K,nt)|0,U=U+Math.imul(Y,We)|0,I=I+Math.imul(Y,it)|0,I=I+Math.imul(ee,We)|0,G=G+Math.imul(ee,it)|0,U=U+Math.imul(ie,$t)|0,I=I+Math.imul(ie,Vt)|0,I=I+Math.imul(X,$t)|0,G=G+Math.imul(X,Vt)|0;var ki=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(ki>>>26)|0,ki&=67108863,U=Math.imul(re,Ae),I=Math.imul(re,Fe),I=I+Math.imul(ae,Ae)|0,G=Math.imul(ae,Fe),U=U+Math.imul(L,Le)|0,I=I+Math.imul(L,gt)|0,I=I+Math.imul(J,Le)|0,G=G+Math.imul(J,gt)|0,U=U+Math.imul(ve,Et)|0,I=I+Math.imul(ve,Tt)|0,I=I+Math.imul(q,Et)|0,G=G+Math.imul(q,Tt)|0,U=U+Math.imul(xe,Ge)|0,I=I+Math.imul(xe,Xe)|0,I=I+Math.imul(Te,Ge)|0,G=G+Math.imul(Te,Xe)|0,U=U+Math.imul(Pe,et)|0,I=I+Math.imul(Pe,Qe)|0,I=I+Math.imul(Re,et)|0,G=G+Math.imul(Re,Qe)|0,U=U+Math.imul(_e,Ve)|0,I=I+Math.imul(_e,tt)|0,I=I+Math.imul(He,Ve)|0,G=G+Math.imul(He,tt)|0,U=U+Math.imul(ce,Ze)|0,I=I+Math.imul(ce,nt)|0,I=I+Math.imul(pe,Ze)|0,G=G+Math.imul(pe,nt)|0,U=U+Math.imul(j,We)|0,I=I+Math.imul(j,it)|0,I=I+Math.imul(K,We)|0,G=G+Math.imul(K,it)|0,U=U+Math.imul(Y,$t)|0,I=I+Math.imul(Y,Vt)|0,I=I+Math.imul(ee,$t)|0,G=G+Math.imul(ee,Vt)|0,U=U+Math.imul(ie,vt)|0,I=I+Math.imul(ie,St)|0,I=I+Math.imul(X,vt)|0,G=G+Math.imul(X,St)|0;var ai=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(ai>>>26)|0,ai&=67108863,U=Math.imul(re,Le),I=Math.imul(re,gt),I=I+Math.imul(ae,Le)|0,G=Math.imul(ae,gt),U=U+Math.imul(L,Et)|0,I=I+Math.imul(L,Tt)|0,I=I+Math.imul(J,Et)|0,G=G+Math.imul(J,Tt)|0,U=U+Math.imul(ve,Ge)|0,I=I+Math.imul(ve,Xe)|0,I=I+Math.imul(q,Ge)|0,G=G+Math.imul(q,Xe)|0,U=U+Math.imul(xe,et)|0,I=I+Math.imul(xe,Qe)|0,I=I+Math.imul(Te,et)|0,G=G+Math.imul(Te,Qe)|0,U=U+Math.imul(Pe,Ve)|0,I=I+Math.imul(Pe,tt)|0,I=I+Math.imul(Re,Ve)|0,G=G+Math.imul(Re,tt)|0,U=U+Math.imul(_e,Ze)|0,I=I+Math.imul(_e,nt)|0,I=I+Math.imul(He,Ze)|0,G=G+Math.imul(He,nt)|0,U=U+Math.imul(ce,We)|0,I=I+Math.imul(ce,it)|0,I=I+Math.imul(pe,We)|0,G=G+Math.imul(pe,it)|0,U=U+Math.imul(j,$t)|0,I=I+Math.imul(j,Vt)|0,I=I+Math.imul(K,$t)|0,G=G+Math.imul(K,Vt)|0,U=U+Math.imul(Y,vt)|0,I=I+Math.imul(Y,St)|0,I=I+Math.imul(ee,vt)|0,G=G+Math.imul(ee,St)|0;var Vn=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,U=Math.imul(re,Et),I=Math.imul(re,Tt),I=I+Math.imul(ae,Et)|0,G=Math.imul(ae,Tt),U=U+Math.imul(L,Ge)|0,I=I+Math.imul(L,Xe)|0,I=I+Math.imul(J,Ge)|0,G=G+Math.imul(J,Xe)|0,U=U+Math.imul(ve,et)|0,I=I+Math.imul(ve,Qe)|0,I=I+Math.imul(q,et)|0,G=G+Math.imul(q,Qe)|0,U=U+Math.imul(xe,Ve)|0,I=I+Math.imul(xe,tt)|0,I=I+Math.imul(Te,Ve)|0,G=G+Math.imul(Te,tt)|0,U=U+Math.imul(Pe,Ze)|0,I=I+Math.imul(Pe,nt)|0,I=I+Math.imul(Re,Ze)|0,G=G+Math.imul(Re,nt)|0,U=U+Math.imul(_e,We)|0,I=I+Math.imul(_e,it)|0,I=I+Math.imul(He,We)|0,G=G+Math.imul(He,it)|0,U=U+Math.imul(ce,$t)|0,I=I+Math.imul(ce,Vt)|0,I=I+Math.imul(pe,$t)|0,G=G+Math.imul(pe,Vt)|0,U=U+Math.imul(j,vt)|0,I=I+Math.imul(j,St)|0,I=I+Math.imul(K,vt)|0,G=G+Math.imul(K,St)|0;var tr=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(tr>>>26)|0,tr&=67108863,U=Math.imul(re,Ge),I=Math.imul(re,Xe),I=I+Math.imul(ae,Ge)|0,G=Math.imul(ae,Xe),U=U+Math.imul(L,et)|0,I=I+Math.imul(L,Qe)|0,I=I+Math.imul(J,et)|0,G=G+Math.imul(J,Qe)|0,U=U+Math.imul(ve,Ve)|0,I=I+Math.imul(ve,tt)|0,I=I+Math.imul(q,Ve)|0,G=G+Math.imul(q,tt)|0,U=U+Math.imul(xe,Ze)|0,I=I+Math.imul(xe,nt)|0,I=I+Math.imul(Te,Ze)|0,G=G+Math.imul(Te,nt)|0,U=U+Math.imul(Pe,We)|0,I=I+Math.imul(Pe,it)|0,I=I+Math.imul(Re,We)|0,G=G+Math.imul(Re,it)|0,U=U+Math.imul(_e,$t)|0,I=I+Math.imul(_e,Vt)|0,I=I+Math.imul(He,$t)|0,G=G+Math.imul(He,Vt)|0,U=U+Math.imul(ce,vt)|0,I=I+Math.imul(ce,St)|0,I=I+Math.imul(pe,vt)|0,G=G+Math.imul(pe,St)|0;var ui=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(ui>>>26)|0,ui&=67108863,U=Math.imul(re,et),I=Math.imul(re,Qe),I=I+Math.imul(ae,et)|0,G=Math.imul(ae,Qe),U=U+Math.imul(L,Ve)|0,I=I+Math.imul(L,tt)|0,I=I+Math.imul(J,Ve)|0,G=G+Math.imul(J,tt)|0,U=U+Math.imul(ve,Ze)|0,I=I+Math.imul(ve,nt)|0,I=I+Math.imul(q,Ze)|0,G=G+Math.imul(q,nt)|0,U=U+Math.imul(xe,We)|0,I=I+Math.imul(xe,it)|0,I=I+Math.imul(Te,We)|0,G=G+Math.imul(Te,it)|0,U=U+Math.imul(Pe,$t)|0,I=I+Math.imul(Pe,Vt)|0,I=I+Math.imul(Re,$t)|0,G=G+Math.imul(Re,Vt)|0,U=U+Math.imul(_e,vt)|0,I=I+Math.imul(_e,St)|0,I=I+Math.imul(He,vt)|0,G=G+Math.imul(He,St)|0;var zn=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(zn>>>26)|0,zn&=67108863,U=Math.imul(re,Ve),I=Math.imul(re,tt),I=I+Math.imul(ae,Ve)|0,G=Math.imul(ae,tt),U=U+Math.imul(L,Ze)|0,I=I+Math.imul(L,nt)|0,I=I+Math.imul(J,Ze)|0,G=G+Math.imul(J,nt)|0,U=U+Math.imul(ve,We)|0,I=I+Math.imul(ve,it)|0,I=I+Math.imul(q,We)|0,G=G+Math.imul(q,it)|0,U=U+Math.imul(xe,$t)|0,I=I+Math.imul(xe,Vt)|0,I=I+Math.imul(Te,$t)|0,G=G+Math.imul(Te,Vt)|0,U=U+Math.imul(Pe,vt)|0,I=I+Math.imul(Pe,St)|0,I=I+Math.imul(Re,vt)|0,G=G+Math.imul(Re,St)|0;var ia=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(ia>>>26)|0,ia&=67108863,U=Math.imul(re,Ze),I=Math.imul(re,nt),I=I+Math.imul(ae,Ze)|0,G=Math.imul(ae,nt),U=U+Math.imul(L,We)|0,I=I+Math.imul(L,it)|0,I=I+Math.imul(J,We)|0,G=G+Math.imul(J,it)|0,U=U+Math.imul(ve,$t)|0,I=I+Math.imul(ve,Vt)|0,I=I+Math.imul(q,$t)|0,G=G+Math.imul(q,Vt)|0,U=U+Math.imul(xe,vt)|0,I=I+Math.imul(xe,St)|0,I=I+Math.imul(Te,vt)|0,G=G+Math.imul(Te,St)|0;var sa=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(sa>>>26)|0,sa&=67108863,U=Math.imul(re,We),I=Math.imul(re,it),I=I+Math.imul(ae,We)|0,G=Math.imul(ae,it),U=U+Math.imul(L,$t)|0,I=I+Math.imul(L,Vt)|0,I=I+Math.imul(J,$t)|0,G=G+Math.imul(J,Vt)|0,U=U+Math.imul(ve,vt)|0,I=I+Math.imul(ve,St)|0,I=I+Math.imul(q,vt)|0,G=G+Math.imul(q,St)|0;var oa=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(oa>>>26)|0,oa&=67108863,U=Math.imul(re,$t),I=Math.imul(re,Vt),I=I+Math.imul(ae,$t)|0,G=Math.imul(ae,Vt),U=U+Math.imul(L,vt)|0,I=I+Math.imul(L,St)|0,I=I+Math.imul(J,vt)|0,G=G+Math.imul(J,St)|0;var Eo=(W+U|0)+((I&8191)<<13)|0;W=(G+(I>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,U=Math.imul(re,vt),I=Math.imul(re,St),I=I+Math.imul(ae,vt)|0,G=Math.imul(ae,St);var Ao=(W+U|0)+((I&8191)<<13)|0;return W=(G+(I>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,F[0]=xi,F[1]=Ti,F[2]=si,F[3]=oi,F[4]=Un,F[5]=Ri,F[6]=is,F[7]=Wr,F[8]=ki,F[9]=ai,F[10]=Vn,F[11]=tr,F[12]=ui,F[13]=zn,F[14]=ia,F[15]=sa,F[16]=oa,F[17]=Eo,F[18]=Ao,W!==0&&(F[19]=W,x.length++),x};Math.imul||(_=E);function S(A,p,y){y.negative=p.negative^A.negative,y.length=A.length+p.length;for(var x=0,k=0,C=0;C<y.length-1;C++){var F=k;k=0;for(var W=x&67108863,U=Math.min(C,p.length-1),I=Math.max(0,C-A.length+1);I<=U;I++){var G=C-I,ue=A.words[G]|0,ie=p.words[I]|0,X=ue*ie,Q=X&67108863;F=F+(X/67108864|0)|0,Q=Q+W|0,W=Q&67108863,F=F+(Q>>>26)|0,k+=F>>>26,F&=67108863}y.words[C]=W,x=F,F=k}return x!==0?y.words[C]=x:y.length--,y._strip()}function O(A,p,y){return S(A,p,y)}s.prototype.mulTo=function(p,y){var x,k=this.length+p.length;return this.length===10&&p.length===10?x=_(this,p,y):k<63?x=E(this,p,y):k<1024?x=S(this,p,y):x=O(this,p,y),x},s.prototype.mul=function(p){var y=new s(null);return y.words=new Array(this.length+p.length),this.mulTo(p,y)},s.prototype.mulf=function(p){var y=new s(null);return y.words=new Array(this.length+p.length),O(this,p,y)},s.prototype.imul=function(p){return this.clone().mulTo(p,this)},s.prototype.imuln=function(p){var y=p<0;y&&(p=-p),r(typeof p=="number"),r(p<67108864);for(var x=0,k=0;k<this.length;k++){var C=(this.words[k]|0)*p,F=(C&67108863)+(x&67108863);x>>=26,x+=C/67108864|0,x+=F>>>26,this.words[k]=F&67108863}return x!==0&&(this.words[k]=x,this.length++),y?this.ineg():this},s.prototype.muln=function(p){return this.clone().imuln(p)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(p){var y=D(p);if(y.length===0)return new s(1);for(var x=this,k=0;k<y.length&&y[k]===0;k++,x=x.sqr());if(++k<y.length)for(var C=x.sqr();k<y.length;k++,C=C.sqr())y[k]!==0&&(x=x.mul(C));return x},s.prototype.iushln=function(p){r(typeof p=="number"&&p>=0);var y=p%26,x=(p-y)/26,k=67108863>>>26-y<<26-y,C;if(y!==0){var F=0;for(C=0;C<this.length;C++){var W=this.words[C]&k,U=(this.words[C]|0)-W<<y;this.words[C]=U|F,F=W>>>26-y}F&&(this.words[C]=F,this.length++)}if(x!==0){for(C=this.length-1;C>=0;C--)this.words[C+x]=this.words[C];for(C=0;C<x;C++)this.words[C]=0;this.length+=x}return this._strip()},s.prototype.ishln=function(p){return r(this.negative===0),this.iushln(p)},s.prototype.iushrn=function(p,y,x){r(typeof p=="number"&&p>=0);var k;y?k=(y-y%26)/26:k=0;var C=p%26,F=Math.min((p-C)/26,this.length),W=67108863^67108863>>>C<<C,U=x;if(k-=F,k=Math.max(0,k),U){for(var I=0;I<F;I++)U.words[I]=this.words[I];U.length=F}if(F!==0)if(this.length>F)for(this.length-=F,I=0;I<this.length;I++)this.words[I]=this.words[I+F];else this.words[0]=0,this.length=1;var G=0;for(I=this.length-1;I>=0&&(G!==0||I>=k);I--){var ue=this.words[I]|0;this.words[I]=G<<26-C|ue>>>C,G=ue&W}return U&&G!==0&&(U.words[U.length++]=G),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(p,y,x){return r(this.negative===0),this.iushrn(p,y,x)},s.prototype.shln=function(p){return this.clone().ishln(p)},s.prototype.ushln=function(p){return this.clone().iushln(p)},s.prototype.shrn=function(p){return this.clone().ishrn(p)},s.prototype.ushrn=function(p){return this.clone().iushrn(p)},s.prototype.testn=function(p){r(typeof p=="number"&&p>=0);var y=p%26,x=(p-y)/26,k=1<<y;if(this.length<=x)return!1;var C=this.words[x];return!!(C&k)},s.prototype.imaskn=function(p){r(typeof p=="number"&&p>=0);var y=p%26,x=(p-y)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(y!==0&&x++,this.length=Math.min(x,this.length),y!==0){var k=67108863^67108863>>>y<<y;this.words[this.length-1]&=k}return this._strip()},s.prototype.maskn=function(p){return this.clone().imaskn(p)},s.prototype.iaddn=function(p){return r(typeof p=="number"),r(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},s.prototype._iaddn=function(p){this.words[0]+=p;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},s.prototype.isubn=function(p){if(r(typeof p=="number"),r(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},s.prototype.addn=function(p){return this.clone().iaddn(p)},s.prototype.subn=function(p){return this.clone().isubn(p)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(p,y,x){var k=p.length+x,C;this._expand(k);var F,W=0;for(C=0;C<p.length;C++){F=(this.words[C+x]|0)+W;var U=(p.words[C]|0)*y;F-=U&67108863,W=(F>>26)-(U/67108864|0),this.words[C+x]=F&67108863}for(;C<this.length-x;C++)F=(this.words[C+x]|0)+W,W=F>>26,this.words[C+x]=F&67108863;if(W===0)return this._strip();for(r(W===-1),W=0,C=0;C<this.length;C++)F=-(this.words[C]|0)+W,W=F>>26,this.words[C]=F&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(p,y){var x=this.length-p.length,k=this.clone(),C=p,F=C.words[C.length-1]|0,W=this._countBits(F);x=26-W,x!==0&&(C=C.ushln(x),k.iushln(x),F=C.words[C.length-1]|0);var U=k.length-C.length,I;if(y!=="mod"){I=new s(null),I.length=U+1,I.words=new Array(I.length);for(var G=0;G<I.length;G++)I.words[G]=0}var ue=k.clone()._ishlnsubmul(C,1,U);ue.negative===0&&(k=ue,I&&(I.words[U]=1));for(var ie=U-1;ie>=0;ie--){var X=(k.words[C.length+ie]|0)*67108864+(k.words[C.length+ie-1]|0);for(X=Math.min(X/F|0,67108863),k._ishlnsubmul(C,X,ie);k.negative!==0;)X--,k.negative=0,k._ishlnsubmul(C,1,ie),k.isZero()||(k.negative^=1);I&&(I.words[ie]=X)}return I&&I._strip(),k._strip(),y!=="div"&&x!==0&&k.iushrn(x),{div:I||null,mod:k}},s.prototype.divmod=function(p,y,x){if(r(!p.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var k,C,F;return this.negative!==0&&p.negative===0?(F=this.neg().divmod(p,y),y!=="mod"&&(k=F.div.neg()),y!=="div"&&(C=F.mod.neg(),x&&C.negative!==0&&C.iadd(p)),{div:k,mod:C}):this.negative===0&&p.negative!==0?(F=this.divmod(p.neg(),y),y!=="mod"&&(k=F.div.neg()),{div:k,mod:F.mod}):this.negative&p.negative?(F=this.neg().divmod(p.neg(),y),y!=="div"&&(C=F.mod.neg(),x&&C.negative!==0&&C.isub(p)),{div:F.div,mod:C}):p.length>this.length||this.cmp(p)<0?{div:new s(0),mod:this}:p.length===1?y==="div"?{div:this.divn(p.words[0]),mod:null}:y==="mod"?{div:null,mod:new s(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new s(this.modrn(p.words[0]))}:this._wordDiv(p,y)},s.prototype.div=function(p){return this.divmod(p,"div",!1).div},s.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},s.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},s.prototype.divRound=function(p){var y=this.divmod(p);if(y.mod.isZero())return y.div;var x=y.div.negative!==0?y.mod.isub(p):y.mod,k=p.ushrn(1),C=p.andln(1),F=x.cmp(k);return F<0||C===1&&F===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},s.prototype.modrn=function(p){var y=p<0;y&&(p=-p),r(p<=67108863);for(var x=(1<<26)%p,k=0,C=this.length-1;C>=0;C--)k=(x*k+(this.words[C]|0))%p;return y?-k:k},s.prototype.modn=function(p){return this.modrn(p)},s.prototype.idivn=function(p){var y=p<0;y&&(p=-p),r(p<=67108863);for(var x=0,k=this.length-1;k>=0;k--){var C=(this.words[k]|0)+x*67108864;this.words[k]=C/p|0,x=C%p}return this._strip(),y?this.ineg():this},s.prototype.divn=function(p){return this.clone().idivn(p)},s.prototype.egcd=function(p){r(p.negative===0),r(!p.isZero());var y=this,x=p.clone();y.negative!==0?y=y.umod(p):y=y.clone();for(var k=new s(1),C=new s(0),F=new s(0),W=new s(1),U=0;y.isEven()&&x.isEven();)y.iushrn(1),x.iushrn(1),++U;for(var I=x.clone(),G=y.clone();!y.isZero();){for(var ue=0,ie=1;!(y.words[0]&ie)&&ue<26;++ue,ie<<=1);if(ue>0)for(y.iushrn(ue);ue-- >0;)(k.isOdd()||C.isOdd())&&(k.iadd(I),C.isub(G)),k.iushrn(1),C.iushrn(1);for(var X=0,Q=1;!(x.words[0]&Q)&&X<26;++X,Q<<=1);if(X>0)for(x.iushrn(X);X-- >0;)(F.isOdd()||W.isOdd())&&(F.iadd(I),W.isub(G)),F.iushrn(1),W.iushrn(1);y.cmp(x)>=0?(y.isub(x),k.isub(F),C.isub(W)):(x.isub(y),F.isub(k),W.isub(C))}return{a:F,b:W,gcd:x.iushln(U)}},s.prototype._invmp=function(p){r(p.negative===0),r(!p.isZero());var y=this,x=p.clone();y.negative!==0?y=y.umod(p):y=y.clone();for(var k=new s(1),C=new s(0),F=x.clone();y.cmpn(1)>0&&x.cmpn(1)>0;){for(var W=0,U=1;!(y.words[0]&U)&&W<26;++W,U<<=1);if(W>0)for(y.iushrn(W);W-- >0;)k.isOdd()&&k.iadd(F),k.iushrn(1);for(var I=0,G=1;!(x.words[0]&G)&&I<26;++I,G<<=1);if(I>0)for(x.iushrn(I);I-- >0;)C.isOdd()&&C.iadd(F),C.iushrn(1);y.cmp(x)>=0?(y.isub(x),k.isub(C)):(x.isub(y),C.isub(k))}var ue;return y.cmpn(1)===0?ue=k:ue=C,ue.cmpn(0)<0&&ue.iadd(p),ue},s.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var y=this.clone(),x=p.clone();y.negative=0,x.negative=0;for(var k=0;y.isEven()&&x.isEven();k++)y.iushrn(1),x.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;x.isEven();)x.iushrn(1);var C=y.cmp(x);if(C<0){var F=y;y=x,x=F}else if(C===0||x.cmpn(1)===0)break;y.isub(x)}while(!0);return x.iushln(k)},s.prototype.invm=function(p){return this.egcd(p).a.umod(p)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(p){return this.words[0]&p},s.prototype.bincn=function(p){r(typeof p=="number");var y=p%26,x=(p-y)/26,k=1<<y;if(this.length<=x)return this._expand(x+1),this.words[x]|=k,this;for(var C=k,F=x;C!==0&&F<this.length;F++){var W=this.words[F]|0;W+=C,C=W>>>26,W&=67108863,this.words[F]=W}return C!==0&&(this.words[F]=C,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(p){var y=p<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this._strip();var x;if(this.length>1)x=1;else{y&&(p=-p),r(p<=67108863,"Number is too big");var k=this.words[0]|0;x=k===p?0:k<p?-1:1}return this.negative!==0?-x|0:x},s.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var y=this.ucmp(p);return this.negative!==0?-y|0:y},s.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var y=0,x=this.length-1;x>=0;x--){var k=this.words[x]|0,C=p.words[x]|0;if(k!==C){k<C?y=-1:k>C&&(y=1);break}}return y},s.prototype.gtn=function(p){return this.cmpn(p)===1},s.prototype.gt=function(p){return this.cmp(p)===1},s.prototype.gten=function(p){return this.cmpn(p)>=0},s.prototype.gte=function(p){return this.cmp(p)>=0},s.prototype.ltn=function(p){return this.cmpn(p)===-1},s.prototype.lt=function(p){return this.cmp(p)===-1},s.prototype.lten=function(p){return this.cmpn(p)<=0},s.prototype.lte=function(p){return this.cmp(p)<=0},s.prototype.eqn=function(p){return this.cmpn(p)===0},s.prototype.eq=function(p){return this.cmp(p)===0},s.red=function(p){return new B(p)},s.prototype.toRed=function(p){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(p){return this.red=p,this},s.prototype.forceRed=function(p){return r(!this.red,"Already a number in reduction context"),this._forceRed(p)},s.prototype.redAdd=function(p){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},s.prototype.redIAdd=function(p){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},s.prototype.redSub=function(p){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},s.prototype.redISub=function(p){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},s.prototype.redShl=function(p){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},s.prototype.redMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},s.prototype.redIMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(p){return r(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var $={k256:null,p224:null,p192:null,p25519:null};function V(A,p){this.name=A,this.p=new s(p,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var p=new s(null);return p.words=new Array(Math.ceil(this.n/13)),p},V.prototype.ireduce=function(p){var y=p,x;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),x=y.bitLength();while(x>this.n);var k=x<this.n?-1:y.ucmp(this.p);return k===0?(y.words[0]=0,y.length=1):k>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},V.prototype.split=function(p,y){p.iushrn(this.n,0,y)},V.prototype.imulK=function(p){return p.imul(this.k)};function v(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(v,V),v.prototype.split=function(p,y){for(var x=4194303,k=Math.min(p.length,9),C=0;C<k;C++)y.words[C]=p.words[C];if(y.length=k,p.length<=9){p.words[0]=0,p.length=1;return}var F=p.words[9];for(y.words[y.length++]=F&x,C=10;C<p.length;C++){var W=p.words[C]|0;p.words[C-10]=(W&x)<<4|F>>>22,F=W}F>>>=22,p.words[C-10]=F,F===0&&p.length>10?p.length-=10:p.length-=9},v.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var y=0,x=0;x<p.length;x++){var k=p.words[x]|0;y+=k*977,p.words[x]=y&67108863,y=k*64+(y/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function m(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(m,V);function b(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(b,V);function T(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(T,V),T.prototype.imulK=function(p){for(var y=0,x=0;x<p.length;x++){var k=(p.words[x]|0)*19+y,C=k&67108863;k>>>=26,p.words[x]=C,y=k}return y!==0&&(p.words[p.length++]=y),p},s._prime=function(p){if($[p])return $[p];var y;if(p==="k256")y=new v;else if(p==="p224")y=new m;else if(p==="p192")y=new b;else if(p==="p25519")y=new T;else throw new Error("Unknown prime "+p);return $[p]=y,y};function B(A){if(typeof A=="string"){var p=s._prime(A);this.m=p.p,this.prime=p}else r(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}B.prototype._verify1=function(p){r(p.negative===0,"red works only with positives"),r(p.red,"red works only with red numbers")},B.prototype._verify2=function(p,y){r((p.negative|y.negative)===0,"red works only with positives"),r(p.red&&p.red===y.red,"red works only with red numbers")},B.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(c(p,p.umod(this.m)._forceRed(this)),p)},B.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},B.prototype.add=function(p,y){this._verify2(p,y);var x=p.add(y);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},B.prototype.iadd=function(p,y){this._verify2(p,y);var x=p.iadd(y);return x.cmp(this.m)>=0&&x.isub(this.m),x},B.prototype.sub=function(p,y){this._verify2(p,y);var x=p.sub(y);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},B.prototype.isub=function(p,y){this._verify2(p,y);var x=p.isub(y);return x.cmpn(0)<0&&x.iadd(this.m),x},B.prototype.shl=function(p,y){return this._verify1(p),this.imod(p.ushln(y))},B.prototype.imul=function(p,y){return this._verify2(p,y),this.imod(p.imul(y))},B.prototype.mul=function(p,y){return this._verify2(p,y),this.imod(p.mul(y))},B.prototype.isqr=function(p){return this.imul(p,p.clone())},B.prototype.sqr=function(p){return this.mul(p,p)},B.prototype.sqrt=function(p){if(p.isZero())return p.clone();var y=this.m.andln(3);if(r(y%2===1),y===3){var x=this.m.add(new s(1)).iushrn(2);return this.pow(p,x)}for(var k=this.m.subn(1),C=0;!k.isZero()&&k.andln(1)===0;)C++,k.iushrn(1);r(!k.isZero());var F=new s(1).toRed(this),W=F.redNeg(),U=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new s(2*I*I).toRed(this);this.pow(I,U).cmp(W)!==0;)I.redIAdd(W);for(var G=this.pow(I,k),ue=this.pow(p,k.addn(1).iushrn(1)),ie=this.pow(p,k),X=C;ie.cmp(F)!==0;){for(var Q=ie,Y=0;Q.cmp(F)!==0;Y++)Q=Q.redSqr();r(Y<X);var ee=this.pow(G,new s(1).iushln(X-Y-1));ue=ue.redMul(ee),G=ee.redSqr(),ie=ie.redMul(G),X=Y}return ue},B.prototype.invm=function(p){var y=p._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},B.prototype.pow=function(p,y){if(y.isZero())return new s(1).toRed(this);if(y.cmpn(1)===0)return p.clone();var x=4,k=new Array(1<<x);k[0]=new s(1).toRed(this),k[1]=p;for(var C=2;C<k.length;C++)k[C]=this.mul(k[C-1],p);var F=k[0],W=0,U=0,I=y.bitLength()%26;for(I===0&&(I=26),C=y.length-1;C>=0;C--){for(var G=y.words[C],ue=I-1;ue>=0;ue--){var ie=G>>ue&1;if(F!==k[0]&&(F=this.sqr(F)),ie===0&&W===0){U=0;continue}W<<=1,W|=ie,U++,!(U!==x&&(C!==0||ue!==0))&&(F=this.mul(F,k[W]),U=0,W=0)}I=26}return F},B.prototype.convertTo=function(p){var y=p.umod(this.m);return y===p?y.clone():y},B.prototype.convertFrom=function(p){var y=p.clone();return y.red=null,y},s.mont=function(p){return new z(p)};function z(A){B.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(z,B),z.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},z.prototype.convertFrom=function(p){var y=this.imod(p.mul(this.rinv));return y.red=null,y},z.prototype.imul=function(p,y){if(p.isZero()||y.isZero())return p.words[0]=0,p.length=1,p;var x=p.imul(y),k=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=x.isub(k).iushrn(this.shift),F=C;return C.cmp(this.m)>=0?F=C.isub(this.m):C.cmpn(0)<0&&(F=C.iadd(this.m)),F._forceRed(this)},z.prototype.mul=function(p,y){if(p.isZero()||y.isZero())return new s(0)._forceRed(this);var x=p.mul(y),k=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=x.isub(k).iushrn(this.shift),F=C;return C.cmp(this.m)>=0?F=C.isub(this.m):C.cmpn(0)<0&&(F=C.iadd(this.m)),F._forceRed(this)},z.prototype.invm=function(p){var y=this.imod(p._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(t,Ie)})(s5);var Wv=s5.exports,Op={},ea={};Object.defineProperty(ea,"__esModule",{value:!0});ea.errorValues=ea.standardErrorCodes=void 0;ea.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};ea.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var qv={},Gv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=t.getErrorCode=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=ea,n="Unspecified error message.";t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function r(f,g=n){if(f&&Number.isInteger(f)){const w=f.toString();if(c(e.errorValues,w))return e.errorValues[w].message;if(u(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return g}t.getMessageFromCode=r;function i(f){if(!Number.isInteger(f))return!1;const g=f.toString();return!!(e.errorValues[g]||u(f))}t.isValidCode=i;function s(f){var g;if(typeof f=="number")return f;if(o(f))return(g=f.code)!==null&&g!==void 0?g:f.errorCode}t.getErrorCode=s;function o(f){return typeof f=="object"&&f!==null&&(typeof f.code=="number"||typeof f.errorCode=="number")}function a(f,{shouldIncludeStack:g=!1}={}){const w={};if(f&&typeof f=="object"&&!Array.isArray(f)&&c(f,"code")&&i(f.code)){const P=f;w.code=P.code,P.message&&typeof P.message=="string"?(w.message=P.message,c(P,"data")&&(w.data=P.data)):(w.message=r(w.code),w.data={originalError:l(f)})}else w.code=e.standardErrorCodes.rpc.internal,w.message=h(f,"message")?f.message:n,w.data={originalError:l(f)};return g&&(w.stack=h(f,"stack")?f.stack:void 0),w}t.serialize=a;function u(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function c(f,g){return Object.prototype.hasOwnProperty.call(f,g)}function h(f,g){return typeof f=="object"&&f!==null&&g in f&&typeof f[g]=="string"}})(Gv);Object.defineProperty(qv,"__esModule",{value:!0});qv.standardErrors=void 0;const ir=ea,S9=Gv;qv.standardErrors={rpc:{parse:t=>Oi(ir.standardErrorCodes.rpc.parse,t),invalidRequest:t=>Oi(ir.standardErrorCodes.rpc.invalidRequest,t),invalidParams:t=>Oi(ir.standardErrorCodes.rpc.invalidParams,t),methodNotFound:t=>Oi(ir.standardErrorCodes.rpc.methodNotFound,t),internal:t=>Oi(ir.standardErrorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Oi(e,t)},invalidInput:t=>Oi(ir.standardErrorCodes.rpc.invalidInput,t),resourceNotFound:t=>Oi(ir.standardErrorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Oi(ir.standardErrorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Oi(ir.standardErrorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Oi(ir.standardErrorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Oi(ir.standardErrorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>lc(ir.standardErrorCodes.provider.userRejectedRequest,t),unauthorized:t=>lc(ir.standardErrorCodes.provider.unauthorized,t),unsupportedMethod:t=>lc(ir.standardErrorCodes.provider.unsupportedMethod,t),disconnected:t=>lc(ir.standardErrorCodes.provider.disconnected,t),chainDisconnected:t=>lc(ir.standardErrorCodes.provider.chainDisconnected,t),unsupportedChain:t=>lc(ir.standardErrorCodes.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new x9(e,n,r)}}};function Oi(t,e){const[n,r]=C9(e);return new I9(t,n||(0,S9.getMessageFromCode)(t),r)}function lc(t,e){const[n,r]=C9(e);return new x9(t,n||(0,S9.getMessageFromCode)(t),r)}function C9(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}let I9=class extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}},x9=class extends I9{constructor(e,n,r){if(!Hue(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}};function Hue(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}var Kv={},mf={};Object.defineProperty(mf,"__esModule",{value:!0});mf.isErrorResponse=void 0;function Wue(t){return t.errorMessage!==void 0}mf.isErrorResponse=Wue;var yf={};Object.defineProperty(yf,"__esModule",{value:!0});yf.LIB_VERSION=void 0;yf.LIB_VERSION="3.9.3";Object.defineProperty(Kv,"__esModule",{value:!0});Kv.serializeError=void 0;const que=mf,Gue=yf,Kue=ea,Que=Gv;function Jue(t,e){const n=(0,Que.serialize)(Zue(t),{shouldIncludeStack:!0}),r=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");r.searchParams.set("version",Gue.LIB_VERSION),r.searchParams.set("code",n.code.toString());const i=Yue(n.data,e);return i&&r.searchParams.set("method",i),r.searchParams.set("message",n.message),Object.assign(Object.assign({},n),{docUrl:r.href})}Kv.serializeError=Jue;function Zue(t){return typeof t=="string"?{message:t,code:Kue.standardErrorCodes.rpc.internal}:(0,que.isErrorResponse)(t)?Object.assign(Object.assign({},t),{message:t.errorMessage,code:t.errorCode,data:{method:t.method}}):t}function Yue(t,e){const n=t==null?void 0:t.method;if(n)return n;if(e!==void 0){if(typeof e=="string")return e;if(Array.isArray(e)){if(e.length>0)return e[0].method}else return e.method}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.standardErrors=t.standardErrorCodes=t.serializeError=t.getMessageFromCode=t.getErrorCode=void 0;const e=ea;Object.defineProperty(t,"standardErrorCodes",{enumerable:!0,get:function(){return e.standardErrorCodes}});const n=qv;Object.defineProperty(t,"standardErrors",{enumerable:!0,get:function(){return n.standardErrors}});const r=Kv;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}});const i=Gv;Object.defineProperty(t,"getErrorCode",{enumerable:!0,get:function(){return i.getErrorCode}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}})})(Op);var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.ProviderType=Ln.RegExpString=Ln.IntNumber=Ln.BigIntString=Ln.AddressString=Ln.HexString=Ln.OpaqueType=void 0;function Lp(){return t=>t}Ln.OpaqueType=Lp;Ln.HexString=Lp();Ln.AddressString=Lp();Ln.BigIntString=Lp();function Xue(t){return Math.floor(t)}Ln.IntNumber=Xue;Ln.RegExpString=Lp();var $x;(function(t){t.CoinbaseWallet="CoinbaseWallet",t.MetaMask="MetaMask",t.Unselected=""})($x||(Ln.ProviderType=$x={}));var ele=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($e,"__esModule",{value:!0});$e.isMobileWeb=$e.getLocation=$e.isInIFrame=$e.createQrUrl=$e.getFavicon=$e.range=$e.isBigNumber=$e.ensureParsedJSONObject=$e.ensureBN=$e.ensureRegExpString=$e.ensureIntNumber=$e.ensureBuffer=$e.ensureAddressString=$e.ensureEvenLengthHexString=$e.ensureHexString=$e.isHexString=$e.prepend0x=$e.strip0x=$e.has0xPrefix=$e.hexStringFromIntNumber=$e.intNumberFromHexString=$e.bigIntStringFromBN=$e.hexStringFromBuffer=$e.hexStringToUint8Array=$e.uint8ArrayToHex=$e.randomBytesHex=void 0;const wa=ele(Wv),Kl=Op,Yi=Ln,T9=/^[0-9]*$/,R9=/^[a-f0-9]*$/;function tle(t){return k9(crypto.getRandomValues(new Uint8Array(t)))}$e.randomBytesHex=tle;function k9(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}$e.uint8ArrayToHex=k9;function nle(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}$e.hexStringToUint8Array=nle;function rle(t,e=!1){const n=t.toString("hex");return(0,Yi.HexString)(e?`0x${n}`:n)}$e.hexStringFromBuffer=rle;function ile(t){return(0,Yi.BigIntString)(t.toString(10))}$e.bigIntStringFromBN=ile;function sle(t){return(0,Yi.IntNumber)(new wa.default(Fp(t,!1),16).toNumber())}$e.intNumberFromHexString=sle;function ole(t){return(0,Yi.HexString)(`0x${new wa.default(t).toString(16)}`)}$e.hexStringFromIntNumber=ole;function o5(t){return t.startsWith("0x")||t.startsWith("0X")}$e.has0xPrefix=o5;function Qv(t){return o5(t)?t.slice(2):t}$e.strip0x=Qv;function P9(t){return o5(t)?`0x${t.slice(2)}`:`0x${t}`}$e.prepend0x=P9;function Bp(t){if(typeof t!="string")return!1;const e=Qv(t).toLowerCase();return R9.test(e)}$e.isHexString=Bp;function M9(t,e=!1){if(typeof t=="string"){const n=Qv(t).toLowerCase();if(R9.test(n))return(0,Yi.HexString)(e?`0x${n}`:n)}throw Kl.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}$e.ensureHexString=M9;function Fp(t,e=!1){let n=M9(t,!1);return n.length%2===1&&(n=(0,Yi.HexString)(`0${n}`)),e?(0,Yi.HexString)(`0x${n}`):n}$e.ensureEvenLengthHexString=Fp;function ale(t){if(typeof t=="string"){const e=Qv(t).toLowerCase();if(Bp(e)&&e.length===40)return(0,Yi.AddressString)(P9(e))}throw Kl.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}$e.ensureAddressString=ale;function ule(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(Bp(t)){const e=Fp(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw Kl.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}$e.ensureBuffer=ule;function D9(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Yi.IntNumber)(t);if(typeof t=="string"){if(T9.test(t))return(0,Yi.IntNumber)(Number(t));if(Bp(t))return(0,Yi.IntNumber)(new wa.default(Fp(t,!1),16).toNumber())}throw Kl.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}$e.ensureIntNumber=D9;function lle(t){if(t instanceof RegExp)return(0,Yi.RegExpString)(t.toString());throw Kl.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}$e.ensureRegExpString=lle;function cle(t){if(t!==null&&(wa.default.isBN(t)||N9(t)))return new wa.default(t.toString(10),10);if(typeof t=="number")return new wa.default(D9(t));if(typeof t=="string"){if(T9.test(t))return new wa.default(t,10);if(Bp(t))return new wa.default(Fp(t,!1),16)}throw Kl.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}$e.ensureBN=cle;function hle(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Kl.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}$e.ensureParsedJSONObject=hle;function N9(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}$e.isBigNumber=N9;function fle(t,e){return Array.from({length:e-t},(n,r)=>t+r)}$e.range=fle;function dle(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:n}=document.location,r=t?t.getAttribute("href"):null;return!r||r.startsWith("javascript:")||r.startsWith("vbscript:")?null:r.startsWith("http://")||r.startsWith("https://")||r.startsWith("data:")?r:r.startsWith("//")?e+r:`${e}//${n}${r}`}$e.getFavicon=dle;function ple(t,e,n,r,i,s){const o=r?"parent-id":"id",a=new URLSearchParams({[o]:t,secret:e,server:n,v:i,chainId:s.toString()}).toString();return`${n}/#/link?${a}`}$e.createQrUrl=ple;function O9(){try{return window.frameElement!==null}catch{return!1}}$e.isInIFrame=O9;function gle(){try{return O9()&&window.top?window.top.location:window.location}catch{return window.location}}$e.getLocation=gle;function mle(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)}$e.isMobileWeb=mle;var Jv={};Object.defineProperty(Jv,"__esModule",{value:!0});Jv.ScopedLocalStorage=void 0;class yle{constructor(e){this.scope=e}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`${this.scope}:${e}`}}Jv.ScopedLocalStorage=yle;var Hh={},$p={},jp={},vf={};Object.defineProperty(vf,"__esModule",{value:!0});vf.EVENTS=void 0;vf.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.RelayAbstract=Ki.APP_VERSION_KEY=Ki.LOCAL_STORAGE_ADDRESSES_KEY=Ki.WALLET_USER_NAME_KEY=void 0;const jx=Op;Ki.WALLET_USER_NAME_KEY="walletUsername";Ki.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Ki.APP_VERSION_KEY="AppVersion";class vle{async makeEthereumJSONRPCRequest(e,n){if(!n)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(n,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(r=>r.json()).then(r=>{if(!r)throw jx.standardErrors.rpc.parse({});const i=r,{error:s}=i;if(s)throw(0,jx.serializeError)(s,e.method);return i})}}Ki.RelayAbstract=vle;var _f={};Object.defineProperty(_f,"__esModule",{value:!0});_f.Session=void 0;const Ux=ZL,Vx=$e,zx="session:id",Hx="session:secret",Wx="session:linked";class a5{constructor(e,n,r,i){this._storage=e,this._id=n||(0,Vx.randomBytesHex)(16),this._secret=r||(0,Vx.randomBytesHex)(32),this._key=new Ux.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const n=e.getItem(zx),r=e.getItem(Wx),i=e.getItem(Hx);return n&&i?new a5(e,n,i,r==="1"):null}static hash(e){return new Ux.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(zx,this._id),this._storage.setItem(Hx,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Wx,this._linked?"1":"0")}}_f.Session=a5;var Zv={},Yv={};Object.defineProperty(Yv,"__esModule",{value:!0});Yv.Cipher=void 0;const rm=$e;class _le{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",(0,rm.hexStringToUint8Array)(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),a=16,u=o.slice(o.byteLength-a),l=o.slice(0,o.byteLength-a),c=new Uint8Array(u),h=new Uint8Array(l),f=new Uint8Array([...r,...c,...h]);return(0,rm.uint8ArrayToHex)(f)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",(0,rm.hexStringToUint8Array)(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=(0,rm.hexStringToUint8Array)(e),a=o.slice(0,12),u=o.slice(12,28),l=o.slice(28),c=new Uint8Array([...l,...u]),h={name:"AES-GCM",iv:new Uint8Array(a)};try{const f=await window.crypto.subtle.decrypt(h,s,c),g=new TextDecoder;r(g.decode(f))}catch(f){i(f)}})()})}}Yv.Cipher=_le;var Xv={};Object.defineProperty(Xv,"__esModule",{value:!0});Xv.WalletLinkHTTP=void 0;class wle{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r==null?void 0:r.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}}Xv.WalletLinkHTTP=wle;var Wh={};Object.defineProperty(Wh,"__esModule",{value:!0});Wh.WalletLinkWebSocket=Wh.ConnectionState=void 0;var Bc;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(Bc||(Wh.ConnectionState=Bc={}));class ble{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,Bc.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),n(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Bc.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Bc.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(u=>this.sendData(u)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const u=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,u)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,Bc.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}Wh.WalletLinkWebSocket=ble;Object.defineProperty(Zv,"__esModule",{value:!0});Zv.WalletLinkConnection=void 0;const cc=Ln,Ele=Yv,Vs=vf,qx=Ki,hc=_f,Ale=Xv,im=Wh,Gx=1e4,Sle=6e4;class Cle{constructor({session:e,linkAPIUrl:n,listener:r,diagnostic:i,WebSocketClass:s=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,cc.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=a=>{if(!a)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",l=>a.JsonRpcUrl&&this.handleChainUpdated(l,a.JsonRpcUrl)]]).forEach((l,c)=>{const h=a[c];h!==void 0&&l(h)})},this.handleDestroyed=a=>{var u,l;a==="1"&&((u=this.listener)===null||u===void 0||u.resetAndReload(),(l=this.diagnostic)===null||l===void 0||l.log(Vs.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:this.isDestroyed,sessionIdHash:hc.Session.hash(this.session.id)}))},this.handleAccountUpdated=async a=>{var u,l;try{const c=await this.cipher.decrypt(a);(u=this.listener)===null||u===void 0||u.accountUpdated(c)}catch{(l=this.diagnostic)===null||l===void 0||l.log(Vs.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}},this.handleMetadataUpdated=async(a,u)=>{var l,c;try{const h=await this.cipher.decrypt(u);(l=this.listener)===null||l===void 0||l.metadataUpdated(a,h)}catch{(c=this.diagnostic)===null||c===void 0||c.log(Vs.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:a})}},this.handleWalletUsernameUpdated=async a=>{this.handleMetadataUpdated(qx.WALLET_USER_NAME_KEY,a)},this.handleAppVersionUpdated=async a=>{this.handleMetadataUpdated(qx.APP_VERSION_KEY,a)},this.handleChainUpdated=async(a,u)=>{var l,c;try{const h=await this.cipher.decrypt(a),f=await this.cipher.decrypt(u);(l=this.listener)===null||l===void 0||l.chainUpdated(h,f)}catch{(c=this.diagnostic)===null||c===void 0||c.log(Vs.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}},this.session=e,this.cipher=new Ele.Cipher(e.secret),this.diagnostic=i,this.listener=r;const o=new im.WalletLinkWebSocket(`${n}/rpc`,s);o.setConnectionStateListener(async a=>{var u;(u=this.diagnostic)===null||u===void 0||u.log(Vs.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:hc.Session.hash(e.id)});let l=!1;switch(a){case im.ConnectionState.DISCONNECTED:if(!this.destroyed){const c=async()=>{await new Promise(h=>setTimeout(h,5e3)),this.destroyed||o.connect().catch(()=>{c()})};c()}break;case im.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),l=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},Gx),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case im.ConnectionState.CONNECTING:break}this.connected!==l&&(this.connected=l)}),o.setIncomingDataListener(a=>{var u,l,c;switch(a.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const h=a.type==="IsLinkedOK"?a.linked:void 0;(u=this.diagnostic)===null||u===void 0||u.log(Vs.EVENTS.LINKED,{sessionIdHash:hc.Session.hash(e.id),linked:h,type:a.type,onlineGuests:a.onlineGuests}),this.linked=h||a.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{(l=this.diagnostic)===null||l===void 0||l.log(Vs.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:hc.Session.hash(e.id),metadata_keys:a&&a.metadata?Object.keys(a.metadata):void 0}),this.handleSessionMetadataUpdated(a.metadata);break}case"Event":{this.handleIncomingEvent(a);break}}a.id!==void 0&&((c=this.requestResolutions.get(a.id))===null||c===void 0||c(a))}),this.ws=o,this.http=new Ale.WalletLinkHTTP(n,e.id,e.key)}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Vs.EVENTS.STARTED_CONNECTING,{sessionIdHash:hc.Session.hash(this.session.id)}),this.ws.connect()}destroy(){var e;this.destroyed=!0,this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Vs.EVENTS.DISCONNECTED,{sessionIdHash:hc.Session.hash(this.session.id)}),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(e){var n,r;this._connected=e,e&&((n=this.onceConnected)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.connectedUpdated(e)}setOnceConnected(e){return new Promise(n=>{this.connected?e().then(n):this.onceConnected=()=>{e().then(n),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n,r;if(!(e.type!=="Event"||e.event!=="Web3Response"))try{const i=await this.cipher.decrypt(e.data),s=JSON.parse(i);if(s.type!=="WEB3_RESPONSE")return;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(s)}catch{(r=this.diagnostic)===null||r===void 0||r.log(Vs.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async setSessionMetadata(e,n){const r={type:"SetSessionConfig",id:(0,cc.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[e]:n}};return this.setOnceConnected(async()=>{const i=await this.makeRequest(r);if(i.type==="Fail")throw new Error(i.error||"failed to set session metadata")})}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:(0,cc.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Gx*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n=Sle){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${r} timed out`))},n)}),new Promise(s=>{this.requestResolutions.set(r,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(r)})})])}async authenticate(){const e={type:"HostSession",id:(0,cc.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},n=await this.makeRequest(e);if(n.type==="Fail")throw new Error(n.error||"failed to authentcate")}sendIsLinked(){const e={type:"IsLinked",id:(0,cc.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}sendGetSessionConfig(){const e={type:"GetSessionConfig",id:(0,cc.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}}Zv.WalletLinkConnection=Cle;var Up={},Vp={},u5={};Object.defineProperty(u5,"__esModule",{value:!0});u5.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var Ile=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vp,"__esModule",{value:!0});Vp.injectCssReset=void 0;const xle=Ile(u5);function Tle(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(xle.default)),document.documentElement.appendChild(t)}Vp.injectCssReset=Tle;var e_={},t_={},qh={},n_={};Object.defineProperty(n_,"__esModule",{value:!0});n_.CloseIcon=void 0;const Kx=Mr;function Rle(t){return(0,Kx.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,Kx.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}n_.CloseIcon=Rle;var r_={};Object.defineProperty(r_,"__esModule",{value:!0});r_.CoinbaseWalletRound=void 0;const sm=Mr;function kle(t){return(0,sm.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,sm.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,sm.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,sm.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))}r_.CoinbaseWalletRound=kle;var i_={};Object.defineProperty(i_,"__esModule",{value:!0});i_.QRCodeIcon=void 0;const Uf=Mr;function Ple(t){return(0,Uf.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t),(0,Uf.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,Uf.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,Uf.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,Uf.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))}i_.QRCodeIcon=Ple;var s_={};function L9(t){this.mode=hi.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,n=this.data.length;e<n;e++){var r=[],i=this.data.charCodeAt(e);i>65536?(r[0]=240|(i&1835008)>>>18,r[1]=128|(i&258048)>>>12,r[2]=128|(i&4032)>>>6,r[3]=128|i&63):i>2048?(r[0]=224|(i&61440)>>>12,r[1]=128|(i&4032)>>>6,r[2]=128|i&63):i>128?(r[0]=192|(i&1984)>>>6,r[1]=128|i&63):r[0]=i,this.parsedData.push(r)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}L9.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,n=this.parsedData.length;e<n;e++)t.put(this.parsedData[e],8)}};function ro(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}ro.prototype={addData:function(t){var e=new L9(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=ro.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[t+n][e+r]=!0:this.modules[t+n][e+r]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=fn.getLostPoint(this);(n==0||t>r)&&(t=r,e=n)}return e},createMovieClip:function(t,e,n){var r=t.createEmptyMovieClip(e,n),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var u=a*i,l=this.modules[s][a];l&&(r.beginFill(0,100),r.moveTo(u,o),r.lineTo(u+i,o),r.lineTo(u+i,o+i),r.lineTo(u,o+i),r.endFill())}return r},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=fn.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var r=t[e],i=t[n];if(this.modules[r][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[r+s][i+o]=!0:this.modules[r+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=fn.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!t&&(e>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!t&&(e>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},setupTypeInfo:function(t,e){for(var n=this.errorCorrectLevel<<3|e,r=fn.getBCHTypeInfo(n),i=0;i<15;i++){var s=!t&&(r>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(r>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,r=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[r][o-a]==null){var u=!1;s<t.length&&(u=(t[s]>>>i&1)==1);var l=fn.getMask(e,r,o-a);l&&(u=!u),this.modules[r][o-a]=u,i--,i==-1&&(s++,i=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}}};ro.PAD0=236;ro.PAD1=17;ro.createData=function(t,e,n){for(var r=to.getRSBlocks(t,e),i=new B9,s=0;s<n.length;s++){var o=n[s];i.put(o.mode,4),i.put(o.getLength(),fn.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<r.length;s++)a+=r[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(ro.PAD0,8),i.getLengthInBits()>=a*8));)i.put(ro.PAD1,8);return ro.createBytes(i,r)};ro.createBytes=function(t,e){for(var n=0,r=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var u=e[a].dataCount,l=e[a].totalCount-u;r=Math.max(r,u),i=Math.max(i,l),s[a]=new Array(u);for(var c=0;c<s[a].length;c++)s[a][c]=255&t.buffer[c+n];n+=u;var h=fn.getErrorCorrectPolynomial(l),f=new Yc(s[a],h.getLength()-1),g=f.mod(h);o[a]=new Array(h.getLength()-1);for(var c=0;c<o[a].length;c++){var w=c+g.getLength()-o[a].length;o[a][c]=w>=0?g.get(w):0}}for(var P=0,c=0;c<e.length;c++)P+=e[c].totalCount;for(var D=new Array(P),E=0,c=0;c<r;c++)for(var a=0;a<e.length;a++)c<s[a].length&&(D[E++]=s[a][c]);for(var c=0;c<i;c++)for(var a=0;a<e.length;a++)c<o[a].length&&(D[E++]=o[a][c]);return D};var hi={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Na={L:1,M:0,Q:3,H:2},ha={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},fn={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;fn.getBCHDigit(e)-fn.getBCHDigit(fn.G15)>=0;)e^=fn.G15<<fn.getBCHDigit(e)-fn.getBCHDigit(fn.G15);return(t<<10|e)^fn.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;fn.getBCHDigit(e)-fn.getBCHDigit(fn.G18)>=0;)e^=fn.G18<<fn.getBCHDigit(e)-fn.getBCHDigit(fn.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return fn.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case ha.PATTERN000:return(e+n)%2==0;case ha.PATTERN001:return e%2==0;case ha.PATTERN010:return n%3==0;case ha.PATTERN011:return(e+n)%3==0;case ha.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case ha.PATTERN101:return e*n%2+e*n%3==0;case ha.PATTERN110:return(e*n%2+e*n%3)%2==0;case ha.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Yc([1],0),n=0;n<t;n++)e=e.multiply(new Yc([1,Yn.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case hi.MODE_NUMBER:return 10;case hi.MODE_ALPHA_NUM:return 9;case hi.MODE_8BIT_BYTE:return 8;case hi.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case hi.MODE_NUMBER:return 12;case hi.MODE_ALPHA_NUM:return 11;case hi.MODE_8BIT_BYTE:return 16;case hi.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case hi.MODE_NUMBER:return 14;case hi.MODE_ALPHA_NUM:return 13;case hi.MODE_8BIT_BYTE:return 16;case hi.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(r,i),a=-1;a<=1;a++)if(!(r+a<0||e<=r+a))for(var u=-1;u<=1;u++)i+u<0||e<=i+u||a==0&&u==0||o==t.isDark(r+a,i+u)&&s++;s>5&&(n+=3+s-5)}for(var r=0;r<e-1;r++)for(var i=0;i<e-1;i++){var l=0;t.isDark(r,i)&&l++,t.isDark(r+1,i)&&l++,t.isDark(r,i+1)&&l++,t.isDark(r+1,i+1)&&l++,(l==0||l==4)&&(n+=3)}for(var r=0;r<e;r++)for(var i=0;i<e-6;i++)t.isDark(r,i)&&!t.isDark(r,i+1)&&t.isDark(r,i+2)&&t.isDark(r,i+3)&&t.isDark(r,i+4)&&!t.isDark(r,i+5)&&t.isDark(r,i+6)&&(n+=40);for(var i=0;i<e;i++)for(var r=0;r<e-6;r++)t.isDark(r,i)&&!t.isDark(r+1,i)&&t.isDark(r+2,i)&&t.isDark(r+3,i)&&t.isDark(r+4,i)&&!t.isDark(r+5,i)&&t.isDark(r+6,i)&&(n+=40);for(var c=0,i=0;i<e;i++)for(var r=0;r<e;r++)t.isDark(r,i)&&c++;var h=Math.abs(100*c/e/e-50)/5;return n+=h*10,n}},Yn={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Yn.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Yn.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var ar=0;ar<8;ar++)Yn.EXP_TABLE[ar]=1<<ar;for(var ar=8;ar<256;ar++)Yn.EXP_TABLE[ar]=Yn.EXP_TABLE[ar-4]^Yn.EXP_TABLE[ar-5]^Yn.EXP_TABLE[ar-6]^Yn.EXP_TABLE[ar-8];for(var ar=0;ar<255;ar++)Yn.LOG_TABLE[Yn.EXP_TABLE[ar]]=ar;function Yc(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&t[n]==0;)n++;this.num=new Array(t.length-n+e);for(var r=0;r<t.length-n;r++)this.num[r]=t[r+n]}Yc.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<t.getLength();r++)e[n+r]^=Yn.gexp(Yn.glog(this.get(n))+Yn.glog(t.get(r)));return new Yc(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Yn.glog(this.get(0))-Yn.glog(t.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<t.getLength();r++)n[r]^=Yn.gexp(Yn.glog(t.get(r))+e);return new Yc(n,0).mod(t)}};function to(t,e){this.totalCount=t,this.dataCount=e}to.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];to.getRSBlocks=function(t,e){var n=to.getRsBlockTable(t,e);if(n==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var r=n.length/3,i=[],s=0;s<r;s++)for(var o=n[s*3+0],a=n[s*3+1],u=n[s*3+2],l=0;l<o;l++)i.push(new to(a,u));return i};to.getRsBlockTable=function(t,e){switch(e){case Na.L:return to.RS_BLOCK_TABLE[(t-1)*4+0];case Na.M:return to.RS_BLOCK_TABLE[(t-1)*4+1];case Na.Q:return to.RS_BLOCK_TABLE[(t-1)*4+2];case Na.H:return to.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function B9(){this.buffer=[],this.length=0}B9.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var n=0;n<e;n++)this.putBit((t>>>e-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var _b=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function F9(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function n(u){switch(u){case"L":return Na.L;case"M":return Na.M;case"Q":return Na.Q;case"H":return Na.H;default:throw new Error("Unknwon error correction level: "+u)}}function r(u,l){for(var c=i(u),h=1,f=0,g=0,w=_b.length;g<=w;g++){var P=_b[g];if(!P)throw new Error("Content too long: expected "+f+" but got "+c);switch(l){case"L":f=P[0];break;case"M":f=P[1];break;case"Q":f=P[2];break;case"H":f=P[3];break;default:throw new Error("Unknwon error correction level: "+l)}if(c<=f)break;h++}if(h>_b.length)throw new Error("Content too long");return h}function i(u){var l=encodeURI(u).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=u?3:0)}var s=this.options.content,o=r(s,this.options.ecl),a=n(this.options.ecl);this.qrcode=new ro(o,a),this.qrcode.addData(s),this.qrcode.make()}F9.prototype.svg=function(t){var e=this.options||{},n=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var r=typeof e.pretty<"u"?!!e.pretty:!0,i=r?"  ":"",s=r?`\r
`:"",o=e.width,a=e.height,u=n.length,l=o/(u+2*e.padding),c=a/(u+2*e.padding),h=typeof e.join<"u"?!!e.join:!1,f=typeof e.swap<"u"?!!e.swap:!1,g=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,w=typeof e.predefined<"u"?!!e.predefined:!1,P=w?i+'<defs><path id="qrmodule" d="M0 0 h'+c+" v"+l+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",D=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,E="",_="",S=0;S<u;S++)for(var O=0;O<u;O++){var $=n[O][S];if($){var V=O*l+e.padding*l,v=S*c+e.padding*c;if(f){var m=V;V=v,v=m}if(h){var b=l+V,T=c+v;V=Number.isInteger(V)?Number(V):V.toFixed(2),v=Number.isInteger(v)?Number(v):v.toFixed(2),b=Number.isInteger(b)?Number(b):b.toFixed(2),T=Number.isInteger(T)?Number(T):T.toFixed(2),_+="M"+V+","+v+" V"+T+" H"+b+" V"+v+" H"+V+" Z "}else w?E+=i+'<use x="'+V.toString()+'" y="'+v.toString()+'" href="#qrmodule" />'+s:E+=i+'<rect x="'+V.toString()+'" y="'+v.toString()+'" width="'+l+'" height="'+c+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}h&&(E=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+_+'" />');let B="";if(this.options.image!==void 0&&this.options.image.svg){const A=o*this.options.image.width/100,p=a*this.options.image.height/100,y=o/2-A/2,x=a/2-p/2;B+=`<svg x="${y}" y="${x}" width="${A}" height="${p}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,B+=this.options.image.svg+s,B+="</svg>"}var z="";switch(t.container){case"svg":g&&(z+='<?xml version="1.0" standalone="yes"?>'+s),z+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,z+=P+D+E,z+=B,z+="</svg>";break;case"svg-viewbox":g&&(z+='<?xml version="1.0" standalone="yes"?>'+s),z+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,z+=P+D+E,z+=B,z+="</svg>";break;case"g":z+='<g width="'+o+'" height="'+a+'">'+s,z+=P+D+E,z+=B,z+="</g>";break;default:z+=(P+D+E+B).replace(/^\s+/,"");break}return z};var Mle=F9,Dle=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s_,"__esModule",{value:!0});s_.QRCode=void 0;const Nle=Mr,Qx=Np,Ole=Dle(Mle),Lle=t=>{const[e,n]=(0,Qx.useState)("");return(0,Qx.useEffect)(()=>{var r,i;const s=new Ole.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(r=t.width)!==null&&r!==void 0?r:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");n(`data:image/svg+xml;base64,${o}`)},[t.bgColor,t.content,t.fgColor,t.height,t.image,t.width]),e?(0,Nle.h)("img",{src:e,alt:"QR Code"}):null};s_.QRCode=Lle;var o_={},l5={};Object.defineProperty(l5,"__esModule",{value:!0});l5.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var Ble=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o_,"__esModule",{value:!0});o_.Spinner=void 0;const om=Mr,Fle=Ble(l5),$le=t=>{var e;const n=(e=t.size)!==null&&e!==void 0?e:64,r=t.color||"#000";return(0,om.h)("div",{class:"-cbwsdk-spinner"},(0,om.h)("style",null,Fle.default),(0,om.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:n,height:n}},(0,om.h)("circle",{style:{cx:50,cy:50,r:45,stroke:r}})))};o_.Spinner=$le;var c5={};Object.defineProperty(c5,"__esModule",{value:!0});c5.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var $9=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qh,"__esModule",{value:!0});qh.CoinbaseWalletSteps=qh.ConnectContent=void 0;const fl=$9(ql),kt=Mr,jle=$e,Ule=yf,Vle=n_,zle=r_,Hle=i_,Wle=s_,qle=o_,Gle=$9(c5),wb={title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",steps:j9},Kle=t=>t==="light"?"#FFFFFF":"#0A0B0D";function Qle(t){const{theme:e}=t,n=(0,jle.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),r=wb.steps;return(0,kt.h)("div",{"data-testid":"connect-content",className:(0,fl.default)("-cbwsdk-connect-content",e)},(0,kt.h)("style",null,Gle.default),(0,kt.h)("div",{className:"-cbwsdk-connect-content-header"},(0,kt.h)("h2",{className:(0,fl.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with our mobile app"),t.onCancel&&(0,kt.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,kt.h)(Vle.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,kt.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,kt.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,kt.h)(Jle,{title:wb.title,description:wb.description,theme:e})),(0,kt.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,kt.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,kt.h)(Wle.QRCode,{content:n,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,kt.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:Ule.LIB_VERSION}),(0,kt.h)("input",{type:"hidden",value:n})),(0,kt.h)(r,{theme:e}),!t.isConnected&&(0,kt.h)("div",{"data-testid":"connecting-spinner",className:(0,fl.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,kt.h)(qle.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,kt.h)("p",null,"Connecting...")))))}qh.ConnectContent=Qle;function Jle({title:t,description:e,theme:n}){return(0,kt.h)("div",{className:(0,fl.default)("-cbwsdk-connect-item",n)},(0,kt.h)("div",null,(0,kt.h)(zle.CoinbaseWalletRound,null)),(0,kt.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,kt.h)("h3",{className:"-cbwsdk-connect-item-title"},t),(0,kt.h)("p",{className:"-cbwsdk-connect-item-description"},e)))}function j9({theme:t}){return(0,kt.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,kt.h)("li",{className:(0,fl.default)("-cbwsdk-wallet-steps-item",t)},(0,kt.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,kt.h)("li",{className:(0,fl.default)("-cbwsdk-wallet-steps-item",t)},(0,kt.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,kt.h)("span",null,"Tap ",(0,kt.h)("strong",null,"Scan")," "),(0,kt.h)("span",{className:(0,fl.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,kt.h)(Hle.QRCodeIcon,{fill:Kle(t)})))))}qh.CoinbaseWalletSteps=j9;var a_={},u_={};Object.defineProperty(u_,"__esModule",{value:!0});u_.ArrowLeftIcon=void 0;const Jx=Mr;function Zle(t){return(0,Jx.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,Jx.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}u_.ArrowLeftIcon=Zle;var l_={};Object.defineProperty(l_,"__esModule",{value:!0});l_.LaptopIcon=void 0;const bb=Mr;function Yle(t){return(0,bb.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,bb.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,bb.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}l_.LaptopIcon=Yle;var c_={};Object.defineProperty(c_,"__esModule",{value:!0});c_.SafeIcon=void 0;const Zx=Mr;function Xle(t){return(0,Zx.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Zx.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}c_.SafeIcon=Xle;var h5={};Object.defineProperty(h5,"__esModule",{value:!0});h5.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var U9=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(a_,"__esModule",{value:!0});a_.TryExtensionContent=void 0;const Pu=U9(ql),Tn=Mr,Eb=Np,ece=u_,tce=l_,nce=c_,rce=U9(h5);function ice({theme:t}){const[e,n]=(0,Eb.useState)(!1),r=(0,Eb.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Eb.useCallback)(()=>{e?window.location.reload():(r(),n(!0))},[r,e]);return(0,Tn.h)("div",{class:(0,Pu.default)("-cbwsdk-try-extension",t)},(0,Tn.h)("style",null,rce.default),(0,Tn.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Tn.h)("h3",{class:(0,Pu.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,Tn.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Tn.h)("button",{class:(0,Pu.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,Tn.h)("div",null,!e&&(0,Tn.h)(ece.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,Tn.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Tn.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Tn.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Tn.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Tn.h)("span",{class:(0,Pu.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Tn.h)(tce.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Tn.h)("div",{class:(0,Pu.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,Tn.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Tn.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Tn.h)("span",{class:(0,Pu.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Tn.h)(nce.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Tn.h)("div",{class:(0,Pu.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}a_.TryExtensionContent=ice;var f5={};Object.defineProperty(f5,"__esModule",{value:!0});f5.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var V9=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t_,"__esModule",{value:!0});t_.ConnectDialog=void 0;const Ab=V9(ql),Mu=Mr,Sb=Np,sce=qh,oce=a_,ace=V9(f5),uce=t=>{const{isOpen:e,darkMode:n}=t,[r,i]=(0,Sb.useState)(!e),[s,o]=(0,Sb.useState)(!e);(0,Sb.useEffect)(()=>{const u=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):u.push(window.setTimeout(()=>{i(!0)},360)),()=>{u.forEach(window.clearTimeout)}},[e]);const a=n?"dark":"light";return(0,Mu.h)("div",{class:(0,Ab.default)("-cbwsdk-connect-dialog-container",r&&"-cbwsdk-connect-dialog-container-hidden")},(0,Mu.h)("style",null,ace.default),(0,Mu.h)("div",{class:(0,Ab.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,Mu.h)("div",{class:"-cbwsdk-connect-dialog"},(0,Mu.h)("div",{class:(0,Ab.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,Mu.h)(sce.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,Mu.h)(oce.TryExtensionContent,{theme:a}))))};t_.ConnectDialog=uce;Object.defineProperty(e_,"__esModule",{value:!0});e_.LinkFlow=void 0;const Cb=Mr,lce=t_;class cce{constructor(e){this.connected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render()}setConnected(e){this.connected!==e&&(this.connected=e,this.render())}setChainId(e){this.chainId!==e&&(this.chainId=e,this.render())}detach(){var e;this.root&&((0,Cb.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){this.root&&(0,Cb.render)((0,Cb.h)(lce.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}}e_.LinkFlow=cce;var d5={},p5={};Object.defineProperty(p5,"__esModule",{value:!0});p5.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=Ie&&Ie.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const n=e(ql),r=Mr,i=Np,s=e(p5),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class u{constructor(f){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=f.darkMode}attach(f){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",f.appendChild(this.root),this.render()}presentItem(f){const g=this.nextItemKey++;return this.items.set(g,f),this.render(),()=>{this.items.delete(g),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,r.render)((0,r.h)("div",null,(0,r.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([f,g])=>(0,r.h)(t.SnackbarInstance,Object.assign({},g,{key:f}))))),this.root)}}t.Snackbar=u;const l=h=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-container")},(0,r.h)("style",null,s.default),(0,r.h)("div",{class:"-cbwsdk-snackbar"},h.children));t.SnackbarContainer=l;const c=({autoExpand:h,message:f,menuItems:g})=>{const[w,P]=(0,i.useState)(!0),[D,E]=(0,i.useState)(h??!1);(0,i.useEffect)(()=>{const S=[window.setTimeout(()=>{P(!1)},1),window.setTimeout(()=>{E(!0)},1e4)];return()=>{S.forEach(window.clearTimeout)}});const _=()=>{E(!D)};return(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance",w&&"-cbwsdk-snackbar-instance-hidden",D&&"-cbwsdk-snackbar-instance-expanded")},(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:_},(0,r.h)("img",{src:o,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},f),(0,r.h)("div",{class:"-gear-container"},!D&&(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,r.h)("img",{src:a,class:"-gear-icon",title:"Expand"}))),g&&g.length>0&&(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},g.map((S,O)=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item",S.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:S.onClick,key:O},(0,r.h)("svg",{width:S.svgWidth,height:S.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":S.defaultFillRule,"clip-rule":S.defaultClipRule,d:S.path,fill:"#AAAAAA"})),(0,r.h)("span",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item-info",S.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},S.info)))))};t.SnackbarInstance=c})(d5);Object.defineProperty(Up,"__esModule",{value:!0});Up.WalletLinkRelayUI=void 0;const hce=Vp,fce=e_,dce=d5;class pce{constructor(e){this.standalone=null,this.attached=!1,this.snackbar=new dce.Snackbar({darkMode:e.darkMode}),this.linkFlow=new fce.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.linkFlow.attach(n),this.snackbar.attach(n),this.attached=!0,(0,hce.injectCssReset)()}setConnected(e){this.linkFlow.setConnected(e)}setChainId(e){this.linkFlow.setChainId(e)}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(){}watchAsset(){}switchEthereumChain(){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Up.WalletLinkRelayUI=pce;Object.defineProperty(jp,"__esModule",{value:!0});jp.WalletLinkRelay=void 0;const fc=Op,gce=Ln,hn=$e,Du=vf,Yx=Ki,fa=_f,mce=Zv,Nu=mf,yce=Up;class Mo extends Yx.RelayAbstract{constructor(e){var n;super(),this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.linkedUpdated=o=>{var a;this.isLinked=o;const u=this.storage.getItem(Yx.LOCAL_STORAGE_ADDRESSES_KEY);if(o&&(this.session.linked=o),this.isUnlinkedErrorState=!1,u){const l=u.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(l[0]!==""&&!o&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const h=this.getSessionIdHash();(a=this.diagnostic)===null||a===void 0||a.log(Du.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:h})}}},this.metadataUpdated=(o,a)=>{this.storage.setItem(o,a)},this.chainUpdated=(o,a)=>{this.chainCallbackParams.chainId===o&&this.chainCallbackParams.jsonRpcUrl===a||(this.chainCallbackParams={chainId:o,jsonRpcUrl:a},this.chainCallback&&this.chainCallback(o,a))},this.accountUpdated=o=>{this.accountsCallback&&this.accountsCallback([o]),Mo.accountRequestCallbackIds.size>0&&(Array.from(Mo.accountRequestCallbackIds.values()).forEach(a=>{const u={type:"WEB3_RESPONSE",id:a,response:{method:"requestEthereumAccounts",result:[o]}};this.invokeCallback(Object.assign(Object.assign({},u),{id:a}))}),Mo.accountRequestCallbackIds.clear())},this.connectedUpdated=o=>{this.ui.setConnected(o)},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:r,ui:i,connection:s}=this.subscribe();this._session=r,this.connection=s,this.relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(n=e.reloadOnDisconnect)!==null&&n!==void 0?n:!0,this.ui=i}subscribe(){const e=fa.Session.load(this.storage)||new fa.Session(this.storage).save(),{linkAPIUrl:n,diagnostic:r}=this,i=new mce.WalletLinkConnection({session:e,linkAPIUrl:n,diagnostic:r,listener:this}),{version:s,darkMode:o}=this.options,a=this.options.uiConstructor({linkAPIUrl:n,version:s,darkMode:o,session:e});return i.connect(),{session:e,ui:a,connection:i}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(e=>setTimeout(()=>e(null),1e3))]).then(()=>{var e,n;const r=this.ui.isStandalone();(e=this.diagnostic)===null||e===void 0||e.log(Du.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const i=fa.Session.load(this.storage);if((i==null?void 0:i.id)===this._session.id?this.storage.clear():i&&((n=this.diagnostic)===null||n===void 0||n.log(Du.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:fa.Session.hash(i.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:s,ui:o,connection:a}=this.subscribe();this._session=s,this.connection=a,this.ui=o,r&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.options.headlessMode||this.attachUI()}).catch(e=>{var n;(n=this.diagnostic)===null||n===void 0||n.log(Du.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,n){this.appName=e,this.appLogoUrl=n}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,n){this.storage.setItem(e,n)}signEthereumMessage(e,n,r,i){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,hn.hexStringFromBuffer)(e,!0),address:n,addPrefix:r,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,n,r){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,hn.hexStringFromBuffer)(e,!0),signature:(0,hn.hexStringFromBuffer)(n,!0),addPrefix:r}})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,hn.bigIntStringFromBN)(e.weiValue),data:(0,hn.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,hn.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,hn.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,hn.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,hn.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,hn.bigIntStringFromBN)(e.weiValue),data:(0,hn.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,hn.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,hn.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,hn.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,hn.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,hn.hexStringFromBuffer)(e,!0),chainId:n}})}scanQRCode(e){return this.sendRequest({method:"scanQRCode",params:{regExp:e}})}getQRCodeUrl(){return(0,hn.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,n){return this.sendRequest({method:"generic",params:{action:n,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let n=null;const r=(0,hn.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,o),n==null||n()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(r,u=>{if(n==null||n(),(0,Nu.isErrorResponse)(u))return a(new Error(u.errorMessage));o(u)}),this.ui.isStandalone()?this.sendRequestStandalone(r,e):this.publishWeb3RequestEvent(r,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChain=e,this.ui instanceof yce.WalletLinkRelayUI&&this.ui.setChainId(e)}publishWeb3RequestEvent(e,n){var r;const i={type:"WEB3_REQUEST",id:e,request:n},s=fa.Session.load(this.storage);(r=this.diagnostic)===null||r===void 0||r.log(Du.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?fa.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.publishEvent("Web3Request",i,!0).then(o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Du.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?fa.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})}).catch(o=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i.id,response:{method:n.method,errorMessage:o.message}})})}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e){var n;const{response:r}=e;if((n=this.diagnostic)===null||n===void 0||n.log(Du.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash()}),r.method==="requestEthereumAccounts"){Mo.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Mo.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,n,r,i){var s;const o=(s=r==null?void 0:r.message)!==null&&s!==void 0?s:(0,fc.getMessageFromCode)(i);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:{method:n,errorMessage:o,errorCode:i}})}invokeCallback(e){const n=this.relayEventManager.callbacks.get(e.id);n&&(n(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},n=(0,hn.randomBytesHex)(8),r=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,s)};return{promise:new Promise((s,o)=>{if(this.relayEventManager.callbacks.set(n,a=>{if(this.ui.hideRequestEthereumAccounts(),(0,Nu.isErrorResponse)(a))return o(new Error(a.errorMessage));s(a)}),this.ui.inlineAccountsResponse()){const a=u=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"requestEthereumAccounts",result:u}})};this.ui.requestEthereumAccounts({onCancel:r,onAccounts:a})}else{const a=fc.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>r(a)})}Mo.accountRequestCallbackIds.add(n),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(n,e)}),cancel:r}}selectProvider(e){const n={method:"selectProvider",params:{providerOptions:e}},r=(0,hn.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,n.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(r,c=>{if((0,Nu.isErrorResponse)(c))return a(new Error(c.errorMessage));o(c)});const u=c=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:r,response:{method:"selectProvider",result:gce.ProviderType.Unselected}})},l=c=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:r,response:{method:"selectProvider",result:c}})};this.ui.selectProvider&&this.ui.selectProvider({onApprove:l,onCancel:u,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,n,r,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:o}};let u=null;const l=(0,hn.randomBytesHex)(8),c=f=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,f),u==null||u()};this.ui.inlineWatchAsset()||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:c,onResetConnection:this.resetAndReload}));const h=new Promise((f,g)=>{this.relayEventManager.callbacks.set(l,D=>{if(u==null||u(),(0,Nu.isErrorResponse)(D))return g(new Error(D.errorMessage));f(D)});const w=D=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:l,response:{method:"watchAsset",result:!1}})},P=()=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:l,response:{method:"watchAsset",result:!0}})};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:P,onCancel:w,type:e,address:n,symbol:r,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)});return{cancel:c,promise:h}}addEthereumChain(e,n,r,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:o}};let u=null;const l=(0,hn.randomBytesHex)(8),c=f=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,f),u==null||u()};return this.ui.inlineAddEthereumChain(e)||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:c,onResetConnection:this.resetAndReload})),{promise:new Promise((f,g)=>{this.relayEventManager.callbacks.set(l,D=>{if(u==null||u(),(0,Nu.isErrorResponse)(D))return g(new Error(D.errorMessage));f(D)});const w=D=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:l,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},P=D=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:l,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:D}}})};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:w,onApprove:P,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)}),cancel:c}}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})},i=(0,hn.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,r.method,a)};return{promise:new Promise((a,u)=>{this.relayEventManager.callbacks.set(i,h=>{if((0,Nu.isErrorResponse)(h)&&h.errorCode)return u(fc.standardErrors.provider.custom({code:h.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,Nu.isErrorResponse)(h))return u(new Error(h.errorMessage));a(h)});const l=h=>{var f;if(h){const g=(f=(0,fc.getErrorCode)(h))!==null&&f!==void 0?f:fc.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,"switchEthereumChain",h instanceof Error?h:fc.standardErrors.provider.unsupportedChain(e),g)}else this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},c=h=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:h}}})};this.ui.switchEthereumChain({onCancel:l,onApprove:c,chainId:r.params.chainId,address:r.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,r)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return fa.Session.hash(this._session.id)}sendRequestStandalone(e,n){const r=s=>{this.handleErrorResponse(e,n.method,s)},i=s=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:s})};switch(n.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:n,onSuccess:i,onCancel:r});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:n,onSuccess:i,onCancel:r});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:n,onSuccess:i,onCancel:r});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:n,onSuccess:i});break;default:r();break}}}jp.WalletLinkRelay=Mo;Mo.accountRequestCallbackIds=new Set;var zp={},h_={},z9={};(function(t){var e=Ie&&Ie.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Ie&&Ie.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(d5,t)})(z9);var g5={};Object.defineProperty(g5,"__esModule",{value:!0});g5.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";var H9=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(h_,"__esModule",{value:!0});h_.RedirectDialog=void 0;const vce=H9(ql),Qs=Mr,_ce=Vp,wce=z9,bce=H9(g5);class Ece{constructor(){this.root=null}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),(0,_ce.injectCssReset)()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&((0,Qs.render)(null,this.root),e&&(0,Qs.render)((0,Qs.h)(Ace,Object.assign({},e,{onDismiss:()=>{this.clear()}})),this.root))}}h_.RedirectDialog=Ece;const Ace=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return(0,Qs.h)(wce.SnackbarContainer,{darkMode:n},(0,Qs.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,Qs.h)("style",null,bce.default),(0,Qs.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),(0,Qs.h)("div",{class:(0,vce.default)("-cbwsdk-redirect-dialog-box",s)},(0,Qs.h)("p",null,t),(0,Qs.h)("button",{onClick:r},e))))};Object.defineProperty(zp,"__esModule",{value:!0});zp.MobileRelayUI=void 0;const Sce=h_;class Cce{constructor(e){this.attached=!1,this.darkMode=!1,this.redirectDialog=new Sce.RedirectDialog,this.darkMode=e.darkMode}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}setConnected(e){}redirectToCoinbaseWallet(e){const n=new URL("https://go.cb-w.com/walletlink");n.searchParams.append("redirect_url",window.location.href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}hideRequestEthereumAccounts(){this.redirectDialog.clear()}requestEthereumAccounts(){}addEthereumChain(){}watchAsset(){}selectProvider(){}switchEthereumChain(){}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}reloadUI(){}setStandalone(){}setConnectDisabled(){}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}zp.MobileRelayUI=Cce;Object.defineProperty($p,"__esModule",{value:!0});$p.MobileRelay=void 0;const Ice=$e,xce=jp,Tce=zp;class Rce extends xce.WalletLinkRelay{constructor(e){var n;super(e),this._enableMobileWalletLink=(n=e.enableMobileWalletLink)!==null&&n!==void 0?n:!1}requestEthereumAccounts(){return this._enableMobileWalletLink?super.requestEthereumAccounts():{promise:new Promise(()=>{const e=(0,Ice.getLocation)();e.href=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(e.href)}`}),cancel:()=>{}}}publishWeb3RequestEvent(e,n){if(super.publishWeb3RequestEvent(e,n),!(this._enableMobileWalletLink&&this.ui instanceof Tce.MobileRelayUI))return;let r=!1;switch(n.method){case"requestEthereumAccounts":case"connectAndSignIn":r=!0,this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:r=!0,this.ui.openCoinbaseWalletDeeplink();break}r&&window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0})}handleWeb3ResponseMessage(e){super.handleWeb3ResponseMessage(e)}connectAndSignIn(e){if(!this._enableMobileWalletLink)throw new Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:e.nonce,iat:new Date().toISOString(),chainId:`eip155:${this.dappDefaultChain}`,statement:e.statement,resources:e.resources}})}}$p.MobileRelay=Rce;const kce=ML,Pce=Wv;function W9(t){return Buffer.allocUnsafe(t).fill(0)}function q9(t,e,n){const r=W9(e);return t=f_(t),n?t.length<e?(t.copy(r),r):t.slice(0,e):t.length<e?(t.copy(r,e-t.length),r):t.slice(-e)}function Mce(t,e){return q9(t,e,!0)}function f_(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")G9(t)?t=Buffer.from(Oce(K9(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(Pce.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Dce(t){return t=f_(t),"0x"+t.toString("hex")}function Nce(t,e){return t=f_(t),e||(e=256),kce("keccak"+e).update(t).digest()}function Oce(t){return t.length%2?"0"+t:t}function G9(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function K9(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Q9={zeros:W9,setLength:q9,setLengthRight:Mce,isHexString:G9,stripHexPrefix:K9,toBuffer:f_,bufferToHex:Dce,keccak:Nce};const Pl=Q9,Zu=Wv;function J9(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Xc(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Xx(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Z9(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function zu(t){var e=typeof t;if(e==="string")return Pl.isHexString(t)?new Zu(Pl.stripHexPrefix(t),16):new Zu(t,10);if(e==="number")return new Zu(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function Gs(t,e){var n,r,i,s;if(t==="address")return Gs("uint160",zu(e));if(t==="bool")return Gs("uint8",e?1:0);if(t==="string")return Gs("bytes",new Buffer(e,"utf8"));if(Bce(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(n=Z9(t),n!=="dynamic"&&n!==0&&e.length>n)throw new Error("Elements exceed array size: "+n);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(Gs(t,e[s]));if(n==="dynamic"){var o=Gs("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([Gs("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Pl.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(n=Xc(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return Pl.setLengthRight(e,32)}else if(t.startsWith("uint")){if(n=Xc(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(r=zu(e),r.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+r.bitLength());if(r<0)throw new Error("Supplied uint is negative");return r.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(n=Xc(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(r=zu(e),r.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+r.bitLength());return r.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(n=Xx(t),r=zu(e),r<0)throw new Error("Supplied ufixed is negative");return Gs("uint256",r.mul(new Zu(2).pow(new Zu(n[1]))))}else if(t.startsWith("fixed"))return n=Xx(t),Gs("int256",zu(e).mul(new Zu(2).pow(new Zu(n[1]))))}throw new Error("Unsupported or invalid type: "+t)}function Lce(t){return t==="string"||t==="bytes"||Z9(t)==="dynamic"}function Bce(t){return t.lastIndexOf("]")===t.length-1}function Fce(t,e){var n=[],r=[],i=32*t.length;for(var s in t){var o=J9(t[s]),a=e[s],u=Gs(o,a);Lce(o)?(n.push(Gs("uint256",i)),r.push(u),i+=u.length):n.push(u)}return Buffer.concat(n.concat(r))}function Y9(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var n,r,i=[],s=0;s<t.length;s++){var o=J9(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Pl.setLength(a,20));else if(o.startsWith("bytes")){if(n=Xc(o),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(Pl.setLengthRight(a,n))}else if(o.startsWith("uint")){if(n=Xc(o),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(r=zu(a),r.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+r.bitLength());i.push(r.toArrayLike(Buffer,"be",n/8))}else if(o.startsWith("int")){if(n=Xc(o),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(r=zu(a),r.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+r.bitLength());i.push(r.toTwos(n).toArrayLike(Buffer,"be",n/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function $ce(t,e){return Pl.keccak(Y9(t,e))}var jce={rawEncode:Fce,solidityPack:Y9,soliditySHA3:$ce};const ps=Q9,Ad=jce,X9={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Ib={encodeData(t,e,n,r=!0){const i=["bytes32"],s=[this.hashType(t,n)];if(r){const o=(a,u,l)=>{if(n[u]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":ps.keccak(this.encodeData(u,l,n,r))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${u}`);if(u==="bytes")return["bytes32",ps.keccak(l)];if(u==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",ps.keccak(l)];if(u.lastIndexOf("]")===u.length-1){const c=u.slice(0,u.lastIndexOf("[")),h=l.map(f=>o(a,c,f));return["bytes32",ps.keccak(Ad.rawEncode(h.map(([f])=>f),h.map(([,f])=>f)))]}return[u,l]};for(const a of n[t]){const[u,l]=o(a.name,a.type,e[a.name]);i.push(u),s.push(l)}}else for(const o of n[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=ps.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=ps.keccak(a),s.push(a);else if(n[o.type]!==void 0)i.push("bytes32"),a=ps.keccak(this.encodeData(o.type,a,n,r)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Ad.rawEncode(i,s)},encodeType(t,e){let n="",r=this.findTypeDependencies(t,e).filter(i=>i!==t);r=[t].concat(r.sort());for(const i of r){if(!e[i])throw new Error("No type definition specified: "+i);n+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return n},findTypeDependencies(t,e,n=[]){if(t=t.match(/^\w*/)[0],n.includes(t)||e[t]===void 0)return n;n.push(t);for(const r of e[t])for(const i of this.findTypeDependencies(r.type,e,n))!n.includes(i)&&n.push(i);return n},hashStruct(t,e,n,r=!0){return ps.keccak(this.encodeData(t,e,n,r))},hashType(t,e){return ps.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const n in X9.properties)t[n]&&(e[n]=t[n]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const n=this.sanitizeData(t),r=[Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",n.domain,n.types,e)),n.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(n.primaryType,n.message,n.types,e)),ps.keccak(Buffer.concat(r))}};var Uce={TYPED_MESSAGE_SCHEMA:X9,TypedDataUtils:Ib,hashForSignTypedDataLegacy:function(t){return Vce(t.data)},hashForSignTypedData_v3:function(t){return Ib.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Ib.hash(t.data)}};function Vce(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const n=t.map(function(s){return s.type==="bytes"?ps.toBuffer(s.value):s.value}),r=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return Ad.soliditySHA3(["bytes32","bytes32"],[Ad.soliditySHA3(new Array(t.length).fill("string"),i),Ad.soliditySHA3(r,n)])}var Gh={};Object.defineProperty(Gh,"__esModule",{value:!0});Gh.filterFromParam=Gh.FilterPolyfill=void 0;const wc=Ln,Nr=$e,zce=5*60*1e3,Hu={jsonrpc:"2.0",id:0};class Hce{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,wc.IntNumber)(1),this.REQUEST_THROTTLE_INTERVAL=1e3,this.lastFetchTimestamp=new Date(0),this.resolvers=[],this.provider=e}async newFilter(e){const n=eB(e),r=this.makeFilterId(),i=await this.setInitialCursorPosition(r,n.fromBlock);return console.info(`Installing new log filter(${r}):`,n,"initial cursor position:",i),this.logFilters.set(r,n),this.setFilterTimeout(r),(0,Nr.hexStringFromIntNumber)(r)}async newBlockFilter(){const e=this.makeFilterId(),n=await this.setInitialCursorPosition(e,"latest");return console.info(`Installing new block filter (${e}) with initial cursor position:`,n),this.blockFilters.add(e),this.setFilterTimeout(e),(0,Nr.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),n=await this.setInitialCursorPosition(e,"latest");return console.info(`Installing new block filter (${e}) with initial cursor position:`,n),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,Nr.hexStringFromIntNumber)(e)}uninstallFilter(e){const n=(0,Nr.intNumberFromHexString)(e);return console.info(`Uninstalling filter (${n})`),this.deleteFilter(n),!0}getFilterChanges(e){const n=(0,Nr.intNumberFromHexString)(e);return this.timeouts.has(n)&&this.setFilterTimeout(n),this.logFilters.has(n)?this.getLogFilterChanges(n):this.blockFilters.has(n)?this.getBlockFilterChanges(n):this.pendingTransactionFilters.has(n)?this.getPendingTransactionFilterChanges(n):Promise.resolve(am())}async getFilterLogs(e){const n=(0,Nr.intNumberFromHexString)(e),r=this.logFilters.get(n);return r?this.sendAsyncPromise(Object.assign(Object.assign({},Hu),{method:"eth_getLogs",params:[eT(r)]})):am()}makeFilterId(){return(0,wc.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((n,r)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return r(i);if(Array.isArray(s)||s==null)return r(new Error(`unexpected response received: ${JSON.stringify(s)}`));n(s)})})}deleteFilter(e){console.info(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const n=this.logFilters.get(e),r=this.cursors.get(e);if(!r||!n)return am();const i=await this.getCurrentBlockHeight(),s=n.toBlock==="latest"?i:n.toBlock;if(r>i||r>Number(n.toBlock))return um();console.info(`Fetching logs from ${r} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},Hu),{method:"eth_getLogs",params:[eT(Object.assign(Object.assign({},n),{fromBlock:r,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(l=>(0,Nr.intNumberFromHexString)(l.blockNumber||"0x0")),u=Math.max(...a);if(u&&u>r){const l=(0,wc.IntNumber)(u+1);console.info(`Moving cursor position for filter (${e}) from ${r} to ${l}`),this.cursors.set(e,l)}}return o}async getBlockFilterChanges(e){const n=this.cursors.get(e);if(!n)return am();const r=await this.getCurrentBlockHeight();if(n>r)return um();console.info(`Fetching blocks from ${n} to ${r} for filter (${e})`);const i=(await Promise.all((0,Nr.range)(n,r+1).map(o=>this.getBlockHashByNumber((0,wc.IntNumber)(o))))).filter(o=>!!o),s=(0,wc.IntNumber)(n+i.length);return console.info(`Moving cursor position for filter (${e}) from ${n} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},Hu),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(um())}async setInitialCursorPosition(e,n){const r=await this.getCurrentBlockHeight(),i=typeof n=="number"&&n>r?n:r;return this.cursors.set(e,i),i}setFilterTimeout(e){const n=this.timeouts.get(e);n&&window.clearTimeout(n);const r=window.setTimeout(()=>{console.info(`Filter (${e}) timed out`),this.deleteFilter(e)},zce);this.timeouts.set(e,r)}async getCurrentBlockHeight(){const e=new Date;if(e.getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL){this.lastFetchTimestamp=e;const n=await this._getCurrentBlockHeight();this.currentBlockHeight=n,this.resolvers.forEach(r=>r(n)),this.resolvers=[]}return this.currentBlockHeight?this.currentBlockHeight:new Promise(n=>this.resolvers.push(n))}async _getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Hu),{method:"eth_blockNumber",params:[]}));return(0,Nr.intNumberFromHexString)((0,Nr.ensureHexString)(e))}async getBlockHashByNumber(e){const n=await this.sendAsyncPromise(Object.assign(Object.assign({},Hu),{method:"eth_getBlockByNumber",params:[(0,Nr.hexStringFromIntNumber)(e),!1]}));return n.result&&typeof n.result.hash=="string"?(0,Nr.ensureHexString)(n.result.hash):null}}Gh.FilterPolyfill=Hce;function eB(t){return{fromBlock:tT(t.fromBlock),toBlock:tT(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}Gh.filterFromParam=eB;function eT(t){const e={fromBlock:nT(t.fromBlock),toBlock:nT(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function tT(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,wc.IntNumber)(0);if((0,Nr.isHexString)(t))return(0,Nr.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function nT(t){return t==="latest"?t:(0,Nr.hexStringFromIntNumber)(t)}function am(){return Object.assign(Object.assign({},Hu),{error:{code:-32e3,message:"filter not found"}})}function um(){return Object.assign(Object.assign({},Hu),{result:[]})}var d_={},tB={},p_={},m5=Wce;function Wce(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,n=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return n=n%e,n++}}const rT=(t,e)=>function(){const n=e.promiseModule,r=new Array(arguments.length);for(let i=0;i<arguments.length;i++)r[i]=arguments[i];return new n((i,s)=>{e.errorFirst?r.push(function(o,a){if(e.multiArgs){const u=new Array(arguments.length-1);for(let l=1;l<arguments.length;l++)u[l-1]=arguments[l];o?(u.unshift(o),s(u)):i(u)}else o?s(o):i(a)}):r.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let u=0;u<arguments.length;u++)a[u]=arguments[u];i(a)}else i(o)}),t.apply(this,r)})};var qce=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const n=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let r;typeof t=="function"?r=function(){return e.excludeMain?t.apply(this,arguments):rT(t,e).apply(this,arguments)}:r=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];r[i]=typeof s=="function"&&n(i)?rT(s,e):s}return r},Hp={},Wp={};Object.defineProperty(Wp,"__esModule",{value:!0});const Gce=tp;function iT(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function Kce(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}let Qce=class extends Gce.EventEmitter{emit(e,...n){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let o;if(n.length>0&&([o]=n),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")iT(s,this,n);else{const o=s.length,a=Kce(s);for(let u=0;u<o;u+=1)iT(a[u],this,n)}return!0}};Wp.default=Qce;var Jce=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hp,"__esModule",{value:!0});Hp.BaseBlockTracker=void 0;const Zce=Jce(Wp),Yce=1e3,Xce=(t,e)=>t+e,sT=["sync","latest"];class ehe extends Zce.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*Yce,this._usePastBlocks=e.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(n=>this.once("latest",n))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){sT.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return sT.map(e=>this.listenerCount(e)).reduce(Xce)}_shouldUseNewBlock(e){const n=this._currentBlock;if(!n)return!0;const r=oT(e),i=oT(n);return this._usePastBlocks&&r<i||r>i}_newPotentialLatest(e){this._shouldUseNewBlock(e)&&this._setCurrentBlock(e)}_setCurrentBlock(e){const n=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:n,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}Hp.BaseBlockTracker=ehe;function oT(t){return Number.parseInt(t,16)}var nB={},rB={},hr={};class iB extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,u=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??u),s!=null&&(this.cause=u),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function the(t){return Xi(t)&&typeof t[Symbol.iterator]=="function"}function Xi(t){return typeof t=="object"&&t!=null}function aT(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function jn(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function nhe(t){const{done:e,value:n}=t.next();return e?void 0:n}function rhe(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:u=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${jn(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*g3(t,e,n,r){the(t)||(t=[t]);for(const i of t){const s=rhe(i,e,n,r);s&&(yield s)}}function*y5(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&Xi(e.schema)&&Xi(t)&&!Array.isArray(t)))for(const l in t)e.schema[l]===void 0&&delete t[l];let u="valid";for(const l of e.validator(t,a))l.explanation=n.message,u="not_valid",yield[l,void 0];for(let[l,c,h]of e.entries(t,a)){const f=y5(c,h,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,c],coerce:s,mask:o,message:n.message});for(const g of f)g[0]?(u=g[0].refinement!=null?"not_refined":"not_valid",yield[g[0],void 0]):s&&(c=g[1],l===void 0?t=c:t instanceof Map?t.set(l,c):t instanceof Set?t.add(c):Xi(t)&&(c!==void 0||l in t)&&(t[l]=c))}if(u!=="not_valid")for(const l of e.refiner(t,a))l.explanation=n.message,u="not_refined",yield[l,void 0];u==="valid"&&(yield[void 0,t])}class xn{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=u=>u,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(u,l)=>{const c=i(u,l);return g3(c,l,this,u)}:this.validator=()=>[],s?this.refiner=(u,l)=>{const c=s(u,l);return g3(c,l,this,u)}:this.refiner=()=>[]}assert(e,n){return sB(e,this,n)}create(e,n){return oB(e,this,n)}is(e){return v5(e,this)}mask(e,n){return aB(e,this,n)}validate(e,n={}){return wf(e,this,n)}}function sB(t,e,n){const r=wf(t,e,{message:n});if(r[0])throw r[0]}function oB(t,e,n){const r=wf(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function aB(t,e,n){const r=wf(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function v5(t,e){return!wf(t,e)[0]}function wf(t,e,n={}){const r=y5(t,e,n),i=nhe(r);return i[0]?[new iB(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function ihe(...t){const e=t[0].type==="type",n=t.map(i=>i.schema),r=Object.assign({},...n);return e?Gp(r):qp(r)}function ii(t,e){return new xn({type:t,schema:null,validator:e})}function she(t,e){return new xn({...t,refiner:(n,r)=>n===void 0||t.refiner(n,r),validator(n,r){return n===void 0?!0:(e(n,r),t.validator(n,r))}})}function ohe(t){return new xn({type:"dynamic",schema:null,*entries(e,n){yield*t(e,n).entries(e,n)},validator(e,n){return t(e,n).validator(e,n)},coercer(e,n){return t(e,n).coercer(e,n)},refiner(e,n){return t(e,n).refiner(e,n)}})}function ahe(t){let e;return new xn({type:"lazy",schema:null,*entries(n,r){e??(e=t()),yield*e.entries(n,r)},validator(n,r){return e??(e=t()),e.validator(n,r)},coercer(n,r){return e??(e=t()),e.coercer(n,r)},refiner(n,r){return e??(e=t()),e.refiner(n,r)}})}function uhe(t,e){const{schema:n}=t,r={...n};for(const i of e)delete r[i];switch(t.type){case"type":return Gp(r);default:return qp(r)}}function lhe(t){const e=t instanceof xn,n=e?{...t.schema}:{...t};for(const r in n)n[r]=uB(n[r]);return e&&t.type==="type"?Gp(n):qp(n)}function che(t,e){const{schema:n}=t,r={};for(const i of e)r[i]=n[i];switch(t.type){case"type":return Gp(r);default:return qp(r)}}function hhe(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),ii(t,e)}function fhe(){return ii("any",()=>!0)}function dhe(t){return new xn({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${jn(e)}`}})}function phe(){return ii("bigint",t=>typeof t=="bigint")}function ghe(){return ii("boolean",t=>typeof t=="boolean")}function mhe(){return ii("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${jn(t)}`)}function yhe(t){const e={},n=t.map(r=>jn(r)).join();for(const r of t)e[r]=r;return new xn({type:"enums",schema:e,validator(r){return t.includes(r)||`Expected one of \`${n}\`, but received: ${jn(r)}`}})}function vhe(){return ii("func",t=>typeof t=="function"||`Expected a function, but received: ${jn(t)}`)}function _he(t){return ii("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${jn(e)}`)}function whe(){return ii("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${jn(t)}`)}function bhe(t){return new xn({type:"intersection",schema:null,*entries(e,n){for(const r of t)yield*r.entries(e,n)},*validator(e,n){for(const r of t)yield*r.validator(e,n)},*refiner(e,n){for(const r of t)yield*r.refiner(e,n)}})}function Ehe(t){const e=jn(t),n=typeof t;return new xn({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${jn(r)}`}})}function Ahe(t,e){return new xn({type:"map",schema:null,*entries(n){if(t&&e&&n instanceof Map)for(const[r,i]of n.entries())yield[r,r,t],yield[r,i,e]},coercer(n){return n instanceof Map?new Map(n):n},validator(n){return n instanceof Map||`Expected a \`Map\` object, but received: ${jn(n)}`}})}function _5(){return ii("never",()=>!1)}function She(t){return new xn({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function Che(){return ii("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${jn(t)}`)}function qp(t){const e=t?Object.keys(t):[],n=_5();return new xn({type:"object",schema:t||null,*entries(r){if(t&&Xi(r)){const i=new Set(Object.keys(r));for(const s of e)i.delete(s),yield[s,r[s],t[s]];for(const s of i)yield[s,r[s],n]}},validator(r){return Xi(r)||`Expected an object, but received: ${jn(r)}`},coercer(r){return Xi(r)?{...r}:r}})}function uB(t){return new xn({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function Ihe(t,e){return new xn({type:"record",schema:null,*entries(n){if(Xi(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return Xi(n)||`Expected an object, but received: ${jn(n)}`}})}function xhe(){return ii("regexp",t=>t instanceof RegExp)}function The(t){return new xn({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const n of e)yield[n,n,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${jn(e)}`}})}function lB(){return ii("string",t=>typeof t=="string"||`Expected a string, but received: ${jn(t)}`)}function Rhe(t){const e=_5();return new xn({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${jn(n)}`}})}function Gp(t){const e=Object.keys(t);return new xn({type:"type",schema:t,*entries(n){if(Xi(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Xi(n)||`Expected an object, but received: ${jn(n)}`},coercer(n){return Xi(n)?{...n}:n}})}function khe(t){const e=t.map(n=>n.type).join(" | ");return new xn({type:"union",schema:null,coercer(n){for(const r of t){const[i,s]=r.validate(n,{coerce:!0});if(!i)return s}return n},validator(n,r){const i=[];for(const s of t){const[...o]=y5(n,s,r),[a]=o;if(a[0])for(const[u]of o)u&&i.push(u);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${jn(n)}`,...i]}})}function cB(){return ii("unknown",()=>!0)}function w5(t,e,n){return new xn({...t,coercer:(r,i)=>v5(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}function Phe(t,e,n={}){return w5(t,cB(),r=>{const i=typeof e=="function"?e():e;if(r===void 0)return i;if(!n.strict&&aT(r)&&aT(i)){const s={...r};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return r})}function Mhe(t){return w5(t,lB(),e=>e.trim())}function Dhe(t){return Ql(t,"empty",e=>{const n=hB(e);return n===0||`Expected an empty ${t.type} but received one with a size of \`${n}\``})}function hB(t){return t instanceof Map||t instanceof Set?t.size:t.length}function Nhe(t,e,n={}){const{exclusive:r}=n;return Ql(t,"max",i=>r?i<e:i<=e||`Expected a ${t.type} less than ${r?"":"or equal to "}${e} but received \`${i}\``)}function Ohe(t,e,n={}){const{exclusive:r}=n;return Ql(t,"min",i=>r?i>e:i>=e||`Expected a ${t.type} greater than ${r?"":"or equal to "}${e} but received \`${i}\``)}function Lhe(t){return Ql(t,"nonempty",e=>hB(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function Bhe(t,e){return Ql(t,"pattern",n=>e.test(n)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${n}"`)}function Fhe(t,e,n=e){const r=`Expected a ${t.type}`,i=e===n?`of \`${e}\``:`between \`${e}\` and \`${n}\``;return Ql(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=n||`${r} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=n||`${r} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=n||`${r} with a length ${i} but received one with a length of \`${o}\``}})}function Ql(t,e,n){return new xn({...t,*refiner(r,i){yield*t.refiner(r,i);const s=n(r,i),o=g3(s,i,t,r);for(const a of o)yield{...a,refinement:e}}})}const $he=Object.freeze(Object.defineProperty({__proto__:null,Struct:xn,StructError:iB,any:fhe,array:dhe,assert:sB,assign:ihe,bigint:phe,boolean:ghe,coerce:w5,create:oB,date:mhe,defaulted:Phe,define:ii,deprecated:she,dynamic:ohe,empty:Dhe,enums:yhe,func:vhe,instance:_he,integer:whe,intersection:bhe,is:v5,lazy:ahe,literal:Ehe,map:Ahe,mask:aB,max:Nhe,min:Ohe,never:_5,nonempty:Lhe,nullable:She,number:Che,object:qp,omit:uhe,optional:uB,partial:lhe,pattern:Bhe,pick:che,record:Ihe,refine:Ql,regexp:xhe,set:The,size:Fhe,string:lB,struct:hhe,trimmed:Mhe,tuple:Rhe,type:Gp,union:khe,unknown:cB,validate:wf},Symbol.toStringTag,{value:"Module"})),Jl=ta($he);Object.defineProperty(hr,"__esModule",{value:!0});hr.assertExhaustive=hr.assertStruct=hr.assert=hr.AssertionError=void 0;const jhe=Jl;function Uhe(t){return typeof t=="object"&&t!==null&&"message"in t}function Vhe(t){var e,n;return typeof((n=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||n===void 0?void 0:n.name)=="string"}function zhe(t){const e=Uhe(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function fB(t,e){return Vhe(t)?new t({message:e}):t({message:e})}class b5 extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}hr.AssertionError=b5;function Hhe(t,e="Assertion failed.",n=b5){if(!t)throw e instanceof Error?e:fB(n,e)}hr.assert=Hhe;function Whe(t,e,n="Assertion failed",r=b5){try{(0,jhe.assert)(t,e)}catch(i){throw fB(r,`${n}: ${zhe(i)}.`)}}hr.assertStruct=Whe;function qhe(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}hr.assertExhaustive=qhe;var Kp={};Object.defineProperty(Kp,"__esModule",{value:!0});Kp.base64=void 0;const Ghe=Jl,Khe=hr,Qhe=(t,e={})=>{var n,r;const i=(n=e.paddingRequired)!==null&&n!==void 0?n:!1,s=(r=e.characterSet)!==null&&r!==void 0?r:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,Khe.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,Ghe.pattern)(t,a)};Kp.base64=Qhe;var Pt={},Qp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=Jl,n=hr;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function r(l){return(0,e.is)(l,t.HexStruct)}t.isHexString=r;function i(l){return(0,e.is)(l,t.StrictHexStruct)}t.isStrictHexString=i;function s(l){(0,n.assert)(r(l),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(l){(0,n.assert)(i(l),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(l){return l.startsWith("0x")?l:l.startsWith("0X")?`0x${l.substring(2)}`:`0x${l}`}t.add0x=a;function u(l){return l.startsWith("0x")||l.startsWith("0X")?l.substring(2):l}t.remove0x=u})(Qp);Object.defineProperty(Pt,"__esModule",{value:!0});Pt.createDataView=Pt.concatBytes=Pt.valueToBytes=Pt.stringToBytes=Pt.numberToBytes=Pt.signedBigIntToBytes=Pt.bigIntToBytes=Pt.hexToBytes=Pt.bytesToString=Pt.bytesToNumber=Pt.bytesToSignedBigInt=Pt.bytesToBigInt=Pt.bytesToHex=Pt.assertIsBytes=Pt.isBytes=void 0;const mi=hr,m3=Qp,uT=48,lT=58,cT=87;function Jhe(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const Zhe=Jhe();function E5(t){return t instanceof Uint8Array}Pt.isBytes=E5;function bf(t){(0,mi.assert)(E5(t),"Value must be a Uint8Array.")}Pt.assertIsBytes=bf;function dB(t){if(bf(t),t.length===0)return"0x";const e=Zhe(),n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=e[t[r]];return(0,m3.add0x)(n.join(""))}Pt.bytesToHex=dB;function pB(t){bf(t);const e=dB(t);return BigInt(e)}Pt.bytesToBigInt=pB;function Yhe(t){bf(t);let e=BigInt(0);for(const n of t)e=(e<<BigInt(8))+BigInt(n);return BigInt.asIntN(t.length*8,e)}Pt.bytesToSignedBigInt=Yhe;function Xhe(t){bf(t);const e=pB(t);return(0,mi.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}Pt.bytesToNumber=Xhe;function efe(t){return bf(t),new TextDecoder().decode(t)}Pt.bytesToString=efe;function g_(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,m3.assertIsHexString)(t);const n=(0,m3.remove0x)(t).toLowerCase(),r=n.length%2===0?n:`0${n}`,i=new Uint8Array(r.length/2);for(let s=0;s<i.length;s++){const o=r.charCodeAt(s*2),a=r.charCodeAt(s*2+1),u=o-(o<lT?uT:cT),l=a-(a<lT?uT:cT);i[s]=u*16+l}return i}Pt.hexToBytes=g_;function gB(t){(0,mi.assert)(typeof t=="bigint","Value must be a bigint."),(0,mi.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return g_(e)}Pt.bigIntToBytes=gB;function tfe(t,e){(0,mi.assert)(e>0);const n=t>>BigInt(31);return!((~t&n)+(t&~n)>>BigInt(e*8+-1))}function nfe(t,e){(0,mi.assert)(typeof t=="bigint","Value must be a bigint."),(0,mi.assert)(typeof e=="number","Byte length must be a number."),(0,mi.assert)(e>0,"Byte length must be greater than 0."),(0,mi.assert)(tfe(t,e),"Byte length is too small to represent the given value.");let n=t;const r=new Uint8Array(e);for(let i=0;i<r.length;i++)r[i]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return r.reverse()}Pt.signedBigIntToBytes=nfe;function mB(t){(0,mi.assert)(typeof t=="number","Value must be a number."),(0,mi.assert)(t>=0,"Value must be a non-negative number."),(0,mi.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return g_(e)}Pt.numberToBytes=mB;function yB(t){return(0,mi.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}Pt.stringToBytes=yB;function vB(t){if(typeof t=="bigint")return gB(t);if(typeof t=="number")return mB(t);if(typeof t=="string")return t.startsWith("0x")?g_(t):yB(t);if(E5(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}Pt.valueToBytes=vB;function rfe(t){const e=new Array(t.length);let n=0;for(let i=0;i<t.length;i++){const s=vB(t[i]);e[i]=s,n+=s.length}const r=new Uint8Array(n);for(let i=0,s=0;i<e.length;i++)r.set(e[i],s),s+=e[i].length;return r}Pt.concatBytes=rfe;function ife(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}Pt.createDataView=ife;var m_={};Object.defineProperty(m_,"__esModule",{value:!0});m_.ChecksumStruct=void 0;const hT=Jl,sfe=Kp;m_.ChecksumStruct=(0,hT.size)((0,sfe.base64)((0,hT.string)(),{paddingRequired:!0}),44,44);var io={};Object.defineProperty(io,"__esModule",{value:!0});io.createHex=io.createBytes=io.createBigInt=io.createNumber=void 0;const mn=Jl,ofe=hr,_B=Pt,y_=Qp,wB=(0,mn.union)([(0,mn.number)(),(0,mn.bigint)(),(0,mn.string)(),y_.StrictHexStruct]),afe=(0,mn.coerce)((0,mn.number)(),wB,Number),ufe=(0,mn.coerce)((0,mn.bigint)(),wB,BigInt);(0,mn.union)([y_.StrictHexStruct,(0,mn.instance)(Uint8Array)]);const lfe=(0,mn.coerce)((0,mn.instance)(Uint8Array),(0,mn.union)([y_.StrictHexStruct]),_B.hexToBytes),cfe=(0,mn.coerce)(y_.StrictHexStruct,(0,mn.instance)(Uint8Array),_B.bytesToHex);function hfe(t){try{const e=(0,mn.create)(t,afe);return(0,ofe.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof mn.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}io.createNumber=hfe;function ffe(t){try{return(0,mn.create)(t,ufe)}catch(e){throw e instanceof mn.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}io.createBigInt=ffe;function dfe(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,mn.create)(t,lfe)}catch(e){throw e instanceof mn.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}io.createBytes=dfe;function pfe(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,mn.create)(t,cfe)}catch(e){throw e instanceof mn.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}io.createHex=pfe;var Kh={},bB=Ie&&Ie.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Br=Ie&&Ie.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},fs,zs;Object.defineProperty(Kh,"__esModule",{value:!0});Kh.FrozenSet=Kh.FrozenMap=void 0;class A5{constructor(e){fs.set(this,void 0),bB(this,fs,new Map(e),"f"),Object.freeze(this)}get size(){return Br(this,fs,"f").size}[(fs=new WeakMap,Symbol.iterator)](){return Br(this,fs,"f")[Symbol.iterator]()}entries(){return Br(this,fs,"f").entries()}forEach(e,n){return Br(this,fs,"f").forEach((r,i,s)=>e.call(n,r,i,this))}get(e){return Br(this,fs,"f").get(e)}has(e){return Br(this,fs,"f").has(e)}keys(){return Br(this,fs,"f").keys()}values(){return Br(this,fs,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,n])=>`${String(e)} => ${String(n)}`).join(", ")} `:""}}`}}Kh.FrozenMap=A5;class S5{constructor(e){zs.set(this,void 0),bB(this,zs,new Set(e),"f"),Object.freeze(this)}get size(){return Br(this,zs,"f").size}[(zs=new WeakMap,Symbol.iterator)](){return Br(this,zs,"f")[Symbol.iterator]()}entries(){return Br(this,zs,"f").entries()}forEach(e,n){return Br(this,zs,"f").forEach((r,i,s)=>e.call(n,r,i,this))}has(e){return Br(this,zs,"f").has(e)}keys(){return Br(this,zs,"f").keys()}values(){return Br(this,zs,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}Kh.FrozenSet=S5;Object.freeze(A5);Object.freeze(A5.prototype);Object.freeze(S5);Object.freeze(S5.prototype);var EB={};Object.defineProperty(EB,"__esModule",{value:!0});var AB={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.getJsonSize=t.isValidJson=t.JsonStruct=t.UnsafeJsonStruct=void 0;const e=Jl,n=hr,r=()=>(0,e.define)("finite number",$=>(0,e.is)($,(0,e.number)())&&Number.isFinite($));t.UnsafeJsonStruct=(0,e.union)([(0,e.literal)(null),(0,e.boolean)(),r(),(0,e.string)(),(0,e.array)((0,e.lazy)(()=>t.UnsafeJsonStruct)),(0,e.record)((0,e.string)(),(0,e.lazy)(()=>t.UnsafeJsonStruct))]),t.JsonStruct=(0,e.define)("Json",($,V)=>{function v(m,b){const B=[...b.validator(m,V)];return B.length>0?B:!0}try{const m=v($,t.UnsafeJsonStruct);return m!==!0?m:v(JSON.parse(JSON.stringify($)),t.UnsafeJsonStruct)}catch(m){return m instanceof RangeError?"Circular reference detected":!1}});function i($){return(0,e.is)($,t.JsonStruct)}t.isValidJson=i;function s($){(0,n.assertStruct)($,t.JsonStruct,"Invalid JSON value");const V=JSON.stringify($);return new TextEncoder().encode(V).byteLength}t.getJsonSize=s,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function o($){return(0,e.is)($,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=o;function a($,V){(0,n.assertStruct)($,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",V)}t.assertIsJsonRpcNotification=a;function u($){return(0,e.is)($,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=u;function l($,V){(0,n.assertStruct)($,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",V)}t.assertIsJsonRpcRequest=l,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function c($){return(0,e.is)($,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=c;function h($,V){(0,n.assertStruct)($,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",V)}t.assertIsPendingJsonRpcResponse=h;function f($){return(0,e.is)($,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=f;function g($,V){(0,n.assertStruct)($,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",V)}t.assertIsJsonRpcResponse=g;function w($){return(0,e.is)($,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=w;function P($,V){(0,n.assertStruct)($,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",V)}t.assertIsJsonRpcSuccess=P;function D($){return(0,e.is)($,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=D;function E($,V){(0,n.assertStruct)($,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",V)}t.assertIsJsonRpcFailure=E;function _($){return(0,e.is)($,t.JsonRpcErrorStruct)}t.isJsonRpcError=_;function S($,V){(0,n.assertStruct)($,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",V)}t.assertIsJsonRpcError=S;function O($){const{permitEmptyString:V,permitFractions:v,permitNull:m}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},$);return T=>!!(typeof T=="number"&&(v||Number.isInteger(T))||typeof T=="string"&&(V||T.length>0)||m&&T===null)}t.getJsonRpcIdValidator=O})(AB);var SB={};Object.defineProperty(SB,"__esModule",{value:!0});var Qh={},y3={exports:{}},xb,fT;function gfe(){if(fT)return xb;fT=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,s=r*365.25;xb=function(c,h){h=h||{};var f=typeof c;if(f==="string"&&c.length>0)return o(c);if(f==="number"&&isFinite(c))return h.long?u(c):a(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function o(c){if(c=String(c),!(c.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(h){var f=parseFloat(h[1]),g=(h[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return f*s;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*r;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(c){var h=Math.abs(c);return h>=r?Math.round(c/r)+"d":h>=n?Math.round(c/n)+"h":h>=e?Math.round(c/e)+"m":h>=t?Math.round(c/t)+"s":c+"ms"}function u(c){var h=Math.abs(c);return h>=r?l(c,h,r,"day"):h>=n?l(c,h,n,"hour"):h>=e?l(c,h,e,"minute"):h>=t?l(c,h,t,"second"):c+" ms"}function l(c,h,f,g){var w=h>=f*1.5;return Math.round(c/f)+" "+g+(w?"s":"")}return xb}function mfe(t){n.debug=n,n.default=n,n.coerce=u,n.disable=s,n.enable=i,n.enabled=o,n.humanize=gfe(),n.destroy=l,Object.keys(t).forEach(c=>{n[c]=t[c]}),n.names=[],n.skips=[],n.formatters={};function e(c){let h=0;for(let f=0;f<c.length;f++)h=(h<<5)-h+c.charCodeAt(f),h|=0;return n.colors[Math.abs(h)%n.colors.length]}n.selectColor=e;function n(c){let h,f=null,g,w;function P(...D){if(!P.enabled)return;const E=P,_=Number(new Date),S=_-(h||_);E.diff=S,E.prev=h,E.curr=_,h=_,D[0]=n.coerce(D[0]),typeof D[0]!="string"&&D.unshift("%O");let O=0;D[0]=D[0].replace(/%([a-zA-Z%])/g,(V,v)=>{if(V==="%%")return"%";O++;const m=n.formatters[v];if(typeof m=="function"){const b=D[O];V=m.call(E,b),D.splice(O,1),O--}return V}),n.formatArgs.call(E,D),(E.log||n.log).apply(E,D)}return P.namespace=c,P.useColors=n.useColors(),P.color=n.selectColor(c),P.extend=r,P.destroy=n.destroy,Object.defineProperty(P,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(g!==n.namespaces&&(g=n.namespaces,w=n.enabled(c)),w),set:D=>{f=D}}),typeof n.init=="function"&&n.init(P),P}function r(c,h){const f=n(this.namespace+(typeof h>"u"?":":h)+c);return f.log=this.log,f}function i(c){n.save(c),n.namespaces=c,n.names=[],n.skips=[];let h;const f=(typeof c=="string"?c:"").split(/[\s,]+/),g=f.length;for(h=0;h<g;h++)f[h]&&(c=f[h].replace(/\*/g,".*?"),c[0]==="-"?n.skips.push(new RegExp("^"+c.slice(1)+"$")):n.names.push(new RegExp("^"+c+"$")))}function s(){const c=[...n.names.map(a),...n.skips.map(a).map(h=>"-"+h)].join(",");return n.enable(""),c}function o(c){if(c[c.length-1]==="*")return!0;let h,f;for(h=0,f=n.skips.length;h<f;h++)if(n.skips[h].test(c))return!1;for(h=0,f=n.names.length;h<f;h++)if(n.names[h].test(c))return!0;return!1}function a(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function u(c){return c instanceof Error?c.stack||c.message:c}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var yfe=mfe;(function(t,e){var n={};e.formatArgs=i,e.save=s,e.load=o,e.useColors=r,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let h=0,f=0;l[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(h++,g==="%c"&&(f=h))}),l.splice(f,0,c)}e.log=console.debug||console.log||(()=>{});function s(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=n.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=yfe(e);const{formatters:u}=t.exports;u.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(y3,y3.exports);var vfe=y3.exports,_fe=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qh,"__esModule",{value:!0});Qh.createModuleLogger=Qh.createProjectLogger=void 0;const wfe=_fe(vfe),bfe=(0,wfe.default)("metamask");function Efe(t){return bfe.extend(t)}Qh.createProjectLogger=Efe;function Afe(t,e){return t.extend(e)}Qh.createModuleLogger=Afe;var CB={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(l){return Array.isArray(l)&&l.length>0}t.isNonEmptyArray=e;function n(l){return l==null}t.isNullOrUndefined=n;function r(l){return!!l&&typeof l=="object"&&!Array.isArray(l)}t.isObject=r;const i=(l,c)=>Object.hasOwnProperty.call(l,c);t.hasProperty=i,function(l){l[l.Null=4]="Null",l[l.Comma=1]="Comma",l[l.Wrapper=1]="Wrapper",l[l.True=4]="True",l[l.False=5]="False",l[l.Quote=1]="Quote",l[l.Colon=1]="Colon",l[l.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(l){if(typeof l!="object"||l===null)return!1;try{let c=l;for(;Object.getPrototypeOf(c)!==null;)c=Object.getPrototypeOf(c);return Object.getPrototypeOf(l)===c}catch{return!1}}t.isPlainObject=s;function o(l){return l.charCodeAt(0)<=127}t.isASCII=o;function a(l){var c;return l.split("").reduce((f,g)=>o(g)?f+1:f+2,0)+((c=l.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&c!==void 0?c:[]).length}t.calculateStringSize=a;function u(l){return l.toString().length}t.calculateNumberSize=u})(CB);var so={};Object.defineProperty(so,"__esModule",{value:!0});so.hexToBigInt=so.hexToNumber=so.bigIntToHex=so.numberToHex=void 0;const eh=hr,V0=Qp,Sfe=t=>((0,eh.assert)(typeof t=="number","Value must be a number."),(0,eh.assert)(t>=0,"Value must be a non-negative number."),(0,eh.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,V0.add0x)(t.toString(16)));so.numberToHex=Sfe;const Cfe=t=>((0,eh.assert)(typeof t=="bigint","Value must be a bigint."),(0,eh.assert)(t>=0,"Value must be a non-negative bigint."),(0,V0.add0x)(t.toString(16)));so.bigIntToHex=Cfe;const Ife=t=>{(0,V0.assertIsHexString)(t);const e=parseInt(t,16);return(0,eh.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};so.hexToNumber=Ife;const xfe=t=>((0,V0.assertIsHexString)(t),BigInt((0,V0.add0x)(t)));so.hexToBigInt=xfe;var IB={};Object.defineProperty(IB,"__esModule",{value:!0});var xB={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,n=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function r(s,o){return n(s,"count"),s*o}t.inMilliseconds=r;function i(s){return n(s,"timestamp"),Date.now()-s}t.timeSince=i})(xB);var TB={};Object.defineProperty(TB,"__esModule",{value:!0});var RB={},v3={exports:{}};const Tfe="2.0.0",kB=256,Rfe=Number.MAX_SAFE_INTEGER||9007199254740991,kfe=16,Pfe=kB-6,Mfe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var v_={MAX_LENGTH:kB,MAX_SAFE_COMPONENT_LENGTH:kfe,MAX_SAFE_BUILD_LENGTH:Pfe,MAX_SAFE_INTEGER:Rfe,RELEASE_TYPES:Mfe,SEMVER_SPEC_VERSION:Tfe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Tb={};const Dfe=typeof process=="object"&&Tb&&Tb.NODE_DEBUG&&/\bsemver\b/i.test(Tb.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var __=Dfe;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=v_,s=__;e=t.exports={};const o=e.re=[],a=e.safeRe=[],u=e.src=[],l=e.t={};let c=0;const h="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[h,r]],g=P=>{for(const[D,E]of f)P=P.split(`${D}*`).join(`${D}{0,${E}}`).split(`${D}+`).join(`${D}{1,${E}}`);return P},w=(P,D,E)=>{const _=g(D),S=c++;s(P,S,D),l[P]=S,u[S]=D,o[S]=new RegExp(D,E?"g":void 0),a[S]=new RegExp(_,E?"g":void 0)};w("NUMERICIDENTIFIER","0|[1-9]\\d*"),w("NUMERICIDENTIFIERLOOSE","\\d+"),w("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),w("MAINVERSION",`(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})`),w("MAINVERSIONLOOSE",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASEIDENTIFIER",`(?:${u[l.NUMERICIDENTIFIER]}|${u[l.NONNUMERICIDENTIFIER]})`),w("PRERELEASEIDENTIFIERLOOSE",`(?:${u[l.NUMERICIDENTIFIERLOOSE]}|${u[l.NONNUMERICIDENTIFIER]})`),w("PRERELEASE",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\.${u[l.PRERELEASEIDENTIFIER]})*))`),w("PRERELEASELOOSE",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`),w("BUILDIDENTIFIER",`${h}+`),w("BUILD",`(?:\\+(${u[l.BUILDIDENTIFIER]}(?:\\.${u[l.BUILDIDENTIFIER]})*))`),w("FULLPLAIN",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`),w("FULL",`^${u[l.FULLPLAIN]}$`),w("LOOSEPLAIN",`[v=\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`),w("LOOSE",`^${u[l.LOOSEPLAIN]}$`),w("GTLT","((?:<|>)?=?)"),w("XRANGEIDENTIFIERLOOSE",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),w("XRANGEIDENTIFIER",`${u[l.NUMERICIDENTIFIER]}|x|X|\\*`),w("XRANGEPLAIN",`[v=\\s]*(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?)?)?`),w("XRANGEPLAINLOOSE",`[v=\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?)?)?`),w("XRANGE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAIN]}$`),w("XRANGELOOSE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAINLOOSE]}$`),w("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),w("COERCE",`${u[l.COERCEPLAIN]}(?:$|[^\\d])`),w("COERCEFULL",u[l.COERCEPLAIN]+`(?:${u[l.PRERELEASE]})?(?:${u[l.BUILD]})?(?:$|[^\\d])`),w("COERCERTL",u[l.COERCE],!0),w("COERCERTLFULL",u[l.COERCEFULL],!0),w("LONETILDE","(?:~>?)"),w("TILDETRIM",`(\\s*)${u[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",w("TILDE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`),w("TILDELOOSE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`),w("LONECARET","(?:\\^)"),w("CARETTRIM",`(\\s*)${u[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",w("CARET",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`),w("CARETLOOSE",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`),w("COMPARATORLOOSE",`^${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]})$|^$`),w("COMPARATOR",`^${u[l.GTLT]}\\s*(${u[l.FULLPLAIN]})$|^$`),w("COMPARATORTRIM",`(\\s*)${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",w("HYPHENRANGE",`^\\s*(${u[l.XRANGEPLAIN]})\\s+-\\s+(${u[l.XRANGEPLAIN]})\\s*$`),w("HYPHENRANGELOOSE",`^\\s*(${u[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[l.XRANGEPLAINLOOSE]})\\s*$`),w("STAR","(<|>)?=?\\s*\\*"),w("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),w("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(v3,v3.exports);var Jp=v3.exports;const Nfe=Object.freeze({loose:!0}),Ofe=Object.freeze({}),Lfe=t=>t?typeof t!="object"?Nfe:t:Ofe;var C5=Lfe;const dT=/^[0-9]+$/,PB=(t,e)=>{const n=dT.test(t),r=dT.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},Bfe=(t,e)=>PB(e,t);var MB={compareIdentifiers:PB,rcompareIdentifiers:Bfe};const lm=__,{MAX_LENGTH:pT,MAX_SAFE_INTEGER:cm}=v_,{safeRe:gT,t:mT}=Jp,Ffe=C5,{compareIdentifiers:dc}=MB;let $fe=class Hs{constructor(e,n){if(n=Ffe(n),e instanceof Hs){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>pT)throw new TypeError(`version is longer than ${pT} characters`);lm("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?gT[mT.LOOSE]:gT[mT.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>cm||this.major<0)throw new TypeError("Invalid major version");if(this.minor>cm||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>cm||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<cm)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(lm("SemVer.compare",this.version,this.options,e),!(e instanceof Hs)){if(typeof e=="string"&&e===this.version)return 0;e=new Hs(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Hs||(e=new Hs(e,this.options)),dc(this.major,e.major)||dc(this.minor,e.minor)||dc(this.patch,e.patch)}comparePre(e){if(e instanceof Hs||(e=new Hs(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=e.prerelease[n];if(lm("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return dc(r,i)}while(++n)}compareBuild(e){e instanceof Hs||(e=new Hs(e,this.options));let n=0;do{const r=this.build[n],i=e.build[n];if(lm("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return dc(r,i)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),dc(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Hr=$fe;const yT=Hr,jfe=(t,e,n=!1)=>{if(t instanceof yT)return t;try{return new yT(t,e)}catch(r){if(!n)return null;throw r}};var Ef=jfe;const Ufe=Ef,Vfe=(t,e)=>{const n=Ufe(t,e);return n?n.version:null};var zfe=Vfe;const Hfe=Ef,Wfe=(t,e)=>{const n=Hfe(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};var qfe=Wfe;const vT=Hr,Gfe=(t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new vT(t instanceof vT?t.version:t,n).inc(e,r,i).version}catch{return null}};var Kfe=Gfe;const _T=Ef,Qfe=(t,e)=>{const n=_T(t,null,!0),r=_T(e,null,!0),i=n.compare(r);if(i===0)return null;const s=i>0,o=s?n:r,a=s?r:n,u=!!o.prerelease.length;if(!!a.prerelease.length&&!u)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const c=u?"pre":"";return n.major!==r.major?c+"major":n.minor!==r.minor?c+"minor":n.patch!==r.patch?c+"patch":"prerelease"};var Jfe=Qfe;const Zfe=Hr,Yfe=(t,e)=>new Zfe(t,e).major;var Xfe=Yfe;const ede=Hr,tde=(t,e)=>new ede(t,e).minor;var nde=tde;const rde=Hr,ide=(t,e)=>new rde(t,e).patch;var sde=ide;const ode=Ef,ade=(t,e)=>{const n=ode(t,e);return n&&n.prerelease.length?n.prerelease:null};var ude=ade;const wT=Hr,lde=(t,e,n)=>new wT(t,n).compare(new wT(e,n));var Ms=lde;const cde=Ms,hde=(t,e,n)=>cde(e,t,n);var fde=hde;const dde=Ms,pde=(t,e)=>dde(t,e,!0);var gde=pde;const bT=Hr,mde=(t,e,n)=>{const r=new bT(t,n),i=new bT(e,n);return r.compare(i)||r.compareBuild(i)};var I5=mde;const yde=I5,vde=(t,e)=>t.sort((n,r)=>yde(n,r,e));var _de=vde;const wde=I5,bde=(t,e)=>t.sort((n,r)=>wde(r,n,e));var Ede=bde;const Ade=Ms,Sde=(t,e,n)=>Ade(t,e,n)>0;var w_=Sde;const Cde=Ms,Ide=(t,e,n)=>Cde(t,e,n)<0;var x5=Ide;const xde=Ms,Tde=(t,e,n)=>xde(t,e,n)===0;var DB=Tde;const Rde=Ms,kde=(t,e,n)=>Rde(t,e,n)!==0;var NB=kde;const Pde=Ms,Mde=(t,e,n)=>Pde(t,e,n)>=0;var T5=Mde;const Dde=Ms,Nde=(t,e,n)=>Dde(t,e,n)<=0;var R5=Nde;const Ode=DB,Lde=NB,Bde=w_,Fde=T5,$de=x5,jde=R5,Ude=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return Ode(t,n,r);case"!=":return Lde(t,n,r);case">":return Bde(t,n,r);case">=":return Fde(t,n,r);case"<":return $de(t,n,r);case"<=":return jde(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};var OB=Ude;const Vde=Hr,zde=Ef,{safeRe:hm,t:fm}=Jp,Hde=(t,e)=>{if(t instanceof Vde)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?hm[fm.COERCEFULL]:hm[fm.COERCE]);else{const u=e.includePrerelease?hm[fm.COERCERTLFULL]:hm[fm.COERCERTL];let l;for(;(l=u.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||l.index+l[0].length!==n.index+n[0].length)&&(n=l),u.lastIndex=l.index+l[1].length+l[2].length;u.lastIndex=-1}if(n===null)return null;const r=n[2],i=n[3]||"0",s=n[4]||"0",o=e.includePrerelease&&n[5]?`-${n[5]}`:"",a=e.includePrerelease&&n[6]?`+${n[6]}`:"";return zde(`${r}.${i}.${s}${o}${a}`,e)};var Wde=Hde;class qde{constructor(){this.max=1e3,this.map=new Map}get(e){const n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}}var Gde=qde,Rb,ET;function Ds(){if(ET)return Rb;ET=1;const t=/\s+/g;class e{constructor(y,x){if(x=i(x),y instanceof e)return y.loose===!!x.loose&&y.includePrerelease===!!x.includePrerelease?y:new e(y.raw,x);if(y instanceof s)return this.raw=y.value,this.set=[[y]],this.formatted=void 0,this;if(this.options=x,this.loose=!!x.loose,this.includePrerelease=!!x.includePrerelease,this.raw=y.trim().replace(t," "),this.set=this.raw.split("||").map(k=>this.parseRange(k.trim())).filter(k=>k.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const k=this.set[0];if(this.set=this.set.filter(C=>!P(C[0])),this.set.length===0)this.set=[k];else if(this.set.length>1){for(const C of this.set)if(C.length===1&&D(C[0])){this.set=[C];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let y=0;y<this.set.length;y++){y>0&&(this.formatted+="||");const x=this.set[y];for(let k=0;k<x.length;k++)k>0&&(this.formatted+=" "),this.formatted+=x[k].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(y){const k=((this.options.includePrerelease&&g)|(this.options.loose&&w))+":"+y,C=r.get(k);if(C)return C;const F=this.options.loose,W=F?u[l.HYPHENRANGELOOSE]:u[l.HYPHENRANGE];y=y.replace(W,z(this.options.includePrerelease)),o("hyphen replace",y),y=y.replace(u[l.COMPARATORTRIM],c),o("comparator trim",y),y=y.replace(u[l.TILDETRIM],h),o("tilde trim",y),y=y.replace(u[l.CARETTRIM],f),o("caret trim",y);let U=y.split(" ").map(ie=>_(ie,this.options)).join(" ").split(/\s+/).map(ie=>B(ie,this.options));F&&(U=U.filter(ie=>(o("loose invalid filter",ie,this.options),!!ie.match(u[l.COMPARATORLOOSE])))),o("range list",U);const I=new Map,G=U.map(ie=>new s(ie,this.options));for(const ie of G){if(P(ie))return[ie];I.set(ie.value,ie)}I.size>1&&I.has("")&&I.delete("");const ue=[...I.values()];return r.set(k,ue),ue}intersects(y,x){if(!(y instanceof e))throw new TypeError("a Range is required");return this.set.some(k=>E(k,x)&&y.set.some(C=>E(C,x)&&k.every(F=>C.every(W=>F.intersects(W,x)))))}test(y){if(!y)return!1;if(typeof y=="string")try{y=new a(y,this.options)}catch{return!1}for(let x=0;x<this.set.length;x++)if(A(this.set[x],y,this.options))return!0;return!1}}Rb=e;const n=Gde,r=new n,i=C5,s=b_(),o=__,a=Hr,{safeRe:u,t:l,comparatorTrimReplace:c,tildeTrimReplace:h,caretTrimReplace:f}=Jp,{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:w}=v_,P=p=>p.value==="<0.0.0-0",D=p=>p.value==="",E=(p,y)=>{let x=!0;const k=p.slice();let C=k.pop();for(;x&&k.length;)x=k.every(F=>C.intersects(F,y)),C=k.pop();return x},_=(p,y)=>(o("comp",p,y),p=V(p,y),o("caret",p),p=O(p,y),o("tildes",p),p=m(p,y),o("xrange",p),p=T(p,y),o("stars",p),p),S=p=>!p||p.toLowerCase()==="x"||p==="*",O=(p,y)=>p.trim().split(/\s+/).map(x=>$(x,y)).join(" "),$=(p,y)=>{const x=y.loose?u[l.TILDELOOSE]:u[l.TILDE];return p.replace(x,(k,C,F,W,U)=>{o("tilde",p,k,C,F,W,U);let I;return S(C)?I="":S(F)?I=`>=${C}.0.0 <${+C+1}.0.0-0`:S(W)?I=`>=${C}.${F}.0 <${C}.${+F+1}.0-0`:U?(o("replaceTilde pr",U),I=`>=${C}.${F}.${W}-${U} <${C}.${+F+1}.0-0`):I=`>=${C}.${F}.${W} <${C}.${+F+1}.0-0`,o("tilde return",I),I})},V=(p,y)=>p.trim().split(/\s+/).map(x=>v(x,y)).join(" "),v=(p,y)=>{o("caret",p,y);const x=y.loose?u[l.CARETLOOSE]:u[l.CARET],k=y.includePrerelease?"-0":"";return p.replace(x,(C,F,W,U,I)=>{o("caret",p,C,F,W,U,I);let G;return S(F)?G="":S(W)?G=`>=${F}.0.0${k} <${+F+1}.0.0-0`:S(U)?F==="0"?G=`>=${F}.${W}.0${k} <${F}.${+W+1}.0-0`:G=`>=${F}.${W}.0${k} <${+F+1}.0.0-0`:I?(o("replaceCaret pr",I),F==="0"?W==="0"?G=`>=${F}.${W}.${U}-${I} <${F}.${W}.${+U+1}-0`:G=`>=${F}.${W}.${U}-${I} <${F}.${+W+1}.0-0`:G=`>=${F}.${W}.${U}-${I} <${+F+1}.0.0-0`):(o("no pr"),F==="0"?W==="0"?G=`>=${F}.${W}.${U}${k} <${F}.${W}.${+U+1}-0`:G=`>=${F}.${W}.${U}${k} <${F}.${+W+1}.0-0`:G=`>=${F}.${W}.${U} <${+F+1}.0.0-0`),o("caret return",G),G})},m=(p,y)=>(o("replaceXRanges",p,y),p.split(/\s+/).map(x=>b(x,y)).join(" ")),b=(p,y)=>{p=p.trim();const x=y.loose?u[l.XRANGELOOSE]:u[l.XRANGE];return p.replace(x,(k,C,F,W,U,I)=>{o("xRange",p,k,C,F,W,U,I);const G=S(F),ue=G||S(W),ie=ue||S(U),X=ie;return C==="="&&X&&(C=""),I=y.includePrerelease?"-0":"",G?C===">"||C==="<"?k="<0.0.0-0":k="*":C&&X?(ue&&(W=0),U=0,C===">"?(C=">=",ue?(F=+F+1,W=0,U=0):(W=+W+1,U=0)):C==="<="&&(C="<",ue?F=+F+1:W=+W+1),C==="<"&&(I="-0"),k=`${C+F}.${W}.${U}${I}`):ue?k=`>=${F}.0.0${I} <${+F+1}.0.0-0`:ie&&(k=`>=${F}.${W}.0${I} <${F}.${+W+1}.0-0`),o("xRange return",k),k})},T=(p,y)=>(o("replaceStars",p,y),p.trim().replace(u[l.STAR],"")),B=(p,y)=>(o("replaceGTE0",p,y),p.trim().replace(u[y.includePrerelease?l.GTE0PRE:l.GTE0],"")),z=p=>(y,x,k,C,F,W,U,I,G,ue,ie,X)=>(S(k)?x="":S(C)?x=`>=${k}.0.0${p?"-0":""}`:S(F)?x=`>=${k}.${C}.0${p?"-0":""}`:W?x=`>=${x}`:x=`>=${x}${p?"-0":""}`,S(G)?I="":S(ue)?I=`<${+G+1}.0.0-0`:S(ie)?I=`<${G}.${+ue+1}.0-0`:X?I=`<=${G}.${ue}.${ie}-${X}`:p?I=`<${G}.${ue}.${+ie+1}-0`:I=`<=${I}`,`${x} ${I}`.trim()),A=(p,y,x)=>{for(let k=0;k<p.length;k++)if(!p[k].test(y))return!1;if(y.prerelease.length&&!x.includePrerelease){for(let k=0;k<p.length;k++)if(o(p[k].semver),p[k].semver!==s.ANY&&p[k].semver.prerelease.length>0){const C=p[k].semver;if(C.major===y.major&&C.minor===y.minor&&C.patch===y.patch)return!0}return!1}return!0};return Rb}var kb,AT;function b_(){if(AT)return kb;AT=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(c,h){if(h=n(h),c instanceof e){if(c.loose===!!h.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),o("comparator",c,h),this.options=h,this.loose=!!h.loose,this.parse(c),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(c){const h=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],f=c.match(h);if(!f)throw new TypeError(`Invalid comparator: ${c}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=t}toString(){return this.value}test(c){if(o("Comparator.test",c,this.options.loose),this.semver===t||c===t)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return s(c,this.operator,this.semver,this.options)}intersects(c,h){if(!(c instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(c.value,h).test(this.value):c.operator===""?c.value===""?!0:new u(this.value,h).test(c.semver):(h=n(h),h.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||s(this.semver,"<",c.semver,h)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||s(this.semver,">",c.semver,h)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}kb=e;const n=C5,{safeRe:r,t:i}=Jp,s=OB,o=__,a=Hr,u=Ds();return kb}const Kde=Ds(),Qde=(t,e,n)=>{try{e=new Kde(e,n)}catch{return!1}return e.test(t)};var E_=Qde;const Jde=Ds(),Zde=(t,e)=>new Jde(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var Yde=Zde;const Xde=Hr,e0e=Ds(),t0e=(t,e,n)=>{let r=null,i=null,s=null;try{s=new e0e(e,n)}catch{return null}return t.forEach(o=>{s.test(o)&&(!r||i.compare(o)===-1)&&(r=o,i=new Xde(r,n))}),r};var n0e=t0e;const r0e=Hr,i0e=Ds(),s0e=(t,e,n)=>{let r=null,i=null,s=null;try{s=new i0e(e,n)}catch{return null}return t.forEach(o=>{s.test(o)&&(!r||i.compare(o)===1)&&(r=o,i=new r0e(r,n))}),r};var o0e=s0e;const Pb=Hr,a0e=Ds(),ST=w_,u0e=(t,e)=>{t=new a0e(t,e);let n=new Pb("0.0.0");if(t.test(n)||(n=new Pb("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){const i=t.set[r];let s=null;i.forEach(o=>{const a=new Pb(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||ST(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!n||ST(n,s))&&(n=s)}return n&&t.test(n)?n:null};var l0e=u0e;const c0e=Ds(),h0e=(t,e)=>{try{return new c0e(t,e).range||"*"}catch{return null}};var f0e=h0e;const d0e=Hr,LB=b_(),{ANY:p0e}=LB,g0e=Ds(),m0e=E_,CT=w_,IT=x5,y0e=R5,v0e=T5,_0e=(t,e,n,r)=>{t=new d0e(t,r),e=new g0e(e,r);let i,s,o,a,u;switch(n){case">":i=CT,s=y0e,o=IT,a=">",u=">=";break;case"<":i=IT,s=v0e,o=CT,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(m0e(t,e,r))return!1;for(let l=0;l<e.set.length;++l){const c=e.set[l];let h=null,f=null;if(c.forEach(g=>{g.semver===p0e&&(g=new LB(">=0.0.0")),h=h||g,f=f||g,i(g.semver,h.semver,r)?h=g:o(g.semver,f.semver,r)&&(f=g)}),h.operator===a||h.operator===u||(!f.operator||f.operator===a)&&s(t,f.semver))return!1;if(f.operator===u&&o(t,f.semver))return!1}return!0};var k5=_0e;const w0e=k5,b0e=(t,e,n)=>w0e(t,e,">",n);var E0e=b0e;const A0e=k5,S0e=(t,e,n)=>A0e(t,e,"<",n);var C0e=S0e;const xT=Ds(),I0e=(t,e,n)=>(t=new xT(t,n),e=new xT(e,n),t.intersects(e,n));var x0e=I0e;const T0e=E_,R0e=Ms;var k0e=(t,e,n)=>{const r=[];let i=null,s=null;const o=t.sort((c,h)=>R0e(c,h,n));for(const c of o)T0e(c,e,n)?(s=c,i||(i=c)):(s&&r.push([i,s]),s=null,i=null);i&&r.push([i,null]);const a=[];for(const[c,h]of r)c===h?a.push(c):!h&&c===o[0]?a.push("*"):h?c===o[0]?a.push(`<=${h}`):a.push(`${c} - ${h}`):a.push(`>=${c}`);const u=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return u.length<l.length?u:e};const TT=Ds(),P5=b_(),{ANY:Mb}=P5,Vf=E_,M5=Ms,P0e=(t,e,n={})=>{if(t===e)return!0;t=new TT(t,n),e=new TT(e,n);let r=!1;e:for(const i of t.set){for(const s of e.set){const o=D0e(i,s,n);if(r=r||o!==null,o)continue e}if(r)return!1}return!0},M0e=[new P5(">=0.0.0-0")],RT=[new P5(">=0.0.0")],D0e=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Mb){if(e.length===1&&e[0].semver===Mb)return!0;n.includePrerelease?t=M0e:t=RT}if(e.length===1&&e[0].semver===Mb){if(n.includePrerelease)return!0;e=RT}const r=new Set;let i,s;for(const g of t)g.operator===">"||g.operator===">="?i=kT(i,g,n):g.operator==="<"||g.operator==="<="?s=PT(s,g,n):r.add(g.semver);if(r.size>1)return null;let o;if(i&&s){if(o=M5(i.semver,s.semver,n),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const g of r){if(i&&!Vf(g,String(i),n)||s&&!Vf(g,String(s),n))return null;for(const w of e)if(!Vf(g,String(w),n))return!1;return!0}let a,u,l,c,h=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1,f=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;h&&h.prerelease.length===1&&s.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(const g of e){if(c=c||g.operator===">"||g.operator===">=",l=l||g.operator==="<"||g.operator==="<=",i){if(f&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===f.major&&g.semver.minor===f.minor&&g.semver.patch===f.patch&&(f=!1),g.operator===">"||g.operator===">="){if(a=kT(i,g,n),a===g&&a!==i)return!1}else if(i.operator===">="&&!Vf(i.semver,String(g),n))return!1}if(s){if(h&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===h.major&&g.semver.minor===h.minor&&g.semver.patch===h.patch&&(h=!1),g.operator==="<"||g.operator==="<="){if(u=PT(s,g,n),u===g&&u!==s)return!1}else if(s.operator==="<="&&!Vf(s.semver,String(g),n))return!1}if(!g.operator&&(s||i)&&o!==0)return!1}return!(i&&l&&!s&&o!==0||s&&c&&!i&&o!==0||f||h)},kT=(t,e,n)=>{if(!t)return e;const r=M5(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},PT=(t,e,n)=>{if(!t)return e;const r=M5(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};var N0e=P0e;const Db=Jp,MT=v_,O0e=Hr,DT=MB,L0e=Ef,B0e=zfe,F0e=qfe,$0e=Kfe,j0e=Jfe,U0e=Xfe,V0e=nde,z0e=sde,H0e=ude,W0e=Ms,q0e=fde,G0e=gde,K0e=I5,Q0e=_de,J0e=Ede,Z0e=w_,Y0e=x5,X0e=DB,epe=NB,tpe=T5,npe=R5,rpe=OB,ipe=Wde,spe=b_(),ope=Ds(),ape=E_,upe=Yde,lpe=n0e,cpe=o0e,hpe=l0e,fpe=f0e,dpe=k5,ppe=E0e,gpe=C0e,mpe=x0e,ype=k0e,vpe=N0e;var _pe={parse:L0e,valid:B0e,clean:F0e,inc:$0e,diff:j0e,major:U0e,minor:V0e,patch:z0e,prerelease:H0e,compare:W0e,rcompare:q0e,compareLoose:G0e,compareBuild:K0e,sort:Q0e,rsort:J0e,gt:Z0e,lt:Y0e,eq:X0e,neq:epe,gte:tpe,lte:npe,cmp:rpe,coerce:ipe,Comparator:spe,Range:ope,satisfies:ape,toComparators:upe,maxSatisfying:lpe,minSatisfying:cpe,minVersion:hpe,validRange:fpe,outside:dpe,gtr:ppe,ltr:gpe,intersects:mpe,simplifyRange:ype,subset:vpe,SemVer:O0e,re:Db.re,src:Db.src,tokens:Db.t,SEMVER_SPEC_VERSION:MT.SEMVER_SPEC_VERSION,RELEASE_TYPES:MT.RELEASE_TYPES,compareIdentifiers:DT.compareIdentifiers,rcompareIdentifiers:DT.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=_pe,n=Jl,r=hr;t.VersionStruct=(0,n.refine)((0,n.string)(),"Version",h=>(0,e.valid)(h)===null?`Expected SemVer version, got "${h}"`:!0),t.VersionRangeStruct=(0,n.refine)((0,n.string)(),"Version range",h=>(0,e.validRange)(h)===null?`Expected SemVer range, got "${h}"`:!0);function i(h){return(0,n.is)(h,t.VersionStruct)}t.isValidSemVerVersion=i;function s(h){return(0,n.is)(h,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(h){(0,r.assertStruct)(h,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(h){(0,r.assertStruct)(h,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function u(h,f){return(0,e.gt)(h,f)}t.gtVersion=u;function l(h,f){return(0,e.gtr)(h,f)}t.gtRange=l;function c(h,f){return(0,e.satisfies)(h,f,{includePrerelease:!0})}t.satisfiesVersionRange=c})(RB);(function(t){var e=Ie&&Ie.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Ie&&Ie.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(hr,t),n(Kp,t),n(Pt,t),n(m_,t),n(io,t),n(Kh,t),n(EB,t),n(Qp,t),n(AB,t),n(SB,t),n(Qh,t),n(CB,t),n(so,t),n(IB,t),n(xB,t),n(TB,t),n(RB,t)})(rB);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=rB;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(nB);var BB=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(p_,"__esModule",{value:!0});p_.PollingBlockTracker=void 0;const wpe=BB(m5),bpe=BB(qce),Epe=Hp,NT=nB,OT=(0,NT.createModuleLogger)(NT.projectLogger,"polling-block-tracker"),Ape=(0,wpe.default)(),Spe=1e3;class Cpe extends Epe.BaseBlockTracker{constructor(e={}){var n;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super(Object.assign(Object.assign({},e),{blockResetDuration:(n=e.blockResetDuration)!==null&&n!==void 0?n:e.pollingInterval})),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*Spe,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const n=LT(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await n}catch(n){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=n.stack)!==null&&e!==void 0?e:n}`);try{this.emit("error",r)}catch{console.error(r)}const i=LT(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:Ape(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),OT("Making request",e);const n=await(0,bpe.default)(r=>this._provider.sendAsync(e,r))();if(OT("Got response",n),n.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${n.error.message}`);return n.result}}p_.PollingBlockTracker=Cpe;function LT(t,e){return new Promise(n=>{const r=setTimeout(n,t);r.unref&&e&&r.unref()})}var A_={},Ipe=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(A_,"__esModule",{value:!0});A_.SubscribeBlockTracker=void 0;const xpe=Ipe(m5),Tpe=Hp,Rpe=(0,xpe.default)();class kpe extends Tpe.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...n){return new Promise((r,i)=>{this._provider.sendAsync({id:Rpe(),method:e,params:n,jsonrpc:"2.0"},(s,o)=>{s?i(s):r(o.result)})})}_handleSubData(e,n){var r;n.method==="eth_subscription"&&((r=n.params)===null||r===void 0?void 0:r.subscription)===this._subscriptionId&&this._newPotentialLatest(n.params.result.number)}}A_.SubscribeBlockTracker=kpe;(function(t){var e=Ie&&Ie.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Ie&&Ie.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(p_,t),n(A_,t)})(tB);var D5={},S_={},Zp={};Object.defineProperty(Zp,"__esModule",{value:!0});Zp.getUniqueId=void 0;const FB=4294967295;let Nb=Math.floor(Math.random()*FB);function Ppe(){return Nb=(Nb+1)%FB,Nb}Zp.getUniqueId=Ppe;Object.defineProperty(S_,"__esModule",{value:!0});S_.createIdRemapMiddleware=void 0;const Mpe=Zp;function Dpe(){return(t,e,n,r)=>{const i=t.id,s=Mpe.getUniqueId();t.id=s,e.id=s,n(o=>{t.id=i,e.id=i,o()})}}S_.createIdRemapMiddleware=Dpe;var C_={};Object.defineProperty(C_,"__esModule",{value:!0});C_.createAsyncMiddleware=void 0;function Npe(t){return async(e,n,r,i)=>{let s;const o=new Promise(c=>{s=c});let a=null,u=!1;const l=async()=>{u=!0,r(c=>{a=c,s()}),await o};try{await t(e,n,l),u?(await o,a(null)):i(null)}catch(c){a?a(c):i(c)}}}C_.createAsyncMiddleware=Npe;var I_={};Object.defineProperty(I_,"__esModule",{value:!0});I_.createScaffoldMiddleware=void 0;function Ope(t){return(e,n,r,i)=>{const s=t[e.method];return s===void 0?r():typeof s=="function"?s(e,n,r,i):(n.result=s,i())}}I_.createScaffoldMiddleware=Ope;var Yp={},N5={};Object.defineProperty(N5,"__esModule",{value:!0});const Lpe=tp;function BT(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function Bpe(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}let Fpe=class extends Lpe.EventEmitter{emit(e,...n){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let o;if(n.length>0&&([o]=n),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")BT(s,this,n);else{const o=s.length,a=Bpe(s);for(let u=0;u<o;u+=1)BT(a[u],this,n)}return!0}};N5.default=Fpe;var $B={},au={},$pe=z0;z0.default=z0;z0.stable=VB;z0.stableStringify=VB;var sy="[...]",jB="[Circular]",Ml=[],Yu=[];function UB(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function z0(t,e,n,r){typeof r>"u"&&(r=UB()),_3(t,"",0,[],void 0,0,r);var i;try{Yu.length===0?i=JSON.stringify(t,e,n):i=JSON.stringify(t,zB(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Ml.length!==0;){var s=Ml.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function th(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),Ml.push([r,n,e,i])):Yu.push([e,n,t]):(r[n]=t,Ml.push([r,n,e]))}function _3(t,e,n,r,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t){th(jB,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){th(sy,t,e,i);return}if(typeof o.edgesLimit<"u"&&n+1>o.edgesLimit){th(sy,t,e,i);return}if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)_3(t[a],a,a,r,t,s,o);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var l=u[a];_3(t[l],l,a,r,t,s,o)}}r.pop()}}function jpe(t,e){return t<e?-1:t>e?1:0}function VB(t,e,n,r){typeof r>"u"&&(r=UB());var i=w3(t,"",0,[],void 0,0,r)||t,s;try{Yu.length===0?s=JSON.stringify(i,e,n):s=JSON.stringify(i,zB(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Ml.length!==0;){var o=Ml.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function w3(t,e,n,r,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t){th(jB,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){th(sy,t,e,i);return}if(typeof o.edgesLimit<"u"&&n+1>o.edgesLimit){th(sy,t,e,i);return}if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)w3(t[a],a,a,r,t,s,o);else{var u={},l=Object.keys(t).sort(jpe);for(a=0;a<l.length;a++){var c=l[a];w3(t[c],c,a,r,t,s,o),u[c]=t[c]}if(typeof i<"u")Ml.push([i,e,t]),i[e]=u;else return u}r.pop()}}function zB(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(Yu.length>0)for(var r=0;r<Yu.length;r++){var i=Yu[r];if(i[1]===e&&i[0]===n){n=i[2],Yu.splice(r,1);break}}return t.call(this,e,n)}}Object.defineProperty(au,"__esModule",{value:!0});au.EthereumProviderError=au.EthereumRpcError=void 0;const Upe=$pe;class HB extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Upe.default(this.serialize(),Hpe,2)}}au.EthereumRpcError=HB;class Vpe extends HB{constructor(e,n,r){if(!zpe(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}au.EthereumProviderError=Vpe;function zpe(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Hpe(t,e){if(e!=="[Circular]")return e}var O5={},uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.errorValues=uu.errorCodes=void 0;uu.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};uu.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=uu,n=au,r=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:r,message:o(r)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,g=i){if(Number.isInteger(f)){const w=f.toString();if(h(e.errorValues,w))return e.errorValues[w].message;if(l(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return g}t.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const g=f.toString();return!!(e.errorValues[g]||l(f))}t.isValidCode=a;function u(f,{fallbackError:g=s,shouldIncludeStack:w=!1}={}){var P,D;if(!g||!Number.isInteger(g.code)||typeof g.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof n.EthereumRpcError)return f.serialize();const E={};if(f&&typeof f=="object"&&!Array.isArray(f)&&h(f,"code")&&a(f.code)){const S=f;E.code=S.code,S.message&&typeof S.message=="string"?(E.message=S.message,h(S,"data")&&(E.data=S.data)):(E.message=o(E.code),E.data={originalError:c(f)})}else{E.code=g.code;const S=(P=f)===null||P===void 0?void 0:P.message;E.message=S&&typeof S=="string"?S:g.message,E.data={originalError:c(f)}}const _=(D=f)===null||D===void 0?void 0:D.stack;return w&&f&&_&&typeof _=="string"&&(E.stack=_),E}t.serializeError=u;function l(f){return f>=-32099&&f<=-32e3}function c(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function h(f,g){return Object.prototype.hasOwnProperty.call(f,g)}})(O5);var x_={};Object.defineProperty(x_,"__esModule",{value:!0});x_.ethErrors=void 0;const L5=au,WB=O5,Er=uu;x_.ethErrors={rpc:{parse:t=>Li(Er.errorCodes.rpc.parse,t),invalidRequest:t=>Li(Er.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Li(Er.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Li(Er.errorCodes.rpc.methodNotFound,t),internal:t=>Li(Er.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Li(e,t)},invalidInput:t=>Li(Er.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Li(Er.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Li(Er.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Li(Er.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Li(Er.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Li(Er.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>zf(Er.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>zf(Er.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>zf(Er.errorCodes.provider.unsupportedMethod,t),disconnected:t=>zf(Er.errorCodes.provider.disconnected,t),chainDisconnected:t=>zf(Er.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new L5.EthereumProviderError(e,n,r)}}};function Li(t,e){const[n,r]=qB(e);return new L5.EthereumRpcError(t,n||WB.getMessageFromCode(t),r)}function zf(t,e){const[n,r]=qB(e);return new L5.EthereumProviderError(t,n||WB.getMessageFromCode(t),r)}function qB(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=au;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const n=O5;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=x_;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return r.ethErrors}});const i=uu;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})($B);var Wpe=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yp,"__esModule",{value:!0});Yp.JsonRpcEngine=void 0;const qpe=Wpe(N5),Bi=$B;class ko extends qpe.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,n){if(n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?this._handleBatch(e,n):this._handleBatch(e):n?this._handle(e,n):this._promiseHandle(e)}asMiddleware(){return async(e,n,r,i)=>{try{const[s,o,a]=await ko._runAllMiddleware(e,n,this._middleware);return o?(await ko._runReturnHandlers(a),i(s)):r(async u=>{try{await ko._runReturnHandlers(a)}catch(l){return u(l)}return u()})}catch(s){return i(s)}}}async _handleBatch(e,n){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return n?n(null,r):r}catch(r){if(n)return n(r);throw r}}_promiseHandle(e){return new Promise(n=>{this._handle(e,(r,i)=>{n(i)})})}async _handle(e,n){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Bi.EthereumRpcError(Bi.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return n(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Bi.EthereumRpcError(Bi.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return n(o,{id:e.id,jsonrpc:"2.0",error:o})}const r=Object.assign({},e),i={id:r.id,jsonrpc:r.jsonrpc};let s=null;try{await this._processRequest(r,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Bi.serializeError(s))),n(s,i)}async _processRequest(e,n){const[r,i,s]=await ko._runAllMiddleware(e,n,this._middleware);if(ko._checkForCompletion(e,n,i),await ko._runReturnHandlers(s),r)throw r}static async _runAllMiddleware(e,n,r){const i=[];let s=null,o=!1;for(const a of r)if([s,o]=await ko._runMiddleware(e,n,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,n,r,i){return new Promise(s=>{const o=u=>{const l=u||n.error;l&&(n.error=Bi.serializeError(l)),s([l,!0])},a=u=>{n.error?o(n.error):(u&&(typeof u!="function"&&o(new Bi.EthereumRpcError(Bi.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof u}" for request:
${Ob(e)}`,{request:e})),i.push(u)),s([null,!1]))};try{r(e,n,a,o)}catch(u){o(u)}})}static async _runReturnHandlers(e){for(const n of e)await new Promise((r,i)=>{n(s=>s?i(s):r())})}static _checkForCompletion(e,n,r){if(!("result"in n)&&!("error"in n))throw new Bi.EthereumRpcError(Bi.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Ob(e)}`,{request:e});if(!r)throw new Bi.EthereumRpcError(Bi.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Ob(e)}`,{request:e})}}Yp.JsonRpcEngine=ko;function Ob(t){return JSON.stringify(t,null,2)}var T_={};Object.defineProperty(T_,"__esModule",{value:!0});T_.mergeMiddleware=void 0;const Gpe=Yp;function Kpe(t){const e=new Gpe.JsonRpcEngine;return t.forEach(n=>e.push(n)),e.asMiddleware()}T_.mergeMiddleware=Kpe;(function(t){var e=Ie&&Ie.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Ie&&Ie.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(S_,t),n(C_,t),n(I_,t),n(Zp,t),n(Yp,t),n(T_,t)})(D5);var GB={},B5={},b3=function(t,e){return b3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},b3(t,e)};function KB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");b3(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var oy=function(){return oy=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oy.apply(this,arguments)};function QB(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function JB(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function ZB(t,e){return function(n,r){e(n,r,t)}}function Qpe(t,e,n,r,i,s){function o(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var a=r.kind,u=a==="getter"?"get":a==="setter"?"set":"value",l=!e&&t?r.static?t:t.prototype:null,c=e||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),h,f=!1,g=n.length-1;g>=0;g--){var w={};for(var P in r)w[P]=P==="access"?{}:r[P];for(var P in r.access)w.access[P]=r.access[P];w.addInitializer=function(E){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(E||null))};var D=(0,n[g])(a==="accessor"?{get:c.get,set:c.set}:c[u],w);if(a==="accessor"){if(D===void 0)continue;if(D===null||typeof D!="object")throw new TypeError("Object expected");(h=o(D.get))&&(c.get=h),(h=o(D.set))&&(c.set=h),(h=o(D.init))&&i.unshift(h)}else(h=o(D))&&(a==="field"?i.unshift(h):c[u]=h)}l&&Object.defineProperty(l,r.name,c),f=!0}function Jpe(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function Zpe(t){return typeof t=="symbol"?t:"".concat(t)}function Ype(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function YB(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function XB(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(h){o(h)}}function u(c){try{l(r.throw(c))}catch(h){o(h)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function e7(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var R_=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function t7(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&R_(e,t,n)}function ay(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function F5(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function n7(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(F5(arguments[e]));return t}function r7(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function i7(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Jh(t){return this instanceof Jh?(this.v=t,this):new Jh(t)}function s7(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(w){return Promise.resolve(w).then(g,h)}}function a(g,w){r[g]&&(i[g]=function(P){return new Promise(function(D,E){s.push([g,P,D,E])>1||u(g,P)})},w&&(i[g]=w(i[g])))}function u(g,w){try{l(r[g](w))}catch(P){f(s[0][3],P)}}function l(g){g.value instanceof Jh?Promise.resolve(g.value.v).then(c,h):f(s[0][2],g)}function c(g){u("next",g)}function h(g){u("throw",g)}function f(g,w){g(w),s.shift(),s.length&&u(s[0][0],s[0][1])}}function o7(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Jh(t[i](o)),done:!1}:s?s(o):o}:s}}function a7(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ay=="function"?ay(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}function u7(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Xpe=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function l7(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&R_(e,t,n);return Xpe(e,t),e}function c7(t){return t&&t.__esModule?t:{default:t}}function h7(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function f7(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function d7(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function p7(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var ege=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function g7(t){function e(r){t.error=t.hasError?new ege(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}function n(){for(;t.stack.length;){var r=t.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(n,function(s){return e(s),n()})}catch(s){e(s)}}if(t.hasError)throw t.error}return n()}const tge={__extends:KB,__assign:oy,__rest:QB,__decorate:JB,__param:ZB,__metadata:YB,__awaiter:XB,__generator:e7,__createBinding:R_,__exportStar:t7,__values:ay,__read:F5,__spread:n7,__spreadArrays:r7,__spreadArray:i7,__await:Jh,__asyncGenerator:s7,__asyncDelegator:o7,__asyncValues:a7,__makeTemplateObject:u7,__importStar:l7,__importDefault:c7,__classPrivateFieldGet:h7,__classPrivateFieldSet:f7,__classPrivateFieldIn:d7,__addDisposableResource:p7,__disposeResources:g7},nge=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:p7,get __assign(){return oy},__asyncDelegator:o7,__asyncGenerator:s7,__asyncValues:a7,__await:Jh,__awaiter:XB,__classPrivateFieldGet:h7,__classPrivateFieldIn:d7,__classPrivateFieldSet:f7,__createBinding:R_,__decorate:JB,__disposeResources:g7,__esDecorate:Qpe,__exportStar:t7,__extends:KB,__generator:e7,__importDefault:c7,__importStar:l7,__makeTemplateObject:u7,__metadata:YB,__param:ZB,__propKey:Zpe,__read:F5,__rest:QB,__runInitializers:Jpe,__setFunctionName:Ype,__spread:n7,__spreadArray:i7,__spreadArrays:r7,__values:ay,default:tge},Symbol.toStringTag,{value:"Module"})),$5=ta(nge);var k_={};Object.defineProperty(k_,"__esModule",{value:!0});var FT=$5,rge=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,n=this.isLocked(),r=new Promise(function(i){return e._queue.push(i)});return n||this._dispatch(),r},t.prototype.runExclusive=function(e){return FT.__awaiter(this,void 0,void 0,function(){var n,r,i;return FT.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:n=s.sent(),r=n[0],i=n[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(r)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,n=this._queue.shift();if(n){var r=!1;this._currentReleaser=function(){r||(r=!0,e._value++,e._dispatch())},n([this._value--,this._currentReleaser])}},t}();k_.default=rge;Object.defineProperty(B5,"__esModule",{value:!0});var $T=$5,ige=k_,sge=function(){function t(){this._semaphore=new ige.default(1)}return t.prototype.acquire=function(){return $T.__awaiter(this,void 0,void 0,function(){var e,n;return $T.__generator(this,function(r){switch(r.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=r.sent(),n=e[1],[2,n]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();B5.default=sge;var P_={};Object.defineProperty(P_,"__esModule",{value:!0});P_.withTimeout=void 0;var dm=$5;function oge(t,e,n){var r=this;return n===void 0&&(n=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return dm.__awaiter(r,void 0,void 0,function(){var o,a,u;return dm.__generator(this,function(l){switch(l.label){case 0:return o=!1,setTimeout(function(){o=!0,s(n)},e),[4,t.acquire()];case 1:return a=l.sent(),o?(u=Array.isArray(a)?a[1]:a,u()):i(a),[2]}})})})},runExclusive:function(i){return dm.__awaiter(this,void 0,void 0,function(){var s,o;return dm.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}P_.withTimeout=oge;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=B5;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var n=k_;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return n.default}});var r=P_;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return r.withTimeout}})})(GB);var age=lge,uge=Object.prototype.hasOwnProperty;function lge(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)uge.call(n,r)&&(t[r]=n[r])}return t}const cge=age,hge=m5();var fge=ot;function ot(t){const e=this;e.currentProvider=t}ot.prototype.getBalance=Xp(2,"eth_getBalance");ot.prototype.getCode=Xp(2,"eth_getCode");ot.prototype.getTransactionCount=Xp(2,"eth_getTransactionCount");ot.prototype.getStorageAt=Xp(3,"eth_getStorageAt");ot.prototype.call=Xp(2,"eth_call");ot.prototype.protocolVersion=wt("eth_protocolVersion");ot.prototype.syncing=wt("eth_syncing");ot.prototype.coinbase=wt("eth_coinbase");ot.prototype.mining=wt("eth_mining");ot.prototype.hashrate=wt("eth_hashrate");ot.prototype.gasPrice=wt("eth_gasPrice");ot.prototype.accounts=wt("eth_accounts");ot.prototype.blockNumber=wt("eth_blockNumber");ot.prototype.getBlockTransactionCountByHash=wt("eth_getBlockTransactionCountByHash");ot.prototype.getBlockTransactionCountByNumber=wt("eth_getBlockTransactionCountByNumber");ot.prototype.getUncleCountByBlockHash=wt("eth_getUncleCountByBlockHash");ot.prototype.getUncleCountByBlockNumber=wt("eth_getUncleCountByBlockNumber");ot.prototype.sign=wt("eth_sign");ot.prototype.sendTransaction=wt("eth_sendTransaction");ot.prototype.sendRawTransaction=wt("eth_sendRawTransaction");ot.prototype.estimateGas=wt("eth_estimateGas");ot.prototype.getBlockByHash=wt("eth_getBlockByHash");ot.prototype.getBlockByNumber=wt("eth_getBlockByNumber");ot.prototype.getTransactionByHash=wt("eth_getTransactionByHash");ot.prototype.getTransactionByBlockHashAndIndex=wt("eth_getTransactionByBlockHashAndIndex");ot.prototype.getTransactionByBlockNumberAndIndex=wt("eth_getTransactionByBlockNumberAndIndex");ot.prototype.getTransactionReceipt=wt("eth_getTransactionReceipt");ot.prototype.getUncleByBlockHashAndIndex=wt("eth_getUncleByBlockHashAndIndex");ot.prototype.getUncleByBlockNumberAndIndex=wt("eth_getUncleByBlockNumberAndIndex");ot.prototype.getCompilers=wt("eth_getCompilers");ot.prototype.compileLLL=wt("eth_compileLLL");ot.prototype.compileSolidity=wt("eth_compileSolidity");ot.prototype.compileSerpent=wt("eth_compileSerpent");ot.prototype.newFilter=wt("eth_newFilter");ot.prototype.newBlockFilter=wt("eth_newBlockFilter");ot.prototype.newPendingTransactionFilter=wt("eth_newPendingTransactionFilter");ot.prototype.uninstallFilter=wt("eth_uninstallFilter");ot.prototype.getFilterChanges=wt("eth_getFilterChanges");ot.prototype.getFilterLogs=wt("eth_getFilterLogs");ot.prototype.getLogs=wt("eth_getLogs");ot.prototype.getWork=wt("eth_getWork");ot.prototype.submitWork=wt("eth_submitWork");ot.prototype.submitHashrate=wt("eth_submitHashrate");ot.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(dge(t),function(r,i){if(!r&&i.error&&(r=new Error("EthQuery - RPC Error - "+i.error.message)),r)return e(r);e(null,i.result)})};function wt(t){return function(){const e=this;var n=[].slice.call(arguments),r=n.pop();e.sendAsync({method:t,params:n},r)}}function Xp(t,e){return function(){const n=this;var r=[].slice.call(arguments),i=r.pop();r.length<t&&r.push("latest"),n.sendAsync({method:e,params:r},i)}}function dge(t){return cge({id:hge(),jsonrpc:"2.0",params:[]},t)}const jT=(t,e,n,r)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...l)=>{e.errorFirst?l[0]?a(l):(l.shift(),o(l)):o(l)}):e.errorFirst?i.push((l,c)=>{l?a(l):o(c)}):i.push(o),Reflect.apply(t,this===n?r:this,i)})},UT=new WeakMap;var pge=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const n=typeof t;if(!(t!==null&&(n==="object"||n==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":n}\``);const r=(o,a)=>{let u=UT.get(o);if(u||(u={},UT.set(o,u)),a in u)return u[a];const l=w=>typeof w=="string"||typeof a=="symbol"?a===w:w.test(a),c=Reflect.getOwnPropertyDescriptor(o,a),h=c===void 0||c.writable||c.configurable,g=(e.include?e.include.some(l):!e.exclude.some(l))&&h;return u[a]=g,g},i=new WeakMap,s=new Proxy(t,{apply(o,a,u){const l=i.get(o);if(l)return Reflect.apply(l,a,u);const c=e.excludeMain?o:jT(o,e,s,o);return i.set(o,c),Reflect.apply(c,a,u)},get(o,a){const u=o[a];if(!r(o,a)||u===Function.prototype[a])return u;const l=i.get(u);if(l)return l;if(typeof u=="function"){const c=jT(u,e,s,o);return i.set(u,c),c}return u}});return s};const gge=Wp.default;let mge=class extends gge{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(n=>this.emit("update",n))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var j5=mge;const yge=j5;let vge=class extends yge{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var _ge=vge,eg={minBlockRef:wge,maxBlockRef:bge,sortBlockRefs:U5,bnToHex:Ege,blockRefIsNumber:Age,hexToInt:uy,incrementHexInt:Sge,intToHex:m7,unsafeRandomBytes:Cge};function wge(...t){return U5(t)[0]}function bge(...t){const e=U5(t);return e[e.length-1]}function U5(t){return t.sort((e,n)=>e==="latest"||n==="earliest"?1:n==="latest"||e==="earliest"?-1:uy(e)-uy(n))}function Ege(t){return"0x"+t.toString(16)}function Age(t){return t&&!["earliest","latest","pending"].includes(t)}function uy(t){return t==null?t:Number.parseInt(t,16)}function Sge(t){if(t==null)return t;const e=uy(t);return m7(e+1)}function m7(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function Cge(t){let e="0x";for(let n=0;n<t;n++)e+=VT(),e+=VT();return e}function VT(){return Math.floor(Math.random()*16).toString(16)}const Ige=fge,xge=pge,Tge=_ge,{bnToHex:Sve,hexToInt:pm,incrementHexInt:Rge,minBlockRef:kge,blockRefIsNumber:Pge}=eg;let Mge=class extends Tge{constructor({provider:e,params:n}){super(),this.type="log",this.ethQuery=new Ige(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},n),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(r=>r.toLowerCase()))}async initialize({currentBlock:e}){let n=this.params.fromBlock;["latest","pending"].includes(n)&&(n=e),n==="earliest"&&(n="0x0"),this.params.fromBlock=n;const r=kge(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:r}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:n}){const r=n;let i;e?i=Rge(e):i=n;const s=Object.assign({},this.params,{fromBlock:i,toBlock:r}),a=(await this._fetchLogs(s)).filter(u=>this.matchLog(u));this.addResults(a)}async _fetchLogs(e){return await xge(r=>this.ethQuery.getLogs(e,r))()}matchLog(e){if(pm(this.params.fromBlock)>=pm(e.blockNumber)||Pge(this.params.toBlock)&&pm(this.params.toBlock)<=pm(e.blockNumber))return!1;const n=e.address&&e.address.toLowerCase();return this.params.address&&n&&!this.params.address.includes(n)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(c=>c.toLowerCase()),a.includes(o))})}};var Dge=Mge,V5=Nge;async function Nge({provider:t,fromBlock:e,toBlock:n}){e||(e=n);const r=zT(e),s=zT(n)-r+1,o=Array(s).fill().map((u,l)=>r+l).map(Oge);let a=await Promise.all(o.map(u=>Bge(t,"eth_getBlockByNumber",[u,!1])));return a=a.filter(u=>u!==null),a}function zT(t){return t==null?t:Number.parseInt(t,16)}function Oge(t){return t==null?t:"0x"+t.toString(16)}function Lge(t,e){return new Promise((n,r)=>{t.sendAsync(e,(i,s)=>{i?r(i):s.error?r(s.error):s.result?n(s.result):r(new Error("Result was empty"))})})}async function Bge(t,e,n){for(let r=0;r<3;r++)try{return await Lge(t,{id:1,jsonrpc:"2.0",method:e,params:n})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}return null}const Fge=j5,$ge=V5,{incrementHexInt:jge}=eg;let Uge=class extends Fge{constructor({provider:e,params:n}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:n}){const r=n,i=jge(e),o=(await $ge({provider:this.provider,fromBlock:i,toBlock:r})).map(a=>a.hash);this.addResults(o)}};var Vge=Uge;const zge=j5,Hge=V5,{incrementHexInt:Wge}=eg;let qge=class extends zge{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const n=e,r=Wge(e),i=await Hge({provider:this.provider,fromBlock:r,toBlock:n}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var Gge=qge;const Kge=GB.Mutex,{createAsyncMiddleware:Qge,createScaffoldMiddleware:Jge}=D5,Zge=Dge,Yge=Vge,Xge=Gge,{intToHex:y7,hexToInt:Lb}=eg;var eme=tme;function tme({blockTracker:t,provider:e}){let n=0,r={};const i=new Kge,s=nme({mutex:i}),o=Jge({eth_newFilter:s(Bb(u)),eth_newBlockFilter:s(Bb(l)),eth_newPendingTransactionFilter:s(Bb(c)),eth_uninstallFilter:s(zm(g)),eth_getFilterChanges:s(zm(h)),eth_getFilterLogs:s(zm(f))}),a=async({oldBlock:_,newBlock:S})=>{if(r.length===0)return;const O=await i.acquire();try{await Promise.all(pc(r).map(async $=>{try{await $.update({oldBlock:_,newBlock:S})}catch(V){console.error(V)}}))}catch($){console.error($)}O()};return o.newLogFilter=u,o.newBlockFilter=l,o.newPendingTransactionFilter=c,o.uninstallFilter=g,o.getFilterChanges=h,o.getFilterLogs=f,o.destroy=()=>{D()},o;async function u(_){const S=new Zge({provider:e,params:_});return await w(S),S}async function l(){const _=new Yge({provider:e});return await w(_),_}async function c(){const _=new Xge({provider:e});return await w(_),_}async function h(_){const S=Lb(_),O=r[S];if(!O)throw new Error(`No filter for index "${S}"`);return O.getChangesAndClear()}async function f(_){const S=Lb(_),O=r[S];if(!O)throw new Error(`No filter for index "${S}"`);let $=[];return O.type==="log"&&($=O.getAllResults()),$}async function g(_){const S=Lb(_),$=!!r[S];return $&&await P(S),$}async function w(_){const S=pc(r).length,O=await t.getLatestBlock();await _.initialize({currentBlock:O}),n++,r[n]=_,_.id=n,_.idHex=y7(n);const $=pc(r).length;return E({prevFilterCount:S,newFilterCount:$}),n}async function P(_){const S=pc(r).length;delete r[_];const O=pc(r).length;E({prevFilterCount:S,newFilterCount:O})}async function D(){const _=pc(r).length;r={},E({prevFilterCount:_,newFilterCount:0})}function E({prevFilterCount:_,newFilterCount:S}){if(_===0&&S>0){t.on("sync",a);return}if(_>0&&S===0){t.removeListener("sync",a);return}}}function Bb(t){return zm(async(...e)=>{const n=await t(...e);return y7(n.id)})}function zm(t){return Qge(async(e,n)=>{const r=await t.apply(null,e.params);n.result=r})}function nme({mutex:t}){return e=>async(n,r,i,s)=>{(await t.acquire())(),e(n,r,i,s)}}function pc(t,e){const n=[];for(let r in t)n.push(t[r]);return n}const rme=Wp.default,{createAsyncMiddleware:HT,createScaffoldMiddleware:ime}=D5,sme=eme,{unsafeRandomBytes:ome,incrementHexInt:ame}=eg,ume=V5;var lme=cme;function cme({blockTracker:t,provider:e}){const n={},r=sme({blockTracker:t,provider:e});let i=!1;const s=new rme,o=ime({eth_subscribe:HT(a),eth_unsubscribe:HT(u)});return o.destroy=c,{events:s,middleware:o};async function a(h,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const g=h.params[0],w=ome(16);let P;switch(g){case"newHeads":P=D({subId:w});break;case"logs":const _=h.params[1],S=await r.newLogFilter(_);P=E({subId:w,filter:S});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${g}"`)}n[w]=P,f.result=w;return;function D({subId:_}){const S={type:g,destroy:async()=>{t.removeListener("sync",S.update)},update:async({oldBlock:O,newBlock:$})=>{const V=$,v=ame(O);(await ume({provider:e,fromBlock:v,toBlock:V})).map(hme).filter(T=>T!==null).forEach(T=>{l(_,T)})}};return t.on("sync",S.update),S}function E({subId:_,filter:S}){return S.on("update",$=>l(_,$)),{type:g,destroy:async()=>await r.uninstallFilter(S.idHex)}}}async function u(h,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const g=h.params[0],w=n[g];if(!w){f.result=!1;return}delete n[g],await w.destroy(),f.result=!0}function l(h,f){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:h,result:f}})}function c(){s.removeAllListeners();for(const h in n)n[h].destroy(),delete n[h];i=!0}}function hme(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(d_,"__esModule",{value:!0});d_.SubscriptionManager=void 0;const fme=tB,dme=lme,WT=()=>{};class pme{constructor(e){const n=new fme.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:r,middleware:i}=dme({blockTracker:n,provider:e});this.events=r,this.subscriptionMiddleware=i}async handleRequest(e){const n={};return await this.subscriptionMiddleware(e,n,WT,WT),n}destroy(){this.subscriptionMiddleware.destroy()}}d_.SubscriptionManager=pme;var v7=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hh,"__esModule",{value:!0});Hh.CoinbaseWalletProvider=void 0;const gme=v7(Wv),mme=nL,Rt=Op,mt=$e,yme=$p,qT=Ki,gm=_f,ci=mf,Fb=v7(Uce),Hf=vf,vme=Gh,_me=d_,GT="DefaultChainId",KT="DefaultJsonRpcUrl";class wme extends mme.EventEmitter{constructor(e){var n,r;super(),this._filterPolyfill=new vme.FilterPolyfill(this),this._subscriptionManager=new _me.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(n=e.overrideIsCoinbaseWallet)!==null&&n!==void 0?n:!0,this.isCoinbaseBrowser=(r=e.overrideIsCoinbaseBrowser)!==null&&r!==void 0?r:!1,this.qrUrl=e.qrUrl;const i=this.getChainId(),s=(0,mt.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(qT.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(u=>(0,mt.ensureAddressString)(u)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var u;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"&&a.data.data.action==="dappChainSwitched"){const l=a.data.data.chainId,c=(u=a.data.data.jsonRpcUrl)!==null&&u!==void 0?u:this.jsonRpcUrl;this.updateProviderInfo(c,Number(l))}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,mt.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(KT))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(KT,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,n){this.isCoinbaseBrowser||(this._chainIdFromOpts=n,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,n){this.jsonRpcUrl=e;const r=this.getChainId();this._storage.setItem(GT,n.toString(10)),((0,mt.ensureIntNumber)(n)!==r||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,n,r,i,s,o){const u=await(await this.initializeRelay()).watchAsset(e,n,r,i,s,o==null?void 0:o.toString()).promise;return(0,ci.isErrorResponse)(u)?!1:!!u.result}async addEthereumChain(e,n,r,i,s,o){var a,u;if((0,mt.ensureIntNumber)(e)===this.getChainId())return!1;const l=await this.initializeRelay(),c=l.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!c&&await l.requestEthereumAccounts().promise;const h=await l.addEthereumChain(e.toString(),n,s,r,i,o).promise;return(0,ci.isErrorResponse)(h)?!1:(((a=h.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(n[0],e),((u=h.result)===null||u===void 0?void 0:u.isApproved)===!0)}async switchEthereumChain(e){const r=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,ci.isErrorResponse)(r)){if(!r.errorCode)return;throw r.errorCode===Rt.standardErrorCodes.provider.unsupportedChain?Rt.standardErrors.provider.unsupportedChain():Rt.standardErrors.provider.custom({message:r.errorMessage,code:r.errorCode})}const i=r.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,n){this.initializeRelay().then(r=>r.setAppInfo(e,n))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Hf.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?gm.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send("eth_requestAccounts")}async close(){(await this.initializeRelay()).resetAndReload()}send(e,n){try{const r=this._send(e,n);if(r instanceof Promise)return r.catch(i=>{throw(0,Rt.serializeError)(i,e)})}catch(r){throw(0,Rt.serializeError)(r,e)}}_send(e,n){if(typeof e=="string"){const i=e,s=Array.isArray(n)?n:n!==void 0?[n]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof n=="function"){const i=e,s=n;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const r=e;return this._sendRequest(r)}async sendAsync(e,n){try{return this._sendAsync(e,n).catch(r=>{throw(0,Rt.serializeError)(r,e)})}catch(r){return Promise.reject((0,Rt.serializeError)(r,e))}}async _sendAsync(e,n){if(typeof n!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=n;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const r=n;return this._sendRequestAsync(e).then(i=>r(null,i)).catch(i=>r(i,null))}async request(e){try{return this._request(e).catch(n=>{throw(0,Rt.serializeError)(n,e.method)})}catch(n){return Promise.reject((0,Rt.serializeError)(n,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Rt.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:n,params:r}=e;if(typeof n!="string"||n.length===0)throw Rt.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw Rt.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=r===void 0?[]:r,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:n,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const r=await(await this.initializeRelay()).scanQRCode((0,mt.ensureRegExpString)(e)).promise;if((0,ci.isErrorResponse)(r))throw(0,Rt.serializeError)(r.errorMessage,"scanQRCode");if(typeof r.result!="string")throw(0,Rt.serializeError)("result was not a string","scanQRCode");return r.result}async genericRequest(e,n){const i=await(await this.initializeRelay()).genericRequest(e,n).promise;if((0,ci.isErrorResponse)(i))throw(0,Rt.serializeError)(i.errorMessage,"generic");if(typeof i.result!="string")throw(0,Rt.serializeError)("result was not a string","generic");return i.result}async connectAndSignIn(e){var n;(n=this.diagnostic)===null||n===void 0||n.log(Hf.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?gm.Session.hash(this._relay.session.id):void 0});let r;try{const s=await this.initializeRelay();if(!(s instanceof yme.MobileRelay))throw new Error("connectAndSignIn is only supported on mobile");if(r=await s.connectAndSignIn(e).promise,(0,ci.isErrorResponse)(r))throw new Error(r.errorMessage)}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Rt.standardErrors.provider.userRejectedRequest("User denied account authorization"):s}if(!r.result)throw new Error("accounts received is empty");const{accounts:i}=r.result;return this._setAddresses(i),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),r.result}async selectProvider(e){const r=await(await this.initializeRelay()).selectProvider(e).promise;if((0,ci.isErrorResponse)(r))throw(0,Rt.serializeError)(r.errorMessage,"selectProvider");if(typeof r.result!="string")throw(0,Rt.serializeError)("result was not a string","selectProvider");return r.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const n={jsonrpc:"2.0",id:e.id},{method:r}=e;if(n.result=this._handleSynchronousMethods(e),n.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${r} synchronously without a callback. Please provide a callback parameter to call ${r} asynchronously.`);return n}_setAddresses(e,n){if(!Array.isArray(e))throw new Error("addresses is not an array");const r=e.map(i=>(0,mt.ensureAddressString)(i));JSON.stringify(r)!==JSON.stringify(this._addresses)&&(this._addresses=r,this.emit("accountsChanged",this._addresses),this._storage.setItem(qT.LOCAL_STORAGE_ADDRESSES_KEY,r.join(" ")))}_sendRequestAsync(e){return new Promise((n,r)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return n({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>n(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>r(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>n({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>r(a));return}}catch(i){return r(i)}this._handleAsynchronousMethods(e).then(i=>i&&n(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>r(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(n=>this._sendRequestAsync(n)))}_handleSynchronousMethods(e){const{method:n}=e,r=e.params||[];switch(n){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(r);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:n}=e,r=e.params||[];switch(n){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(r);case"eth_ecRecover":return this._eth_ecRecover(r);case"personal_sign":return this._personal_sign(r);case"personal_ecRecover":return this._personal_ecRecover(r);case"eth_signTransaction":return this._eth_signTransaction(r);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(r);case"eth_sendTransaction":return this._eth_sendTransaction(r);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(r);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(r);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(r);case"cbWallet_arbitrary":return this._cbwallet_arbitrary(r);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(r);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(r);case"wallet_watchAsset":return this._wallet_watchAsset(r)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl).catch(s=>{var o;throw(s.code===Rt.standardErrorCodes.rpc.methodNotFound||s.code===Rt.standardErrorCodes.rpc.methodNotSupported)&&((o=this.diagnostic)===null||o===void 0||o.log(Hf.EVENTS.METHOD_NOT_IMPLEMENTED,{method:e.method,sessionIdHash:this._relay?gm.Session.hash(this._relay.session.id):void 0})),s})}_handleAsynchronousFilterMethods(e){const{method:n}=e,r=e.params||[];switch(n){case"eth_newFilter":return this._eth_newFilter(r);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(r);case"eth_getFilterLogs":return this._eth_getFilterLogs(r)}}_handleSubscriptionMethods(e){switch(e.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const n=(0,mt.ensureAddressString)(e);return this._addresses.map(i=>(0,mt.ensureAddressString)(i)).includes(n)}catch{}return!1}_ensureKnownAddress(e){var n;if(!this._isKnownAddress(e))throw(n=this.diagnostic)===null||n===void 0||n.log(Hf.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?(0,mt.ensureAddressString)(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?(0,mt.ensureAddressString)(e.to):null,i=e.value!=null?(0,mt.ensureBN)(e.value):new gme.default(0),s=e.data?(0,mt.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,mt.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,mt.ensureBN)(e.gasPrice):null,u=e.maxFeePerGas!=null?(0,mt.ensureBN)(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?(0,mt.ensureBN)(e.maxPriorityFeePerGas):null,c=e.gas!=null?(0,mt.ensureBN)(e.gas):null,h=e.chainId?(0,mt.ensureIntNumber)(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:u,maxPriorityFeePerGas:l,gasLimit:c,chainId:h}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Rt.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Rt.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,n,r,i){this._ensureKnownAddress(n);try{const o=await(await this.initializeRelay()).signEthereumMessage(e,n,r,i).promise;if((0,ci.isErrorResponse)(o))throw new Error(o.errorMessage);return{jsonrpc:"2.0",id:0,result:o.result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Rt.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,n,r){const s=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,n,r).promise;if((0,ci.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,mt.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(GT);if(!e)return(0,mt.ensureIntNumber)(this._chainIdFromOpts);const n=parseInt(e,10);return(0,mt.ensureIntNumber)(n)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Hf.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?gm.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let n;try{if(n=await(await this.initializeRelay()).requestEthereumAccounts().promise,(0,ci.isErrorResponse)(n))throw new Error(n.errorMessage)}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?Rt.standardErrors.provider.userRejectedRequest("User denied account authorization"):r}if(!n.result)throw new Error("accounts received is empty");return this._setAddresses(n.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const n=(0,mt.ensureAddressString)(e[0]),r=(0,mt.ensureBuffer)(e[1]);return this._signEthereumMessage(r,n,!1)}_eth_ecRecover(e){const n=(0,mt.ensureBuffer)(e[0]),r=(0,mt.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(n,r,!1)}_personal_sign(e){this._requireAuthorization();const n=(0,mt.ensureBuffer)(e[0]),r=(0,mt.ensureAddressString)(e[1]);return this._signEthereumMessage(n,r,!0)}_personal_ecRecover(e){const n=(0,mt.ensureBuffer)(e[0]),r=(0,mt.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(n,r,!0)}async _eth_signTransaction(e){this._requireAuthorization();const n=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signEthereumTransaction(n).promise;if((0,ci.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?Rt.standardErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_sendRawTransaction(e){const n=(0,mt.ensureBuffer)(e[0]),i=await(await this.initializeRelay()).submitEthereumTransaction(n,this.getChainId()).promise;if((0,ci.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(e){this._requireAuthorization();const n=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(n).promise;if((0,ci.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?Rt.standardErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_signTypedData_v1(e){this._requireAuthorization();const n=(0,mt.ensureParsedJSONObject)(e[0]),r=(0,mt.ensureAddressString)(e[1]);this._ensureKnownAddress(r);const i=Fb.default.hashForSignTypedDataLegacy({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const n=(0,mt.ensureAddressString)(e[0]),r=(0,mt.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(n);const i=Fb.default.hashForSignTypedData_v3({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const n=(0,mt.ensureAddressString)(e[0]),r=(0,mt.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(n);const i=Fb.default.hashForSignTypedData_v4({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _cbwallet_arbitrary(e){const n=e[0],r=e[1];if(typeof r!="string")throw new Error("parameter must be a string");if(typeof n!="object"||n===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(n,r)}}async _wallet_addEthereumChain(e){var n,r,i,s;const o=e[0];if(((n=o.rpcUrls)===null||n===void 0?void 0:n.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw Rt.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw Rt.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(r=o.rpcUrls)!==null&&r!==void 0?r:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const n=e[0];return await this.switchEthereumChain(parseInt(n.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw Rt.standardErrors.rpc.invalidParams("Type is required");if((n==null?void 0:n.type)!=="ERC20")throw Rt.standardErrors.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!(n!=null&&n.options))throw Rt.standardErrors.rpc.invalidParams("Options are required");if(!(n!=null&&n.options.address))throw Rt.standardErrors.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=n.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(n.type,i,s,a,o,r)}}_eth_uninstallFilter(e){const n=(0,mt.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(n)}async _eth_newFilter(e){const n=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(n)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const n=(0,mt.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(n)}_eth_getFilterLogs(e){const n=(0,mt.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(n)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((n,r)=>this._setAddresses(n,r)),e.setChainCallback((n,r)=>{this.updateProviderInfo(r,parseInt(n,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}Hh.CoinbaseWalletProvider=wme;var M_={};Object.defineProperty(M_,"__esModule",{value:!0});M_.RelayEventManager=void 0;const bme=$e;class Eme{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=(0,bme.prepend0x)(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}M_.RelayEventManager=Eme;Object.defineProperty(U0,"__esModule",{value:!0});U0.CoinbaseWalletSDK=void 0;const Ame=zv,Sme=Hv,QT=$e,Cme=Jv,Ime=Hh,xme=$p,Tme=zp,Rme=M_,kme=Up,Pme=jp,_7=yf;class D_{constructor(e){var n,r,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||Sme.LINK_API_URL;typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(n=e.overrideIsCoinbaseWallet)!==null&&n!==void 0?n:!0,this._overrideIsCoinbaseBrowser=(r=e.overrideIsCoinbaseBrowser)!==null&&r!==void 0?r:!1,this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const o=new URL(s),a=`${o.protocol}//${o.host}`;if(this._storage=new Cme.ScopedLocalStorage(`-walletlink:${a}`),this._storage.setItem("version",D_.VERSION),this.walletExtension||this.coinbaseBrowser)return;this._relayEventManager=new Rme.RelayEventManager;const u=(0,QT.isMobileWeb)(),l=e.uiConstructor||(h=>u?new Tme.MobileRelayUI(h):new kme.WalletLinkRelayUI(h)),c={linkAPIUrl:s,version:_7.LIB_VERSION,darkMode:!!e.darkMode,headlessMode:!!e.headlessMode,uiConstructor:l,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:e.enableMobileWalletLink};this._relay=u?new xme.MobileRelay(c):new Pme.WalletLinkRelay(c),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI()}makeWeb3Provider(e="",n=1){const r=this.walletExtension;if(r)return this.isCipherProvider(r)||r.setProviderInfo(e,n),this._reloadOnDisconnect===!1&&typeof r.disableReloadOnDisconnect=="function"&&r.disableReloadOnDisconnect(),r;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new Ime.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:n,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,n){var r;this._appName=e||"DApp",this._appLogoUrl=n||(0,QT.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(r=this._relay)===null||r===void 0||r.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const n=this===null||this===void 0?void 0:this.walletExtension;n?n.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,n;return(n=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&n!==void 0?n:null}getCoinbaseWalletLogo(e,n=240){return(0,Ame.walletLogo)(e,n)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,n;try{const r=(e=window.ethereum)!==null&&e!==void 0?e:(n=window.top)===null||n===void 0?void 0:n.ethereum;return r&&"isCoinbaseBrowser"in r&&r.isCoinbaseBrowser?r:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}U0.CoinbaseWalletSDK=D_;D_.VERSION=_7.LIB_VERSION;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=U0,n=Hh;var r=U0;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return r.CoinbaseWalletSDK}});var i=Hh;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=n.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=n.CoinbaseWalletProvider)})(A9);const Mme=ns(A9),Tve=Object.freeze(Object.defineProperty({__proto__:null,default:Mme},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Hm=window,z5=Hm.ShadowRoot&&(Hm.ShadyCSS===void 0||Hm.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,H5=Symbol(),JT=new WeakMap;let w7=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==H5)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(z5&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=JT.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&JT.set(n,e))}return e}toString(){return this.cssText}};const Dme=t=>new w7(typeof t=="string"?t:t+"",void 0,H5),kve=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new w7(n,t,H5)},Nme=(t,e)=>{z5?t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):e.forEach(n=>{const r=document.createElement("style"),i=Hm.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)})},ZT=z5?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Dme(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var $b;const ly=window,YT=ly.trustedTypes,Ome=YT?YT.emptyScript:"",XT=ly.reactiveElementPolyfillSupport,E3={toAttribute(t,e){switch(e){case Boolean:t=t?Ome:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},b7=(t,e)=>e!==t&&(e==e||t==t),jb={attribute:!0,type:String,converter:E3,reflect:!1,hasChanged:b7},A3="finalized";let bc=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var n;this.finalize(),((n=this.h)!==null&&n!==void 0?n:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((n,r)=>{const i=this._$Ep(r,n);i!==void 0&&(this._$Ev.set(i,r),e.push(i))}),e}static createProperty(e,n=jb){if(n.state&&(n.attribute=!1),this.finalize(),this.elementProperties.set(e,n),!n.noAccessor&&!this.prototype.hasOwnProperty(e)){const r=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){return{get(){return this[n]},set(i){const s=this[e];this[n]=i,this.requestUpdate(e,s,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||jb}static finalize(){if(this.hasOwnProperty(A3))return!1;this[A3]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const n=this.properties,r=[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)];for(const i of r)this.createProperty(i,n[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(ZT(i))}else e!==void 0&&n.push(ZT(e));return n}static _$Ep(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(n=>n(this))}addController(e){var n,r;((n=this._$ES)!==null&&n!==void 0?n:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var n;(n=this._$ES)===null||n===void 0||n.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,n)=>{this.hasOwnProperty(n)&&(this._$Ei.set(n,this[n]),delete this[n])})}createRenderRoot(){var e;const n=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return Nme(n,this.constructor.elementStyles),n}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostConnected)===null||r===void 0?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostDisconnected)===null||r===void 0?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$EO(e,n,r=jb){var i;const s=this.constructor._$Ep(e,r);if(s!==void 0&&r.reflect===!0){const o=(((i=r.converter)===null||i===void 0?void 0:i.toAttribute)!==void 0?r.converter:E3).toAttribute(n,r.type);this._$El=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$El=null}}_$AK(e,n){var r;const i=this.constructor,s=i._$Ev.get(e);if(s!==void 0&&this._$El!==s){const o=i.getPropertyOptions(s),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((r=o.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?o.converter:E3;this._$El=s,this[s]=a.fromAttribute(n,o.type),this._$El=null}}requestUpdate(e,n,r){let i=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||b7)(this[e],n)?(this._$AL.has(e)||this._$AL.set(e,n),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((i,s)=>this[s]=i),this._$Ei=void 0);let n=!1;const r=this._$AL;try{n=this.shouldUpdate(r),n?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach(i=>{var s;return(s=i.hostUpdate)===null||s===void 0?void 0:s.call(i)}),this.update(r)):this._$Ek()}catch(i){throw n=!1,this._$Ek(),i}n&&this._$AE(r)}willUpdate(e){}_$AE(e){var n;(n=this._$ES)===null||n===void 0||n.forEach(r=>{var i;return(i=r.hostUpdated)===null||i===void 0?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((n,r)=>this._$EO(r,this[r],n)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};bc[A3]=!0,bc.elementProperties=new Map,bc.elementStyles=[],bc.shadowRootOptions={mode:"open"},XT==null||XT({ReactiveElement:bc}),(($b=ly.reactiveElementVersions)!==null&&$b!==void 0?$b:ly.reactiveElementVersions=[]).push("1.6.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Ub;const cy=window,Zh=cy.trustedTypes,eR=Zh?Zh.createPolicy("lit-html",{createHTML:t=>t}):void 0,S3="$lit$",ba=`lit$${(Math.random()+"").slice(9)}$`,E7="?"+ba,Lme=`<${E7}>`,Dl=document,H0=()=>Dl.createComment(""),W0=t=>t===null||typeof t!="object"&&typeof t!="function",A7=Array.isArray,Bme=t=>A7(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",Vb=`[ 	
\f\r]`,Wf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,tR=/-->/g,nR=/>/g,Ou=RegExp(`>|${Vb}(?:([^\\s"'>=/]+)(${Vb}*=${Vb}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),rR=/'/g,iR=/"/g,S7=/^(?:script|style|textarea|title)$/i,C7=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),Mve=C7(1),Dve=C7(2),Nl=Symbol.for("lit-noChange"),Bn=Symbol.for("lit-nothing"),sR=new WeakMap,Xu=Dl.createTreeWalker(Dl,129,null,!1);function I7(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return eR!==void 0?eR.createHTML(e):e}const Fme=(t,e)=>{const n=t.length-1,r=[];let i,s=e===2?"<svg>":"",o=Wf;for(let a=0;a<n;a++){const u=t[a];let l,c,h=-1,f=0;for(;f<u.length&&(o.lastIndex=f,c=o.exec(u),c!==null);)f=o.lastIndex,o===Wf?c[1]==="!--"?o=tR:c[1]!==void 0?o=nR:c[2]!==void 0?(S7.test(c[2])&&(i=RegExp("</"+c[2],"g")),o=Ou):c[3]!==void 0&&(o=Ou):o===Ou?c[0]===">"?(o=i??Wf,h=-1):c[1]===void 0?h=-2:(h=o.lastIndex-c[2].length,l=c[1],o=c[3]===void 0?Ou:c[3]==='"'?iR:rR):o===iR||o===rR?o=Ou:o===tR||o===nR?o=Wf:(o=Ou,i=void 0);const g=o===Ou&&t[a+1].startsWith("/>")?" ":"";s+=o===Wf?u+Lme:h>=0?(r.push(l),u.slice(0,h)+S3+u.slice(h)+ba+g):u+ba+(h===-2?(r.push(void 0),a):g)}return[I7(t,s+(t[n]||"<?>")+(e===2?"</svg>":"")),r]};class q0{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=e.length-1,u=this.parts,[l,c]=Fme(e,n);if(this.el=q0.createElement(l,r),Xu.currentNode=this.el.content,n===2){const h=this.el.content,f=h.firstChild;f.remove(),h.append(...f.childNodes)}for(;(i=Xu.nextNode())!==null&&u.length<a;){if(i.nodeType===1){if(i.hasAttributes()){const h=[];for(const f of i.getAttributeNames())if(f.endsWith(S3)||f.startsWith(ba)){const g=c[o++];if(h.push(f),g!==void 0){const w=i.getAttribute(g.toLowerCase()+S3).split(ba),P=/([.?@])?(.*)/.exec(g);u.push({type:1,index:s,name:P[2],strings:w,ctor:P[1]==="."?jme:P[1]==="?"?Vme:P[1]==="@"?zme:N_})}else u.push({type:6,index:s})}for(const f of h)i.removeAttribute(f)}if(S7.test(i.tagName)){const h=i.textContent.split(ba),f=h.length-1;if(f>0){i.textContent=Zh?Zh.emptyScript:"";for(let g=0;g<f;g++)i.append(h[g],H0()),Xu.nextNode(),u.push({type:2,index:++s});i.append(h[f],H0())}}}else if(i.nodeType===8)if(i.data===E7)u.push({type:2,index:s});else{let h=-1;for(;(h=i.data.indexOf(ba,h+1))!==-1;)u.push({type:7,index:s}),h+=ba.length-1}s++}}static createElement(e,n){const r=Dl.createElement("template");return r.innerHTML=e,r}}function Yh(t,e,n=t,r){var i,s,o,a;if(e===Nl)return e;let u=r!==void 0?(i=n._$Co)===null||i===void 0?void 0:i[r]:n._$Cl;const l=W0(e)?void 0:e._$litDirective$;return(u==null?void 0:u.constructor)!==l&&((s=u==null?void 0:u._$AO)===null||s===void 0||s.call(u,!1),l===void 0?u=void 0:(u=new l(t),u._$AT(t,n,r)),r!==void 0?((o=(a=n)._$Co)!==null&&o!==void 0?o:a._$Co=[])[r]=u:n._$Cl=u),u!==void 0&&(e=Yh(t,u._$AS(t,e.values),u,r)),e}class $me{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var n;const{el:{content:r},parts:i}=this._$AD,s=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:Dl).importNode(r,!0);Xu.currentNode=s;let o=Xu.nextNode(),a=0,u=0,l=i[0];for(;l!==void 0;){if(a===l.index){let c;l.type===2?c=new tg(o,o.nextSibling,this,e):l.type===1?c=new l.ctor(o,l.name,l.strings,this,e):l.type===6&&(c=new Hme(o,this,e)),this._$AV.push(c),l=i[++u]}a!==(l==null?void 0:l.index)&&(o=Xu.nextNode(),a++)}return Xu.currentNode=Dl,s}v(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class tg{constructor(e,n,r,i){var s;this.type=2,this._$AH=Bn,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cp=(s=i==null?void 0:i.isConnected)===null||s===void 0||s}get _$AU(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Yh(this,e,n),W0(e)?e===Bn||e==null||e===""?(this._$AH!==Bn&&this._$AR(),this._$AH=Bn):e!==this._$AH&&e!==Nl&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):Bme(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==Bn&&W0(this._$AH)?this._$AA.nextSibling.data=e:this.$(Dl.createTextNode(e)),this._$AH=e}g(e){var n;const{values:r,_$litType$:i}=e,s=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=q0.createElement(I7(i.h,i.h[0]),this.options)),i);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===s)this._$AH.v(r);else{const o=new $me(s,this),a=o.u(this.options);o.v(r),this.$(a),this._$AH=o}}_$AC(e){let n=sR.get(e.strings);return n===void 0&&sR.set(e.strings,n=new q0(e)),n}T(e){A7(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of e)i===n.length?n.push(r=new tg(this.k(H0()),this.k(H0()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)===null||r===void 0||r.call(this,!1,!0,n);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}class N_{constructor(e,n,r,i,s){this.type=1,this._$AH=Bn,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Bn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)e=Yh(this,e,n,0),o=!W0(e)||e!==this._$AH&&e!==Nl,o&&(this._$AH=e);else{const a=e;let u,l;for(e=s[0],u=0;u<s.length-1;u++)l=Yh(this,a[r+u],n,u),l===Nl&&(l=this._$AH[u]),o||(o=!W0(l)||l!==this._$AH[u]),l===Bn?e=Bn:e!==Bn&&(e+=(l??"")+s[u+1]),this._$AH[u]=l}o&&!i&&this.j(e)}j(e){e===Bn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class jme extends N_{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Bn?void 0:e}}const Ume=Zh?Zh.emptyScript:"";class Vme extends N_{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Bn?this.element.setAttribute(this.name,Ume):this.element.removeAttribute(this.name)}}class zme extends N_{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){var r;if((e=(r=Yh(this,e,n,0))!==null&&r!==void 0?r:Bn)===Nl)return;const i=this._$AH,s=e===Bn&&i!==Bn||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==Bn&&(i===Bn||s);s&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n,r;typeof this._$AH=="function"?this._$AH.call((r=(n=this.options)===null||n===void 0?void 0:n.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}}class Hme{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Yh(this,e)}}const oR=cy.litHtmlPolyfillSupport;oR==null||oR(q0,tg),((Ub=cy.litHtmlVersions)!==null&&Ub!==void 0?Ub:cy.litHtmlVersions=[]).push("2.8.0");const Wme=(t,e,n)=>{var r,i;const s=(r=n==null?void 0:n.renderBefore)!==null&&r!==void 0?r:e;let o=s._$litPart$;if(o===void 0){const a=(i=n==null?void 0:n.renderBefore)!==null&&i!==void 0?i:null;s._$litPart$=o=new tg(e.insertBefore(H0(),a),a,void 0,n??{})}return o._$AI(t),o};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var zb,Hb;class Wm extends bc{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,n;const r=super.createRenderRoot();return(e=(n=this.renderOptions).renderBefore)!==null&&e!==void 0||(n.renderBefore=r.firstChild),r}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Wme(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return Nl}}Wm.finalized=!0,Wm._$litElement$=!0,(zb=globalThis.litElementHydrateSupport)===null||zb===void 0||zb.call(globalThis,{LitElement:Wm});const aR=globalThis.litElementPolyfillSupport;aR==null||aR({LitElement:Wm});((Hb=globalThis.litElementVersions)!==null&&Hb!==void 0?Hb:globalThis.litElementVersions=[]).push("3.3.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Nve=t=>e=>typeof e=="function"?((n,r)=>(customElements.define(n,r),r))(t,e):((n,r)=>{const{kind:i,elements:s}=r;return{kind:i,elements:s,finisher(o){customElements.define(n,o)}}})(t,e);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const qme=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}},Gme=(t,e,n)=>{e.constructor.createProperty(n,t)};function Kme(t){return(e,n)=>n!==void 0?Gme(t,e,n):qme(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Ove(t){return Kme({...t,state:!0})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Wb;((Wb=window.HTMLSlotElement)===null||Wb===void 0?void 0:Wb.prototype.assignedElements)!=null;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Qme={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Jme=t=>(...e)=>({_$litDirective$:t,values:e});class Zme{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,r){this._$Ct=e,this._$AM=n,this._$Ci=r}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Lve=Jme(class extends Zme{constructor(t){var e;if(super(t),t.type!==Qme.ATTRIBUTE||t.name!=="class"||((e=t.strings)===null||e===void 0?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var n,r;if(this.it===void 0){this.it=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in e)e[s]&&!(!((n=this.nt)===null||n===void 0)&&n.has(s))&&this.it.add(s);return this.render(e)}const i=t.element.classList;this.it.forEach(s=>{s in e||(i.remove(s),this.it.delete(s))});for(const s in e){const o=!!e[s];o===this.it.has(s)||!((r=this.nt)===null||r===void 0)&&r.has(s)||(o?(i.add(s),this.it.add(s)):(i.remove(s),this.it.delete(s)))}return Nl}});function Yme(t,e){t.indexOf(e)===-1&&t.push(e)}const x7=(t,e,n)=>Math.min(Math.max(n,t),e),Wi={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},hy=t=>typeof t=="number",nh=t=>Array.isArray(t)&&!hy(t[0]),Xme=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function e1e(t,e){return nh(t)?t[Xme(0,t.length,e)]:t}const T7=(t,e,n)=>-n*t+n*e+t,R7=()=>{},Qa=t=>t,W5=(t,e,n)=>e-t===0?1:(n-t)/(e-t);function k7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=W5(0,e,r);t.push(T7(n,1,i))}}function t1e(t){const e=[0];return k7(e,t-1),e}function n1e(t,e=t1e(t.length),n=Qa){const r=t.length,i=r-e.length;return i>0&&k7(e,i),s=>{let o=0;for(;o<r-2&&!(s<e[o+1]);o++);let a=x7(0,1,W5(e[o],e[o+1],s));return a=e1e(n,o)(a),T7(t[o],t[o+1],a)}}const P7=t=>Array.isArray(t)&&hy(t[0]),C3=t=>typeof t=="object"&&!!t.createAnimation,Xh=t=>typeof t=="function",r1e=t=>typeof t=="string",Sd={ms:t=>t*1e3,s:t=>t/1e3},M7=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,i1e=1e-7,s1e=12;function o1e(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=M7(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>i1e&&++a<s1e);return o}function rd(t,e,n,r){if(t===e&&n===r)return Qa;const i=s=>o1e(s,0,1,t,n);return s=>s===0||s===1?s:M7(i(s),e,r)}const a1e=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*t,i=e==="end"?Math.floor(r):Math.ceil(r);return x7(0,1,i/t)},u1e={ease:rd(.25,.1,.25,1),"ease-in":rd(.42,0,1,1),"ease-in-out":rd(.42,0,.58,1),"ease-out":rd(0,0,.58,1)},l1e=/\((.*?)\)/;function uR(t){if(Xh(t))return t;if(P7(t))return rd(...t);const e=u1e[t];if(e)return e;if(t.startsWith("steps")){const n=l1e.exec(t);if(n){const r=n[1].split(",");return a1e(parseFloat(r[0]),r[1].trim())}}return Qa}class D7{constructor(e,n=[0,1],{easing:r,duration:i=Wi.duration,delay:s=Wi.delay,endDelay:o=Wi.endDelay,repeat:a=Wi.repeat,offset:u,direction:l="normal",autoplay:c=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=Qa,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((f,g)=>{this.resolve=f,this.reject=g}),r=r||Wi.easing,C3(r)){const f=r.createAnimation(n);r=f.easing,n=f.keyframes||n,i=f.duration||i}this.repeat=a,this.easing=nh(r)?Qa:uR(r),this.updateDuration(i);const h=n1e(n,u,nh(r)?r.map(uR):Qa);this.tick=f=>{var g;s=s;let w=0;this.pauseTime!==void 0?w=this.pauseTime:w=(f-this.startTime)*this.rate,this.t=w,w/=1e3,w=Math.max(w-s,0),this.playState==="finished"&&this.pauseTime===void 0&&(w=this.totalDuration);const P=w/this.duration;let D=Math.floor(P),E=P%1;!E&&P>=1&&(E=1),E===1&&D--;const _=D%2;(l==="reverse"||l==="alternate"&&_||l==="alternate-reverse"&&!_)&&(E=1-E);const S=w>=this.totalDuration?1:Math.min(E,1),O=h(this.easing(S));e(O),this.pauseTime===void 0&&(this.playState==="finished"||w>=this.totalDuration+o)?(this.playState="finished",(g=this.resolve)===null||g===void 0||g.call(this,O)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},c&&this.play()}play(){const e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}class c1e{setAnimation(e){this.animation=e,e==null||e.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const qb=new WeakMap;function N7(t){return qb.has(t)||qb.set(t,{transforms:[],values:new Map}),qb.get(t)}function h1e(t,e){return t.has(e)||t.set(e,new c1e),t.get(e)}const f1e=["","X","Y","Z"],d1e=["translate","scale","rotate","skew"],fy={x:"translateX",y:"translateY",z:"translateZ"},lR={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},p1e={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:lR,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:Qa},skew:lR},G0=new Map,q5=t=>`--motion-${t}`,dy=["x","y","z"];d1e.forEach(t=>{f1e.forEach(e=>{dy.push(t+e),G0.set(q5(t+e),p1e[t])})});const g1e=(t,e)=>dy.indexOf(t)-dy.indexOf(e),m1e=new Set(dy),O7=t=>m1e.has(t),y1e=(t,e)=>{fy[e]&&(e=fy[e]);const{transforms:n}=N7(t);Yme(n,e),t.style.transform=v1e(n)},v1e=t=>t.sort(g1e).reduce(_1e,"").trim(),_1e=(t,e)=>`${t} ${e}(var(${q5(e)}))`,I3=t=>t.startsWith("--"),cR=new Set;function w1e(t){if(!cR.has(t)){cR.add(t);try{const{syntax:e,initialValue:n}=G0.has(t)?G0.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:n})}catch{}}}const Gb=(t,e)=>document.createElement("div").animate(t,e),hR={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{Gb({opacity:[1]})}catch{return!1}return!0},finished:()=>!!Gb({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{Gb({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},Kb={},Fc={};for(const t in hR)Fc[t]=()=>(Kb[t]===void 0&&(Kb[t]=hR[t]()),Kb[t]);const b1e=.015,E1e=(t,e)=>{let n="";const r=Math.round(e/b1e);for(let i=0;i<r;i++)n+=t(W5(0,r-1,i))+", ";return n.substring(0,n.length-2)},fR=(t,e)=>Xh(t)?Fc.linearEasing()?`linear(${E1e(t,e)})`:Wi.easing:P7(t)?A1e(t):t,A1e=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`;function S1e(t,e){for(let n=0;n<t.length;n++)t[n]===null&&(t[n]=n?t[n-1]:e());return t}const C1e=t=>Array.isArray(t)?t:[t];function x3(t){return fy[t]&&(t=fy[t]),O7(t)?q5(t):t}const mm={get:(t,e)=>{e=x3(e);let n=I3(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!n&&n!==0){const r=G0.get(e);r&&(n=r.initialValue)}return n},set:(t,e,n)=>{e=x3(e),I3(e)?t.style.setProperty(e,n):t.style[e]=n}};function L7(t,e=!0){if(!(!t||t.playState==="finished"))try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch{}}function I1e(t,e){var n;let r=(e==null?void 0:e.toDefaultUnit)||Qa;const i=t[t.length-1];if(r1e(i)){const s=((n=i.match(/(-?[\d.]+)([a-z%]*)/))===null||n===void 0?void 0:n[2])||"";s&&(r=o=>o+s)}return r}function x1e(){return window.__MOTION_DEV_TOOLS_RECORD}function T1e(t,e,n,r={},i){const s=x1e(),o=r.record!==!1&&s;let a,{duration:u=Wi.duration,delay:l=Wi.delay,endDelay:c=Wi.endDelay,repeat:h=Wi.repeat,easing:f=Wi.easing,persist:g=!1,direction:w,offset:P,allowWebkitAcceleration:D=!1,autoplay:E=!0}=r;const _=N7(t),S=O7(e);let O=Fc.waapi();S&&y1e(t,e);const $=x3(e),V=h1e(_.values,$),v=G0.get($);return L7(V.animation,!(C3(f)&&V.generator)&&r.record!==!1),()=>{const m=()=>{var B,z;return(z=(B=mm.get(t,$))!==null&&B!==void 0?B:v==null?void 0:v.initialValue)!==null&&z!==void 0?z:0};let b=S1e(C1e(n),m);const T=I1e(b,v);if(C3(f)){const B=f.createAnimation(b,e!=="opacity",m,$,V);f=B.easing,b=B.keyframes||b,u=B.duration||u}if(I3($)&&(Fc.cssRegisterProperty()?w1e($):O=!1),S&&!Fc.linearEasing()&&(Xh(f)||nh(f)&&f.some(Xh))&&(O=!1),O){v&&(b=b.map(A=>hy(A)?v.toDefaultUnit(A):A)),b.length===1&&(!Fc.partialKeyframes()||o)&&b.unshift(m());const B={delay:Sd.ms(l),duration:Sd.ms(u),endDelay:Sd.ms(c),easing:nh(f)?void 0:fR(f,u),direction:w,iterations:h+1,fill:"both"};a=t.animate({[$]:b,offset:P,easing:nh(f)?f.map(A=>fR(A,u)):void 0},B),a.finished||(a.finished=new Promise((A,p)=>{a.onfinish=A,a.oncancel=p}));const z=b[b.length-1];a.finished.then(()=>{g||(mm.set(t,$,z),a.cancel())}).catch(R7),D||(a.playbackRate=1.000001)}else if(i&&S)b=b.map(B=>typeof B=="string"?parseFloat(B):B),b.length===1&&b.unshift(parseFloat(m())),a=new i(B=>{mm.set(t,$,T?T(B):B)},b,Object.assign(Object.assign({},r),{duration:u,easing:f}));else{const B=b[b.length-1];mm.set(t,$,v&&hy(B)?v.toDefaultUnit(B):B)}return o&&s(t,e,b,{duration:u,delay:l,easing:f,repeat:h,offset:P},"motion-one"),V.setAnimation(a),a&&!E&&a.pause(),a}}const R1e=(t,e)=>t[e]?Object.assign(Object.assign({},t),t[e]):Object.assign({},t);function k1e(t,e){return typeof t=="string"?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}const P1e=t=>t(),B7=(t,e,n=Wi.duration)=>new Proxy({animations:t.map(P1e).filter(Boolean),duration:n,options:e},D1e),M1e=t=>t.animations[0],D1e={get:(t,e)=>{const n=M1e(t);switch(e){case"duration":return t.duration;case"currentTime":return Sd.s((n==null?void 0:n[e])||0);case"playbackRate":case"playState":return n==null?void 0:n[e];case"finished":return t.finished||(t.finished=Promise.all(t.animations.map(N1e)).catch(R7)),t.finished;case"stop":return()=>{t.animations.forEach(r=>L7(r))};case"forEachNative":return r=>{t.animations.forEach(i=>r(i,t))};default:return typeof(n==null?void 0:n[e])>"u"?void 0:()=>t.animations.forEach(r=>r[e]())}},set:(t,e,n)=>{switch(e){case"currentTime":n=Sd.ms(n);case"playbackRate":for(let r=0;r<t.animations.length;r++)t.animations[r][e]=n;return!0}return!1}},N1e=t=>t.finished;function O1e(t,e,n){return Xh(t)?t(e,n):t}function L1e(t){return function(n,r,i={}){n=k1e(n);const s=n.length,o=[];for(let a=0;a<s;a++){const u=n[a];for(const l in r){const c=R1e(i,l);c.delay=O1e(c.delay,a,s);const h=T1e(u,l,r[l],c,t);o.push(h)}}return B7(o,i,i.duration)}}const B1e=L1e(D7);function F1e(t,e={}){return B7([()=>{const n=new D7(t,[0,1],e);return n.finished.catch(()=>{}),n}],e,e.duration)}function Bve(t,e,n){return(Xh(t)?F1e:B1e)(t,e,n)}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Fve=t=>t??Bn;export{nye as $,VG as A,Cye as B,kve as C,Kme as D,Dve as E,Ove as F,eye as G,z1e as H,Wm as I,Mve as J,Lve as K,Fve as L,Bve as M,Nve as N,qy as O,ra as P,iye as Q,mye as R,yye as S,eW as T,sye as U,cye as V,j1e as W,Ah as X,tye as Y,Cq as Z,mj as _,Tve as a,eY as a$,op as a0,TP as a1,lye as a2,oye as a3,aye as a4,uye as a5,HP as a6,bW as a7,dye as a8,pye as a9,Lye as aA,hye as aB,De as aC,Bye as aD,Vye as aE,aF,CX as aG,qye as aH,Zye as aI,Jye as aJ,tve as aK,Oa as aL,ive as aM,nve as aN,Yye as aO,eve as aP,rve as aQ,jZ as aR,ove as aS,Xye as aT,sve as aU,jye as aV,vye as aW,Aye as aX,Uye as aY,Wye as aZ,Hye as a_,fye as aa,oG as ab,qA as ac,gye as ad,qc as ae,Zd as af,EG as ag,m2 as ah,s0 as ai,rn as aj,iI as ak,_ye as al,Eye as am,wye as an,bye as ao,Rye as ap,Pye as aq,Mye as ar,kye as as,Dye as at,xye as au,Iye as av,Tye as aw,cp as ax,Oye as ay,Sye as az,SA as b,zye as b0,dj as b1,lU as c,H1e as d,U1e as e,W1e as f,G1e as g,lz as h,yve as i,K1e as j,Q1e as k,J1e as l,Y1e as m,Z1e as n,tp as o,X1e as p,nU as q,V1e as r,YU as s,q1e as t,pz as u,Cz as v,Ie as w,XU as x,ns as y,UG as z};
//# sourceMappingURL=react-B8o9vrvm.js.map
